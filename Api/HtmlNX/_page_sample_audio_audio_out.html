<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Audio Playback Sample | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_audio.html">Audio Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Audio Playback Sample </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSampleAudioAudioOut_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSampleAudioAudioOut_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSampleAudioAudioOut_SectionNecessaryEnvironment">Required Environment</a></li>
<li class="level1"><a href="#PageSampleAudioAudioOut_SectionHowToOperate">How to Use</a></li>
<li class="level1"><a href="#PageSampleAudioAudioOut_SectionPrecaution">Important Information</a></li>
<li class="level1"><a href="#PageSampleAudioAudioOut_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSampleAudioAudioOut_SectionDetail">Description</a></li>
</ul>
</div>
<div class="textblock"><p>This sample program shows how to use audio playback.</p>
<h1><a class="anchor" id="PageSampleAudioAudioOut_SectionBrief"></a>
Overview</h1>
<p>This sample uses audio output and performs audio playback.</p>
<h1><a class="anchor" id="PageSampleAudioAudioOut_SectionFileStructure"></a>
File Structure</h1>
<p>This sample program is located in <code><a class="el" href="dir_890c704a49e013738da6ffe20023061b.html">Samples/Sources/Applications/AudioOut/ </a> </code>.</p>
<h1><a class="anchor" id="PageSampleAudioAudioOut_SectionNecessaryEnvironment"></a>
Required Environment</h1>
<p>You must be able to use audio output.</p>
<h1><a class="anchor" id="PageSampleAudioAudioOut_SectionHowToOperate"></a>
How to Use</h1>
<p>Run the sample program to play square waves. You can operate the program using input from a keyboard or from <code>DebugPad</code>.</p>
<table class="doxtable">
<tr>
<th>Input </th><th>Operation  </th></tr>
<tr>
<td>START or SPACEBAR </td><td>Exits the program.  </td></tr>
<tr>
<td>L/R Buttons </td><td>Changes the volume for audio output.  </td></tr>
</table>
<h1><a class="anchor" id="PageSampleAudioAudioOut_SectionPrecaution"></a>
Important Information</h1>
<p>Nothing specific.</p>
<h1><a class="anchor" id="PageSampleAudioAudioOut_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>Build the sample program and then run it.</p>
<h1><a class="anchor" id="PageSampleAudioAudioOut_SectionDetail"></a>
Description</h1>
<p>This sample program dynamically generates a square wave and outputs it to audio output.</p>
<p>This sample program has the following flow.</p>
<ul>
<li>List the usable audio outputs.</li>
<li>Open the default audio output.</li>
<li>Get and verify audio output information.</li>
<li>Prepare and register the playback buffer.</li>
<li>Start playback.</li>
<li>Play the audio.</li>
<li>Changes the volume for audio output.</li>
<li>End playback.</li>
<li>Close audio output.</li>
<li>Free the playback buffer.</li>
</ul>
<p>First, list audio outputs. If multiple audio outputs can be used on the system, <code><a class="el" href="namespacenn_1_1audio.html#aa6028627437e481cb9c0b3a3f49ac280" title="Initializes the audio output specified in name and gets an accessor.">nn::audio::OpenAudioOut()</a></code> can be called by specifying a name. Different audio outputs can also be used at the same time. This sample only performs the listing, opening, and closing processes for names, and the actual audio playback uses the default audio output.</p>
<p>Two buffers for playback are prepared, each with a length of 50 milliseconds. The developer can freely determine the number and length of buffers, but if the length is too short or if the number is too small, problems such as sound cutting out can occur. The developer can freely determine the number and length of buffers, but if the length is too short or if the number is too small, problems such as sound cutting out can occur. The prepared buffer is registered using the <code><a class="el" href="namespacenn_1_1audio.html#adf6ae7da062359e04d32ec1ec51b84a0" title="Registers an audio output buffer.">nn::audio::AppendAudioOutBuffer()</a></code> function. Registration can be performed before or after calling <code><a class="el" href="namespacenn_1_1audio.html#aa522149d7a0b48763dd5c1eb32609505" title="Starts playing a waveform from an audio output.">nn::audio::StartAudioOut()</a></code>. Actual playback is not performed until <code><a class="el" href="namespacenn_1_1audio.html#aa522149d7a0b48763dd5c1eb32609505" title="Starts playing a waveform from an audio output.">nn::audio::StartAudioOut()</a></code> is called.</p>
<p>After playback starts, information in the buffer that completed playback is obtained with <code><a class="el" href="namespacenn_1_1audio.html#a9bf1c9d96a5761b3dca59f7f13155ad8" title="Gets an audio output buffer that has already been played.">nn::audio::GetReleasedAudioOutBuffer()</a></code> and the dynamically generated square waveform data is copied to the playback buffer, and that data is registered again. If downmixing or sample rate conversion is required, it is performed at this time. Audio playback is realized by repeating these processes.</p>
<p>When the request to change the volume is made, the audio output volume is changed by the <code><a class="el" href="namespacenn_1_1audio.html#ac9768fb1e31dd0bcf4c28a4e7dae42da" title="Sets the volume for AudioOut.">nn::audio::SetAudioOutVolume()</a></code> function.</p>
<p>When the request to exit the program is made, the program cancels this repetitive processing, stops playback, closes the audio output, and frees the memory.</p>
<p>Note that when <code><a class="el" href="namespacenn_1_1audio.html#ad908ac057d85fa7d4d4c4f047edc6c4d" title="Stops playing a waveform from an audio output.">nn::audio::StopAudioOut()</a></code> is called, the playback stops and access to registered (and not played) buffers is revoked, but access occurs when <code><a class="el" href="namespacenn_1_1audio.html#aa522149d7a0b48763dd5c1eb32609505" title="Starts playing a waveform from an audio output.">nn::audio::StartAudioOut()</a></code> is run. There is no access after <code><a class="el" href="namespacenn_1_1audio.html#abecd28c6321841cde54d0d16a8800da4" title="Closes the audio output and destroys the accessor.">nn::audio::CloseAudioOut()</a></code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
