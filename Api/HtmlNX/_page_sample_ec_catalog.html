<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>&lt;tt&gt;EcCatalog&lt;/tt&gt; Sample Program (Sample of Getting E-Commerce Shop Information and Jumping to the Shop) | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_ec.html">Ec Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><code>EcCatalog</code> Sample Program (Sample of Getting E-Commerce Shop Information and Jumping to the Shop) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSampleEcCatalog_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSampleEcCatalog_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSampleEcCatalog_SectionNecessaryEnvironment">Required Environment</a></li>
<li class="level1"><a href="#PageSampleEcCatalog_SectionForChina">Support for the China Region</a></li>
<li class="level1"><a href="#PageSampleEcCatalog_SectionHowToOperate">How to Use</a></li>
<li class="level1"><a href="#PageSampleEcCatalog_SectionPrecaution">Important Information</a></li>
<li class="level1"><a href="#PageSampleEcCatalog_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSampleEcCatalog_SectionDetail">Description</a></li>
</ul>
</div>
<div class="textblock"><p>This section describes the sample programs that demonstrate how to get e-commerce shop information (lists of consumable items, AOC items, AOC shelves, related titles, and subscription service items) and how to jump to shops.</p>
<h1><a class="anchor" id="PageSampleEcCatalog_SectionBrief"></a>
Overview</h1>
<p>These samples demonstrate how to get e-commerce shop information and shop jumps. They are broadly classified as follows. For more information, see the page for each sample. The text in parentheses contains the names of the choices on the start screen after the program starts.</p><ul>
<li><a class="el" href="_page_sample_ec_catalog__consumable.html">Consumable Service Item List</a> (Consumable Item List)</li>
<li><a class="el" href="_page_sample_ec_catalog__aoc_item.html">AOC Item List</a> (AOC Item List)</li>
<li><a class="el" href="_page_sample_ec_catalog__aoc_item_shelf.html">AOC Shelf List</a> (AOC Item Shelf List)</li>
<li><a class="el" href="_page_sample_ec_catalog__title.html">Getting Information for Other Related Titles</a> (Related Title/Bundle List)</li>
<li><a class="el" href="_page_sample_ec_catalog__subscription_service_item.html">Getting Information About Subscription Service Items</a> (Subscription Service Item List)</li>
</ul>
<h1><a class="anchor" id="PageSampleEcCatalog_SectionFileStructure"></a>
File Structure</h1>
<p>This sample program is located in <code><a class="el" href="dir_f2425460612e18987a25b6a533a46bb6.html">Samples/Sources/Applications/EcCatalog/ </a> </code>.</p>
<h1><a class="anchor" id="PageSampleEcCatalog_SectionNecessaryEnvironment"></a>
Required Environment</h1>
<p>You must have access to the dd1 environment. There must be at least one user account on the development hardware and it must be associated with a Nintendo Account. This sample program can only be built for and run on development hardware. Note that its use is not supported within a Windows environment.</p>
<h1><a class="anchor" id="PageSampleEcCatalog_SectionForChina"></a>
Support for the China Region</h1>
<p>Applications that have been configured for selling in the Global region cannot be set for selling in the China region. For this reason, if you plan to create an application for China, you need separate application IDs for the Global region and the China region. To run this sample program in the environment for China, you must make the following changes.</p><ol type="1">
<li>Make the following changes to both the <code>EcCatalog.aarch64.lp64.nmeta</code> file and the <code>EcCatalog.arm.ilp32.nmeta</code> file, which are located in <code><a class="el" href="dir_f2425460612e18987a25b6a533a46bb6.html">Samples/Sources/Applications/EcCatalog/ </a> </code>.</li>
</ol>
<p>Overwrite <code>NintendoSdkMeta/Core/ApplicationId</code> so that it reads <code>0x0100b3b01019a000</code> (for China) instead of <code>0x01004b9000490000</code> (Global).</p><ol type="1">
<li>The platform region must be switched to China. For more information about how to change this setting, see NintendoSDK Documents &gt; Notes &gt; Switch Consoles for China (NX Add-On) &gt; Testing Environment.</li>
<li>The user account must be linked to an account for China (not a Nintendo Account with some place like Hong Kong specified as the country.) For more information about creating these accounts, see NintendoSDK Documents &gt; Guide to Setting Up the Environment &gt; Creating an Account For China.</li>
<li>Build and run the sample.</li>
</ol>
<p>If you want to test operations in the Global environment after you have changed to the China environment, revert <code>ApplicationId</code> to <code>0x01004b9000490000</code> (Global) and then build the sample and run it in the Global environment.</p>
<h1><a class="anchor" id="PageSampleEcCatalog_SectionHowToOperate"></a>
How to Use</h1>
<p>Immediately After Starting</p>
<p>You are prompted to select a user, so select a user that is linked to a Nintendo Account and press the A Button to transition to the start screen. Processing ends if you cancel by pressing the B Button.</p>
<p>Basic Operations</p>
<p>Use up/down/left/right to move the cursor on each screen. Press the A Button to select and go to the next screen. Press the B Button to cancel and return to the previous screen. If you press the B Button while data is loading ("NowLoading.."), the process is canceled and the screen does not transition.</p>
<p>Switching Between Dev Shop and Shop</p>
<p>If you want to check the actual shop screen when you execute the shop jump, in DevMenu, in the <b>Shop</b> tab, set <b>Valid Shop</b> to <b>Shop</b>. If you do not need to do that, select <b>Dev Shop</b>.</p>
<p>Shop Jump</p>
<ul>
<li>If you are using Dev Shop: Detailed information for the item is displayed. Use the A Button to go back.</li>
<li>If you are using Shop: The shop screen is displayed. Follow the instructions on the screen to operate the screens.</li>
</ul>
<h1><a class="anchor" id="PageSampleEcCatalog_SectionPrecaution"></a>
Important Information</h1>
<p>You must specify a country for each language you want to check when creating a Nintendo Account, and then configure that language in the system settings.</p>
<p>This sample uses exceptions to simplify the description when memory allocation fails. If you don't want to use exceptions, handle during memory allocation.</p>
<p>The open source software RapidJSON is used for the JSON parser. RapidJSON is not a tool that is officially supported by the NintendoSDK. Instead, it is used to verify the operation of applicable samples. For that reason, its operation is not supported when used in locations other than the sample. In addition, note that incompatible updates may be performed in the future when the open source software is updated. For the RapidJSON software license conditions, see the license file (Documents/Licenses/RapidJSON/RapidJSON_MITlicense.txt) bundled with the SD package.</p>
<h1><a class="anchor" id="PageSampleEcCatalog_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>Build and run this program.</p>
<h1><a class="anchor" id="PageSampleEcCatalog_SectionDetail"></a>
Description</h1>
<p>These sample programs run processes in the following order. For more information about shop jumps, see the page for each individual sample.</p>
<ul>
<li>Initializes the network connection management library (<code><a class="el" href="namespacenn_1_1nifm.html#a0e3aaf3209696149ec22613e1d3d6705">nn::nifm::Initialize</a></code>).</li>
<li>Makes a request to the system for a network connection, and blocks until the request is accepted or denied (<code><a class="el" href="namespacenn_1_1nifm.html#ac42c271bffbeb6324e5a41ae779d6575">nn::nifm::SubmitNetworkRequestAndWait</a></code>).</li>
<li>Handling for fail results for usage request submissions (<code><a class="el" href="namespacenn_1_1nifm.html#a4b82cc2b7ac1d168d0d22b777465f418">nn::nifm::HandleNetworkRequestErrorResult</a></code>).</li>
<li>Begins using the account system (<code><a class="el" href="namespacenn_1_1account.html#ac5870470963c9923c63f76e03c8c024e">nn::account::Initialize</a></code>).</li>
<li>Calls the UI for user selection. (<code><a class="el" href="namespacenn_1_1account.html#a749534bdfdee56eebe9203a526390b32">nn::account::ShowUserSelector</a></code> "nn::account::ShowUserSelector")</li>
<li>Requests initialization of the shop service access utility features (<code><a class="el" href="namespacenn_1_1ec.html#ad61a6802748556c33adbdf7ad49a5438">nn::ec::InitializeForShopServiceAccessors</a></code>).</li>
<li>Initializes an accessor instance as an accessor to the specified shop service server (<code><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html#a687ab8fd1a47844704753ee5154bd1f6">nn::ec::ShopServiceAccessor::Initialize</a></code>).</li>
<li>Requests for the communication request to be implemented (<code><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html#a76d99c0eedb987eb446aceae5ad5bc10">nn::ec::ShopServiceAccessor::Request</a></code>).</li>
<li>Waits, checking on the completion of the asynchronous request (<code><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor_1_1_async_response.html#a7987f0af89b7f1e6a24260d79b19264a">nn::ec::ShopServiceAccessor::AsyncResponse::TryWait</a></code>).</li>
<li>Gets the size, in bytes, required to receive the communication result response data (<code><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor_1_1_async_response.html#a6110982c347b466d298463abee48b54b">nn::ec::ShopServiceAccessor::AsyncResponse::GetSize</a></code>).</li>
<li>Receives the communication result response data (<code><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor_1_1_async_response.html#a18321101d84e2b6c477388104bbe532c">nn::ec::ShopServiceAccessor::AsyncResponse::Get</a></code>).</li>
<li>Requests finalization of the shop service access utility feature. (<code><a class="el" href="namespacenn_1_1ec.html#af60c0d6dbd360cef0ee822cea3305ce2" title="Requests finalization of the shop service access utility feature.">nn::ec::FinalizeForShopServiceAccessors</a></code>)</li>
</ul>
<p>For more information about these functions, see the API Reference. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
