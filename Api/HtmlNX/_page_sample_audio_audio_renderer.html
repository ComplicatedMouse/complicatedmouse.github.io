<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Audio Renderer Sample | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_audio.html">Audio Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Audio Renderer Sample </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionNecessaryEnvironment">Required Environment</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionHowToOperate">How to Use</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionPrecaution">Important Information</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionDetail">Description</a></li>
</ul>
</div>
<div class="textblock"><p>Sample program for the audio renderer.</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionBrief"></a>
Overview</h1>
<p>This sample uses the audio renderer and performs audio playback.</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionFileStructure"></a>
File Structure</h1>
<p>This sample program is located in <code><a class="el" href="dir_70876cb07341a98dfa9ff0036c24a992.html">Samples/Sources/Applications/AudioRenderer/ </a> </code>.</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionNecessaryEnvironment"></a>
Required Environment</h1>
<p>You must be able to use audio output.</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionHowToOperate"></a>
How to Use</h1>
<p>When the sample program is executed, the BGM and sound effects will be played back automatically. You can use input from the keyboard and DebugPad during playback to manipulate the playing BGM, sound effects, and sine waves.</p>
<table class="doxtable">
<tr>
<th>Input </th><th>Operation  </th></tr>
<tr>
<td>A Button </td><td>Plays <code>SampleSe0</code> once.  </td></tr>
<tr>
<td>[B] </td><td>Plays <code>SampleSe1</code> once.  </td></tr>
<tr>
<td>[X] </td><td>Plays <code>SampleSe2</code> once.  </td></tr>
<tr>
<td>[Y] </td><td>Plays <code>SampleSe3</code> once.  </td></tr>
<tr>
<td>[L] </td><td>Enables or disables the biquad filter.  </td></tr>
<tr>
<td>[R] </td><td>Switches the SampleBgm0-2ch playback state.  </td></tr>
<tr>
<td>Left Stick </td><td>Raise and lower the volume of the sine wave.  </td></tr>
<tr>
<td>Left/Right Buttons </td><td>Changes the volume for the SampleBgm0-2ch left channel.  </td></tr>
<tr>
<td>Up/Down Buttons </td><td>Changes the volume for the SampleBgm0-2ch right channel.  </td></tr>
<tr>
<td>Right Stick </td><td>Raises and lowers the pitch of the sine wave.  </td></tr>
<tr>
<td>START or SPACEBAR </td><td>Exits the program.  </td></tr>
</table>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionPrecaution"></a>
Important Information</h1>
<p>Nothing specific.</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>Build the sample program and then run it.</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionDetail"></a>
Description</h1>
<p>This sample program performs audio rendering using multiple waveforms.</p>
<p>This sample program has the following flow.</p>
<ul>
<li>Initialize the file system.</li>
<li>Initialize the audio renderer.</li>
<li>Prepare <code>FinalMix</code> and prepare the bus routing using <code>BufferMixer</code>.</li>
<li>Set the output device.</li>
<li>Prepare the input waveform, allocate <code>Voice</code>, and set parameters.</li>
<li>Initialize audio rendering.</li>
<li>Change parameters and implement state acquisition.</li>
<li>End rendering.</li>
<li>Close the audio renderer.</li>
<li>Free the input waveform.</li>
</ul>
<p>First, initialize the file system. Use a resource file that is converted during build. Appropriately change the location of the resource directory.</p>
<p>Initialize the audio renderer. Before initialization, parameter settings and work buffer preparations must be performed in advance. This work buffer is used for audio rendering processes. To use the audio renderer, you must prepare <code><a class="el" href="structnn_1_1audio_1_1_audio_renderer_config.html" title="Structure that manages audio renderer settings.">nn::audio::AudioRendererConfig</a></code> at the same time. This structure is used for managing the audio renderer parameters. The work buffer must also be prepared for <code><a class="el" href="structnn_1_1audio_1_1_audio_renderer_config.html" title="Structure that manages audio renderer settings.">nn::audio::AudioRendererConfig</a></code>.</p>
<p>The audio renderer specifies the output destination of the final output with <code>Sink</code>. This sample specifies a <code>DeviceSinkType</code> named <code>MainAudioOut</code>. (In the current version of the SDK, sound is output from the Windows <em>prescribed device</em> by specifying this name.)</p>
<p>Next, effects are prepared. In this demo, bus routing is set using <code><a class="el" href="structnn_1_1audio_1_1_buffer_mixer_type.html" title="BufferMixer effects.">nn::audio::BufferMixerType</a></code>. The effect is set in <code><a class="el" href="structnn_1_1audio_1_1_final_mix_type.html" title="Structure representing FinalMix.">nn::audio::FinalMixType</a></code>.</p>
<p>The input waveform and parameter can be specified using <code><a class="el" href="structnn_1_1audio_1_1_voice_type.html" title="Structure that controls waveform input to the renderer.">nn::audio::VoiceType</a></code>. In this sample, a dynamically generated sine wave and BGM and SE loaded from a file are played. The input waveform is specified with <code><a class="el" href="structnn_1_1audio_1_1_wave_buffer.html" title="Structure for handling waveform input provided to a VoiceType.">nn::audio::WaveBuffer</a></code>. Up to four buffers can be specified at a time for a <code>Voice</code> and they can be played continuously. In addition, the following parameters can be specified.</p>
<ul>
<li>Volume</li>
<li>Pitch</li>
<li>Biquad filter</li>
<li>Mix volume</li>
</ul>
<p>For <code><a class="el" href="structnn_1_1audio_1_1_voice_type.html" title="Structure that controls waveform input to the renderer.">nn::audio::VoiceType</a></code>, the output destination must be specified after allocation.</p>
<p>The various settings are applied to actual processing by calling the <code><a class="el" href="namespacenn_1_1audio.html#ac555128156197608dfaeeb5e824780a6" title="Updates the parameters for Voice objects bound to the audio renderer.">nn::audio::RequestUpdateAudioRenderer()</a></code> function after they have been set in the <code><a class="el" href="structnn_1_1audio_1_1_audio_renderer_config.html" title="Structure that manages audio renderer settings.">nn::audio::AudioRendererConfig</a></code> structure.</p>
<p>Parameter changes, state acquisition, and buffer adding are performed in the main loop. This sample loops BGM while streaming the sine wave data. During playback, you can use input from the keyboard and DebugPad for the operations described in the How to Operate section.</p>
<p>When a request to exit the program is made, this repeated process is exited and playback stops, the audio renderer is closed, and the memory is freed. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
