<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Controlling the Idle State Sample | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_oe.html">Operating Environment Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Controlling the Idle State Sample </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSampleOeIdlePolicy_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSampleOeIdlePolicy_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSampleOeIdlePolicy_SectionNecessaryEnvironment">Required Environment</a></li>
<li class="level1"><a href="#PageSampleOeIdlePolicy_SectionHowToOperate">How to Use</a></li>
<li class="level1"><a href="#PageSampleOeIdlePolicy_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSampleOeIdlePolicy_SectionDetail">Description</a><ul><li class="level2"><a href="#PageSampleOeIdlePolicy_SectionSampleProgram">Sample Program</a></li>
<li class="level2"><a href="#PageSampleOeIdlePolicy_SectionSampleDetail">Sample Program Description</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>Describes how to control the start time of features like screen burn-in reduction when the system is inactive in the idle state.</p>
<h1><a class="anchor" id="PageSampleOeIdlePolicy_SectionBrief"></a>
Overview</h1>
<p>This sample program describes how to control the start time of features like screen burn-in reduction when the system is inactive in the idle state.</p>
<h1><a class="anchor" id="PageSampleOeIdlePolicy_SectionFileStructure"></a>
File Structure</h1>
<p>This sample program is located in <code><a class="el" href="dir_57641db3a4829ca9ab469d18bec8ed17.html">Samples/Sources/Applications/OeIdlePolicy/ </a> </code>.</p>
<h1><a class="anchor" id="PageSampleOeIdlePolicy_SectionNecessaryEnvironment"></a>
Required Environment</h1>
<p>This sample program can only be built and run on the NX platform.</p>
<h1><a class="anchor" id="PageSampleOeIdlePolicy_SectionHowToOperate"></a>
How to Use</h1>
<p>Nothing specific.</p>
<h1><a class="anchor" id="PageSampleOeIdlePolicy_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>Build the sample program and then run it. To check the effects of the features called in this sample program, you must enable auto-sleep ahead of time in the system settings.</p>
<h1><a class="anchor" id="PageSampleOeIdlePolicy_SectionDetail"></a>
Description</h1>
<h2><a class="anchor" id="PageSampleOeIdlePolicy_SectionSampleProgram"></a>
Sample Program</h2>
<p>This sample program uses the following source code.</p>
<p><code><a class="el" href="_oe_idle_policy_8cpp.html" title="Sample program demonstrating how to control the idle state.">OeIdlePolicy.cpp</a></code> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*--------------------------------------------------------------------------------*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">  Copyright Nintendo.  All rights reserved.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">  These coded instructions, statements, and computer programs contain proprietary</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">  information of Nintendo and/or its licensed developers and are protected by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">  national and international copyright laws. They may not be disclosed to third</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">  parties or copied or duplicated in any form, in whole or in part, without the</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">  prior written consent of Nintendo.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">  The content herein is highly confidential and should be handled accordingly.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *--------------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &lt;nn/nn_Common.h&gt;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="nn___log_8h.html">nn/nn_Log.h</a>&gt;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="nn___time_span_8h.html">nn/nn_TimeSpan.h</a>&gt;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &lt;nn/os.h&gt;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &lt;nns/gfxLog.h&gt;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &lt;nns/nns_Log.h&gt;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &lt;nns/hid.h&gt;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="oe___idle_policy_api_8h.html">nn/oe/oe_IdlePolicyApi.h</a>&gt;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="classnn_1_1os_1_1_timer_event.html">nn::os::TimerEvent</a> g_OneSecondTimer(<a class="code" href="namespacenn_1_1os.html#a11ab71d44973a4135958c420e5682452a31f6133098296b3ddb7e14da3dc695cc">nn::os::EventClearMode_AutoClear</a>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordtype">int</span> g_ElapsedSeconds = 0;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keywordtype">void</span> UpdateExtensionMode(<a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754de">nn::oe::UserInactivityDetectionTimeExtensionMode</a> mode) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">switch</span> ( mode )</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deaa8475312a81b5b263b26c68d9f607b52">nn::oe::UserInactivityDetectionTimeExtensionMode_Disabled</a>:</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="namespacenn_1_1oe.html#a7c22abba7b05db494231a2893edfcf91">nn::oe::SetUserInactivityDetectionTimeExtended</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            NNS_LOG(<span class="stringliteral">&quot;Mode: Disabled.\n&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deac4e7bfdb512446ce1520a179b24cae1a">nn::oe::UserInactivityDetectionTimeExtensionMode_Enabled</a>:</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <a class="code" href="namespacenn_1_1oe.html#a7c22abba7b05db494231a2893edfcf91">nn::oe::SetUserInactivityDetectionTimeExtended</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            NNS_LOG(<span class="stringliteral">&quot;Mode: Enabled.\n&quot;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754dea3b88de7444aa887ad3431613bf78a7fd">nn::oe::UserInactivityDetectionTimeExtensionMode_EnabledUnsafe</a>:</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="namespacenn_1_1oe.html#ad3513ab7afd7048df84376b4f684fdf1">nn::oe::SetUserInactivityDetectionTimeExtendedUnsafe</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            NNS_LOG(<span class="stringliteral">&quot;Mode: EnabledUnsafe.\n&quot;</span>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <a class="code" href="nn___macro_8h.html#abfe6f7c5f80ef52b7c0616042aba59b9">NN_UNEXPECTED_DEFAULT</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    g_ElapsedSeconds = 0;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    g_OneSecondTimer.StartPeriodic(<a class="code" href="classnn_1_1_time_span.html#a8e74f5ceb64fc02aa614eed3cc148e82">nn::TimeSpan::FromSeconds</a>(1), <a class="code" href="classnn_1_1_time_span.html#a8e74f5ceb64fc02aa614eed3cc148e82">nn::TimeSpan::FromSeconds</a>(1));</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754de">nn::oe::UserInactivityDetectionTimeExtensionMode</a> NextExtensionMode(<a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754de">nn::oe::UserInactivityDetectionTimeExtensionMode</a> mode) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">switch</span> ( mode )</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deaa8475312a81b5b263b26c68d9f607b52">nn::oe::UserInactivityDetectionTimeExtensionMode_Disabled</a>:</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deac4e7bfdb512446ce1520a179b24cae1a">nn::oe::UserInactivityDetectionTimeExtensionMode_Enabled</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deac4e7bfdb512446ce1520a179b24cae1a">nn::oe::UserInactivityDetectionTimeExtensionMode_Enabled</a>:</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754dea3b88de7444aa887ad3431613bf78a7fd">nn::oe::UserInactivityDetectionTimeExtensionMode_EnabledUnsafe</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754dea3b88de7444aa887ad3431613bf78a7fd">nn::oe::UserInactivityDetectionTimeExtensionMode_EnabledUnsafe</a>:</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deaa8475312a81b5b263b26c68d9f607b52">nn::oe::UserInactivityDetectionTimeExtensionMode_Disabled</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <a class="code" href="nn___macro_8h.html#abfe6f7c5f80ef52b7c0616042aba59b9">NN_UNEXPECTED_DEFAULT</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keywordtype">void</span> RunTimeCountingThread() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">static</span> <a class="code" href="structnn_1_1os_1_1_thread_type.html">nn::os::ThreadType</a> s_Thread;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">static</span> <a class="code" href="nn___macro_8h.html#a6ce9d4b07ab8bec971ac8875873615b5">NN_ALIGNAS</a>(4096) char s_ThreadStack[4 * <a class="code" href="namespacenn.html">nn</a>::os::MemoryPageSize];</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="namespacenn.html">nn</a>::os::CreateThread(</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        &amp;s_Thread,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        [](<span class="keywordtype">void</span>* arg) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(arg);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">while</span> ( <a class="code" href="nn___macro_8h.html#a71c0f58f6d49fe1392380eed4509ab9a">NN_STATIC_CONDITION</a>(<span class="keyword">true</span>) )</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                g_OneSecondTimer.Wait();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                ++g_ElapsedSeconds;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                NNS_LOG(<span class="stringliteral">&quot;%d sec\n&quot;</span>, g_ElapsedSeconds);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        },</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        s_ThreadStack,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keyword">sizeof</span>(s_ThreadStack),</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="namespacenn_1_1os.html#a5985811d04e64c0823ed758fd420591d">nn::os::DefaultThreadPriority</a></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    );</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="namespacenn_1_1os.html#a90f2d7d33024e710d09a2b6d01b15522">nn::os::SetThreadNamePointer</a>(&amp;s_Thread, <span class="stringliteral">&quot;1sTimerThread&quot;</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="namespacenn_1_1os.html#a18eec7c4c4c298f7abaa9ef41d6de76b">nn::os::StartThread</a>(&amp;s_Thread);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">//  Main function.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> nnMain()</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// The core for the log-rendering thread.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    nns::gfxLog::SetThreadCoreNumber(0);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;Press A key on Debug Pad or Game Pad, or touch the screen to change extension mode.\n&quot;</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    nns::hid::ControllerManager controllerManager;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    nns::hid::util::SetControllerManagerWithDefault(&amp;controllerManager);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    RunTimeCountingThread();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754de">nn::oe::UserInactivityDetectionTimeExtensionMode</a> currentMode = <a class="code" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deaa8475312a81b5b263b26c68d9f607b52">nn::oe::UserInactivityDetectionTimeExtensionMode_Disabled</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    UpdateExtensionMode(currentMode);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keyword">auto</span>&amp; gamePad = *<span class="keyword">reinterpret_cast&lt;</span>nns::hid::GamePad*<span class="keyword">&gt;</span>(controllerManager.GetController(nns::hid::ControllerId_GamePad, 0));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keyword">auto</span>&amp; debugPad = *<span class="keyword">reinterpret_cast&lt;</span>nns::hid::DebugPad*<span class="keyword">&gt;</span>(controllerManager.GetController(nns::hid::ControllerId_DebugPad, 0));</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keyword">auto</span>&amp; touchScreen = *<span class="keyword">reinterpret_cast&lt;</span>nns::hid::TouchScreen*<span class="keyword">&gt;</span>(controllerManager.GetController(nns::hid::ControllerId_TouchScreen, 0));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">bool</span> wasTouched = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">while</span> ( <a class="code" href="nn___macro_8h.html#a71c0f58f6d49fe1392380eed4509ab9a">NN_STATIC_CONDITION</a>(<span class="keyword">true</span>) )</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        controllerManager.Update();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordtype">bool</span> changeMode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordtype">bool</span> isTouched = touchScreen.IsConnected() &amp;&amp; touchScreen.GetTouchStates().size() &gt; 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> ( (gamePad.IsConnected() &amp;&amp; gamePad.HasAnyButtonsDown(nns::hid::Button::A::Mask)) ||</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;             (debugPad.IsConnected() &amp;&amp; debugPad.HasAnyButtonsDown(nns::hid::Button::A::Mask)) ||</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;             (isTouched &amp;&amp; !wasTouched) )</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            changeMode = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        wasTouched = isTouched;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">if</span> ( changeMode )</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            currentMode = NextExtensionMode(currentMode);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            UpdateExtensionMode(currentMode);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <a class="code" href="namespacenn_1_1os.html#a96b335e87af44c60a0d6dca75f11c9d2">nn::os::SleepThread</a>(<a class="code" href="classnn_1_1_time_span.html#a2441d3c84cc24b901342ce11f87cd39c">nn::TimeSpan::FromMilliSeconds</a>(16));</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// Exit the program.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;\nEnd of Demo.\n&quot;</span>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="namespacenn_1_1os.html#a96b335e87af44c60a0d6dca75f11c9d2">nn::os::SleepThread</a>(<a class="code" href="classnn_1_1_time_span.html#a8e74f5ceb64fc02aa614eed3cc148e82">nn::TimeSpan::FromSeconds</a>(5));</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="ttc" id="aclassnn_1_1_time_span_html_a2441d3c84cc24b901342ce11f87cd39c"><div class="ttname"><a href="classnn_1_1_time_span.html#a2441d3c84cc24b901342ce11f87cd39c">nn::TimeSpan::FromMilliSeconds</a></div><div class="ttdeci">static constexpr TimeSpan FromMilliSeconds(int64_t milliSeconds) NN_NOEXCEPT</div><div class="ttdoc">Generates a TimeSpan object from a milliseconds value.</div><div class="ttdef"><b>Definition:</b> nn_TimeSpan.h:550</div></div>
<div class="ttc" id="aclassnn_1_1_time_span_html_a8e74f5ceb64fc02aa614eed3cc148e82"><div class="ttname"><a href="classnn_1_1_time_span.html#a8e74f5ceb64fc02aa614eed3cc148e82">nn::TimeSpan::FromSeconds</a></div><div class="ttdeci">static constexpr TimeSpan FromSeconds(int64_t seconds) NN_NOEXCEPT</div><div class="ttdoc">Generates a TimeSpan object from a value specified in seconds.</div><div class="ttdef"><b>Definition:</b> nn_TimeSpan.h:563</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_timer_event_html"><div class="ttname"><a href="classnn_1_1os_1_1_timer_event.html">nn::os::TimerEvent</a></div><div class="ttdoc">Class for handling timer events.</div><div class="ttdef"><b>Definition:</b> os_TimerEvent.h:41</div></div>
<div class="ttc" id="anamespacenn_1_1oe_html_a7c22abba7b05db494231a2893edfcf91"><div class="ttname"><a href="namespacenn_1_1oe.html#a7c22abba7b05db494231a2893edfcf91">nn::oe::SetUserInactivityDetectionTimeExtended</a></div><div class="ttdeci">void SetUserInactivityDetectionTimeExtended(bool isExtended) NN_NOEXCEPT</div><div class="ttdoc">Extends the start time for auto-sleep and screen burn-in reduction that operate when idle state is de...</div></div>
<div class="ttc" id="anamespacenn_1_1oe_html_ab56ac40f2fbbedd360b034da1a7754de"><div class="ttname"><a href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754de">nn::oe::UserInactivityDetectionTimeExtensionMode</a></div><div class="ttdeci">UserInactivityDetectionTimeExtensionMode</div><div class="ttdoc">Mode for extending the start time for auto-sleep and screen burn-in reduction.</div><div class="ttdef"><b>Definition:</b> oe_IdlePolicyApi.h:32</div></div>
<div class="ttc" id="anamespacenn_1_1oe_html_ab56ac40f2fbbedd360b034da1a7754dea3b88de7444aa887ad3431613bf78a7fd"><div class="ttname"><a href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754dea3b88de7444aa887ad3431613bf78a7fd">nn::oe::UserInactivityDetectionTimeExtensionMode_EnabledUnsafe</a></div><div class="ttdeci">@ UserInactivityDetectionTimeExtensionMode_EnabledUnsafe</div><div class="ttdoc">Long-term unsafe extension mode enabled.</div><div class="ttdef"><b>Definition:</b> oe_IdlePolicyApi.h:35</div></div>
<div class="ttc" id="anamespacenn_1_1oe_html_ab56ac40f2fbbedd360b034da1a7754deaa8475312a81b5b263b26c68d9f607b52"><div class="ttname"><a href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deaa8475312a81b5b263b26c68d9f607b52">nn::oe::UserInactivityDetectionTimeExtensionMode_Disabled</a></div><div class="ttdeci">@ UserInactivityDetectionTimeExtensionMode_Disabled</div><div class="ttdoc">Extension mode disabled.</div><div class="ttdef"><b>Definition:</b> oe_IdlePolicyApi.h:33</div></div>
<div class="ttc" id="anamespacenn_1_1oe_html_ab56ac40f2fbbedd360b034da1a7754deac4e7bfdb512446ce1520a179b24cae1a"><div class="ttname"><a href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deac4e7bfdb512446ce1520a179b24cae1a">nn::oe::UserInactivityDetectionTimeExtensionMode_Enabled</a></div><div class="ttdeci">@ UserInactivityDetectionTimeExtensionMode_Enabled</div><div class="ttdoc">Extension mode enabled.</div><div class="ttdef"><b>Definition:</b> oe_IdlePolicyApi.h:34</div></div>
<div class="ttc" id="anamespacenn_1_1oe_html_ad3513ab7afd7048df84376b4f684fdf1"><div class="ttname"><a href="namespacenn_1_1oe.html#ad3513ab7afd7048df84376b4f684fdf1">nn::oe::SetUserInactivityDetectionTimeExtendedUnsafe</a></div><div class="ttdeci">void SetUserInactivityDetectionTimeExtendedUnsafe(bool isExtended) NN_NOEXCEPT</div><div class="ttdoc">Extends the start time over a long period of time for auto-sleep and screen burn-in reduction that op...</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a11ab71d44973a4135958c420e5682452a31f6133098296b3ddb7e14da3dc695cc"><div class="ttname"><a href="namespacenn_1_1os.html#a11ab71d44973a4135958c420e5682452a31f6133098296b3ddb7e14da3dc695cc">nn::os::EventClearMode_AutoClear</a></div><div class="ttdeci">@ EventClearMode_AutoClear</div><div class="ttdoc">Automatically cleared event.</div><div class="ttdef"><b>Definition:</b> os_EventCommon.h:33</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a18eec7c4c4c298f7abaa9ef41d6de76b"><div class="ttname"><a href="namespacenn_1_1os.html#a18eec7c4c4c298f7abaa9ef41d6de76b">nn::os::StartThread</a></div><div class="ttdeci">void StartThread(ThreadType *thread) NN_NOEXCEPT</div><div class="ttdoc">Starts execution on a thread.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a5985811d04e64c0823ed758fd420591d"><div class="ttname"><a href="namespacenn_1_1os.html#a5985811d04e64c0823ed758fd420591d">nn::os::DefaultThreadPriority</a></div><div class="ttdeci">const int DefaultThreadPriority</div><div class="ttdoc">Constant indicating the default value of thread priority.</div><div class="ttdef"><b>Definition:</b> os_ThreadCommon.h:47</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a90f2d7d33024e710d09a2b6d01b15522"><div class="ttname"><a href="namespacenn_1_1os.html#a90f2d7d33024e710d09a2b6d01b15522">nn::os::SetThreadNamePointer</a></div><div class="ttdeci">void SetThreadNamePointer(ThreadType *thread, const char *threadName) NN_NOEXCEPT</div><div class="ttdoc">The address where the name of the target thread is stored.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a96b335e87af44c60a0d6dca75f11c9d2"><div class="ttname"><a href="namespacenn_1_1os.html#a96b335e87af44c60a0d6dca75f11c9d2">nn::os::SleepThread</a></div><div class="ttdeci">void SleepThread(TimeSpan time) NN_NOEXCEPT</div><div class="ttdoc">Puts the current thread to sleep for the specified amount of time.</div></div>
<div class="ttc" id="anamespacenn_html"><div class="ttname"><a href="namespacenn.html">nn</a></div><div class="ttdoc">Represents the Nintendo SDK namespace.</div></div>
<div class="ttc" id="ann___log_8h_html"><div class="ttname"><a href="nn___log_8h.html">nn_Log.h</a></div><div class="ttdoc">Declarations for the logging API.</div></div>
<div class="ttc" id="ann___macro_8h_html_a0e31cc4dc24d85253a31e48b1a85ab33"><div class="ttname"><a href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div><div class="ttdeci">#define NN_NOEXCEPT</div><div class="ttdoc">Declares that the function does not throw exceptions.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:196</div></div>
<div class="ttc" id="ann___macro_8h_html_a6ce9d4b07ab8bec971ac8875873615b5"><div class="ttname"><a href="nn___macro_8h.html#a6ce9d4b07ab8bec971ac8875873615b5">NN_ALIGNAS</a></div><div class="ttdeci">#define NN_ALIGNAS(alignment)</div><div class="ttdoc">Sets the byte alignment.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:162</div></div>
<div class="ttc" id="ann___macro_8h_html_a71c0f58f6d49fe1392380eed4509ab9a"><div class="ttname"><a href="nn___macro_8h.html#a71c0f58f6d49fe1392380eed4509ab9a">NN_STATIC_CONDITION</a></div><div class="ttdeci">#define NN_STATIC_CONDITION(condition)</div><div class="ttdoc">Suppresses compiler warnings on intentional, explicitly specified conditional constants.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:626</div></div>
<div class="ttc" id="ann___macro_8h_html_abfe6f7c5f80ef52b7c0616042aba59b9"><div class="ttname"><a href="nn___macro_8h.html#abfe6f7c5f80ef52b7c0616042aba59b9">NN_UNEXPECTED_DEFAULT</a></div><div class="ttdeci">#define NN_UNEXPECTED_DEFAULT</div><div class="ttdoc">Explicitly states that the default label is never reached in a switch statement.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:571</div></div>
<div class="ttc" id="ann___macro_8h_html_af2d1673769927c5eae977d8dde3ce106"><div class="ttname"><a href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a></div><div class="ttdeci">#define NN_UNUSED(variable)</div><div class="ttdoc">Suppresses compiler warnings on intentionally unused variables.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:610</div></div>
<div class="ttc" id="ann___time_span_8h_html"><div class="ttname"><a href="nn___time_span_8h.html">nn_TimeSpan.h</a></div><div class="ttdoc">TimeSpan class declarations.</div></div>
<div class="ttc" id="aoe___idle_policy_api_8h_html"><div class="ttname"><a href="oe___idle_policy_api_8h.html">oe_IdlePolicyApi.h</a></div><div class="ttdoc">Declarations of API resources for idle state controls.</div></div>
<div class="ttc" id="astructnn_1_1os_1_1_thread_type_html"><div class="ttname"><a href="structnn_1_1os_1_1_thread_type.html">nn::os::ThreadType</a></div><div class="ttdoc">This structure defines a thread object.</div><div class="ttdef"><b>Definition:</b> os_ThreadTypes.h:92</div></div>
</div><!-- fragment --><h2><a class="anchor" id="PageSampleOeIdlePolicy_SectionSampleDetail"></a>
Sample Program Description</h2>
<p>In this sample program you can switch among three extensions modes, changing the start time for detecting the inactive idle state.</p>
<ul>
<li><a class="el" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deaa8475312a81b5b263b26c68d9f607b52" title="Extension mode disabled.">nn::oe::UserInactivityDetectionTimeExtensionMode_Disabled</a></li>
<li><a class="el" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754deac4e7bfdb512446ce1520a179b24cae1a" title="Extension mode enabled.">nn::oe::UserInactivityDetectionTimeExtensionMode_Enabled</a></li>
<li><a class="el" href="namespacenn_1_1oe.html#ab56ac40f2fbbedd360b034da1a7754dea3b88de7444aa887ad3431613bf78a7fd" title="Long-term unsafe extension mode enabled.">nn::oe::UserInactivityDetectionTimeExtensionMode_EnabledUnsafe</a></li>
</ul>
<p>Use any of the following operations to switch between the modes.</p>
<ul>
<li>Press the A Button on DebugPad.</li>
<li>Press the A Button on GamePad.</li>
<li>Tap the touch panel.</li>
</ul>
<p>A log is output to the screen at a rate of once per second after you have finished switching to a mode. Depending on the mode, the timing of the activation of the screen burn-in reduction feature and the auto-sleep feature will vary.</p>
<p>This sample demo includes an operation for switching the mode, and every time the operation is performed the count for inactive idle time will be reset. Note that the act of calling a function in this sample demo does not reset the count for inactive idle time. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
