<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NvnTutorial/InputManager.NX.cpp | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">NvnTutorial/InputManager.NX.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>For an explanation of the source code, see <a class="el" href="_page_sample_nvn_tutorial_library.html">NVN Tutorial Library</a> and <tt>NvnTutorial/InputManager.NX.cpp</tt>.</p>
<div class="fragment"><div class="line"><span class="comment">/*--------------------------------------------------------------------------------*</span></div>
<div class="line"><span class="comment">  Copyright (C)Nintendo All rights reserved.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  These coded instructions, statements, and computer programs contain proprietary</span></div>
<div class="line"><span class="comment">  information of Nintendo and/or its licensed developers and are protected by</span></div>
<div class="line"><span class="comment">  national and international copyright laws. They may not be disclosed to third</span></div>
<div class="line"><span class="comment">  parties or copied or duplicated in any form, in whole or in part, without the</span></div>
<div class="line"><span class="comment">  prior written consent of Nintendo.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  The content herein is highly confidential and should be handled accordingly.</span></div>
<div class="line"><span class="comment"> *--------------------------------------------------------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_input_manager_8_nx_8h.html">nvntutorial/InputManager.Nx.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">float</span> InputManagerNX::g_AnalogStickDeadZoneFloat = 0.1f;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">float</span> InputManagerNX::g_AnalogStickDeadZoneFloatScale = 1.0f / (1.0f - InputManagerNX::g_AnalogStickDeadZoneFloat);</div>
<div class="line"> </div>
<div class="line">InputManagerNX::InputManagerNX()</div>
<div class="line">{</div>
<div class="line">    m_LeftStickX = 0;</div>
<div class="line">    m_LeftStickY = 0;</div>
<div class="line"> </div>
<div class="line">    m_RightStickX = 0;</div>
<div class="line">    m_RightStickY = 0;</div>
<div class="line"> </div>
<div class="line">    memset(m_CurrentGamepadButtonState, 0, <span class="keyword">sizeof</span>(m_CurrentGamepadButtonState));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">InputManagerNX::~InputManagerNX()</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> InputManagerNX::Init()</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#if (PAD_TYPE == NPAD)</span></div>
<div class="line"> </div>
<div class="line">    <a name="a0"></a><a class="code" href="namespacenn_1_1hid.html#a54ad6953b9cef17b4d79171e819b0048">nn::hid::InitializeNpad</a>();</div>
<div class="line">    <a name="a1"></a><a class="code" href="namespacenn_1_1hid.html#ac04a55a989058f9d69c5c3e4e29c4480">nn::hid::SetSupportedNpadStyleSet</a>(nn::hid::NpadStyleFullKey::Mask | nn::hid::NpadStyleJoyDual::Mask | nn::hid::NpadStyleHandheld::Mask);</div>
<div class="line">    <a name="a2"></a><a class="code" href="namespacenn_1_1hid.html#a82326d8c0d5f888fce443798bb829e97">nn::hid::SetSupportedNpadIdType</a>(m_NpadIds, g_NpadIdCountMax);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> index = nn::hid::NpadJoyButton::A::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_A, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::B::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_B, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::X::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_X, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::Y::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_Y, index));</div>
<div class="line"> </div>
<div class="line">    index = nn::hid::NpadJoyButton::StickL::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_StickL, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::StickR::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_StickR, index));</div>
<div class="line"> </div>
<div class="line">    index = nn::hid::NpadJoyButton::L::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_L, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::R::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_R, index));</div>
<div class="line"> </div>
<div class="line">    index = nn::hid::NpadJoyButton::ZL::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_ZL, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::ZR::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_ZR, index));</div>
<div class="line"> </div>
<div class="line">    index = nn::hid::NpadJoyButton::Plus::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_Plus, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::Minus::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_Minus, index));</div>
<div class="line"> </div>
<div class="line">    index = nn::hid::NpadJoyButton::Left::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_Left, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::Up::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_Up, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::Right::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_Right, index));</div>
<div class="line">    index = nn::hid::NpadJoyButton::Down::Index;</div>
<div class="line">    m_GamepadBitflagMapping.insert(std::pair&lt;GamepadButton, int&gt;(GamepadButton_Down, index));</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#elif (PAD_TYPE == DEBUG_PAD)</span></div>
<div class="line"> </div>
<div class="line">    <a name="a3"></a><a class="code" href="namespacenn_1_1hid.html#a52f910e37e347a944be54f6860a8ed11">nn::hid::InitializeDebugPad</a>();</div>
<div class="line"> </div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_A]      = nn::hid::DebugPadButton::A::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_B]      = nn::hid::DebugPadButton::B::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_X]      = nn::hid::DebugPadButton::X::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_Y]      = nn::hid::DebugPadButton::Y::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_L]      = nn::hid::DebugPadButton::L::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_R]      = nn::hid::DebugPadButton::R::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_ZL]     = nn::hid::DebugPadButton::ZL::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_ZR]     = nn::hid::DebugPadButton::ZR::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_Plus]   = nn::hid::DebugPadButton::Start::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_Minus]  = nn::hid::DebugPadButton::Select::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_Left]   = nn::hid::DebugPadButton::Left::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_Up]     = nn::hid::DebugPadButton::Up::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_Right]  = nn::hid::DebugPadButton::Right::Index;</div>
<div class="line">    m_GamepadBitflagMapping[GamepadButton_Down]   = nn::hid::DebugPadButton::Down::Index;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor">#error</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> InputManagerNX::Update()</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#if (PAD_TYPE == NPAD)</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; g_NpadIdCountMax; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a4"></a><a class="code" href="structnn_1_1util_1_1_bit_flag_set.html">nn::hid::NpadStyleSet</a> style = <a name="a5"></a><a class="code" href="namespacenn_1_1hid.html#a50e56789aa106765d43935bb1838c797">nn::hid::GetNpadStyleSet</a>(m_NpadIds[i]);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (style.<a name="a6"></a><a class="code" href="structnn_1_1util_1_1_bit_flag_set.html#af92d51c7b0aca41999111cace76172c6">Test</a>&lt;<a name="_a7"></a><a class="code" href="structnn_1_1util_1_1_bit_flag_set_1_1_flag.html">nn::hid::NpadStyleFullKey</a>&gt;() == <span class="keyword">true</span>)</div>
<div class="line">        {</div>
<div class="line">            m_OldNpadFullKeyState[i] = m_CurrentNpadFullKeyState[i];</div>
<div class="line"> </div>
<div class="line">            <a name="a8"></a><a class="code" href="namespacenn_1_1hid.html#a1ea1131389075ff5c5d5911dd6da9b8f">nn::hid::GetNpadState</a>(&amp;(m_CurrentNpadFullKeyState[i]), m_NpadIds[i]);</div>
<div class="line"> </div>
<div class="line">            RemapSticks(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadFullKeyState[i].analogStickL.x),</div>
<div class="line">                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadFullKeyState[i].analogStickL.y),</div>
<div class="line">                m_LeftStickX,</div>
<div class="line">                m_LeftStickY);</div>
<div class="line"> </div>
<div class="line">            RemapSticks(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadFullKeyState[i].analogStickR.x),</div>
<div class="line">                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadFullKeyState[i].analogStickR.y),</div>
<div class="line">                m_RightStickX,</div>
<div class="line">                m_RightStickY);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> button = 0; button &lt; GamePadButton_NUM; ++button)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">bool</span> currentButtonClickState = m_CurrentNpadFullKeyState[i].buttons.Test(button);</div>
<div class="line">                <span class="keywordtype">bool</span> oldButtonClickState = m_OldNpadFullKeyState[i].buttons.Test(button);</div>
<div class="line"> </div>
<div class="line">                m_CurrentGamepadButtonState[button] = GetButtonState(oldButtonClickState, currentButtonClickState);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (style.<a class="code" href="structnn_1_1util_1_1_bit_flag_set.html#af92d51c7b0aca41999111cace76172c6">Test</a>&lt;<a class="code" href="structnn_1_1util_1_1_bit_flag_set_1_1_flag.html">nn::hid::NpadStyleJoyDual</a>&gt;() == <span class="keyword">true</span>)</div>
<div class="line">        {</div>
<div class="line">            m_OldNpadJoyDualState[i] = m_CurrentNpadJoyDualState[i];</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="namespacenn_1_1hid.html#a1ea1131389075ff5c5d5911dd6da9b8f">nn::hid::GetNpadState</a>(&amp;(m_CurrentNpadJoyDualState[i]), m_NpadIds[i]);</div>
<div class="line"> </div>
<div class="line">            RemapSticks(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadJoyDualState[i].analogStickL.x),</div>
<div class="line">                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadJoyDualState[i].analogStickL.y),</div>
<div class="line">                m_LeftStickX,</div>
<div class="line">                m_LeftStickY);</div>
<div class="line"> </div>
<div class="line">            RemapSticks(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadJoyDualState[i].analogStickR.x),</div>
<div class="line">                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadJoyDualState[i].analogStickR.y),</div>
<div class="line">                m_RightStickX,</div>
<div class="line">                m_RightStickY);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> button = 0; button &lt; GamePadButton_NUM; ++button)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">bool</span> currentButtonClickState = m_CurrentNpadJoyDualState[i].buttons.Test(button);</div>
<div class="line">                <span class="keywordtype">bool</span> oldButtonClickState = m_OldNpadJoyDualState[i].buttons.Test(button);</div>
<div class="line"> </div>
<div class="line">                m_CurrentGamepadButtonState[button] = GetButtonState(oldButtonClickState, currentButtonClickState);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (style.<a class="code" href="structnn_1_1util_1_1_bit_flag_set.html#af92d51c7b0aca41999111cace76172c6">Test</a>&lt;<a class="code" href="structnn_1_1util_1_1_bit_flag_set_1_1_flag.html">nn::hid::NpadStyleHandheld</a>&gt;() == <span class="keyword">true</span>)</div>
<div class="line">        {</div>
<div class="line">            m_OldNpadHandheldState = m_CurrentNpadHandheldState;</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="namespacenn_1_1hid.html#a1ea1131389075ff5c5d5911dd6da9b8f">nn::hid::GetNpadState</a>(&amp;(m_CurrentNpadHandheldState), m_NpadIds[i]);</div>
<div class="line"> </div>
<div class="line">            RemapSticks(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadHandheldState.analogStickL.x),</div>
<div class="line">                                           <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadHandheldState.analogStickL.y),</div>
<div class="line">                                           m_LeftStickX,</div>
<div class="line">                                           m_LeftStickY);</div>
<div class="line"> </div>
<div class="line">            RemapSticks(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadHandheldState.analogStickR.x),</div>
<div class="line">                                           <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(m_CurrentNpadHandheldState.analogStickR.y),</div>
<div class="line">                                           m_RightStickX,</div>
<div class="line">                                           m_RightStickY);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> button = 0; button &lt; GamePadButton_NUM; ++button)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">bool</span> currentButtonClickState = m_CurrentNpadHandheldState.buttons.Test(button);</div>
<div class="line">                <span class="keywordtype">bool</span> oldButtonClickState = m_OldNpadHandheldState.buttons.Test(button);</div>
<div class="line"> </div>
<div class="line">                m_CurrentGamepadButtonState[button] = GetButtonState(oldButtonClickState, currentButtonClickState);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#elif (PAD_TYPE == DEBUG_PAD)</span></div>
<div class="line"> </div>
<div class="line">    <a name="a9"></a><a class="code" href="namespacenn_1_1hid.html#ad6819dc9ed7d781a23a0a44cd2a7f86c">nn::hid::GetDebugPadState</a>(&amp;m_CurrentDebugPadState);</div>
<div class="line"> </div>
<div class="line">    RemapSticks(m_CurrentDebugPadState.analogStickL.x,</div>
<div class="line">                m_CurrentDebugPadState.analogStickL.y,</div>
<div class="line">                m_LeftStickX,</div>
<div class="line">                m_LeftStickY);</div>
<div class="line"> </div>
<div class="line">    RemapSticks(m_CurrentDebugPadState.analogStickR.x,</div>
<div class="line">                m_CurrentDebugPadState.analogStickR.y,</div>
<div class="line">                m_RightStickX,</div>
<div class="line">                m_RightStickY);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> button = 0; button &lt; GamePadButton_NUM; ++button )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">bool</span> currentButtonClickState = m_CurrentDebugPadState.buttons.Test(button);</div>
<div class="line">        <span class="keywordtype">bool</span> oldButtonClickState = m_OldDebugPadState.buttons.Test(button);</div>
<div class="line"> </div>
<div class="line">        m_CurrentGamepadButtonState[button] = GetButtonState(oldButtonClickState, currentButtonClickState);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    m_OldDebugPadState = m_CurrentDebugPadState;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor">#error</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * InputManagerNX::GetGamepadButtonState</span></div>
<div class="line"><span class="comment"> * -------------------------------------</span></div>
<div class="line"><span class="comment"> * Gets the current state of a given controller button.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line">InputManager::ButtonState InputManagerNX::GetGamepadButtonState(InputManagerNX::GamepadButton button)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> bitflagIndex = m_GamepadBitflagMapping.at(button);</div>
<div class="line">    <span class="keywordflow">return</span> m_CurrentGamepadButtonState[bitflagIndex];</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * InputManagerNX::GetLeftStickState</span></div>
<div class="line"><span class="comment"> * ---------------------------------</span></div>
<div class="line"><span class="comment"> * Gets the movement of the left stick.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> InputManagerNX::GetLeftStickState(<span class="keywordtype">float</span>&amp; leftX, <span class="keywordtype">float</span>&amp; leftY)</div>
<div class="line">{</div>
<div class="line">    leftX = m_LeftStickX;</div>
<div class="line">    leftY = m_LeftStickY;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * InputManagerNX::GetRightStickState</span></div>
<div class="line"><span class="comment"> * ----------------------------------</span></div>
<div class="line"><span class="comment"> * Gets the movement of the right stick.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> InputManagerNX::GetRightStickState(<span class="keywordtype">float</span>&amp; rightX, <span class="keywordtype">float</span>&amp; rightY)</div>
<div class="line">{</div>
<div class="line">    rightX = m_RightStickX;</div>
<div class="line">    rightY = m_RightStickY;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * InputManagerNX::RemapSticks</span></div>
<div class="line"><span class="comment"> * ---------------------------</span></div>
<div class="line"><span class="comment"> * Remaps the stick location based on the dead zone defined above.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> InputManagerNX::RemapSticks(<span class="keywordtype">int</span> inX, <span class="keywordtype">int</span> inY, <span class="keywordtype">float</span>&amp; outX, <span class="keywordtype">float</span>&amp; outY)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (inX == 0 &amp;&amp; inY == 0)</div>
<div class="line">    {</div>
<div class="line">        outX = 0;</div>
<div class="line">        outY = 0;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">float</span> TwoRootTwo = 2.0f * sqrt(2.0f);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">float</span> FloatInX = ((float)inX / (<span class="keywordtype">float</span>)<a name="a10"></a><a class="code" href="namespacenn_1_1hid.html#aecbcfd620f445d9e77b0883229761326">nn::hid::AnalogStickMax</a>);</div>
<div class="line">    <span class="keywordtype">float</span> FloatInY = ((float)inY / (<span class="keywordtype">float</span>)<a class="code" href="namespacenn_1_1hid.html#aecbcfd620f445d9e77b0883229761326">nn::hid::AnalogStickMax</a>);</div>
<div class="line">    <span class="keywordtype">float</span> SquareInX = FloatInX * FloatInX;</div>
<div class="line">    <span class="keywordtype">float</span> SquareInY = FloatInY * FloatInY;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">float</span> a = 2.0 + TwoRootTwo * FloatInX + SquareInX - SquareInY;</div>
<div class="line">    <span class="keywordtype">float</span> aSign = a &lt; 0.0f ? -1.0f : 1.0f;</div>
<div class="line">    <span class="keywordtype">float</span> b = 2.0 - TwoRootTwo * FloatInX + SquareInX - SquareInY;</div>
<div class="line">    <span class="keywordtype">float</span> bSign = b &lt; 0.0f ? -1.0f : 1.0f;</div>
<div class="line">    <span class="keywordtype">float</span> c = 2.0 + TwoRootTwo * FloatInY - SquareInX + SquareInY;</div>
<div class="line">    <span class="keywordtype">float</span> cSign = c &lt; 0.0f ? -1.0f : 1.0f;</div>
<div class="line">    <span class="keywordtype">float</span> d = 2.0 - TwoRootTwo * FloatInY - SquareInX + SquareInY;</div>
<div class="line">    <span class="keywordtype">float</span> dSign = d &lt; 0.0f ? -1.0f : 1.0f;</div>
<div class="line"> </div>
<div class="line">    outX = 0.5f * aSign * sqrt(aSign * (a)) -</div>
<div class="line">           0.5f * bSign * sqrt(bSign * (b));</div>
<div class="line"> </div>
<div class="line">    outY = 0.5f * cSign * sqrt(cSign * (c)) -</div>
<div class="line">           0.5f * dSign * sqrt(dSign * (d));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (outX &gt; g_AnalogStickDeadZoneFloat)</div>
<div class="line">    {</div>
<div class="line">        outX -= g_AnalogStickDeadZoneFloat;</div>
<div class="line">        outX *= g_AnalogStickDeadZoneFloatScale;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (outX &lt; -g_AnalogStickDeadZoneFloat)</div>
<div class="line">    {</div>
<div class="line">        outX += g_AnalogStickDeadZoneFloat;</div>
<div class="line">        outX *= g_AnalogStickDeadZoneFloatScale;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        outX = 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (outY &gt; g_AnalogStickDeadZoneFloat)</div>
<div class="line">    {</div>
<div class="line">        outY -= g_AnalogStickDeadZoneFloat;</div>
<div class="line">        outY *= g_AnalogStickDeadZoneFloatScale;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (outY &lt; -g_AnalogStickDeadZoneFloat)</div>
<div class="line">    {</div>
<div class="line">        outY += g_AnalogStickDeadZoneFloat;</div>
<div class="line">        outY *= g_AnalogStickDeadZoneFloatScale;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        outY = 0;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="a_input_manager_8_nx_8h_html"><div class="ttname"><a href="_input_manager_8_nx_8h.html">InputManager.Nx.h</a></div><div class="ttdoc">This class handles initializing the input system for NX and keeps track of the current and previous f...</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a1ea1131389075ff5c5d5911dd6da9b8f"><div class="ttname"><a href="namespacenn_1_1hid.html#a1ea1131389075ff5c5d5911dd6da9b8f">nn::hid::GetNpadState</a></div><div class="ttdeci">void GetNpadState(NpadFullKeyState *pOutValue, const NpadIdType &amp;id) NN_NOEXCEPT</div><div class="ttdoc">Gets the input states for the NpadStyleFullKey play style modeled on the Npad Switch Pro Controller.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a50e56789aa106765d43935bb1838c797"><div class="ttname"><a href="namespacenn_1_1hid.html#a50e56789aa106765d43935bb1838c797">nn::hid::GetNpadStyleSet</a></div><div class="ttdeci">NpadStyleSet GetNpadStyleSet(const NpadIdType &amp;id) NN_NOEXCEPT</div><div class="ttdoc">Gets the currently enabled play styles for any Npad ID.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a52f910e37e347a944be54f6860a8ed11"><div class="ttname"><a href="namespacenn_1_1hid.html#a52f910e37e347a944be54f6860a8ed11">nn::hid::InitializeDebugPad</a></div><div class="ttdeci">void InitializeDebugPad() NN_NOEXCEPT</div><div class="ttdoc">Initializes DebugPad.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a54ad6953b9cef17b4d79171e819b0048"><div class="ttname"><a href="namespacenn_1_1hid.html#a54ad6953b9cef17b4d79171e819b0048">nn::hid::InitializeNpad</a></div><div class="ttdeci">void InitializeNpad() NN_NOEXCEPT</div><div class="ttdoc">Initializes an Npad.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a82326d8c0d5f888fce443798bb829e97"><div class="ttname"><a href="namespacenn_1_1hid.html#a82326d8c0d5f888fce443798bb829e97">nn::hid::SetSupportedNpadIdType</a></div><div class="ttdeci">void SetSupportedNpadIdType(const NpadIdType *pIds, size_t count) NN_NOEXCEPT</div><div class="ttdoc">Configures the Npad ID to support with the application.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_ac04a55a989058f9d69c5c3e4e29c4480"><div class="ttname"><a href="namespacenn_1_1hid.html#ac04a55a989058f9d69c5c3e4e29c4480">nn::hid::SetSupportedNpadStyleSet</a></div><div class="ttdeci">void SetSupportedNpadStyleSet(NpadStyleSet style) NN_NOEXCEPT</div><div class="ttdoc">Configures the play style to enable on the Npad.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_ad6819dc9ed7d781a23a0a44cd2a7f86c"><div class="ttname"><a href="namespacenn_1_1hid.html#ad6819dc9ed7d781a23a0a44cd2a7f86c">nn::hid::GetDebugPadState</a></div><div class="ttdeci">void GetDebugPadState(DebugPadState *pOutValue) NN_NOEXCEPT</div><div class="ttdoc">Gets the latest DebugPad input state.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_aecbcfd620f445d9e77b0883229761326"><div class="ttname"><a href="namespacenn_1_1hid.html#aecbcfd620f445d9e77b0883229761326">nn::hid::AnalogStickMax</a></div><div class="ttdeci">constexpr int AnalogStickMax</div><div class="ttdoc">The maximum value of the control stick.</div><div class="ttdef"><b>Definition:</b> hid_AnalogStickState.h:24</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_bit_flag_set_1_1_flag_html"><div class="ttname"><a href="structnn_1_1util_1_1_bit_flag_set_1_1_flag.html">nn::util::BitFlagSet::Flag</a></div><div class="ttdoc">The type that defines a bit flag.</div><div class="ttdef"><b>Definition:</b> util_BitFlagSet.h:598</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_bit_flag_set_html"><div class="ttname"><a href="structnn_1_1util_1_1_bit_flag_set.html">nn::util::BitFlagSet&lt; 32, NpadStyleTag &gt;</a></div></div>
<div class="ttc" id="astructnn_1_1util_1_1_bit_flag_set_html_af92d51c7b0aca41999111cace76172c6"><div class="ttname"><a href="structnn_1_1util_1_1_bit_flag_set.html#af92d51c7b0aca41999111cace76172c6">nn::util::BitFlagSet::Test</a></div><div class="ttdeci">constexpr bool Test() const noexcept</div><div class="ttdoc">Gets the bit flag of the specified flag.</div><div class="ttdef"><b>Definition:</b> util_BitFlagSet.h:527</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
