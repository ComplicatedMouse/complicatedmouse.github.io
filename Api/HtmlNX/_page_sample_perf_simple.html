<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PerfSimple | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_perf.html">Performance Metrics Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PerfSimple </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSamplePerfSimple_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSamplePerfSimple_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSamplePerfSimple_SectionNecessaryEnvironment">Required Environment</a></li>
<li class="level1"><a href="#PageSamplePerfSimple_SectionHowToOperate">How to Use</a></li>
<li class="level1"><a href="#PageSamplePerfSimple_SectionPrecaution">Important Information</a></li>
<li class="level1"><a href="#PageSamplePerfSimple_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSamplePerfSimple_SectionDetail">Description</a><ul><li class="level2"><a href="#PageSamplePerfSimple_SectionSampleDetail">Sample Program Description</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>A sample program for CPU and GPU performance metrics.</p>
<div class="image">
<img src="perfsimpleimage.png" alt=""/>
</div>
<h1><a class="anchor" id="PageSamplePerfSimple_SectionBrief"></a>
Overview</h1>
<p>This sample shows how to use <code><a class="el" href="classnn_1_1perf_1_1_load_meter_center.html" title="The class that manages multiple CpuMeter and GpuMeter objects, and profiles the measurement results.">nn::perf::LoadMeterCenter</a></code> to measure CPU and GPU performance. An <code><a class="el" href="namespacenn_1_1perf.html" title="The namespace for the performance metrics library.">nn::perf</a></code> macro is used for the initialization and processing of metrics.</p>
<h1><a class="anchor" id="PageSamplePerfSimple_SectionFileStructure"></a>
File Structure</h1>
<p>This sample program is located in <code><a class="el" href="dir_6ecf68d4d8b08431f462937c17d72830.html">Samples/Sources/Applications/PerfSimple/ </a> </code>.</p>
<h1><a class="anchor" id="PageSamplePerfSimple_SectionNecessaryEnvironment"></a>
Required Environment</h1>
<p>You must be able to use the screen display.</p>
<h1><a class="anchor" id="PageSamplePerfSimple_SectionHowToOperate"></a>
How to Use</h1>
<p>Nothing specific.</p>
<h1><a class="anchor" id="PageSamplePerfSimple_SectionPrecaution"></a>
Important Information</h1>
<p>In the Debug build version, there are cases where processing cannot be kept within 60 fps and some frames are dropped. Indicating the behavior when skipped frames occur is intentional, and not a bug.</p>
<h1><a class="anchor" id="PageSamplePerfSimple_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>Build the sample program and then run it.</p>
<h1><a class="anchor" id="PageSamplePerfSimple_SectionDetail"></a>
Description</h1>
<h2><a class="anchor" id="PageSamplePerfSimple_SectionSampleDetail"></a>
Sample Program Description</h2>
<p>This sample program uses the main thread and three sub-threads to render four objects in red, green, blue, and yellow. In addition, CPU and GPU performance is measured, with results exported to both the console and the screen.</p>
<p>The three sub-threads generate draw commands for the red, green, and blue objects, respectively. The main thread generates the draw commands for the yellow object and for other objects. On specific CPU cores, each thread is configured to run as follows.</p>
<ul>
<li>The main thread, responsible for the yellow object and other render commands, runs on core 0.</li>
<li>The sub-thread responsible for the red object, runs on core 0.</li>
<li>The sub-thread responsible for the green object, runs on core 1.</li>
<li>The sub-thread responsible for the blue object, runs on core 2.</li>
</ul>
<p>This sample program has the following flow.</p>
<ul>
<li>Initialize the following. &ndash; Graphics framework. &ndash; The command buffer for the red, blue, and green objects. &ndash; The primitive renderer. &ndash; The debug font. &ndash; Threads. &ndash; Events. &ndash; LoadMeterCenter &ndash; The positions of the drawing objects.</li>
<li>Start each thread.</li>
<li>Begin the loop. &ndash; Update the primitive renderer. &ndash; Generate draw commands on each thread for the red, blue, and green objects. &ndash; Generate a main command. &ndash; Execute the commands.</li>
<li>Return to the start of the loop.</li>
<li>Free all objects used.</li>
</ul>
<p>The console output for this sample program is as follows.</p>
<pre class="fragment">Time: [ms]
|      total|   call| average|     max|     min|  tag| name |
[ Frame ]    16.628 ms (99.771988%)
[ CPU0 ]      4.899 ms (29.395176%)
|     0.002|      1|   0.002|   0.002|   0.002|    0|Update
|     1.877|      1|   1.877|   1.877|   1.877|    0|Red
|     2.036|      1|   2.036|   2.036|   2.036|    0|MakeCommand
|     1.815|      1|   1.815|   1.815|   1.815|    0|Yellow
|     0.983|      1|   0.983|   0.983|   0.983|    0|ExecuteCommand
[ CPU1 ]      1.767 ms (10.602424%)
|     1.767|      1|   1.767|   1.767|   1.767|    0|Green
[ CPU2 ]      1.769 ms (10.614425%)
|     1.769|      1|   1.769|   1.769|   1.769|    0|Blue
[ SYNC ]     11.694 ms (70.166809%)
|   11.694|      1|  11.694|  11.694|  11.694|    0|Sync
[ GPU ]      7.214 ms (43.285732%)
|     1.422|      1|   1.422|   1.422|   1.422|    0|Green
|     1.810|      1|   1.810|   1.810|   1.810|    0|Blue
|     1.511|      1|   1.511|   1.511|   1.511|    0|Red
|     0.650|      2|   0.325|   0.466|   0.183|    0|Others
|     1.819|      1|   1.819|   1.819|   1.819|    0|Yellow
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
