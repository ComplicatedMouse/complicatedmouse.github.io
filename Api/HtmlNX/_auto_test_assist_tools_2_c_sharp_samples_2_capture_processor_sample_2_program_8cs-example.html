<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AutoTestAssistTools/CSharpSamples/CaptureProcessorSample/Program.cs | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">AutoTestAssistTools/CSharpSamples/CaptureProcessorSample/Program.cs</div>  </div>
</div><!--header-->
<div class="contents">
<p>For an explanation of the source code, see <a class="el" href="_page_sample_capture_processor_c_sharp_sample.html">CaptureProcessorCSharpSample</a> and <tt>AutoTestAssistTools/CSharpSamples/CaptureProcessorSample/Program.cs</tt>.</p>
<div class="fragment"><div class="line"><span class="comment">// --------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">// &lt;copyright&gt;</span></div>
<div class="line"><span class="comment">// Copyright Nintendo.  All rights reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// These coded instructions, statements, and computer programs contain proprietary</span></div>
<div class="line"><span class="comment">// information of Nintendo and/or its licensed developers and are protected by</span></div>
<div class="line"><span class="comment">// national and international copyright laws. They may not be disclosed to third</span></div>
<div class="line"><span class="comment">// parties or copied or duplicated in any form, in whole or in part, without the</span></div>
<div class="line"><span class="comment">// prior written consent of Nintendo.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// The content herein is highly confidential and should be handled accordingly.</span></div>
<div class="line"><span class="comment">// &lt;/copyright&gt;</span></div>
<div class="line"><span class="comment">// --------------------------------------------------------------------------------</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using</span> System;</div>
<div class="line"><span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><span class="keyword">using</span> System.Drawing;</div>
<div class="line"><span class="keyword">using</span> System.Text;</div>
<div class="line"><span class="keyword">using</span> Nintendo.AutoTestAssistTool;</div>
<div class="line"><span class="keyword">using</span> Nintendo.Tm;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code" href="namespaceauto_test_assist_tool_1_1capture_processor_sample.html">autoTestAssistTool.captureProcessorSample</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>Program</div>
<div class="line">    {</div>
<div class="line">        CaptureProcessor m_CaptureProcessor;</div>
<div class="line"> </div>
<div class="line">        Program(CaptureProcessor captureProcessor)</div>
<div class="line">        {</div>
<div class="line">            m_CaptureProcessor = captureProcessor;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> DetectObjectImage()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;&lt;DetectObjectImage&gt;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">string</span> templateImagePath = CommonUtil.GetSdkRootDirectory()</div>
<div class="line">                + <span class="stringliteral">@&quot;/Samples/Sources/Tools/AutoTestAssistTools/ScriptSamples/TemplateImage/Home/Config_Icon.png&quot;</span>;</div>
<div class="line"> </div>
<div class="line">            var sw = <span class="keyword">new</span> System.Diagnostics.Stopwatch();</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">using</span> (var image = Nintendo.AutoTestAssistTool.Image.LoadFromFile(</div>
<div class="line">                templateImagePath))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">do</span></div>
<div class="line">                {</div>
<div class="line">                    sw.Start();</div>
<div class="line">                    Point pt;</div>
<div class="line">                    <span class="keywordflow">if</span> (m_CaptureProcessor.WaitDetectObject(</div>
<div class="line">                        out pt, image, 0.95, TimeSpan.FromSeconds(1)))</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine($<span class="stringliteral">&quot;{templateImagePath} found at ({pt.X},{pt.Y})&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine($<span class="stringliteral">&quot;{templateImagePath} was not found&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    System.Threading.Thread.Sleep(16);</div>
<div class="line">                    sw.Stop();</div>
<div class="line">                } <span class="keywordflow">while</span> (sw.Elapsed &lt; TimeSpan.FromSeconds(10));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> DotColor()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;&lt;DotColor&gt;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            var sw = <span class="keyword">new</span> System.Diagnostics.Stopwatch();</div>
<div class="line"> </div>
<div class="line">            var targetPosition = <span class="keyword">new</span> Point(855, 495);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">do</span></div>
<div class="line">            {</div>
<div class="line">                sw.Start();</div>
<div class="line">                <span class="keyword">using</span> (var image = m_CaptureProcessor.CaptureImage())</div>
<div class="line">                {</div>
<div class="line">                    var color = image.GetDotColor(targetPosition);</div>
<div class="line">                    Console.WriteLine($<span class="stringliteral">&quot;Color of Position ({targetPosition.X}, {targetPosition.Y}) is ({color.R}, {color.G}, {color.B})&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">                System.Threading.Thread.Sleep(100);</div>
<div class="line">                sw.Stop();</div>
<div class="line">            } <span class="keywordflow">while</span> (sw.Elapsed &lt; TimeSpan.FromSeconds(10));</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(m_CaptureProcessor.WaitDetectDotColor(targetPosition,</div>
<div class="line">                Color.FromArgb(0,180,180), Color.FromArgb(128,255,255),</div>
<div class="line">                TimeSpan.FromSeconds(1)))</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Setting was selected&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Setting was not selected&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> <a class="code" href="_capture_processor_library_8h.html#a888c76c42c104f7df4aa719879d1e0f9">ApplyFilter</a>()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;&lt;ApplyFilter&gt;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            var nameForBinarization = <span class="stringliteral">&quot;Binarization&quot;</span>;</div>
<div class="line">            var nameForColorRange = <span class="stringliteral">&quot;ColorRange&quot;</span>;</div>
<div class="line">            var nameForMorphology = <span class="stringliteral">&quot;Morphology&quot;</span>;</div>
<div class="line"> </div>
<div class="line">            var sw = <span class="keyword">new</span> System.Diagnostics.Stopwatch();</div>
<div class="line">            <span class="keyword">using</span> (var binarizationFilter = <span class="keyword">new</span> Filter())</div>
<div class="line">            <span class="keyword">using</span> (var colorRangeFilter = <span class="keyword">new</span> Filter())</div>
<div class="line">            <span class="keyword">using</span> (var morphologyFilter = <span class="keyword">new</span> Filter())</div>
<div class="line">            {</div>
<div class="line">                binarizationFilter.SetBinarizationFilter(128);</div>
<div class="line"> </div>
<div class="line">                colorRangeFilter.SetColorRangeFilter(</div>
<div class="line">                    Color.FromArgb(254, 254, 254), Color.FromArgb(255, 255, 255));</div>
<div class="line"> </div>
<div class="line">                morphologyFilter.SetBinarizationFilter(128);</div>
<div class="line">                morphologyFilter.SetMorphologyFilter(<a class="code" href="_capture_processor_types_8h.html#a6cb8e34d7ea36e94831c36d6f3029fa0">MorphologyConversionType</a>.Erosion, 1);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">do</span></div>
<div class="line">                {</div>
<div class="line">                    sw.Start();</div>
<div class="line">                    <span class="keyword">using</span> (var image = m_CaptureProcessor.CaptureImage())</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keyword">using</span> (var result = image.ApplyFilter(binarizationFilter))</div>
<div class="line">                        {</div>
<div class="line">                            Nintendo.AutoTestAssistTool.Image.OpenWindow(</div>
<div class="line">                                nameForBinarization, result);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keyword">using</span> (var result = image.ApplyFilter(colorRangeFilter))</div>
<div class="line">                        {</div>
<div class="line">                            Nintendo.AutoTestAssistTool.Image.OpenWindow(</div>
<div class="line">                                nameForColorRange, result);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keyword">using</span> (var result = image.ApplyFilter(morphologyFilter))</div>
<div class="line">                        {</div>
<div class="line">                            Nintendo.AutoTestAssistTool.Image.OpenWindow(</div>
<div class="line">                                nameForMorphology, result);</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    System.Threading.Thread.Sleep(100);</div>
<div class="line">                    sw.Stop();</div>
<div class="line">                } <span class="keywordflow">while</span> (sw.Elapsed &lt; TimeSpan.FromSeconds(10));</div>
<div class="line"> </div>
<div class="line">                Nintendo.AutoTestAssistTool.Image.CloseWindow(</div>
<div class="line">                    nameForBinarization);</div>
<div class="line">                Nintendo.AutoTestAssistTool.Image.CloseWindow(</div>
<div class="line">                    nameForColorRange);</div>
<div class="line">                Nintendo.AutoTestAssistTool.Image.CloseWindow(</div>
<div class="line">                    nameForMorphology);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        Nintendo.AutoTestAssistTool.Image CreateFilteredTemplateImageFromScreen(</div>
<div class="line">            Rectangle rect, Filter filter)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">using</span> (var screen = m_CaptureProcessor.CaptureImage())</div>
<div class="line">            <span class="keyword">using</span> (var snipet = screen.ExtractImage(rect))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> snipet.ApplyFilter(filter);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> <a class="code" href="_capture_processor_library_8h.html#ada70672647d8dc5b65440c37c9fa7cfd">DetectObjectWithFilter</a>()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;&lt;DetectObjectWithFilter&gt;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            var windowName = <span class="stringliteral">&quot;Template&quot;</span>;</div>
<div class="line"> </div>
<div class="line">            var sw = <span class="keyword">new</span> System.Diagnostics.Stopwatch();</div>
<div class="line">            <span class="keyword">using</span> (var filter = <span class="keyword">new</span> Filter())</div>
<div class="line">            {</div>
<div class="line">                filter.SetColorRangeFilter(</div>
<div class="line">                    Color.FromArgb(254, 254, 254), Color.FromArgb(255, 255, 255));</div>
<div class="line">                var rect = <span class="keyword">new</span> Rectangle(580, 490, 120, 120);</div>
<div class="line">                <span class="keyword">using</span> (var <span class="keyword">template</span> = CreateFilteredTemplateImageFromScreen(rect, filter))</div>
<div class="line">                {</div>
<div class="line">                    Nintendo.AutoTestAssistTool.Image.OpenWindow(windowName, <span class="keyword">template</span>);</div>
<div class="line">                    <span class="keywordflow">do</span></div>
<div class="line">                    {</div>
<div class="line">                        sw.Start();</div>
<div class="line"> </div>
<div class="line">                        Point pt;</div>
<div class="line">                        <span class="keywordflow">if</span>(m_CaptureProcessor.WaitDetectObject(</div>
<div class="line">                            out pt, <span class="keyword">template</span>, 0.95, filter, TimeSpan.FromSeconds(1)))</div>
<div class="line">                        {</div>
<div class="line">                            Console.WriteLine(</div>
<div class="line">                                $<span class="stringliteral">&quot;Template image was found at ({pt.X}, {pt.Y})&quot;</span>);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                        {</div>
<div class="line">                            Console.WriteLine(<span class="stringliteral">&quot;Template image was not found&quot;</span>);</div>
<div class="line">                        }</div>
<div class="line"> </div>
<div class="line">                        System.Threading.Thread.Sleep(16);</div>
<div class="line">                        sw.Stop();</div>
<div class="line">                    } <span class="keywordflow">while</span> (sw.Elapsed &lt; TimeSpan.FromSeconds(10));</div>
<div class="line">                    Nintendo.AutoTestAssistTool.Image.CloseWindow(windowName);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> OcrSample()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;&lt;OcrSample&gt;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            var imagePath = CommonUtil.GetSdkRootDirectory()</div>
<div class="line">                + <span class="stringliteral">@&quot;/Samples/Sources/Tools/AutoTestAssistTools/ScriptSamples/ImageProcessSample/Ocr_Sample.png&quot;</span>;</div>
<div class="line">            var nameForTargetImage = <span class="stringliteral">&quot;TargetImage&quot;</span>;</div>
<div class="line">            var nameForDetectedImage = <span class="stringliteral">&quot;DetectedImage&quot;</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">using</span> (var image = Nintendo.AutoTestAssistTool.Image.LoadFromFile(imagePath))</div>
<div class="line">            {</div>
<div class="line">                Nintendo.AutoTestAssistTool.Image.OpenWindow(nameForTargetImage, image);</div>
<div class="line">                var results = image.ExecuteOcr(<a class="code" href="_capture_processor_types_8h.html#a835de238052a2a3452bd1c499eebe92e">OcrSeparateLevel</a>.Word, <a class="code" href="_capture_processor_types_8h.html#a21361edb45a0a01d51e5031e0db3905d">OcrLanguage</a>.English);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;----- Detected texts -----&quot;</span>);</div>
<div class="line">                <span class="keywordflow">foreach</span>(var result <span class="keywordflow">in</span> results)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(result.Text);</div>
<div class="line">                }</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;--------------------------&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                Rectangle rect;</div>
<div class="line">                var regexString = <span class="stringliteral">&quot;Sample&quot;</span>;</div>
<div class="line">                <span class="keywordflow">if</span>(image.DetectText(out rect, regexString,</div>
<div class="line">                    <a class="code" href="_capture_processor_types_8h.html#a835de238052a2a3452bd1c499eebe92e">OcrSeparateLevel</a>.Word, <a class="code" href="_capture_processor_types_8h.html#a21361edb45a0a01d51e5031e0db3905d">OcrLanguage</a>.English))</div>
<div class="line">                {</div>
<div class="line">                    <span class="keyword">using</span> (var detected = image.ExtractImage(rect))</div>
<div class="line">                    {</div>
<div class="line">                        Nintendo.AutoTestAssistTool.Image.OpenWindow(</div>
<div class="line">                            nameForDetectedImage, detected);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine($<span class="stringliteral">&quot;\&quot;{regexString}\&quot; was not found&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                System.Threading.Thread.Sleep(TimeSpan.FromSeconds(10));</div>
<div class="line"> </div>
<div class="line">                Nintendo.AutoTestAssistTool.Image.CloseWindow(</div>
<div class="line">                    nameForDetectedImage);</div>
<div class="line">                Nintendo.AutoTestAssistTool.Image.CloseWindow(</div>
<div class="line">                    nameForTargetImage);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> LabeligSample()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;&lt;LabelingSample&gt;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            var imagePath = CommonUtil.GetSdkRootDirectory()</div>
<div class="line">                + <span class="stringliteral">@&quot;/Samples/Sources/Tools/AutoTestAssistTools/ScriptSamples/ImageProcessSample/Labeling_Sample.png&quot;</span>;</div>
<div class="line">            <span class="keywordtype">int</span> count = 0;</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">using</span> (var image = Nintendo.AutoTestAssistTool.Image.LoadFromFile(imagePath))</div>
<div class="line">            <span class="keyword">using</span> (var filter = <span class="keyword">new</span> Filter())</div>
<div class="line">            {</div>
<div class="line">                filter.SetColorRangeFilter(</div>
<div class="line">                    Color.FromArgb(255, 0, 0), Color.FromArgb(255, 255, 255));</div>
<div class="line">                <span class="keyword">using</span> (var filteredImage = image.ApplyFilter(filter))</div>
<div class="line">                {</div>
<div class="line">                    var results = filteredImage.ExecuteLabeling();</div>
<div class="line">                    <span class="keywordflow">foreach</span> (var result <span class="keywordflow">in</span> results)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine($<span class="stringliteral">&quot;result {count} ----&quot;</span>);</div>
<div class="line">                        Console.WriteLine($<span class="stringliteral">&quot;area:{result.Area}, center:({result.Center.X}, {result.Center.Y})&quot;</span>);</div>
<div class="line">                        Console.WriteLine($<span class="stringliteral">&quot;left:{result.Rect.Left}, top:{result.Rect.Top}, width:{result.Rect.Width}, height:{result.Rect.Height}&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        <span class="keyword">using</span> (var detected = image.ExtractImage(result.Rect))</div>
<div class="line">                        {</div>
<div class="line">                            Nintendo.AutoTestAssistTool.Image.OpenWindow(</div>
<div class="line">                                <span class="stringliteral">&quot;LabelingImage&quot;</span> + count.ToString(), detected);</div>
<div class="line">                        }</div>
<div class="line">                        count++;</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    System.Threading.Thread.Sleep(TimeSpan.FromSeconds(10));</div>
<div class="line">                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i)</div>
<div class="line">                    {</div>
<div class="line">                        Nintendo.AutoTestAssistTool.Image.CloseWindow(</div>
<div class="line">                            <span class="stringliteral">&quot;LabelingImage&quot;</span> + i.ToString());</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> Main(<span class="keywordtype">string</span>[] args)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Select the target capture device and then start.</span></div>
<div class="line">                <span class="keywordtype">int</span> captureDeviceCount = CaptureProcessor.GetCaptureDeviceCount();</div>
<div class="line"> </div>
<div class="line">                var targets = <span class="keyword">new</span> List&lt;Target&gt;();</div>
<div class="line">                <span class="keywordflow">try</span></div>
<div class="line">                {</div>
<div class="line">                    var allTargets = TargetManager.GetTargets();</div>
<div class="line">                    <span class="keywordflow">foreach</span>(var target <span class="keywordflow">in</span> allTargets)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">if</span>(target.GetIsConnected())</div>
<div class="line">                        {</div>
<div class="line">                            targets.Add(target);</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">catch</span> (TmException e)</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Proceed here if Target Manager is not running.</span></div>
<div class="line">                    <span class="keywordflow">if</span> (e.GetErrorCode() != <a class="code" href="namespacenn_1_1cdr.html#ab11d803498b65809035316e9b39face4">Error</a>.NoConnection)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(e.Message);</div>
<div class="line">                        Console.WriteLine(e.StackTrace);</div>
<div class="line">                        <span class="keywordflow">return</span>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (captureDeviceCount == 0 &amp;&amp; targets.Count == 0)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Capture device was not found.&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Please select capture device.&quot;</span>);</div>
<div class="line">                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; captureDeviceCount; ++i)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine($<span class="stringliteral">&quot;{i} : &quot;</span> + CaptureProcessor.GetCaptureDeviceName(i));</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordtype">int</span> count = captureDeviceCount;</div>
<div class="line">                <span class="keywordflow">foreach</span>(var target <span class="keywordflow">in</span> targets)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine($<span class="stringliteral">&quot;{count++} : &quot;</span> + target.GetSerialNumber());</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                var input = Console.ReadLine();</div>
<div class="line">                <span class="keywordtype">int</span> index;</div>
<div class="line">                <span class="keywordflow">if</span> (!Int32.TryParse(input, out index))</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Invalid input.&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; captureDeviceCount)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keyword">using</span> (var captureProcessor = CaptureProcessor.CreateForCaptureDevice(</div>
<div class="line">                        index, <span class="keyword">true</span>, <a class="code" href="_capture_processor_types_8h.html#af2092065bd115c4691541d421f8674a0">CaptureResolution</a>.Resolution_720p))</div>
<div class="line">                    {</div>
<div class="line">                        var program = <span class="keyword">new</span> Program(captureProcessor);</div>
<div class="line">                        program.RunSamples();</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(index &gt;= 0 &amp;&amp; index &lt; captureDeviceCount + targets.Count)</div>
<div class="line">                {</div>
<div class="line">                    var serial = targets[index - captureDeviceCount].GetSerialNumber();</div>
<div class="line"> </div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Please select capture type.&quot;</span>);</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;0 : Use Devkit Capture (SDEV only)&quot;</span>);</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;1 : Use Remote Video&quot;</span>);</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;2 : Use Screenshot&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                    input = Console.ReadLine();</div>
<div class="line">                    <span class="keywordflow">if</span> (!Int32.TryParse(input, out index))</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Invalid input.&quot;</span>);</div>
<div class="line">                        <span class="keywordflow">return</span>;</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span> (index == 0)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keyword">using</span> (var captureProcessor = CaptureProcessor.CreateForDevkit(</div>
<div class="line">                            serial, <span class="keyword">true</span>))</div>
<div class="line">                        {</div>
<div class="line">                            var program = <span class="keyword">new</span> Program(captureProcessor);</div>
<div class="line">                            program.RunSamples();</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index == 1)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keyword">using</span> (var captureProcessor = CaptureProcessor.CreateForRemoteVideo(</div>
<div class="line">                            serial, <span class="keyword">true</span>))</div>
<div class="line">                        {</div>
<div class="line">                            var program = <span class="keyword">new</span> Program(captureProcessor);</div>
<div class="line">                            program.RunSamples();</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index == 2)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keyword">using</span> (var captureProcessor = CaptureProcessor.CreateForScreenshot(</div>
<div class="line">                            serial, <span class="keyword">true</span>))</div>
<div class="line">                        {</div>
<div class="line">                            var program = <span class="keyword">new</span> Program(captureProcessor);</div>
<div class="line">                            program.RunSamples();</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Invalid number was input.&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Invalid number was input.&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (Exception e)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(e.Message);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> RunSamples()</div>
<div class="line">        {</div>
<div class="line">            DetectObjectImage();</div>
<div class="line">            DotColor();</div>
<div class="line">            <a class="code" href="_capture_processor_library_8h.html#a888c76c42c104f7df4aa719879d1e0f9">ApplyFilter</a>();</div>
<div class="line">            <a class="code" href="_capture_processor_library_8h.html#ada70672647d8dc5b65440c37c9fa7cfd">DetectObjectWithFilter</a>();</div>
<div class="line">            OcrSample();</div>
<div class="line">            LabeligSample();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="a_capture_processor_library_8h_html_a888c76c42c104f7df4aa719879d1e0f9"><div class="ttname"><a href="_capture_processor_library_8h.html#a888c76c42c104f7df4aa719879d1e0f9">ApplyFilter</a></div><div class="ttdeci">CAPTUREPROCESSOR_API CaptureResult ApplyFilter(ImageIdType *pOutId, ImageIdType id, FilterIdType filterId)</div><div class="ttdoc">Applies an image processing filter to the target image.</div></div>
<div class="ttc" id="a_capture_processor_library_8h_html_ada70672647d8dc5b65440c37c9fa7cfd"><div class="ttname"><a href="_capture_processor_library_8h.html#ada70672647d8dc5b65440c37c9fa7cfd">DetectObjectWithFilter</a></div><div class="ttdeci">CAPTUREPROCESSOR_API MatchingResult DetectObjectWithFilter(int *pOutX, int *pOutY, ImageIdType id, double threshold, FilterIdType filterId)</div><div class="ttdoc">Performs template matching for the latest image obtained from the capture target device with an image...</div></div>
<div class="ttc" id="a_capture_processor_types_8h_html_a21361edb45a0a01d51e5031e0db3905d"><div class="ttname"><a href="_capture_processor_types_8h.html#a21361edb45a0a01d51e5031e0db3905d">OcrLanguage</a></div><div class="ttdeci">OcrLanguage</div><div class="ttdoc">OCR target language.</div><div class="ttdef"><b>Definition:</b> CaptureProcessorTypes.h:212</div></div>
<div class="ttc" id="a_capture_processor_types_8h_html_a6cb8e34d7ea36e94831c36d6f3029fa0"><div class="ttname"><a href="_capture_processor_types_8h.html#a6cb8e34d7ea36e94831c36d6f3029fa0">MorphologyConversionType</a></div><div class="ttdeci">MorphologyConversionType</div><div class="ttdoc">Types of morphological transformation.</div><div class="ttdef"><b>Definition:</b> CaptureProcessorTypes.h:143</div></div>
<div class="ttc" id="a_capture_processor_types_8h_html_a835de238052a2a3452bd1c499eebe92e"><div class="ttname"><a href="_capture_processor_types_8h.html#a835de238052a2a3452bd1c499eebe92e">OcrSeparateLevel</a></div><div class="ttdeci">OcrSeparateLevel</div><div class="ttdoc">OCR recognition unit.</div><div class="ttdef"><b>Definition:</b> CaptureProcessorTypes.h:224</div></div>
<div class="ttc" id="a_capture_processor_types_8h_html_af2092065bd115c4691541d421f8674a0"><div class="ttname"><a href="_capture_processor_types_8h.html#af2092065bd115c4691541d421f8674a0">CaptureResolution</a></div><div class="ttdeci">CaptureResolution</div><div class="ttdoc">Capture resolution.</div><div class="ttdef"><b>Definition:</b> CaptureProcessorTypes.h:107</div></div>
<div class="ttc" id="anamespaceauto_test_assist_tool_1_1capture_processor_sample_html"><div class="ttname"><a href="namespaceauto_test_assist_tool_1_1capture_processor_sample.html">autoTestAssistTool.captureProcessorSample</a></div><div class="ttdoc">Namespace for the sample program of the CaptureProcessor library (C#).</div><div class="ttdef"><b>Definition:</b> Program.cs:80</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_ab11d803498b65809035316e9b39face4"><div class="ttname"><a href="namespacenn_1_1cdr.html#ab11d803498b65809035316e9b39face4">nn::cdr::Error</a></div><div class="ttdeci">Error</div><div class="ttdoc">Core dump report error codes.</div><div class="ttdef"><b>Definition:</b> cdr.h:62</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
