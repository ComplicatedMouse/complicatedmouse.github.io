<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Generating Simple Vibration Waveforms From Parameters | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_hid.html">Human Input Device Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Generating Simple Vibration Waveforms From Parameters </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSampleHidVibrationGenerator_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSampleHidVibrationGenerator_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSampleHidVibrationGenerator_SectionNecessaryEnvironment">Required Environment</a></li>
<li class="level1"><a href="#PageSampleHidVibrationGenerator_SectionHowToOperate">How to Use</a></li>
<li class="level1"><a href="#PageSampleHidVibrationGenerator_SectionPrecaution">Important Information</a></li>
<li class="level1"><a href="#PageSampleHidVibrationGenerator_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSampleHidVibrationGenerator_SectionDetail">Description</a></li>
</ul>
</div>
<div class="textblock"><p>Describes programs such as synthesizers that generate simple waveforms from parameters.</p>
<h1><a class="anchor" id="PageSampleHidVibrationGenerator_SectionBrief"></a>
Overview</h1>
<p>Describes how to generate vibration waveforms using parameter settings. Directly including parameters in the source code enables the design of various vibration waveforms. This method precludes the use of vibration files, and eliminates the need for asset management. It enables vibration features to be used more simply. In addition, it is possible to export the edited vibration waveform as a file.</p>
<p><code>DumpedVibrationGenerator</code> is a derived class from <code><a class="el" href="classnn_1_1hid_1_1_vibration_node.html" title="The base class for the vibration node.">nn::hid::VibrationNode</a></code>. Use this class to set parameters for amplitude and frequency count, time, and the attenuation curve. You can then generate various vibration waveforms. For <code><a class="el" href="classnn_1_1hid_1_1_vibration_player.html" title="The vibration node that provides functionality as a source for vibration values by playing back vibra...">nn::hid::VibrationPlayer</a></code>, use <code>Play()</code> to playback vibrations and <code>Stop()</code> to stop them.</p>
<h1><a class="anchor" id="PageSampleHidVibrationGenerator_SectionFileStructure"></a>
File Structure</h1>
<p>This sample program is located in <code><a class="el" href="dir_115d0e623aa8c91e1067a6cc3df24f10.html">Samples/Sources/Applications/HidVibrationGenerator</a> </code>.</p>
<h1><a class="anchor" id="PageSampleHidVibrationGenerator_SectionNecessaryEnvironment"></a>
Required Environment</h1>
<p>When running in a Windows environment, connect the Bluetooth dongle to the computer ahead of time, and pair the controller to the computer. When running in an SDEV or EDEV environment, pair the controller to the SDEV or EDEV ahead of time. One set of controllers must be connected wirelessly.</p>
<h1><a class="anchor" id="PageSampleHidVibrationGenerator_SectionHowToOperate"></a>
How to Use</h1>
<p>Run the sample program and press any of the controller buttons. After the Bluetooth connection is made, the LED on the controller stops flashing and remains lit.</p>
<p>Press the B Button. The gyro-pointer appears in the center of the screen. Operate the gyro-pointer, the red +, to touch the group of blue lines on the right side of the screen. The controllers vibrate when the pointer touches the lines. Touch multiple lines at the same time to overlap and intensify the vibrations.</p>
<p>Several presets are available for vibration waveforms. Switch between the presets by pressing the L and R Buttons. Changing the presets vastly changes the vibration waveform parameters to change the sensation when touching. The preset parameters can also be fine-tuned, using the R Stick and the directional buttons.</p>
<p>The following operations are possible, using the different buttons.</p><ul>
<li>A Button: Play the vibration.</li>
<li>B Button: Reset the gyro-button position, moving the pointer to the center of the screen.</li>
<li>X Button: Initialize the vibration waveform parameter.</li>
<li>Y Button: Enable an overlay display of the vibration waveform actually occurring.</li>
<li>L Button: Change the vibration waveform parameters to the next preset.</li>
<li>R Button: Change the vibration waveform parameters to the previous preset.</li>
<li>+ Button: Export the vibration waveform as a vibration file.</li>
<li>R Stick: Move in any direction to select a different parameter.</li>
<li>L Stick: Move up and down to change parameter values. Move left and right to select a different parameter.</li>
<li>Directional Buttons: Move up and down to change parameter values. Move left and right to select a different parameter.</li>
</ul>
<p>Main configurable parameters:</p><ul>
<li>The amplitude of the waveform</li>
<li>Attenuation pattern of the waveform amplitude</li>
<li>The length of the waveform</li>
<li>Waveform frequency (two points, the start and end)</li>
<li>Waveform frequency modulation pattern.</li>
</ul>
<p>To end the sample program, press the + Button and the - Button at the same time.</p>
<h1><a class="anchor" id="PageSampleHidVibrationGenerator_SectionPrecaution"></a>
Important Information</h1>
<p>Make sure that the controller is sufficiently charged before using it.</p>
<p><b>About Exporting Files</b> By default, vibration files are exported to "c:\HidVibrationGenerator" on the host PC. Make sure you are connected to and using a host PC when exporting these files. If you want to change where the files are saved, revise <code>VibrationFile.cpp</code>. In addition to saving to a host PC, you can also save to an SD card.</p>
<h1><a class="anchor" id="PageSampleHidVibrationGenerator_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>Build the sample program and then run it. Run in either TV mode or tabletop mode for the SDEV and EDEV environments. Connect one set of controllers wirelessly.</p>
<h1><a class="anchor" id="PageSampleHidVibrationGenerator_SectionDetail"></a>
Description</h1>
<p>This sample program has the following flow.</p><ul>
<li>Parameters are configured to <code>DumpedVibrationGenerator</code>.</li>
<li>An active controller is identified.</li>
<li>Connect to <code><a class="el" href="classnn_1_1hid_1_1_vibration_target.html" title="The vibration node that functions as the recipient of vibration values.">nn::hid::VibrationTarget</a></code> for the active controller after mixing, using <code><a class="el" href="classnn_1_1hid_1_1_vibration_mixer.html" title="The vibration node that provides the features of a mixer for mixing vibration values.">nn::hid::VibrationMixer</a></code> and multiple instances of <code>DumpedVibrationGenerator</code>.</li>
<li>Perform hit detection for the gyro-pointer against the blue lines.</li>
<li>Run <code>DumpedVibrationGenerator::Play()</code> when a line is hit.</li>
<li>In a separate thread, update <code><a class="el" href="classnn_1_1hid_1_1_vibration_node.html" title="The base class for the vibration node.">nn::hid::VibrationNode</a></code> at an interval of <code><a class="el" href="classnn_1_1hid_1_1_vibration_node.html#a86dbfc4b0d07247170570f9cf8d2456a" title="The default interval for updating the vibration values.">nn::hid::VibrationNode::DefaultVibrationSampleInterval</a></code>, sending vibration values to the vibration motor.</li>
<li>Vibrate the active controller. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
