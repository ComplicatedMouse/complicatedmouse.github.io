<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nn::image::PngDecoder Class Reference | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenn.html">nn</a></li><li class="navelem"><a class="el" href="namespacenn_1_1image.html">image</a></li><li class="navelem"><a class="el" href="classnn_1_1image_1_1_png_decoder.html">PngDecoder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classnn_1_1image_1_1_png_decoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nn::image::PngDecoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The class that performs the process of decoding PNG data.  
 <a href="classnn_1_1image_1_1_png_decoder.html#details">More...</a></p>

<p><code>#include &lt;nn/image/image_PngDecoder.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a82246f9c276a9135f8c4fb71dcca0c22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a82246f9c276a9135f8c4fb71dcca0c22">PngDecoder</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a82246f9c276a9135f8c4fb71dcca0c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an instance of the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> class.  <a href="classnn_1_1image_1_1_png_decoder.html#a82246f9c276a9135f8c4fb71dcca0c22">More...</a><br /></td></tr>
<tr class="separator:a82246f9c276a9135f8c4fb71dcca0c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f65ba49adf23d0ec3764e080f5d0610"><td class="memItemLeft" align="right" valign="top"><a id="a4f65ba49adf23d0ec3764e080f5d0610"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a4f65ba49adf23d0ec3764e080f5d0610">~PngDecoder</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a4f65ba49adf23d0ec3764e080f5d0610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an instance of the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> class. <br /></td></tr>
<tr class="separator:a4f65ba49adf23d0ec3764e080f5d0610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40eaefd98b2f0e42ce8ca231c26f12fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacenn_1_1image.html#adfbac01a9ae21ebeb82c0ab53878c0da">PngStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe">Analyze</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a40eaefd98b2f0e42ce8ca231c26f12fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyzes the specified PNG data based on the output pixel format and the transparent color information (the <code>tRNS</code> chunk).  <a href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe">More...</a><br /></td></tr>
<tr class="separator:a40eaefd98b2f0e42ce8ca231c26f12fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc33e2b0d7a478aaf5fd667844715765"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacenn_1_1image.html#adfbac01a9ae21ebeb82c0ab53878c0da">PngStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#adc33e2b0d7a478aaf5fd667844715765">Decode</a> (void *outPixelBuf, size_t outPixelBufSize, size_t rowStride) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:adc33e2b0d7a478aaf5fd667844715765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes PNG data and writes the pixel data to the specified output buffer.  <a href="classnn_1_1image_1_1_png_decoder.html#adc33e2b0d7a478aaf5fd667844715765">More...</a><br /></td></tr>
<tr class="separator:adc33e2b0d7a478aaf5fd667844715765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a939cc1fc30c0424a080b12393f38d861"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnn_1_1image_1_1_dimension.html">Dimension</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a939cc1fc30c0424a080b12393f38d861">GetDimension</a> () const <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a939cc1fc30c0424a080b12393f38d861"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of the decoded pixel data.  <a href="classnn_1_1image_1_1_png_decoder.html#a939cc1fc30c0424a080b12393f38d861">More...</a><br /></td></tr>
<tr class="separator:a939cc1fc30c0424a080b12393f38d861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94003ffffa7ca48955747dca1902f3e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538">PixelFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a94003ffffa7ca48955747dca1902f3e5">GetOutputPixelFormat</a> () const <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a94003ffffa7ca48955747dca1902f3e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the output pixel format.  <a href="classnn_1_1image_1_1_png_decoder.html#a94003ffffa7ca48955747dca1902f3e5">More...</a><br /></td></tr>
<tr class="separator:a94003ffffa7ca48955747dca1902f3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953c857dad0d83fbd2bf916dd2a5a4b0"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a953c857dad0d83fbd2bf916dd2a5a4b0">GetRowStrideMin</a> () const <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a953c857dad0d83fbd2bf916dd2a5a4b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the minimal stride required for storing each row of decoded pixel data, in bytes.  <a href="classnn_1_1image_1_1_png_decoder.html#a953c857dad0d83fbd2bf916dd2a5a4b0">More...</a><br /></td></tr>
<tr class="separator:a953c857dad0d83fbd2bf916dd2a5a4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e8eb43cb3f87a53fadb5dc89dc64dd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a2e8eb43cb3f87a53fadb5dc89dc64dd5">Initialize</a> (<a class="el" href="namespacenn.html#a0b5d84dd2e42206e37d2d3e91f30374b">AllocateFunctionWithUserData</a> allocateFunc, void *pAllocateUserData, <a class="el" href="namespacenn.html#a9c05223640cf2ae6ae784e94a1de0929">FreeFunctionWithUserData</a> freeFunc, void *pFreeUserData) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a2e8eb43cb3f87a53fadb5dc89dc64dd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object.  <a href="classnn_1_1image_1_1_png_decoder.html#a2e8eb43cb3f87a53fadb5dc89dc64dd5">More...</a><br /></td></tr>
<tr class="separator:a2e8eb43cb3f87a53fadb5dc89dc64dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52e6331117b81310c163bd5035e2d5bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a52e6331117b81310c163bd5035e2d5bf">SetImageData</a> (const void *pngData, size_t pngSize) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a52e6331117b81310c163bd5035e2d5bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the PNG data to decode.  <a href="classnn_1_1image_1_1_png_decoder.html#a52e6331117b81310c163bd5035e2d5bf">More...</a><br /></td></tr>
<tr class="separator:a52e6331117b81310c163bd5035e2d5bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3510ca0c01b8ec2bf0a55782e18cae67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a3510ca0c01b8ec2bf0a55782e18cae67">SetOutputPixelFormat</a> (<a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538">PixelFormat</a> pixelFormat) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a3510ca0c01b8ec2bf0a55782e18cae67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the pixel format for the pixel data after it has been decoded.  <a href="classnn_1_1image_1_1_png_decoder.html#a3510ca0c01b8ec2bf0a55782e18cae67">More...</a><br /></td></tr>
<tr class="separator:a3510ca0c01b8ec2bf0a55782e18cae67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The class that performs the process of decoding PNG data. </p>
<p> <b>Details</b> <br  />
 Decodes the specified PNG data and generates pixel data. By specifying a pixel format for the output, you can convert the input PNG data to a different pixel format for output.</p>
<h3><a class="anchor" id="autotoc_md199"></a>
Pixel Format After Decoding</h3>
<p>Use the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a94003ffffa7ca48955747dca1902f3e5" title="Gets the output pixel format.">GetOutputPixelFormat()</a></code> function to check the format of the pixel data generated by <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code>.</p>
<p>The format of the resulting pixel data is determined by the pixel format of the PNG data and the transparent color information (the tRNS chunk).</p>
<p>If There Is No Transparent Color Information</p><ul>
<li>If the pixel format of the PNG data is grayscale or RGB (with or without an alpha channel), the pixel data is generated in the pixel format stored in the PNG data.</li>
<li>If the pixel format of the PNG data is palette color, the pixel data is generated in 8-bit RGB format.</li>
</ul>
<p>If There Is Transparent Color Information</p><ul>
<li>If the pixel format of the PNG data is grayscale or RGB, the pixel data is generated in the pixel format stored in the PNG data with an added alpha channel.</li>
<li>If the pixel format of the PNG data is palette color, the pixel data is generated in 8-bit RGBA format.</li>
<li>If the bit depth of the pixel format of the PNG data is less than 8 bits, the bit depth is expanded to 8 bits.</li>
<li>The value of the added alpha channel is calculated based on the transparent color information.</li>
</ul>
<h3><a class="anchor" id="autotoc_md200"></a>
Converting the Output Pixel Format</h3>
<p>You can generate the pixel data in a pixel format that is different from the format of the input PNG data. Use the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a3510ca0c01b8ec2bf0a55782e18cae67" title="Sets the pixel format for the pixel data after it has been decoded.">SetOutputPixelFormat()</a></code> function to specify the pixel format to always use when generating the pixel data.</p>
<p>You can specify any of the following pixel formats.</p><ul>
<li><code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538aa6774d7fcd0f3d25e02e5076c4d7bff9" title="8-bit grayscale pixel data.">nn::image::PixelFormat_Gray8</a></code></li>
<li><code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538a4c83fe91b1fd52a02b2938f59f0fdbd0" title="16-bit grayscale pixel data.">nn::image::PixelFormat_Gray16</a></code></li>
<li><code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538a292f1b4659241abe2f5cae7c0f89d9bd" title="16-bit pixel data, including an 8-bit grayscale and 8-bit alpha channel.">nn::image::PixelFormat_GrayAlpha16</a></code></li>
<li><code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538a935c45ae693922f407c0ca2c1b94d451" title="32-bit pixel data, including a 16-bit grayscale and 16-bit alpha channel.">nn::image::PixelFormat_GrayAlpha32</a></code></li>
<li><code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538a30442c9dcc888ff838dd5426ccf12b75" title="24-bit RGB pixel data, with each component 8 bits.">nn::image::PixelFormat_Rgb24</a></code></li>
<li><code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538a6e4b1cadc78de47b90e697181b9f25ba" title="48-bit RGB pixel data, with each component 16 bits.">nn::image::PixelFormat_Rgb48</a></code></li>
<li><code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538adcdac821d57672348c872847cf2b812c" title="32-bit RGBA pixel data, with each component 8 bits.">nn::image::PixelFormat_Rgba32</a></code></li>
<li><code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538aa46cfbc6258a38c3d7152c50fbb99c69" title="64-bit RGBA pixel data, with each component 16 bits.">nn::image::PixelFormat_Rgba64</a></code></li>
</ul>
<p>Note that if you convert the pixel format, the coloring in the image might change.</p><ul>
<li>When a grayscale image is converted to a color image, the grayscale values are written to each RGB channel.</li>
<li>When a color image is converted to a grayscale image, the resulting grayscale values (Gray) are calculated using the following formula: Gray = (6968 * R + 23434 * G + 2366 * B) / 32768.</li>
<li>When PNG data with no alpha channel or transparent color information is generated in a pixel format that has an alpha channel, the added alpha channel is fixed to a specific value (<code>255</code> if the bit depth is 8 bits, and <code>65535</code> if it is 16 bits).</li>
<li>When PNG data with an alpha channel or transparent color information is generated in a pixel format that does not have an alpha channel, the alpha channel and transparent color information is ignored.</li>
<li>If you increase the bit depth, the coloring does not change. However, if you decrease the bit depth, the coloring might change due to a loss of precision.</li>
</ul>
<h3><a class="anchor" id="autotoc_md201"></a>
Ancillary Chunks</h3>
<p>The only ancillary chunk that <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> supports is the <code>tRNS</code> chunk, which stores transparent color information. It cannot analyze or process any other ancillary chunks. Even if the PNG data contains other ancillary chunks (such as <code>iCCP</code> or <code>gAMA</code>), this data does not change the resulting pixel data.</p>
<h3><a class="anchor" id="autotoc_md202"></a>
Object States</h3>
<p>The <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object can take the following five states.</p><ul>
<li><b>Uninitialized Decoder</b><ul>
<li>The <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object is not initialized.</li>
</ul>
</li>
<li><b>Initialized Decoder</b><ul>
<li>The <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object is initialized, but no PNG data has been registered to the object.</li>
</ul>
</li>
<li><b>Registered PNG Data</b><ul>
<li>PNG data has been set to the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object, but the PNG data has not been analyzed.</li>
</ul>
</li>
<li><b>Analyzed PNG Data</b><ul>
<li>The PNG data set to the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object has been analyzed.</li>
</ul>
</li>
<li><b>Decoded PNG Data</b><ul>
<li>The PNG data set to the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object is finished being decoded.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md203"></a>
Parallel Processing</h3>
<p>Multiple <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> class objects can be created to decode multiple sets of PNG data in parallel. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_image_png_decoding_2_image_png_decoding_8cpp-example.html#_a7">ImagePngDecoding/ImagePngDecoding.cpp</a>.</dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a82246f9c276a9135f8c4fb71dcca0c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82246f9c276a9135f8c4fb71dcca0c22">&#9670;&nbsp;</a></span>PngDecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nn::image::PngDecoder::PngDecoder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an instance of the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> class. </p>
<dl class="section post"><dt>Postcondition</dt><dd>The internal state of this created object is <b>Uninitialized Decoder</b>. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2e8eb43cb3f87a53fadb5dc89dc64dd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e8eb43cb3f87a53fadb5dc89dc64dd5">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::image::PngDecoder::Initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacenn.html#a0b5d84dd2e42206e37d2d3e91f30374b">AllocateFunctionWithUserData</a>&#160;</td>
          <td class="paramname"><em>allocateFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pAllocateUserData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacenn.html#a9c05223640cf2ae6ae784e94a1de0929">FreeFunctionWithUserData</a>&#160;</td>
          <td class="paramname"><em>freeFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pFreeUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">allocateFunc</td><td>The callback function for memory allocation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pAllocateUserData</td><td>The pointer to the user-defined data to pass to the callback function for memory allocation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">freeFunc</td><td>The callback function for memory deallocation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pFreeUserData</td><td>The pointer to the user-defined data to pass to the callback function for memory deallocation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd>The state of the object becomes <b>Initialized Decoder</b> and the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a52e6331117b81310c163bd5035e2d5bf" title="Registers the PNG data to decode.">SetImageData()</a></code> function can be called.</dd></dl>
<p> <b>Details</b> <br  />
 Initializes the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object. The specified functions for memory allocation and deallocation are used when data is decoded. If multiple <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> objects are created to decode data in parallel, the functions for memory allocation and deallocation must be thread-safe. The memory returned by <code><em>allocateFunc</em></code> must have the same alignment as the platform standard <code>malloc</code> function.</p><ul>
<li>In the Win64 environment, it must be aligned to 16 bytes.</li>
<li>In non-Win64 environments, it must be aligned to <code>alignof(std::max_align_t)</code>.</li>
<li>The behavior is undefined if <code><em>allocateFunc</em></code> returns memory that does not comply with these alignment restrictions. </li>
</ul>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_image_png_decoding_2_image_png_decoding_8cpp-example.html#a8">ImagePngDecoding/ImagePngDecoding.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="a52e6331117b81310c163bd5035e2d5bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52e6331117b81310c163bd5035e2d5bf">&#9670;&nbsp;</a></span>SetImageData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::image::PngDecoder::SetImageData </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>pngData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pngSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers the PNG data to decode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pngData</td><td>Pointer to the PNG data that is the target of decoding. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pngSize</td><td>The byte size of <code><em>pngData</em></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The state of the object must not be <b>Uninitialized Decoder</b>.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The state of the object becomes <b>Registered PNG Data</b> and the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe" title="Analyzes the specified PNG data based on the output pixel format and the transparent color informatio...">Analyze()</a></code> function can be called.</dd></dl>
<p> <b>Details</b> <br  />
 Specifies the PNG data that is the target of decoding. The specified PNG data is referenced by the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe" title="Analyzes the specified PNG data based on the output pixel format and the transparent color informatio...">Analyze()</a></code> and <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#adc33e2b0d7a478aaf5fd667844715765" title="Decodes PNG data and writes the pixel data to the specified output buffer.">Decode()</a></code> functions. Note that the behavior of these functions is affected by external changes to this PNG data. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_image_png_decoding_2_image_png_decoding_8cpp-example.html#a9">ImagePngDecoding/ImagePngDecoding.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="a3510ca0c01b8ec2bf0a55782e18cae67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3510ca0c01b8ec2bf0a55782e18cae67">&#9670;&nbsp;</a></span>SetOutputPixelFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::image::PngDecoder::SetOutputPixelFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538">PixelFormat</a>&#160;</td>
          <td class="paramname"><em>pixelFormat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the pixel format for the pixel data after it has been decoded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pixelFormat</td><td>The pixel format for the decoded pixel data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>All of the following conditions must be satisfied.<ul>
<li>The state is not <b>Uninitialized Decoder</b>.</li>
<li><code><em>pixelFormat</em></code> is defined in the <code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538" title="Enumeration representing the pixel format of the image data.">nn::image::PixelFormat</a></code> enumerator.</li>
<li><code><em>pixelFormat</em></code> is not a format that uses palette color.</li>
<li>The bit depth of <code><em>pixelFormat</em></code> is either 8 bits or 16 bits.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The pixel format for the decoded pixel data has been set. If PNG data has not been registered, the state is <b>Initialized Decoder</b>. If PNG data has already been registered, the state is <b>Registered PNG Data</b>.</dd></dl>
<p> <b>Details</b> <br  />
 The function specifies the pixel format for the pixel data generated by the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#adc33e2b0d7a478aaf5fd667844715765" title="Decodes PNG data and writes the pixel data to the specified output buffer.">Decode()</a></code> function. If this function is not called, the default is <code><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538add520edf1121cccaf6b2704ba7a70a35" title="Unspecified pixel format.">nn::image::PixelFormat_None</a></code> and the pixel format is determined by calling the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe" title="Analyzes the specified PNG data based on the output pixel format and the transparent color informatio...">Analyze()</a></code> function based on the pixel format and the transparent color information (the <code>tRNS</code> chunk) of the specified PNG data. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_image_png_decoding_2_image_png_decoding_8cpp-example.html#a10">ImagePngDecoding/ImagePngDecoding.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="a40eaefd98b2f0e42ce8ca231c26f12fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40eaefd98b2f0e42ce8ca231c26f12fe">&#9670;&nbsp;</a></span>Analyze()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacenn_1_1image.html#adfbac01a9ae21ebeb82c0ab53878c0da">PngStatus</a> nn::image::PngDecoder::Analyze </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Analyzes the specified PNG data based on the output pixel format and the transparent color information (the <code>tRNS</code> chunk). </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the execution result. <br  />
 </dd></dl>
<dl class="retval"><dt><b><a class="el" href="retval.html#_retval000010">Return Values:</a></b></dt><dd><p class="startdd"><b><a class="el" href="namespacenn_1_1image.html#adfbac01a9ae21ebeb82c0ab53878c0daa48908c0f803551f6722e4baa486e1927" title="Success.">nn::image::PngStatus_Ok</a></b> Indicates that the process ended normally. <br  />
 </p>
<p class="enddd"><b><a class="el" href="namespacenn_1_1image.html#adfbac01a9ae21ebeb82c0ab53878c0daacd4cc199736bbea6dda778e6a86ad0ff" title="Internal error.">nn::image::PngStatus_InternalError</a></b> An internal error occurred.</p>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The state must be <b>Registered PNG Data</b>.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>If <code>PngStatus_Ok</code> is returned, the state becomes <b>Analyzed PNG Data</b>. If any other value is returned, the internal state does not change. If <code>PngStatus_InternalError</code> is returned, an internal error occurred. If <code>PngStatus_OutOfMemory</code> is returned, there is not enough memory for the allocator to use.</dd></dl>
<p> <b>Details</b> <br  />
 Analyzes the specified PNG data based on the format of the resulting pixel data. If the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a3510ca0c01b8ec2bf0a55782e18cae67" title="Sets the pixel format for the pixel data after it has been decoded.">SetOutputPixelFormat()</a></code> function is not called, the output pixel format is determined based on the pixel format and the transparent color information of the PNG data. You can use the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a94003ffffa7ca48955747dca1902f3e5" title="Gets the output pixel format.">GetOutputPixelFormat()</a></code> function after running <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe" title="Analyzes the specified PNG data based on the output pixel format and the transparent color informatio...">Analyze()</a></code> to check the format used to generate the pixel data. If an internal error has occurred, you can check the details of the error in the log. If the error occurred because of incorrect PNG data or parameters, you can call <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe" title="Analyzes the specified PNG data based on the output pixel format and the transparent color informatio...">Analyze()</a></code> again using the correctly entered data. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_image_png_decoding_2_image_png_decoding_8cpp-example.html#a12">ImagePngDecoding/ImagePngDecoding.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="a94003ffffa7ca48955747dca1902f3e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94003ffffa7ca48955747dca1902f3e5">&#9670;&nbsp;</a></span>GetOutputPixelFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538">PixelFormat</a> nn::image::PngDecoder::GetOutputPixelFormat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the output pixel format. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the pixel format for the pixel data.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The state must be <b>Analyzed PNG Data</b>.</dd></dl>
<p> <b>Details</b> <br  />
 Gets the output pixel format that was specified by the user or determined by the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe" title="Analyzes the specified PNG data based on the output pixel format and the transparent color informatio...">Analyze()</a></code> function. </p>

</div>
</div>
<a id="a939cc1fc30c0424a080b12393f38d861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a939cc1fc30c0424a080b12393f38d861">&#9670;&nbsp;</a></span>GetDimension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnn_1_1image_1_1_dimension.html">Dimension</a> nn::image::PngDecoder::GetDimension </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the size of the decoded pixel data. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the size (width and height) of the image.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The state must be <b>Analyzed PNG Data</b>.</dd></dl>
<p> <b>Details</b> <br  />
 Gets the dimensions of the pixel data that is obtained from the decoding process, in pixels. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_image_png_decoding_2_image_png_decoding_8cpp-example.html#a18">ImagePngDecoding/ImagePngDecoding.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="a953c857dad0d83fbd2bf916dd2a5a4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953c857dad0d83fbd2bf916dd2a5a4b0">&#9670;&nbsp;</a></span>GetRowStrideMin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t nn::image::PngDecoder::GetRowStrideMin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the minimal stride required for storing each row of decoded pixel data, in bytes. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the minimal stride required for storing one row of pixel data.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The state must be <b>Analyzed PNG Data</b>.</dd></dl>
<p> <b>Details</b> <br  />
 Gets the minimal per-row stride required for storing the output pixel data that has been decoded, in bytes. Values under 1 byte are rounded up. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_image_png_decoding_2_image_png_decoding_8cpp-example.html#a19">ImagePngDecoding/ImagePngDecoding.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="adc33e2b0d7a478aaf5fd667844715765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc33e2b0d7a478aaf5fd667844715765">&#9670;&nbsp;</a></span>Decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacenn_1_1image.html#adfbac01a9ae21ebeb82c0ab53878c0da">PngStatus</a> nn::image::PngDecoder::Decode </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>outPixelBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outPixelBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rowStride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes PNG data and writes the pixel data to the specified output buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">outPixelBuf</td><td>Pointer to the buffer for storing the output pixel data. The data is generated in the pixel format specified by the user or calculated by the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe" title="Analyzes the specified PNG data based on the output pixel format and the transparent color informatio...">Analyze()</a></code> function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outPixelBufSize</td><td>The byte size of the buffer indicated by <code><em>outPixelBuf</em></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rowStride</td><td>The per-row stride for <code><em>outPixelBuf</em></code>, in bytes. When the data is decoded, nothing gets written to the padding region. For example, you would specify <code>130</code> to generate an image with 128 bytes per row to a buffer with a per-row width of 130 bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the execution result. <br  />
 </dd></dl>
<dl class="retval"><dt><b><a class="el" href="retval.html#_retval000011">Return Values:</a></b></dt><dd><p class="startdd"><b><a class="el" href="namespacenn_1_1image.html#adfbac01a9ae21ebeb82c0ab53878c0daa48908c0f803551f6722e4baa486e1927" title="Success.">nn::image::PngStatus_Ok</a></b> Indicates that the process ended normally. <br  />
 </p>
<p class="enddd"><b><a class="el" href="namespacenn_1_1image.html#adfbac01a9ae21ebeb82c0ab53878c0daacd4cc199736bbea6dda778e6a86ad0ff" title="Internal error.">nn::image::PngStatus_InternalError</a></b> An internal error occurred.</p>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>All of the following conditions must be satisfied.<ul>
<li>The state is <b>Analyzed PNG Data</b>.</li>
<li><code><em>rowStride</em></code> is equal to or greater than the required per-row byte size obtained by the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a953c857dad0d83fbd2bf916dd2a5a4b0" title="Gets the minimal stride required for storing each row of decoded pixel data, in bytes.">GetRowStrideMin()</a></code> function.</li>
<li><code><em>outPixelBuf</em></code> is equal to or greater than the product of (per-row stride) × (image height).</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The state becomes <b>Decoded PNG Data</b>. If <code>PngStatus_Ok</code> is returned, decoding was successful and the decoded pixel data was written to <code><em>outPixelBuf</em></code>. If any other value is returned, it means that decoding has failed. If <code>PngStatus_InternalError</code> is returned, an internal error occurred. If <code>PngStatus_OutOfMemory</code> is returned, there is not enough memory for the allocator to use.</dd></dl>
<p> <b>Details</b> <br  />
 Decodes the specified PNG data to the specified output pixel format. If decoding is successful, you can repeatedly use the <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html" title="The class that performs the process of decoding PNG data.">PngDecoder</a></code> object without destroying it. If decoding fails, you can check the log for details about the error. If the error occurred because of incorrect PNG data or parameters, you can start again from the call to <code><a class="el" href="classnn_1_1image_1_1_png_decoder.html#a40eaefd98b2f0e42ce8ca231c26f12fe" title="Analyzes the specified PNG data based on the output pixel format and the transparent color informatio...">Analyze()</a></code> using the correctly set data. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_image_png_decoding_2_image_png_decoding_8cpp-example.html#a20">ImagePngDecoding/ImagePngDecoding.cpp</a>.</dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
