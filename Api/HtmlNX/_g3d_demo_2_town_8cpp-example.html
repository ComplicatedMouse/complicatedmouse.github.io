<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>G3dDemo/Town.cpp | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">G3dDemo/Town.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>For an explanation of the source code, see <a class="el" href="_page_sample_g3d_town.html">G3dDemo Town Sample</a> and <tt>G3dDemo/Town.cpp</tt>.</p>
<div class="fragment"><div class="line"><span class="comment">/*--------------------------------------------------------------------------------*</span></div>
<div class="line"><span class="comment">  Copyright Nintendo.  All rights reserved.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  These coded instructions, statements, and computer programs contain proprietary</span></div>
<div class="line"><span class="comment">  information of Nintendo and/or its licensed developers and are protected by</span></div>
<div class="line"><span class="comment">  national and international copyright laws. They may not be disclosed to third</span></div>
<div class="line"><span class="comment">  parties or copied or duplicated in any form, in whole or in part, without the</span></div>
<div class="line"><span class="comment">  prior written consent of Nintendo.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  The content herein is highly confidential and should be handled accordingly.</span></div>
<div class="line"><span class="comment"> *--------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="preprocessor">#include &quot;g3ddemo_ViewerUtility.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;TextureAverageShader.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;OverdrawVisualizeShader.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;Town.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="g3d___viewer_8h.html">nn/g3d/g3d_Viewer.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cfloat&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;nns/dbgui/dbgui_Interface.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;imgui.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if NN_BUILD_TARGET_PLATFORM_OS_NN</span></div>
<div class="line"><span class="preprocessor">#include &lt;nn/oe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if NN_GFX_IS_TARGET_GL</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gll_8h.html">nn/gll.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>g3ddemo = nn::g3d::demo;</div>
<div class="line"> </div>
<div class="line">g3ddemo::ResourceHolder         g_Holder;</div>
<div class="line"> </div>
<div class="line"><a name="_a0"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html">nns::g3d::RenderView</a>            g_RenderView;</div>
<div class="line"><a name="_a1"></a><a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a>          g_CameraPosition;</div>
<div class="line"><a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a>          g_CameraTarget;</div>
<div class="line"> </div>
<div class="line">TownViewer                      g_TownViewer;</div>
<div class="line"><a name="_a2"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html">nn::g3d::ResShaderArchive</a>*      g_pTownShaderArchive = <span class="keyword">nullptr</span>;</div>
<div class="line"><a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html">nn::g3d::ResShaderArchive</a>*      g_pTownDemoShaderArchive = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="_a3"></a><a class="code" href="classnn_1_1g3d_1_1_res_shading_model.html">nn::g3d::ResShadingModel</a>*       g_pResShadingModelPtr[ShadingModelType_Count];</div>
<div class="line"> </div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">int</span>                      g_SelectedModelIndex;</div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">int</span>                      g_SelectedShapeIndex;</div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">int</span>                      g_SelectedSubmeshIndex;</div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">int</span>                      g_SelectedViewType;</div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">int</span>                      g_SelectedFrameBufferType;</div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">int</span>                      g_SelectedDebugDrawType;</div>
<div class="line"><span class="keyword">extern</span> MenuFlagSet              g_MenuFlag;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>{</div>
<div class="line"> </div>
<div class="line"><a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a>          g_CameraUp;</div>
<div class="line"><a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a>          g_LightPosition;</div>
<div class="line"> </div>
<div class="line">TownContext                     g_Context;</div>
<div class="line">DebugDrawModeContext            g_DebugDrawModeContext;</div>
<div class="line">TextureAverageShader            g_TextureAverageShader;</div>
<div class="line">OverdrawVisualizeShader         g_OverdrawVisualizeShader;</div>
<div class="line">TownPointLight                  g_PointLight;</div>
<div class="line">g3ddemo::BoundingRenderer       g_BoundingRenderer;</div>
<div class="line"><a name="_a4"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html">nn::g3d::ModelObj</a>*              g_pEnvModelObj = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line"><a name="_a5"></a><a class="code" href="classnns_1_1gfx_1_1_depth_stencil_buffer.html">nns::gfx::DepthStencilBuffer</a>    g_DepthBufferShadow;</div>
<div class="line"><a name="_a6"></a><a class="code" href="classnns_1_1gfx_1_1_frame_buffer.html">nns::gfx::FrameBuffer</a>           g_FrameBuffer[FrameBufferType_Count];</div>
<div class="line"><a name="_a7"></a><a class="code" href="classnns_1_1gfx_1_1_color_buffer.html">nns::gfx::ColorBuffer</a>           g_ColorBuffer;</div>
<div class="line"><a class="code" href="classnns_1_1gfx_1_1_color_buffer.html">nns::gfx::ColorBuffer</a>           g_OverdrawMeasuringBuffer;</div>
<div class="line"><a name="_a8"></a><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>         g_WaterDescriptorSlot;</div>
<div class="line"><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>         g_DepthDescriptorSlot;</div>
<div class="line"><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>         g_GeometryColorDescriptorSlot;</div>
<div class="line"><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>         g_GeometryDepthDescriptorSlot;</div>
<div class="line"><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>         g_LightDescriptorSlot;</div>
<div class="line"><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>         g_ColorDescriptorSlot;</div>
<div class="line"><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>         g_OverdrawDescriptorSlot;</div>
<div class="line"><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>         g_OverdrawMeasuringDescriptorSlot;</div>
<div class="line"><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>         g_DebugFrameBufferSamplerDescriptorSlot;</div>
<div class="line"> </div>
<div class="line">CalculateLod                    g_CalculateLodDefault;</div>
<div class="line">CalculateLod                    g_CalculateLodWater;</div>
<div class="line"> </div>
<div class="line">ViewVolumeRenderer              g_ViewVolumeRenderer;</div>
<div class="line"><a name="_a9"></a><a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a>        g_InvViewProjectionMatrix;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span>                             g_FrameCount = 0;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span>                       g_BufferingCount = 2;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Shading model name not specific to a model and stored archive name.</span></div>
<div class="line"><span class="keyword">struct </span>ShaderName</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* shaderArchiveName;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* shadingModelName;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> ShaderName g_ShaderNameArray[ShadingModelType_Count] = {</div>
<div class="line">    { <span class="stringliteral">&quot;tex_average&quot;</span>, <span class="stringliteral">&quot;tex_average&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;town&quot;</span>, <span class="stringliteral">&quot;town_light&quot;</span> }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Submesh LOD calculation.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> g_MaxLodLevel = 8;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> File</div>
<div class="line">{</div>
<div class="line">    File_TownEnv = 0,</div>
<div class="line">    File_WhiteTownWaterCaustics,</div>
<div class="line">    File_WhiteTownWaterFlat,</div>
<div class="line">    File_BgWhiteTown,</div>
<div class="line">    File_Duck,</div>
<div class="line">    File_FemaleA,</div>
<div class="line">    File_Fish,</div>
<div class="line">    File_MaleA,</div>
<div class="line">    File_Light,</div>
<div class="line">    File_Count</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define RESOURCE_PATH &quot;Resource:/&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* BfshaPath[] = {</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;shader/demo_branch.bfsha&quot;</span>,  <span class="comment">// For 3DEditor</span></div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;shader/town.bfsha&quot;</span>,  <span class="comment">// For 3DEditor</span></div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;shader/tex_average.bfsha&quot;</span>,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* BfresPath[] = {</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;town_env.bfres&quot;</span>,</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;WhiteTown_Water_Caustics.bfres&quot;</span>,</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;WhiteTown_Water_Flat.bfres&quot;</span>,</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;bg_WhiteTown.bfres&quot;</span>,</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;Duck.bfres&quot;</span>,</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;FemaleA.bfres&quot;</span>,</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;Fish.bfres&quot;</span>,</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;MaleA.bfres&quot;</span>,</div>
<div class="line">    RESOURCE_PATH <span class="stringliteral">&quot;Light.bfres&quot;</span>,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// The structure for performance measurement section configuration.</span></div>
<div class="line"><span class="keyword">struct </span>MeasureInfo</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>*         name;</div>
<div class="line">    <a name="_a10"></a><a class="code" href="classnn_1_1util_1_1_color4u8.html">nn::util::Color4u8</a>  color;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SECTION_NAME_STRING(sectionName) static_cast&lt;const char*&gt;(&amp;(#sectionName)[NN_ARRAY_SIZE(&quot;SectionType_&quot;</span>) - 1])</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> MeasureInfo g_MeasureInfoArray[] = {</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Clear),       <a name="a11"></a><a class="code" href="classnn_1_1util_1_1_color4u8.html#a491184555fc9bbc5a4020fa8d37c70ac">nn::util::Color4u8::Black</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Shadow),      <a name="a12"></a><a class="code" href="classnn_1_1util_1_1_color4u8.html#a74cab22bd85f0940aec269c535ee5b54">nn::util::Color4u8::Red</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Water),       <a name="a13"></a><a class="code" href="classnn_1_1util_1_1_color4u8.html#a5ad1502b37a61d84307433906727813c">nn::util::Color4u8::Blue</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_ZPrePass),    <a class="code" href="classnn_1_1util_1_1_color4u8.html#a74cab22bd85f0940aec269c535ee5b54">nn::util::Color4u8::Red</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Geometry),    <a name="a14"></a><a class="code" href="classnn_1_1util_1_1_color4u8.html#a60d33066a521b0728f8660d12e010d8c">nn::util::Color4u8::Green</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Light),       <a name="a15"></a><a class="code" href="classnn_1_1util_1_1_color4u8.html#a9d134cd2f801f8f6045e48c8af2eab3d">nn::util::Color4u8::Yellow</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Opaque),      <a class="code" href="classnn_1_1util_1_1_color4u8.html">nn::util::Color4u8</a>(255, 0, 200) },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Copy),        <a name="a16"></a><a class="code" href="classnn_1_1util_1_1_color4u8.html#a07833fdd4841fb2351cf085f336834c8">nn::util::Color4u8::White</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Translucent), <a class="code" href="classnn_1_1util_1_1_color4u8.html#a5ad1502b37a61d84307433906727813c">nn::util::Color4u8::Blue</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Menu),        <a name="a17"></a><a class="code" href="classnn_1_1util_1_1_color4u8.html#a7c997c375202d7cf5c0643d4c6f47a20">nn::util::Color4u8::Cyan</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Average),     <a class="code" href="classnn_1_1util_1_1_color4u8.html#a74cab22bd85f0940aec269c535ee5b54">nn::util::Color4u8::Red</a>() },</div>
<div class="line">    { SECTION_NAME_STRING(SectionType_Visualize),   <a class="code" href="classnn_1_1util_1_1_color4u8.html">nn::util::Color4u8</a>(255, 128, 0) }</div>
<div class="line">};</div>
<div class="line"><a name="a18"></a><a class="code" href="nn___macro_8h.html#a1035ab876d08f7beb687ce9c8bbcf4ac">NN_STATIC_ASSERT</a>(<a name="a19"></a><a class="code" href="nn___macro_8h.html#acd3a418aa2fc4a6379eaa722181a46a6">NN_ARRAY_SIZE</a>(g_MeasureInfoArray) == SectionType_Count);</div>
<div class="line"><span class="preprocessor">#undef SECTION_NAME_STRING</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>ScopedGpuMeasure</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    ScopedGpuMeasure( <a name="_a20"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer,</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1util_1_1_color4u8.html">nn::util::Color4u8</a>&amp; color, <span class="keyword">const</span> <span class="keywordtype">char</span>* name ) <a name="a21"></a><a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">    {</div>
<div class="line">        m_pCommandBuffer = pCommandBuffer;</div>
<div class="line">        <a name="a22"></a><a class="code" href="perf___profile_8h.html#af2d54f7bfca84e3d33b2009f6334f169">NN_PERF_SET_COLOR_GPU</a>( color );</div>
<div class="line">        <a name="a23"></a><a class="code" href="perf___profile_8h.html#ae7dc0bda5eab2fc0a3c36f5a92683580">NN_PERF_BEGIN_MEASURE_NAME_GPU</a>( pCommandBuffer, name );</div>
<div class="line">        pCommandBuffer-&gt;<a name="a24"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3c541dc719b81ec50feb0daee0225fba">PushDebugGroup</a>( name );</div>
<div class="line">    }</div>
<div class="line">    ~ScopedGpuMeasure() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">    {</div>
<div class="line">        m_pCommandBuffer-&gt;PopDebugGroup();</div>
<div class="line">        <a name="a25"></a><a class="code" href="perf___profile_8h.html#a5289e91681166ba39ce97d6eb116c59d">NN_PERF_END_MEASURE_GPU</a>( m_pCommandBuffer );</div>
<div class="line">    }</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* m_pCommandBuffer;</div>
<div class="line">};</div>
<div class="line"><span class="preprocessor">#define SCOPED_GPU_MEASURE( pCommandBuffer, sectionType ) \</span></div>
<div class="line"><span class="preprocessor">    ScopedGpuMeasure scopedGpuMeasure_ ## sectionType( pCommandBuffer, \</span></div>
<div class="line"><span class="preprocessor">        g_MeasureInfoArray[ sectionType ].color, g_MeasureInfoArray[ sectionType ].name )</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Abstract class for managing and allocating shared textures and buffers among multiple models.</span></div>
<div class="line"><span class="keyword">class </span>ISharedObject</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <a name="a26"></a><a class="code" href="nn___macro_8h.html#ac9e299d3cb72972ad29ea24cbf4a3f71">NN_IMPLICIT</a> ISharedObject(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">        : m_Id(<span class="keywordtype">id</span>)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">virtual</span> ~ISharedObject() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> BindTo(<a name="_a27"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModel) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a> = 0;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* m_Id;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Abstract class for managing and allocating shared texture samplers among multiple models.</span></div>
<div class="line"><span class="keyword">class </span>SharedSampler : <span class="keyword">public</span> ISharedObject</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SharedSampler(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>&amp; textureDescriptorSlot, <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>&amp; samplerDescriptorSlot)</div>
<div class="line">        : ISharedObject(<span class="keywordtype">id</span>)</div>
<div class="line">    {</div>
<div class="line">        <a name="a28"></a><a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(textureDescriptorSlot.<a name="a29"></a><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html#adcd95d6cda65fe4ee6f5b44324dc4e1a">IsValid</a>());</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(samplerDescriptorSlot.<a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html#adcd95d6cda65fe4ee6f5b44324dc4e1a">IsValid</a>());</div>
<div class="line">        m_TextureDescriptorSlot = textureDescriptorSlot;</div>
<div class="line">        m_SamplerDescriptorSlot = samplerDescriptorSlot;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> BindTo(<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a> <a name="a30"></a><a class="code" href="nn___macro_8h.html#a5b950a1a9c5f9b57d49185d8fb4cd4ab">NN_OVERRIDE</a></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(m_TextureDescriptorSlot.IsValid());</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(m_SamplerDescriptorSlot.IsValid());</div>
<div class="line">        <a name="a31"></a><a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderModelObj);</div>
<div class="line">        pRenderModelObj-&gt;<a name="a32"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a741490f4b757df1b2e573665d251b48a">BindSampler</a>(m_Id, m_TextureDescriptorSlot, m_SamplerDescriptorSlot);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a> m_TextureDescriptorSlot;</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a> m_SamplerDescriptorSlot;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Abstract class for managing and allocating shared images among multiple models.</span></div>
<div class="line"><span class="keyword">class </span>SharedImage : <span class="keyword">public</span> ISharedObject</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SharedImage(<span class="keyword">const</span> <span class="keywordtype">char</span>* pName, <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>&amp; imageDescriptorSlot)</div>
<div class="line">        : ISharedObject(pName)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(imageDescriptorSlot.<a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html#adcd95d6cda65fe4ee6f5b44324dc4e1a">IsValid</a>());</div>
<div class="line">        m_ImageDescriptorSlot = imageDescriptorSlot;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> BindTo(<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a> <a class="code" href="nn___macro_8h.html#a5b950a1a9c5f9b57d49185d8fb4cd4ab">NN_OVERRIDE</a></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(m_ImageDescriptorSlot.IsValid());</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderModelObj);</div>
<div class="line">        pRenderModelObj-&gt;<a name="a33"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#ad68ebccea384c915d3c84e33c418a631">BindImage</a>(m_Id, m_ImageDescriptorSlot);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a> m_ImageDescriptorSlot;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Abstract class for managing and allocating shared uniform blocks among multiple models.</span></div>
<div class="line"><span class="keyword">class </span>SharedUniformBlock : <span class="keyword">public</span> ISharedObject</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SharedUniformBlock(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>, <span class="keyword">const</span> <a name="_a34"></a><a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>** pBufferPtr, <span class="keywordtype">int</span> bufferCount) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">        : ISharedObject(<span class="keywordtype">id</span>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pBufferPtr);</div>
<div class="line">        <a name="a35"></a><a class="code" href="nn___assert_8h.html#a500008249e93282dc7552e33f586af86">NN_ASSERT_GREATER</a>(bufferCount, 0);</div>
<div class="line"> </div>
<div class="line">        m_pBufferPtr = g3ddemo::AllocateMemory&lt;const nn::gfx::Buffer*&gt;(<span class="keyword">sizeof</span>(<a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>*) * bufferCount);</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(m_pBufferPtr);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> bufferIndex = 0; bufferIndex &lt; bufferCount; ++bufferIndex)</div>
<div class="line">        {</div>
<div class="line">            m_pBufferPtr[bufferIndex] = pBufferPtr[bufferIndex];</div>
<div class="line">        }</div>
<div class="line">        m_BufferCount = bufferCount;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ~SharedUniformBlock() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(m_pBufferPtr);</div>
<div class="line">        g3ddemo::FreeMemory(m_pBufferPtr);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> BindTo(<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a> <a class="code" href="nn___macro_8h.html#a5b950a1a9c5f9b57d49185d8fb4cd4ab">NN_OVERRIDE</a></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderModelObj);</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(m_pBufferPtr);</div>
<div class="line"> </div>
<div class="line">        pRenderModelObj-&gt;<a name="a36"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a51705d6e0cbec14deae05e0dc0724835">BindUniformBlock</a>(m_Id, m_pBufferPtr, m_BufferCount);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>** m_pBufferPtr;</div>
<div class="line">    <span class="keywordtype">int</span>                     m_BufferCount;</div>
<div class="line">};</div>
<div class="line">g3ddemo::Vector&lt;ISharedObject*&gt; g_SharedObjects;</div>
<div class="line"> </div>
<div class="line"><a name="_a37"></a><a class="code" href="classnn_1_1gfx_1_1_t_sampler.html">nn::gfx::Sampler</a>        g_ShadowSampler;</div>
<div class="line"><a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a> g_ShadowSamplerDescriptorSlot;</div>
<div class="line"> </div>
<div class="line"><span class="comment">//-------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">//  Initialization and Finalization</span></div>
<div class="line"><span class="comment">//-------------------------------------------------------------------</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a shadow sampler.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeShadowSampler(<a name="_a38"></a><a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a name="_a39"></a><a class="code" href="classnn_1_1gfx_1_1_sampler_info.html">nn::gfx::Sampler::InfoType</a> samplerInfo;</div>
<div class="line">    samplerInfo.<a name="a40"></a><a class="code" href="classnn_1_1gfx_1_1_sampler_info.html#a0a8b936b65f761b509f7c9873983f75f">SetDefault</a>();</div>
<div class="line">    samplerInfo.<a name="a41"></a><a class="code" href="classnn_1_1gfx_1_1_sampler_info.html#a729bb669172b22822c2b3e3b206cd6f1">SetAddressU</a>(<a name="a42"></a><a class="code" href="namespacenn_1_1gfx.html#a196a725dd687649e105dc924a75ab40ba5e64ed3305625fbfd1a41f7e07bf922e">nn::gfx::TextureAddressMode_ClampToBorder</a>);</div>
<div class="line">    samplerInfo.<a name="a43"></a><a class="code" href="classnn_1_1gfx_1_1_sampler_info.html#a4b884f39b099e21ee9bf99933cd99e7b">SetAddressV</a>(<a class="code" href="namespacenn_1_1gfx.html#a196a725dd687649e105dc924a75ab40ba5e64ed3305625fbfd1a41f7e07bf922e">nn::gfx::TextureAddressMode_ClampToBorder</a>);</div>
<div class="line">    samplerInfo.<a name="a44"></a><a class="code" href="classnn_1_1gfx_1_1_sampler_info.html#aad204b43e3fe75fa2a5d386e8061ea10">SetAddressW</a>(<a name="a45"></a><a class="code" href="namespacenn_1_1gfx.html#a196a725dd687649e105dc924a75ab40baf587fdb03960ed5c7fcf3ad21458a8a0">nn::gfx::TextureAddressMode_ClampToEdge</a>);</div>
<div class="line">    samplerInfo.<a name="a46"></a><a class="code" href="classnn_1_1gfx_1_1_sampler_info.html#a14b99ee8e4e76d7df522bbe4c9ef5b8b">SetBorderColorType</a>(<a name="a47"></a><a class="code" href="namespacenn_1_1gfx.html#a55131be8acb19fc0a4a24d395fa2df0aa3d4e6c7b91ed8cd0de11f0e143174f57">nn::gfx::TextureBorderColorType_White</a>);</div>
<div class="line">    samplerInfo.<a name="a48"></a><a class="code" href="classnn_1_1gfx_1_1_sampler_info.html#a5834b5ed1253675f8cc144267b982689">SetFilterMode</a>(<a name="a49"></a><a class="code" href="namespacenn_1_1gfx.html#ad02723fd1d5795fe8801dc262eae6e1aa71c748257c0ed44c4e11e1aa698a1834">nn::gfx::FilterMode_Comparison_MinLinear_MagLinear_MipLinear</a>);</div>
<div class="line">    samplerInfo.<a name="a50"></a><a class="code" href="classnn_1_1gfx_1_1_sampler_info.html#a7ce8cb4ae53432bea9c0f7d788dd0072">SetComparisonFunction</a>(<a name="a51"></a><a class="code" href="namespacenn_1_1gfx.html#a853c8c6e8cb3e59241f1fd893d6da280aeb6605a4d8b9b5bb65f08e73f2f8c7eb">nn::gfx::ComparisonFunction_LessEqual</a>);</div>
<div class="line"> </div>
<div class="line">    g_ShadowSampler.<a name="a52"></a><a class="code" href="classnn_1_1gfx_1_1_t_sampler.html#a409b6c740f965c39549d46d496d1ba0d">Initialize</a>(pDevice, samplerInfo);</div>
<div class="line">    g_ShadowSamplerDescriptorSlot = g3ddemo::RegisterSamplerToDescriptorPool(&amp;g_ShadowSampler);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Free the shadow sampler.</span></div>
<div class="line"><span class="keywordtype">void</span> FinalizeShadowSampler(<a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice)</div>
<div class="line">{</div>
<div class="line">    g3ddemo::UnregisterSamplerFromDescriptorPool(&amp;g_ShadowSampler);</div>
<div class="line">    g_ShadowSampler.<a name="a53"></a><a class="code" href="classnn_1_1gfx_1_1_t_sampler.html#af725b5cfc86c86d203b292253db4c12b">Finalize</a>(pDevice);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the texture buffer settings to share among models.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeSharedObject(<a name="_a54"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice = pGfxFramework-&gt;<a name="a55"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a6dbabc4b1fab1df227e879443468b749">GetDevice</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get and register the sampler for debug drawing the framebuffer.</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1gfx_1_1_t_sampler.html">nn::gfx::Sampler</a>* pSampler = pGfxFramework-&gt;<a name="a56"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#abafa38f3c2c4064d405b2f1a0eba1b6a">GetSampler</a>(nns::gfx::GraphicsFramework::SamplerType_FilterMode_MinLinear_MagLinear_MipPoint_AddressMode_Clamp);</div>
<div class="line">        g_DebugFrameBufferSamplerDescriptorSlot = g3ddemo::RegisterSamplerToDescriptorPool(pSampler);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize a shadow sampler.</span></div>
<div class="line">    InitializeShadowSampler(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>{</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>*             id;</div>
<div class="line">        <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a> textureDescriptorSlot;</div>
<div class="line">        <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a> samplerDescriptorSlot;</div>
<div class="line">    } dataArray[] = {</div>
<div class="line">        {<span class="stringliteral">&quot;_w0&quot;</span>, g_WaterDescriptorSlot,          g_DebugFrameBufferSamplerDescriptorSlot },</div>
<div class="line">        {<span class="stringliteral">&quot;_d0&quot;</span>, g_DepthDescriptorSlot,          g_ShadowSamplerDescriptorSlot},</div>
<div class="line">        {<span class="stringliteral">&quot;_c0&quot;</span>, g_ColorDescriptorSlot,          g_DebugFrameBufferSamplerDescriptorSlot },</div>
<div class="line">        {<span class="stringliteral">&quot;_gn0&quot;</span>, g_GeometryColorDescriptorSlot, g_DebugFrameBufferSamplerDescriptorSlot },</div>
<div class="line">        {<span class="stringliteral">&quot;_l0&quot;</span>, g_LightDescriptorSlot,          g_DebugFrameBufferSamplerDescriptorSlot },</div>
<div class="line">        {<span class="stringliteral">&quot;_d1&quot;</span>, g_GeometryDepthDescriptorSlot,  g_DebugFrameBufferSamplerDescriptorSlot },</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// The sampler.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; data : dataArray)</div>
<div class="line">    {</div>
<div class="line">        SharedSampler* pSharedSampler = g3ddemo::AllocateMemory&lt;SharedSampler&gt;(<span class="keyword">sizeof</span>(SharedSampler));</div>
<div class="line">        <span class="keyword">new</span> (pSharedSampler) SharedSampler(data.id, data.textureDescriptorSlot, data.samplerDescriptorSlot);</div>
<div class="line">        g_SharedObjects.push_back(pSharedSampler);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Image.</span></div>
<div class="line">    SharedImage* pSharedImage = g3ddemo::AllocateMemory&lt;SharedImage&gt;(<span class="keyword">sizeof</span>(SharedImage));</div>
<div class="line">    <span class="keyword">new</span> (pSharedImage) SharedImage(<span class="stringliteral">&quot;_o0&quot;</span>, g_OverdrawMeasuringDescriptorSlot);</div>
<div class="line">    g_SharedObjects.push_back(pSharedImage);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// The uniform block.</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Set the context uniform block.</span></div>
<div class="line">        {</div>
<div class="line">            SharedUniformBlock* pSharedUniformBlock = g3ddemo::AllocateMemory&lt;SharedUniformBlock&gt;(<span class="keyword">sizeof</span>(SharedUniformBlock));</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>* buffers[g_BufferingCount];</div>
<div class="line">            buffers[0] = g_Context.GetContextBlock(0);</div>
<div class="line">            buffers[1] = g_Context.GetContextBlock(1);</div>
<div class="line">            <span class="keyword">new</span> (pSharedUniformBlock) SharedUniformBlock(<span class="stringliteral">&quot;context&quot;</span>, buffers, g_BufferingCount);</div>
<div class="line">            g_SharedObjects.push_back(pSharedUniformBlock);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the view uniform block.</span></div>
<div class="line">        {</div>
<div class="line">            SharedUniformBlock* pSharedUniformBlock = g3ddemo::AllocateMemory&lt;SharedUniformBlock&gt;(<span class="keyword">sizeof</span>(SharedUniformBlock));</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>* buffers[g_BufferingCount];</div>
<div class="line">            buffers[0] = g_RenderView.<a name="a57"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#ac12827c0d0788017a196ef5b80304304">GetViewUniformBlock</a>(ViewType_Default, 0);</div>
<div class="line">            buffers[1] = g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#ac12827c0d0788017a196ef5b80304304">GetViewUniformBlock</a>(ViewType_Default, 1);</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">new</span> (pSharedUniformBlock) SharedUniformBlock(<span class="stringliteral">&quot;view&quot;</span>, buffers, g_BufferingCount);</div>
<div class="line">            g_SharedObjects.push_back(pSharedUniformBlock);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Free the texture buffer settings to share among models.</span></div>
<div class="line"><span class="keywordtype">void</span> FinalizeSharedObject(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a6dbabc4b1fab1df227e879443468b749">GetDevice</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>* pSharedObject : g_SharedObjects)</div>
<div class="line">    {</div>
<div class="line">        pSharedObject-&gt;~ISharedObject();</div>
<div class="line">        g3ddemo::FreeMemory(pSharedObject);</div>
<div class="line">    }</div>
<div class="line">    g_SharedObjects.clear();</div>
<div class="line">    g_SharedObjects.shrink_to_fit();</div>
<div class="line"> </div>
<div class="line">    FinalizeShadowSampler(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Unregister the sampler for debug drawing the framebuffer.</span></div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_sampler.html">nn::gfx::Sampler</a>* pSampler = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#abafa38f3c2c4064d405b2f1a0eba1b6a">GetSampler</a>(nns::gfx::GraphicsFramework::SamplerType_FilterMode_MinLinear_MagLinear_MipPoint_AddressMode_Clamp);</div>
<div class="line">    g3ddemo::UnregisterSamplerFromDescriptorPool(pSampler);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the framebuffer.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeFrameBuffer(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework, <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Set up the framebuffer for the water surface.</span></div>
<div class="line">    {</div>
<div class="line">        <a name="_a58"></a><a class="code" href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html">nns::gfx::FrameBuffer::InfoType</a> info(640, 360);</div>
<div class="line">        info.<a name="a59"></a><a class="code" href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html#a1c11d62a105b9babfefc39502e7a1fde">SetColorBufferFormat</a>(<a name="a60"></a><a class="code" href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605ac8c99c8d634a1a71ba05e16b6de4536e">nn::gfx::ImageFormat_R11_G11_B10_Float</a>);</div>
<div class="line">        g3ddemo::InitializeFrameBuffer(&amp;g_FrameBuffer[FrameBufferType_Water], &amp;info);</div>
<div class="line">        g_FrameBuffer[FrameBufferType_Water].<a name="a61"></a><a class="code" href="classnns_1_1gfx_1_1_frame_buffer.html#ac0ef328dfaa5d754f898669025bbb162">SetClearColor</a>(0.3f, 0.3f, 0.3f);</div>
<div class="line">        g_WaterDescriptorSlot = g3ddemo::RegisterTextureToDescriptorPool(g_FrameBuffer[FrameBufferType_Water].GetColorBuffer()-&gt;GetTextureView());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the depth buffer for shadow.</span></div>
<div class="line">    {</div>
<div class="line">        <a name="_a62"></a><a class="code" href="classnn_1_1gfx_1_1_texture_info.html">nn::gfx::Texture::InfoType</a> info;</div>
<div class="line">        info.<a name="a63"></a><a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a7347a6f3179dc816dc7eb761cdc37152">SetDefault</a>();</div>
<div class="line">        info.<a name="a64"></a><a class="code" href="classnn_1_1gfx_1_1_texture_info.html#aa9542aaf7fe4dea102f8ec01188c3227">SetWidth</a>(640);</div>
<div class="line">        info.<a name="a65"></a><a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a2351f69b4b5c3bece70bfc416a74f96a">SetHeight</a>(640);</div>
<div class="line">        info.<a name="a66"></a><a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a214c396c13c6086b75cf63dc374f14ab">SetGpuAccessFlags</a>(<a name="a67"></a><a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a1663c5652d151ae04844adb9a3784bea">nn::gfx::GpuAccess_DepthStencil</a> | <a name="a68"></a><a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a4a531ae2d7e145f647300ea67bc76ccc">nn::gfx::GpuAccess_Texture</a>);</div>
<div class="line">        info.<a name="a69"></a><a class="code" href="classnn_1_1gfx_1_1_texture_info.html#ac1912ab092b3f1acd897e96ea4eb7ffc">SetImageStorageDimension</a>(<a name="a70"></a><a class="code" href="namespacenn_1_1gfx.html#a52703c69a29adb8ba4cf3d02c6be65d6aeecfd005f00573cce0430313e61bc33e">nn::gfx::ImageStorageDimension_2d</a>);</div>
<div class="line">        info.<a name="a71"></a><a class="code" href="classnn_1_1gfx_1_1_texture_info.html#aabd5c4ee3aaf0dfc3577843da1d8bc1f">SetImageFormat</a>(<a name="a72"></a><a class="code" href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605a2f64d2e25bf61ef9571b504d2b86a895">nn::gfx::ImageFormat_D32_Float</a>);</div>
<div class="line">        info.<a name="a73"></a><a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a8187f32da9bbbed65c49a1c00932d796">SetMipCount</a>(1);</div>
<div class="line">        info.<a name="a74"></a><a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a1b6439172b5749537b1a6020a2a8b5ec">SetArrayLength</a>(TownContext::cascadeShadowCount);</div>
<div class="line">        <span class="keywordtype">size_t</span> size = <a name="a75"></a><a class="code" href="classnn_1_1gfx_1_1_t_texture.html#ac9d3334566c6451da3f015e5ed1fd1ad">nn::gfx::Texture::CalculateMipDataSize</a>(pDevice, info);</div>
<div class="line">        <span class="keywordtype">size_t</span> align = <a name="a76"></a><a class="code" href="classnn_1_1gfx_1_1_t_texture.html#a6580c829bab613b6e9850e543f9a7203">nn::gfx::Texture::CalculateMipDataAlignment</a>(pDevice, info);</div>
<div class="line">        ptrdiff_t offset = pGfxFramework-&gt;<a name="a77"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#acfe9bb061211e7cea1984525a9391152">AllocatePoolMemory</a>(nns::gfx::GraphicsFramework::MemoryPoolType_RenderTarget, size, align);</div>
<div class="line">        <a name="_a78"></a><a class="code" href="classnn_1_1gfx_1_1_t_memory_pool.html">nn::gfx::MemoryPool</a>* pMemoryPool = pGfxFramework-&gt;<a name="a79"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a9c662e2ac88106a0cb9828ef1e8f0faa">GetMemoryPool</a>(nns::gfx::GraphicsFramework::MemoryPoolType_RenderTarget);</div>
<div class="line">        g_DepthBufferShadow.<a name="a80"></a><a class="code" href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a404a08a8dce6c4479175658ebfb74ded">Initialize</a>(pDevice, info, pMemoryPool, offset, size);</div>
<div class="line">        g_DepthDescriptorSlot = g3ddemo::RegisterTextureToDescriptorPool(g_DepthBufferShadow.<a name="a81"></a><a class="code" href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a15181441c55981c617c26f08c0d633b6">GetTextureView</a>());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the framebuffer for shadow.</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html">nns::gfx::FrameBuffer::InfoType</a> info(640, 640);</div>
<div class="line">        info.<a name="a82"></a><a class="code" href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html#a5432609cb89aee98e128c60d8fc26d87">SetDepthBufferDisabled</a>();</div>
<div class="line">        g3ddemo::InitializeFrameBuffer(&amp;g_FrameBuffer[FrameBufferType_Shadow], &amp;info);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the geometry frame buffer.</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html">nns::gfx::FrameBuffer::InfoType</a> info(640, 360);</div>
<div class="line">        info.<a class="code" href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html#a1c11d62a105b9babfefc39502e7a1fde">SetColorBufferFormat</a>(<a class="code" href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605ac8c99c8d634a1a71ba05e16b6de4536e">nn::gfx::ImageFormat_R11_G11_B10_Float</a>);</div>
<div class="line">        g3ddemo::InitializeFrameBuffer(&amp;g_FrameBuffer[FrameBufferType_Geometry], &amp;info);</div>
<div class="line">        g_GeometryColorDescriptorSlot = g3ddemo::RegisterTextureToDescriptorPool(g_FrameBuffer[FrameBufferType_Geometry].GetColorBuffer()-&gt;GetTextureView());</div>
<div class="line">        g_GeometryDepthDescriptorSlot = g3ddemo::RegisterTextureToDescriptorPool(g_FrameBuffer[FrameBufferType_Geometry].GetDepthBuffer()-&gt;GetTextureView());</div>
<div class="line">        g_FrameBuffer[FrameBufferType_Geometry].<a class="code" href="classnns_1_1gfx_1_1_frame_buffer.html#ac0ef328dfaa5d754f898669025bbb162">SetClearColor</a>(0.3f, 0.3f, 0.3f);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the framebuffer for lights.</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html">nns::gfx::FrameBuffer::InfoType</a> info(640, 360);</div>
<div class="line">        info.<a class="code" href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html#a1c11d62a105b9babfefc39502e7a1fde">SetColorBufferFormat</a>(<a name="a83"></a><a class="code" href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605ae9a6f4b8714c06cc877193b5635c8019">nn::gfx::ImageFormat_R8_G8_B8_A8_Unorm</a>);</div>
<div class="line">        info.<a class="code" href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html#a5432609cb89aee98e128c60d8fc26d87">SetDepthBufferDisabled</a>();</div>
<div class="line">        g3ddemo::InitializeFrameBuffer(&amp;g_FrameBuffer[FrameBufferType_Light], &amp;info);</div>
<div class="line">        g_FrameBuffer[FrameBufferType_Light].<a class="code" href="classnns_1_1gfx_1_1_frame_buffer.html#ac0ef328dfaa5d754f898669025bbb162">SetClearColor</a>(0.0f, 0.0f, 0.0f, 0.0f);</div>
<div class="line">        g_LightDescriptorSlot = g3ddemo::RegisterTextureToDescriptorPool(g_FrameBuffer[FrameBufferType_Light].GetColorBuffer()-&gt;GetTextureView());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the color buffer for copying.</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1gfx_1_1_texture_info.html">nn::gfx::Texture::InfoType</a> info;</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a7347a6f3179dc816dc7eb761cdc37152">SetDefault</a>();</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#aa9542aaf7fe4dea102f8ec01188c3227">SetWidth</a>(pGfxFramework-&gt;<a name="a84"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a68decd5e5c7a89df27eb8d428515e92d">GetDisplayWidth</a>());</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a2351f69b4b5c3bece70bfc416a74f96a">SetHeight</a>(pGfxFramework-&gt;<a name="a85"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#af0da71ea5a113a27c596366259db882e">GetDisplayHeight</a>());</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a214c396c13c6086b75cf63dc374f14ab">SetGpuAccessFlags</a>(<a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a4a531ae2d7e145f647300ea67bc76ccc">nn::gfx::GpuAccess_Texture</a> | <a name="a86"></a><a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a0db6d0fe517ccdbde996e7748f0c69f8">nn::gfx::GpuAccess_ColorBuffer</a>);</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#ac1912ab092b3f1acd897e96ea4eb7ffc">SetImageStorageDimension</a>(<a class="code" href="namespacenn_1_1gfx.html#a52703c69a29adb8ba4cf3d02c6be65d6aeecfd005f00573cce0430313e61bc33e">nn::gfx::ImageStorageDimension_2d</a>);</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#aabd5c4ee3aaf0dfc3577843da1d8bc1f">SetImageFormat</a>(<a class="code" href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605ac8c99c8d634a1a71ba05e16b6de4536e">nn::gfx::ImageFormat_R11_G11_B10_Float</a>);</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a8187f32da9bbbed65c49a1c00932d796">SetMipCount</a>(1);</div>
<div class="line">        <span class="keywordtype">size_t</span> size = <a class="code" href="classnn_1_1gfx_1_1_t_texture.html#ac9d3334566c6451da3f015e5ed1fd1ad">nn::gfx::Texture::CalculateMipDataSize</a>(pDevice, info);</div>
<div class="line">        <span class="keywordtype">size_t</span> align = <a class="code" href="classnn_1_1gfx_1_1_t_texture.html#a6580c829bab613b6e9850e543f9a7203">nn::gfx::Texture::CalculateMipDataAlignment</a>(pDevice, info);</div>
<div class="line">        ptrdiff_t offset = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#acfe9bb061211e7cea1984525a9391152">AllocatePoolMemory</a>(nns::gfx::GraphicsFramework::MemoryPoolType_RenderTarget, size, align);</div>
<div class="line">        <a class="code" href="classnn_1_1gfx_1_1_t_memory_pool.html">nn::gfx::MemoryPool</a>* pMemoryPool = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a9c662e2ac88106a0cb9828ef1e8f0faa">GetMemoryPool</a>(nns::gfx::GraphicsFramework::MemoryPoolType_RenderTarget);</div>
<div class="line">        g_ColorBuffer.<a name="a87"></a><a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#ac34c46313002c92e87ddfcebca0d6399">Initialize</a>(pDevice, info, pMemoryPool, offset, size);</div>
<div class="line">        g_ColorDescriptorSlot = g3ddemo::RegisterTextureToDescriptorPool(g_ColorBuffer.<a name="a88"></a><a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a0ea68fa6049b3f87e1bea7b3e96f8cd7">GetTextureView</a>());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the overdraw measurement target image.</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1gfx_1_1_texture_info.html">nn::gfx::Texture::InfoType</a> info;</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a7347a6f3179dc816dc7eb761cdc37152">SetDefault</a>();</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#aa9542aaf7fe4dea102f8ec01188c3227">SetWidth</a>(pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a68decd5e5c7a89df27eb8d428515e92d">GetDisplayWidth</a>());</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a2351f69b4b5c3bece70bfc416a74f96a">SetHeight</a>(pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#af0da71ea5a113a27c596366259db882e">GetDisplayHeight</a>());</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a214c396c13c6086b75cf63dc374f14ab">SetGpuAccessFlags</a>(<a name="a89"></a><a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a651b4131559d89eabd39541b70986048">nn::gfx::GpuAccess_Image</a> | <a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a0db6d0fe517ccdbde996e7748f0c69f8">nn::gfx::GpuAccess_ColorBuffer</a> | <a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a4a531ae2d7e145f647300ea67bc76ccc">nn::gfx::GpuAccess_Texture</a>);</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#ac1912ab092b3f1acd897e96ea4eb7ffc">SetImageStorageDimension</a>(<a class="code" href="namespacenn_1_1gfx.html#a52703c69a29adb8ba4cf3d02c6be65d6aeecfd005f00573cce0430313e61bc33e">nn::gfx::ImageStorageDimension_2d</a>);</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#aabd5c4ee3aaf0dfc3577843da1d8bc1f">SetImageFormat</a>(<a name="a90"></a><a class="code" href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605a4a123ace5d6e0c4d7b532024f6e14c7e">nn::gfx::ImageFormat_R32_Uint</a>);</div>
<div class="line">        info.<a class="code" href="classnn_1_1gfx_1_1_texture_info.html#a8187f32da9bbbed65c49a1c00932d796">SetMipCount</a>(1);</div>
<div class="line">        <span class="keywordtype">size_t</span> size = <a class="code" href="classnn_1_1gfx_1_1_t_texture.html#ac9d3334566c6451da3f015e5ed1fd1ad">nn::gfx::Texture::CalculateMipDataSize</a>(pDevice, info);</div>
<div class="line">        <span class="keywordtype">size_t</span> align = <a class="code" href="classnn_1_1gfx_1_1_t_texture.html#a6580c829bab613b6e9850e543f9a7203">nn::gfx::Texture::CalculateMipDataAlignment</a>(pDevice, info);</div>
<div class="line">        ptrdiff_t offset = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#acfe9bb061211e7cea1984525a9391152">AllocatePoolMemory</a>(nns::gfx::GraphicsFramework::MemoryPoolType_RenderTarget, size, align);</div>
<div class="line">        <a class="code" href="classnn_1_1gfx_1_1_t_memory_pool.html">nn::gfx::MemoryPool</a>* pMemoryPool = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a9c662e2ac88106a0cb9828ef1e8f0faa">GetMemoryPool</a>(nns::gfx::GraphicsFramework::MemoryPoolType_RenderTarget);</div>
<div class="line">        g_OverdrawMeasuringBuffer.<a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#ac34c46313002c92e87ddfcebca0d6399">Initialize</a>(pDevice, info, pMemoryPool, offset, size);</div>
<div class="line">        g_OverdrawMeasuringDescriptorSlot = g3ddemo::RegisterTextureToDescriptorPool(g_OverdrawMeasuringBuffer.<a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a0ea68fa6049b3f87e1bea7b3e96f8cd7">GetTextureView</a>());</div>
<div class="line">    }</div>
<div class="line">}<span class="comment">//NOLINT(impl/function_size)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Clear the framebuffer.</span></div>
<div class="line"><span class="keywordtype">void</span> FinalizeFrameBuffer(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a6dbabc4b1fab1df227e879443468b749">GetDevice</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Unregister a texture from the descriptor pool.</span></div>
<div class="line">    g3ddemo::UnregisterTextureFromDescriptorPool(g_FrameBuffer[FrameBufferType_Water].GetColorBuffer()-&gt;GetTextureView());</div>
<div class="line">    g3ddemo::UnregisterTextureFromDescriptorPool(g_DepthBufferShadow.<a class="code" href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a15181441c55981c617c26f08c0d633b6">GetTextureView</a>());</div>
<div class="line">    g3ddemo::UnregisterTextureFromDescriptorPool(g_FrameBuffer[FrameBufferType_Light].GetColorBuffer()-&gt;GetTextureView());</div>
<div class="line">    g3ddemo::UnregisterTextureFromDescriptorPool(g_FrameBuffer[FrameBufferType_Geometry].GetColorBuffer()-&gt;GetTextureView());</div>
<div class="line">    g3ddemo::UnregisterTextureFromDescriptorPool(g_FrameBuffer[FrameBufferType_Geometry].GetDepthBuffer()-&gt;GetTextureView());</div>
<div class="line">    g3ddemo::UnregisterTextureFromDescriptorPool(g_OverdrawMeasuringBuffer.<a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a0ea68fa6049b3f87e1bea7b3e96f8cd7">GetTextureView</a>());</div>
<div class="line">    g3ddemo::UnregisterTextureFromDescriptorPool(g_ColorBuffer.<a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a0ea68fa6049b3f87e1bea7b3e96f8cd7">GetTextureView</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Clear the framebuffer.</span></div>
<div class="line">    g3ddemo::FinalizeFrameBuffer(&amp;g_FrameBuffer[FrameBufferType_Light]);</div>
<div class="line">    g3ddemo::FinalizeFrameBuffer(&amp;g_FrameBuffer[FrameBufferType_Geometry]);</div>
<div class="line">    g3ddemo::FinalizeFrameBuffer(&amp;g_FrameBuffer[FrameBufferType_Shadow]);</div>
<div class="line">    g3ddemo::FinalizeFrameBuffer(&amp;g_FrameBuffer[FrameBufferType_Water]);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the overdraw measurement target image.</span></div>
<div class="line">    {</div>
<div class="line">        ptrdiff_t offset = g_OverdrawMeasuringBuffer.<a name="a91"></a><a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a88a293d24f8a4d313e58b9b55e7ca235">GetMemoryPoolOffset</a>();</div>
<div class="line">        g_OverdrawMeasuringBuffer.<a name="a92"></a><a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a0a3d9dfef23dc64d27a7809259af0487">Finalize</a>(pDevice);</div>
<div class="line">        pGfxFramework-&gt;<a name="a93"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a7342a183bbe66874974bff3bb4de7450">FreePoolMemory</a>(nns::gfx::GraphicsFramework::MemoryPoolType_RenderTarget, offset);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the depth buffer for shadow.</span></div>
<div class="line">    {</div>
<div class="line">        ptrdiff_t offset = g_DepthBufferShadow.<a name="a94"></a><a class="code" href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a2862254a06065f787781675f70d21c99">GetMemoryPoolOffset</a>();</div>
<div class="line">        g_DepthBufferShadow.<a name="a95"></a><a class="code" href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a8b7c10a7933aac8e6739c7aba8ddc3ed">Finalize</a>(pDevice);</div>
<div class="line">        pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a7342a183bbe66874974bff3bb4de7450">FreePoolMemory</a>(nns::gfx::GraphicsFramework::MemoryPoolType_RenderTarget, offset);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the color buffer.</span></div>
<div class="line">    {</div>
<div class="line">        ptrdiff_t offset = g_ColorBuffer.<a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a88a293d24f8a4d313e58b9b55e7ca235">GetMemoryPoolOffset</a>();</div>
<div class="line">        g_ColorBuffer.<a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a0a3d9dfef23dc64d27a7809259af0487">Finalize</a>(pDevice);</div>
<div class="line">        pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a7342a183bbe66874974bff3bb4de7450">FreePoolMemory</a>(nns::gfx::GraphicsFramework::MemoryPoolType_RenderTarget, offset);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the view.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeRenderView(<a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    g_RenderView.<a name="a96"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#a6520169e698d615f7cc77553e32ca88c">Initialize</a>(pDevice, ViewType_Count, g_BufferingCount);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the projection matrix.</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> matrix;</div>
<div class="line">        MatrixPerspectiveFieldOfViewRightHanded(&amp;matrix, <a name="a97"></a><a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f),</div>
<div class="line">            16.0f / 9.0f, 10.0f, 40000.0f);</div>
<div class="line">        g_RenderView.<a name="a98"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#ab2d9de5f49ec96d7672389badb1acf46">SetProjectionMtx</a>(ViewType_Default, matrix);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> matrix;</div>
<div class="line">        MatrixPerspectiveFieldOfViewRightHanded(&amp;matrix, <a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f),</div>
<div class="line">            <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(g_FrameBuffer[FrameBufferType_Water].GetWidth()) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(g_FrameBuffer[FrameBufferType_Water].GetHeight()),</div>
<div class="line">            10.0f, 40000.0f);</div>
<div class="line">        g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#ab2d9de5f49ec96d7672389badb1acf46">SetProjectionMtx</a>(ViewType_Water, matrix);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize resources.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeResource(<a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Initialize the resource holder.</span></div>
<div class="line">    g_Holder.Initialize();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the shader archive.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pathIndex = 0; pathIndex &lt; <a class="code" href="nn___macro_8h.html#acd3a418aa2fc4a6379eaa722181a46a6">NN_ARRAY_SIZE</a>(BfshaPath); ++pathIndex)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a99"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_file.html">nn::g3d::ResShaderFile</a>* pFile = g3ddemo::LoadResource&lt;nn::g3d::ResShaderFile&gt;(BfshaPath[pathIndex]);</div>
<div class="line">        pFile-&gt;<a name="a100"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_file.html#a6ca625333d1fb3f4b903d0ee4533666c">Setup</a>(pDevice);</div>
<div class="line">        g_Holder.shaderFiles.push_back(pFile);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnn_1_1g3d_1_1_res_shader_file.html">nn::g3d::ResShaderFile</a>* pShaderFile : g_Holder.shaderFiles)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html">nn::g3d::ResShaderArchive</a>* pResShaderArchive = pShaderFile-&gt;<a name="a101"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_file.html#ab2a9392d9a139efe97b011ac5aec96c4">GetResShaderArchive</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the shaders used in the view.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>* pResShaderArchiveName = pResShaderArchive-&gt;<a name="a102"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html#a5ed5eaebeae9492aeaa64fabaf6e743c">GetName</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(pResShaderArchiveName, <span class="stringliteral">&quot;town&quot;</span>) == 0)</div>
<div class="line">        {</div>
<div class="line">            g_pTownShaderArchive = pResShaderArchive;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(pResShaderArchiveName, <span class="stringliteral">&quot;demo&quot;</span>) == 0)</div>
<div class="line">        {</div>
<div class="line">            g_pTownDemoShaderArchive = pResShaderArchive;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the pointer to the shading models that are not model-specific.</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> shaderIndex = 0; shaderIndex &lt; ShadingModelType_Count; ++shaderIndex)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (strcmp(pResShaderArchiveName, g_ShaderNameArray[shaderIndex].shaderArchiveName) != 0)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line">            <a class="code" href="classnn_1_1g3d_1_1_res_shading_model.html">nn::g3d::ResShadingModel</a>* pResShadingModel = pResShaderArchive-&gt;<a name="a103"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html#a17c81d3fe346cbcc531ad38138b7117b">FindShadingModel</a>(g_ShaderNameArray[shaderIndex].shadingModelName);</div>
<div class="line">            g_pResShadingModelPtr[shaderIndex] = pResShadingModel;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(g_pTownShaderArchive);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(g_pTownDemoShaderArchive);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnn_1_1g3d_1_1_res_shading_model.html">nn::g3d::ResShadingModel</a>* pResShadingModel : g_pResShadingModelPtr)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pResShadingModel);</div>
<div class="line">        <a name="a104"></a><a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(pResShadingModel);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the dummy texture that will be assigned when the texture referenced by the sampler is empty.</span></div>
<div class="line">    g3ddemo::CreateDummyTextureAndSampler(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the resource model.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pathIndex = 0; pathIndex &lt; <a class="code" href="nn___macro_8h.html#acd3a418aa2fc4a6379eaa722181a46a6">NN_ARRAY_SIZE</a>(BfresPath); ++pathIndex)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a105"></a><a class="code" href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a>* pResFile = g3ddemo::LoadResource&lt;nn::g3d::ResFile&gt;(BfresPath[pathIndex]);</div>
<div class="line">        pResFile-&gt;<a name="a106"></a><a class="code" href="classnn_1_1g3d_1_1_res_file.html#afeaf3b666d229f4e30fe374ee5707909">Setup</a>(pDevice);</div>
<div class="line">        g_Holder.files.push_back(pResFile);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Register the textures and samplers in the descriptor pool.</span></div>
<div class="line">        g3ddemo::SetupTexture(pDevice, pResFile, g3ddemo::TextureBindCallback);</div>
<div class="line">        g3ddemo::RegisterSamplerToDescriptorPool(pResFile);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set up model-specific shaders.</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* materialShaderArchiveFileName = <span class="stringliteral">&quot;town.bfsha&quot;</span>;</div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a>* pResFile : g_Holder.files)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a107"></a><a class="code" href="classnn_1_1g3d_1_1_res_external_file.html">nn::g3d::ResExternalFile</a>* pResExternalFile = pResFile-&gt;<a name="a108"></a><a class="code" href="classnn_1_1g3d_1_1_res_file.html#a0de53bc695b00cecf5fd0c9b08d13034">FindExternalFile</a>(materialShaderArchiveFileName);</div>
<div class="line">        <span class="keywordflow">if</span> (pResExternalFile)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">void</span>* pExternalFile = pResExternalFile-&gt;<a name="a109"></a><a class="code" href="classnn_1_1g3d_1_1_res_external_file.html#a9207cd3bcc5ffe210f8cd4ce37460c23">GetData</a>();</div>
<div class="line">            <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(<a name="a110"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_file.html#a733f0fed01ac50f68f743fb47a8813f6">nn::g3d::ResShaderFile::IsValid</a>(pExternalFile));</div>
<div class="line">            <a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html">nn::g3d::ResShaderArchive</a>* pModelShader = <a name="a111"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_file.html#a39a1802d90e4a26b504d97710bfdca5a">nn::g3d::ResShaderFile::ResCast</a>(pExternalFile)-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_shader_file.html#ab2a9392d9a139efe97b011ac5aec96c4">GetResShaderArchive</a>();</div>
<div class="line">            pModelShader-&gt;<a name="a112"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html#a0bd2ecf27e62dd885eb25a1c57e29c9d">Setup</a>(pDevice);</div>
<div class="line">            pResFile-&gt;<a name="a113"></a><a class="code" href="classnn_1_1g3d_1_1_res_file.html#a013b6097af603cc2611627cba86fa6ed">SetUserPtr</a>(pModelShader);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Free resources.</span></div>
<div class="line"><span class="keywordtype">void</span> FinalizeResource(<a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Free the shader archive attached to the model.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a>* pResFile : g_Holder.files)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1_res_external_file.html">nn::g3d::ResExternalFile</a>* pResExternalFile = pResFile-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_file.html#a0de53bc695b00cecf5fd0c9b08d13034">FindExternalFile</a>(<span class="stringliteral">&quot;town.bfsha&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (pResExternalFile)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">void</span>* pExternalFile = pResExternalFile-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_external_file.html#a9207cd3bcc5ffe210f8cd4ce37460c23">GetData</a>();</div>
<div class="line">            <a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html">nn::g3d::ResShaderArchive</a>* pModelShader = <a class="code" href="classnn_1_1g3d_1_1_res_shader_file.html#a39a1802d90e4a26b504d97710bfdca5a">nn::g3d::ResShaderFile::ResCast</a>(pExternalFile)-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_shader_file.html#ab2a9392d9a139efe97b011ac5aec96c4">GetResShaderArchive</a>();</div>
<div class="line">            pModelShader-&gt;<a name="a114"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html#ad03541d45efb24c2f6991b780ec42add">Cleanup</a>(pDevice);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Destroy the contents of the resource holder.</span></div>
<div class="line">    g3ddemo::DestroyAll(pDevice, &amp;g_Holder);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Configure the SSBO and dispatch parameters for the compute shader.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeTextureAverageShader(<a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    g_TextureAverageShader.Initialize(pDevice, g_pResShadingModelPtr[ShadingModelType_TextureAverage]);</div>
<div class="line">    g_TextureAverageShader.SetTileResolution(pDevice, 64, 64);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the model rendering settings.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeRenderModel(g3ddemo::ResourceHolder* pHolder, <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> fileIndex = File_TownEnv; fileIndex &lt;= File_MaleA; ++fileIndex)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a>* pResFile = pHolder-&gt;files[fileIndex];</div>
<div class="line">        <a class="code" href="namespacenns_1_1g3d.html#aa1c714afc7a0cf4a993dcbc6774f1643">CreateRenderModel</a>(pHolder, pDevice, pResFile);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set LOD information for the ShapeObj user area.</span></div>
<div class="line"><span class="keywordtype">void</span> SetupShapeUserArea(<a class="code" href="classnn_1_1g3d_1_1_model_obj.html">nn::g3d::ModelObj</a>* pModelObj) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> shapeIndex = 0, shapeCount = pModelObj-&gt;<a name="a115"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a54e1cf48111ecb56b8dde5824d13a1fd">GetShapeCount</a>(); shapeIndex &lt; shapeCount; ++shapeIndex)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a116"></a><a class="code" href="classnn_1_1g3d_1_1_shape_obj.html">nn::g3d::ShapeObj</a>* pShapeObj = pModelObj-&gt;<a name="a117"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a4f56c9a4a685ff577c44b60bc50f5a8b">GetShape</a>(shapeIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the starting offset for the vertex buffer for each LOD level.</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> meshIndex = 0; meshIndex &lt; g_MaxLodLevel; ++meshIndex)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (meshIndex &lt; pShapeObj-&gt;GetMeshCount())</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">const</span> <a name="_a118"></a><a class="code" href="classnn_1_1g3d_1_1_res_mesh.html">nn::g3d::ResMesh</a>* pResMesh = pShapeObj-&gt;<a name="a119"></a><a class="code" href="classnn_1_1g3d_1_1_shape_obj.html#a4250dd1621b8717ab126aa3d43a18fa8">GetResMesh</a>(meshIndex);</div>
<div class="line">                pShapeObj-&gt;<a name="a120"></a><a class="code" href="classnn_1_1g3d_1_1_shape_obj.html#a366192ea48975363a42b6793469b484c">GetUserArea</a>&lt;<span class="keywordtype">int</span>&gt;()[meshIndex] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(pResMesh-&gt;<a name="a121"></a><a class="code" href="classnn_1_1g3d_1_1_res_mesh.html#a74c7c4bf93c150f0a0c4d85f6b23d21f">GetOffset</a>());</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Set -1 if there is no LOD level.</span></div>
<div class="line">                pShapeObj-&gt;<a class="code" href="classnn_1_1g3d_1_1_shape_obj.html#a366192ea48975363a42b6793469b484c">GetUserArea</a>&lt;<span class="keywordtype">int</span>&gt;()[meshIndex] = -1;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Make sure to update the user area.</span></div>
<div class="line">    pModelObj-&gt;<a name="a122"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#af814bd6f8fe716e4ae3c8eea11603338">SetShapeUserAreaForceUpdateEnabled</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Generate the model instance.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeModelAnimObj(g3ddemo::ResourceHolder* pHolder, <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> fileIndex = File_TownEnv; fileIndex &lt;= File_MaleA; ++fileIndex)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a>* pResFile = pHolder-&gt;files[fileIndex];</div>
<div class="line">        <a class="code" href="namespacenns_1_1g3d.html#a72152fa94a41e3511738bf0a9bc7c255">CreateModelAnimObj</a>(pHolder, pDevice, pResFile, <span class="keyword">nullptr</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Hide the env model.</span></div>
<div class="line">    {</div>
<div class="line">        g_pEnvModelObj = pHolder-&gt;modelAnimObjs[File_TownEnv]-&gt;GetModelObj();</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> materialIndex = 0, materialCount = g_pEnvModelObj-&gt;<a name="a123"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a78560f853ae973b9383a52a2d52f8253">GetMaterialCount</a>(); materialIndex &lt; materialCount; ++materialIndex)</div>
<div class="line">        {</div>
<div class="line">            g_pEnvModelObj-&gt;<a name="a124"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a6d96fa2003a6099ea92df607e5ddc78e">SetMaterialVisible</a>(materialIndex, <span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize RenderModelObj.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeRenderModelObj(g3ddemo::ResourceHolder* pHolder) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a name="a125"></a><a class="code" href="nn___assert_8h.html#a55d6b188692ffffd64e69532738ed2fc">NN_ASSERT_EQUAL</a>(pHolder-&gt;modelAnimObjs.size(), pHolder-&gt;renderModels.size());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Construct RenderModelObj.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> modelIndex = 0, modelCount = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(pHolder-&gt;modelAnimObjs.size()); modelIndex &lt; modelCount; ++modelIndex)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacenns_1_1g3d.html#a4d8d828fb260a742ceca742312144c68">CreateRenderModelObj</a>(pHolder, pHolder-&gt;modelAnimObjs[modelIndex], pHolder-&gt;renderModels[modelIndex]);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Write the key for rendering the water surface in the shader selector in RenderModelObj.</span></div>
<div class="line"><span class="keywordtype">void</span> SetupWaterVariation(<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> shapeCount = pRenderModelObj-&gt;<a name="a126"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>()-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a54e1cf48111ecb56b8dde5824d13a1fd">GetShapeCount</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> shapeIndex = 0; shapeIndex &lt; shapeCount; ++shapeIndex)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a127"></a><a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a>* pRenderUnitObj = pRenderModelObj-&gt;<a name="a128"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a7c323f2e5100196cc55a5d778de6630a">GetRenderUnitObj</a>(shapeIndex);</div>
<div class="line">        <a name="_a129"></a><a class="code" href="classnn_1_1g3d_1_1_shader_selector.html">nn::g3d::ShaderSelector</a>* pShaderSelector = pRenderUnitObj-&gt;<a name="a130"></a><a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html#ac3f3d5d30665ffbeb4b004dc45aadf23">GetShaderSelector</a>(DrawPassType_Water);</div>
<div class="line">        <span class="keywordtype">int</span> optionIndex = pShaderSelector-&gt;<a name="a131"></a><a class="code" href="classnn_1_1g3d_1_1_shader_selector.html#a6d3d502fd6ee5a967e41fcfe6d42be51">FindDynamicOptionIndex</a>(<span class="stringliteral">&quot;water_world&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (optionIndex == <a name="a132"></a><a class="code" href="classnn_1_1util_1_1_res_dic.html#a825d9c73f03e6d02e9f8d0050b0e11a6">nn::util::ResDic::Npos</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <a name="_a133"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_option.html">nn::g3d::ResShaderOption</a>* pResShaderOption = pShaderSelector-&gt;<a name="a134"></a><a class="code" href="classnn_1_1g3d_1_1_shader_selector.html#a245ecc912327099dc0d517a40a71e5d8">GetDynamicOption</a>(optionIndex);</div>
<div class="line">        <span class="keywordtype">int</span> choiceIndex = pResShaderOption-&gt;<a name="a135"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_option.html#a221f5561148d29f8930f3342e8401430">FindChoiceIndex</a>(<span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (choiceIndex == <a class="code" href="classnn_1_1util_1_1_res_dic.html#a825d9c73f03e6d02e9f8d0050b0e11a6">nn::util::ResDic::Npos</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pShaderSelector-&gt;<a name="a136"></a><a class="code" href="classnn_1_1g3d_1_1_shader_selector.html#a3afe10975f2f1896503ceedda3e04773">WriteDynamicKey</a>(optionIndex, choiceIndex);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Write the key for the rendering type in the shader selector in RenderModelObj.</span></div>
<div class="line"><span class="keywordtype">void</span> WriteDrawTypeKey(<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj, <span class="keywordtype">int</span> passindex, <span class="keyword">const</span> <span class="keywordtype">char</span>* drawTypeKey) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> shapeCount = pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>()-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a54e1cf48111ecb56b8dde5824d13a1fd">GetShapeCount</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> shapeIndex = 0; shapeIndex &lt; shapeCount; ++shapeIndex)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a>* pRenderUnitObj = pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a7c323f2e5100196cc55a5d778de6630a">GetRenderUnitObj</a>(shapeIndex);</div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1_shader_selector.html">nn::g3d::ShaderSelector</a>* pShaderSelector = pRenderUnitObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html#ac3f3d5d30665ffbeb4b004dc45aadf23">GetShaderSelector</a>(passindex);</div>
<div class="line">        <span class="keywordtype">int</span> optionIndex = pShaderSelector-&gt;<a class="code" href="classnn_1_1g3d_1_1_shader_selector.html#a6d3d502fd6ee5a967e41fcfe6d42be51">FindDynamicOptionIndex</a>(<span class="stringliteral">&quot;draw_type&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (optionIndex == <a class="code" href="classnn_1_1util_1_1_res_dic.html#a825d9c73f03e6d02e9f8d0050b0e11a6">nn::util::ResDic::Npos</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_res_shader_option.html">nn::g3d::ResShaderOption</a>* pResShaderOption = pShaderSelector-&gt;<a class="code" href="classnn_1_1g3d_1_1_shader_selector.html#a245ecc912327099dc0d517a40a71e5d8">GetDynamicOption</a>(optionIndex);</div>
<div class="line">        <span class="keywordtype">int</span> choiceIndex = pResShaderOption-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_shader_option.html#a221f5561148d29f8930f3342e8401430">FindChoiceIndex</a>(drawTypeKey);</div>
<div class="line">        <span class="keywordflow">if</span> (choiceIndex == <a class="code" href="classnn_1_1util_1_1_res_dic.html#a825d9c73f03e6d02e9f8d0050b0e11a6">nn::util::ResDic::Npos</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pShaderSelector-&gt;<a class="code" href="classnn_1_1g3d_1_1_shader_selector.html#a3afe10975f2f1896503ceedda3e04773">WriteDynamicKey</a>(optionIndex, choiceIndex);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set LOD and frustum culling for the model.</span></div>
<div class="line"><span class="keywordtype">void</span> SetupRenderModelObj(g3ddemo::ResourceHolder* pHolder) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : pHolder-&gt;renderModelObjs)</div>
<div class="line">    {</div>
<div class="line">        ::SetupRenderModelObj(pRenderModelObj);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Add animation.</span></div>
<div class="line"><span class="keywordtype">void</span> RegisterAnimation(<span class="keyword">const</span> <span class="keywordtype">char</span>* pModelName, <span class="keyword">const</span> <span class="keywordtype">char</span>* pAnimName, <span class="keywordtype">float</span> step) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> objIndex = 0, objCount = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(g_Holder.modelAnimObjs.size()); objIndex &lt; objCount; ++objIndex)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a137"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html">nns::g3d::ModelAnimObj</a>* pModelAnimObj = g_Holder.modelAnimObjs[objIndex];</div>
<div class="line">        <span class="keywordtype">int</span>* pAnimId = g_Holder.animationIds[objIndex];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(pModelName, pModelAnimObj-&gt;<a name="a138"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a75f2e005c7b06d62f33d69508db503e9">GetModelObj</a>()-&gt;<a name="a139"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a71faa678be49b342e738072ed3783ed3">GetResource</a>()-&gt;<a name="a140"></a><a class="code" href="classnn_1_1g3d_1_1_res_model.html#aca2ca478cace80e46c68071c86330880">GetName</a>()) == 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> (<a class="code" href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a>* pFile : g_Holder.files)</div>
<div class="line">            {</div>
<div class="line">                <a name="_a141"></a><a class="code" href="classnn_1_1g3d_1_1_res_skeletal_anim.html">nn::g3d::ResSkeletalAnim</a>* pResSkeletalAnim;</div>
<div class="line">                <span class="keywordflow">if</span> ((pResSkeletalAnim = pFile-&gt;<a name="a142"></a><a class="code" href="classnn_1_1g3d_1_1_res_file.html#a4f00478003a8c27bbb820a8aee35b357">FindSkeletalAnim</a>(pAnimName)) != <span class="keyword">nullptr</span>)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = pModelAnimObj-&gt;<a name="a143"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#aa85473e7a9d9022c249ed737ea34c83a">CreateAnim</a>(pResSkeletalAnim);</div>
<div class="line">                    pModelAnimObj-&gt;<a name="a144"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a96e279ac5daea23a15c152b783bc2c7c">GetAnimObj</a>(<span class="keywordtype">id</span>)-&gt;<a name="a145"></a><a class="code" href="classnn_1_1g3d_1_1_anim_obj.html#ac2f590c6bdb160d6e7b7e640826b4362">GetFrameCtrl</a>().<a name="a146"></a><a class="code" href="classnn_1_1g3d_1_1_anim_frame_ctrl.html#acc8290c7f3020efa545336804fbb7ea0">SetStep</a>(step);</div>
<div class="line">                    pAnimId[AnimationType_Skeletal] = id;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <a name="_a147"></a><a class="code" href="classnn_1_1g3d_1_1_res_material_anim.html">nn::g3d::ResMaterialAnim</a>* pResMaterialAnim;</div>
<div class="line">                <span class="keywordflow">if</span> ((pResMaterialAnim = pFile-&gt;<a name="a148"></a><a class="code" href="classnn_1_1g3d_1_1_res_file.html#a4e6bf2223e05531032dd18f523c224c4">FindMaterialAnim</a>(pAnimName)) != <span class="keyword">nullptr</span>)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#aa85473e7a9d9022c249ed737ea34c83a">CreateAnim</a>(pResMaterialAnim);</div>
<div class="line">                    pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a96e279ac5daea23a15c152b783bc2c7c">GetAnimObj</a>(<span class="keywordtype">id</span>)-&gt;<a class="code" href="classnn_1_1g3d_1_1_anim_obj.html#ac2f590c6bdb160d6e7b7e640826b4362">GetFrameCtrl</a>().<a class="code" href="classnn_1_1g3d_1_1_anim_frame_ctrl.html#acc8290c7f3020efa545336804fbb7ea0">SetStep</a>(step);</div>
<div class="line">                    pAnimId[AnimationType_Material] = id;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <a name="_a149"></a><a class="code" href="classnn_1_1g3d_1_1_res_bone_visibility_anim.html">nn::g3d::ResBoneVisibilityAnim</a>* pResBoneVisibilityAnim;</div>
<div class="line">                <span class="keywordflow">if</span> ((pResBoneVisibilityAnim = pFile-&gt;<a name="a150"></a><a class="code" href="classnn_1_1g3d_1_1_res_file.html#a0f972d96f615b397c35f24e83bbef80c">FindBoneVisibilityAnim</a>(pAnimName)) != <span class="keyword">nullptr</span>)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#aa85473e7a9d9022c249ed737ea34c83a">CreateAnim</a>(pResBoneVisibilityAnim);</div>
<div class="line">                    pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a96e279ac5daea23a15c152b783bc2c7c">GetAnimObj</a>(<span class="keywordtype">id</span>)-&gt;<a class="code" href="classnn_1_1g3d_1_1_anim_obj.html#ac2f590c6bdb160d6e7b7e640826b4362">GetFrameCtrl</a>().<a class="code" href="classnn_1_1g3d_1_1_anim_frame_ctrl.html#acc8290c7f3020efa545336804fbb7ea0">SetStep</a>(step);</div>
<div class="line">                    pAnimId[AnimationType_BoneVisibility] = id;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <a name="_a151"></a><a class="code" href="classnn_1_1g3d_1_1_res_shape_anim.html">nn::g3d::ResShapeAnim</a>* pResShapeAnim;</div>
<div class="line">                <span class="keywordflow">if</span> ((pResShapeAnim = pFile-&gt;<a name="a152"></a><a class="code" href="classnn_1_1g3d_1_1_res_file.html#a9aa26a8344b39de22d2493584f55e000">FindShapeAnim</a>(pAnimName)) != <span class="keyword">nullptr</span>)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#aa85473e7a9d9022c249ed737ea34c83a">CreateAnim</a>(pResShapeAnim);</div>
<div class="line">                    pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a96e279ac5daea23a15c152b783bc2c7c">GetAnimObj</a>(<span class="keywordtype">id</span>)-&gt;<a class="code" href="classnn_1_1g3d_1_1_anim_obj.html#ac2f590c6bdb160d6e7b7e640826b4362">GetFrameCtrl</a>().<a class="code" href="classnn_1_1g3d_1_1_anim_frame_ctrl.html#acc8290c7f3020efa545336804fbb7ea0">SetStep</a>(step);</div>
<div class="line">                    pAnimId[AnimationType_Shape] = id;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize animations.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeAnimation() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    RegisterAnimation(<span class="stringliteral">&quot;bg_WhiteTown&quot;</span>, <span class="stringliteral">&quot;bg_WhiteTown&quot;</span>, 1.0f);</div>
<div class="line">    RegisterAnimation(<span class="stringliteral">&quot;bg_WhiteTown_cloth&quot;</span>, <span class="stringliteral">&quot;bg_WhiteTown_cloth&quot;</span>, 1.0f);</div>
<div class="line">    RegisterAnimation(<span class="stringliteral">&quot;Duck&quot;</span>, <span class="stringliteral">&quot;Duck&quot;</span>, 1.0f);</div>
<div class="line">    RegisterAnimation(<span class="stringliteral">&quot;FemaleA&quot;</span>, <span class="stringliteral">&quot;FemaleA_MoAnime&quot;</span>, 1.0f);</div>
<div class="line">    RegisterAnimation(<span class="stringliteral">&quot;Fish&quot;</span>, <span class="stringliteral">&quot;Fish&quot;</span>, 1.0f);</div>
<div class="line">    RegisterAnimation(<span class="stringliteral">&quot;MaleA&quot;</span>, <span class="stringliteral">&quot;MaleA_MoAnime&quot;</span>, 1.0f);</div>
<div class="line">    RegisterAnimation(<span class="stringliteral">&quot;WhiteTown_Water_Caustics&quot;</span>, <span class="stringliteral">&quot;WhiteTown_Water_Caustics&quot;</span>, 0.2f);</div>
<div class="line">    RegisterAnimation(<span class="stringliteral">&quot;bg_WhiteTown_Water_Flat&quot;</span>, <span class="stringliteral">&quot;bg_WhiteTown_Water_Flat&quot;</span>, 0.5f);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the position of the model.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeModelPosition() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html">nns::g3d::ModelAnimObj</a>* pModelAnimObj : g_Holder.modelAnimObjs)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>* pName = pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a75f2e005c7b06d62f33d69508db503e9">GetModelObj</a>()-&gt;<a name="a153"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#af58166699404cb37a59cb3e6daf96011">GetName</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(pName, <span class="stringliteral">&quot;FemaleA&quot;</span>) == 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> rotate;</div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> translate;</div>
<div class="line">            VectorSet(&amp;rotate, 0.0f, <a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(60.0f), 0.0f);</div>
<div class="line">            VectorSet(&amp;translate, -300.0f, 12.0f, 1550.0f);</div>
<div class="line">            pModelAnimObj-&gt;<a name="a154"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a6d65fa83870517442782cd0c6d676ff7">SetRotate</a>(rotate);</div>
<div class="line">            pModelAnimObj-&gt;<a name="a155"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#ab1d22a1e60ac9dd1fb7693064364f02d">SetTranslate</a>(translate);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(pName, <span class="stringliteral">&quot;MaleA&quot;</span>) == 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> rotate;</div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> translate;</div>
<div class="line">            VectorSet(&amp;rotate, 0.0f, 0.0f, 0.0f);</div>
<div class="line">            VectorSet(&amp;translate, 0.0f, 15.0f, 170.0f);</div>
<div class="line">            pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a6d65fa83870517442782cd0c6d676ff7">SetRotate</a>(rotate);</div>
<div class="line">            pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#ab1d22a1e60ac9dd1fb7693064364f02d">SetTranslate</a>(translate);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Update ModelAnimObj.</span></div>
<div class="line"><span class="keywordtype">void</span> CalculateModelAnimObjs(<span class="keywordtype">int</span> uniformBufferIndex, <span class="keywordtype">bool</span> enableAnimation) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get the RenderModelObj with the specified name from the resource holder.</span></div>
<div class="line"><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* FindRenderModelObj(<span class="keyword">const</span> <span class="keywordtype">char</span>* pModelName) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize light placement.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializePointLight(<a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Update to get the placement coordinates.</span></div>
<div class="line">    CalculateModelAnimObjs(0, <span class="keyword">true</span>);</div>
<div class="line">    CalculateModelAnimObjs(1, <span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a>* pLightFile = g_Holder.files[File_Light];</div>
<div class="line">    <a name="_a156"></a><a class="code" href="classnn_1_1g3d_1_1_res_model.html">nn::g3d::ResModel</a>* pLightResModel = pLightFile-&gt;<a name="a157"></a><a class="code" href="classnn_1_1g3d_1_1_res_file.html#aea207d962515bd832f33b3efd734ccbc">FindModel</a>(<span class="stringliteral">&quot;Point&quot;</span>);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pLightResModel);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the light settings.</span></div>
<div class="line">    g_PointLight.Initialize(pDevice, pLightResModel, g_pResShadingModelPtr[ShadingModelType_Light]);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get the town model.</span></div>
<div class="line">    <a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pTownRenderModelObj = FindRenderModelObj(<span class="stringliteral">&quot;bg_WhiteTown&quot;</span>);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pTownRenderModelObj);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* pointLightPrefix = <span class="stringliteral">&quot;PointLight_&quot;</span>;</div>
<div class="line">    <span class="keyword">const</span> <a name="_a158"></a><a class="code" href="structnn_1_1util_1_1_float3.html">nn::util::Float3</a> pointLightColor = NN_UTIL_FLOAT_3_INITIALIZER(1.0f, 0.8f, 0.4f);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get the bone for the point light and place the light.</span></div>
<div class="line">    <span class="keyword">const</span> <a name="_a159"></a><a class="code" href="classnn_1_1g3d_1_1_skeleton_obj.html">nn::g3d::SkeletonObj</a>* pSkeletonObj = pTownRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>()-&gt;<a name="a160"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#af8c5bbd80c73ab37280e7505ea4a0292">GetSkeleton</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> boneIndex = 0, boneCount = pSkeletonObj-&gt;<a name="a161"></a><a class="code" href="classnn_1_1g3d_1_1_skeleton_obj.html#ab15be070fb286ad141a8c93607f55c67">GetBoneCount</a>(); boneIndex &lt; boneCount; ++boneIndex)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <a name="_a162"></a><a class="code" href="classnn_1_1g3d_1_1_res_bone.html">nn::g3d::ResBone</a>* pResBone = pSkeletonObj-&gt;<a name="a163"></a><a class="code" href="classnn_1_1g3d_1_1_skeleton_obj.html#aa68e8daa205d4be875ce8d4381729d1b">GetResBone</a>(boneIndex);</div>
<div class="line">        <span class="keywordflow">if</span> (strncmp(pResBone-&gt;<a name="a164"></a><a class="code" href="classnn_1_1g3d_1_1_res_bone.html#ada6b32d204c3db8b73db76e781d0a0a1">GetName</a>(), pointLightPrefix, strlen(pointLightPrefix)) != 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Get the position from the light bone.</span></div>
<div class="line">        <span class="keyword">const</span> <a name="_a165"></a><a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a>&amp; matrix = pSkeletonObj-&gt;<a name="a166"></a><a class="code" href="classnn_1_1g3d_1_1_skeleton_obj.html#a97fdc7d1e1740b2e49d3c5365589adda">GetWorldMtxArray</a>()[boneIndex];</div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> center;</div>
<div class="line">        MatrixGetAxisW(&amp;center, matrix);</div>
<div class="line"> </div>
<div class="line">        g_PointLight.AddLight(pDevice, pointLightColor, center);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the camera placement.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeCamera() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    VectorSet(&amp;g_CameraPosition, 380.0f, 140.0f, 2400.0f);</div>
<div class="line">    VectorSet(&amp;g_CameraUp, 0.0f, 1.0f, 0.0f);</div>
<div class="line">    VectorSet(&amp;g_CameraTarget, -400.0f, 0.0f, 0.0f);</div>
<div class="line">    VectorSet(&amp;g_LightPosition, 2000.0f, 2200.0f, 2000.0f);</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a> matrix;</div>
<div class="line">    MatrixLookAtRightHanded(&amp;matrix, g_CameraPosition, g_CameraTarget, g_CameraUp);</div>
<div class="line">    g_RenderView.<a name="a167"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#a5b633742724f63bffdb11389a06b974b">SetViewMtx</a>(ViewType_Default, matrix);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the viewer library.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeViewer(<a name="_a168"></a><a class="code" href="classnns_1_1gfx_1_1_debug_graphics_framework.html">nns::gfx::DebugGraphicsFramework</a>* pGfxFramework) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    g_TownViewer.Initialize(pGfxFramework, g_Holder, TownViewer::TownViewerCallback, TownViewer::ViewerTextureBindCallback);</div>
<div class="line">    g_TownViewer.StartPollThread();</div>
<div class="line">    g_TownViewer.Open();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> FinalizeViewer() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Viewer termination processing.</span></div>
<div class="line">    g_TownViewer.Close();</div>
<div class="line">    g_TownViewer.StopPollThread();</div>
<div class="line">    g_TownViewer.Finalize();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize Town.</span></div>
<div class="line"><span class="keywordtype">void</span> InitializeTown(<a class="code" href="classnns_1_1gfx_1_1_debug_graphics_framework.html">nns::gfx::DebugGraphicsFramework</a>* pGfxFramework) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a6dbabc4b1fab1df227e879443468b749">GetDevice</a>();</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if NN_BUILD_TARGET_PLATFORM_OS_NN</span></div>
<div class="line">    <span class="comment">// Enable fast load mode when moving to the transition screen.</span></div>
<div class="line">    <a name="a169"></a><a class="code" href="namespacenn_1_1oe.html#a217121fe4c4dcf327efa7059c33c88c3">nn::oe::SetCpuBoostMode</a>(<a name="a170"></a><a class="code" href="namespacenn_1_1oe.html#a9a4c06113b2d2e39157e21fd9d33c874a56d0c008e285dc2c80ab2f33c225e4c6">nn::oe::CpuBoostMode_FastLoad</a>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the parameters for displaying the menu.</span></div>
<div class="line">    InitializeMenu();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the bounding view.</span></div>
<div class="line">    g_BoundingRenderer.Initialize(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Assign the current main thread to core 0.</span></div>
<div class="line">    <a name="a171"></a><a class="code" href="namespacenn_1_1os.html#ac50b86561c15ee3e8195c83fddc8e732">nn::os::SetThreadCoreMask</a>(<a name="a172"></a><a class="code" href="namespacenn_1_1os.html#ad106866a5b13bc3d430104333966b479">nn::os::GetCurrentThread</a>(), 0, 1);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the load measurement feature.</span></div>
<div class="line">    pGfxFramework-&gt;InitializePerf();</div>
<div class="line"><span class="preprocessor">#if defined( NN_BUILD_CONFIG_OS_WIN )</span></div>
<div class="line">    <a name="a173"></a><a class="code" href="perf___profile_8h.html#a3506f976dd0501c40d1605db7811ceed">NN_PERF_SET_GET_CORE_NUMBER_FUNCTION</a>(g3ddemo::GetFixedCoreNumber);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the framebuffer.</span></div>
<div class="line">    InitializeFrameBuffer(pGfxFramework, pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the context.</span></div>
<div class="line">    g_Context.Initialize(pDevice);</div>
<div class="line">    g_DebugDrawModeContext.Initialize(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the view.</span></div>
<div class="line">    InitializeRenderView(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize shared objects.</span></div>
<div class="line">    InitializeSharedObject(pGfxFramework);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize resources.</span></div>
<div class="line">    InitializeResource(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the shader that requests the average brightness of the framebuffer.</span></div>
<div class="line">    InitializeTextureAverageShader(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the shader that displays the overdraw results.</span></div>
<div class="line">    g_OverdrawVisualizeShader.Initialize(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the model rendering settings.</span></div>
<div class="line">    InitializeRenderModel(&amp;g_Holder, pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Generate the model instance.</span></div>
<div class="line">    InitializeModelAnimObj(&amp;g_Holder, pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Link the model rendering settings and model instance.</span></div>
<div class="line">    InitializeRenderModelObj(&amp;g_Holder);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set LOD and frustum culling for the model.</span></div>
<div class="line">    SetupRenderModelObj(&amp;g_Holder);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Add animation.</span></div>
<div class="line">    InitializeAnimation();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the position of the model.</span></div>
<div class="line">    InitializeModelPosition();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the point light.</span></div>
<div class="line">    InitializePointLight(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the camera placement.</span></div>
<div class="line">    InitializeCamera();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the viewer library.</span></div>
<div class="line">    InitializeViewer(pGfxFramework);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the view volume.</span></div>
<div class="line">    g_ViewVolumeRenderer.Initialize();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the scratch memory needed for the shader.</span></div>
<div class="line">    SetShaderScratchMemory(pGfxFramework, g_Holder.shaderFiles, g_Holder.files);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef NN_BUILD_TARGET_PLATFORM_OS_NN</span></div>
<div class="line">    <span class="comment">// The transition screen has ended, so disable fast load mode.</span></div>
<div class="line">    <a class="code" href="namespacenn_1_1oe.html#a217121fe4c4dcf327efa7059c33c88c3">nn::oe::SetCpuBoostMode</a>(<a name="a174"></a><a class="code" href="namespacenn_1_1oe.html#a9a4c06113b2d2e39157e21fd9d33c874a68b6ac86a64960519ad1bc96e5630653">nn::oe::CpuBoostMode_Normal</a>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Finalize Town.</span></div>
<div class="line"><span class="keywordtype">void</span> FinalizeTown(<a class="code" href="classnns_1_1gfx_1_1_debug_graphics_framework.html">nns::gfx::DebugGraphicsFramework</a>* pGfxFramework, <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Finalize the view volume.</span></div>
<div class="line">    g_ViewVolumeRenderer.Finalize();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Finalize light.</span></div>
<div class="line">    g_PointLight.Finalize(pDevice);</div>
<div class="line"> </div>
<div class="line">    FinalizeViewer();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Destroy the shader that requests average brightness.</span></div>
<div class="line">    g_TextureAverageShader.Finalize(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the shader that displays the overdraw results.</span></div>
<div class="line">    g_OverdrawVisualizeShader.Finalize(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the dummy texture.</span></div>
<div class="line">    g3ddemo::DeleteDummyTextureAndSampler(pDevice);</div>
<div class="line"> </div>
<div class="line">     <span class="comment">// Free resources.</span></div>
<div class="line">    FinalizeResource(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize shared objects.</span></div>
<div class="line">    FinalizeSharedObject(pGfxFramework);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the view.</span></div>
<div class="line">    g_RenderView.<a name="a175"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#ae2461a77f4a4a5f2c954516604f35a9e">Finalize</a>(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the context.</span></div>
<div class="line">    g_Context.Finalize(pDevice);</div>
<div class="line">    g_DebugDrawModeContext.Finalize(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Framebuffer termination processing.</span></div>
<div class="line">    FinalizeFrameBuffer(pGfxFramework);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the load measurement meter.</span></div>
<div class="line">    pGfxFramework-&gt;FinalizePerf();</div>
<div class="line"> </div>
<div class="line">     <span class="comment">// Free the bounding view.</span></div>
<div class="line">    g_BoundingRenderer.<a name="a176"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#acecf77dd6ff405ca77374c2829a4a9bf">Finalize</a>(pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Disable the framework callback function.</span></div>
<div class="line">    pGfxFramework-&gt;<a name="a177"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#af8b095e85b8a9c7aec4f4b9748295885">SetCalculateCallback</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">    pGfxFramework-&gt;<a name="a178"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a5bd57c06d0e55d2f66ecc9c6058c8302">SetMakeCommandCallback</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//-------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">//  Updating.</span></div>
<div class="line"><span class="comment">//-------------------------------------------------------------------</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Update the camera.</span></div>
<div class="line"><span class="keywordtype">void</span> UpdateCamera() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a>&amp; pos = g_CameraPosition;</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a>&amp; target = g_CameraTarget;</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a>&amp; up = g_CameraUp;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> isUpdated = !(g3ddemo::IsMouseUsed() &amp;&amp; ImGui::IsWindowFocused(ImGuiFocusedFlags_AnyWindow));</div>
<div class="line">    <span class="keywordflow">if</span> (isUpdated)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> targetDir;</div>
<div class="line">        <span class="keywordtype">float</span> length;</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Calculate the view vector.</span></div>
<div class="line">            VectorSubtract(&amp;targetDir, target, pos);</div>
<div class="line">            <span class="keywordtype">float</span> lengthSq = VectorLengthSquared(targetDir);</div>
<div class="line">            length = std::sqrt(lengthSq);</div>
<div class="line">            nn::util::VectorDivide(&amp;targetDir, targetDir, length);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Get the camera attitude in world space.</span></div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> viewRight;</div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> viewUp;</div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> viewForward;</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a>&amp; viewMtx = g_RenderView.<a name="a179"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#aff24f2ebd999e9d9f423945fa9d4e8e0">GetViewMtx</a>(ViewType_Default);</div>
<div class="line">            g3ddemo::MatrixGetColumn0(&amp;viewRight, viewMtx);</div>
<div class="line">            g3ddemo::MatrixGetColumn1(&amp;viewUp, viewMtx);</div>
<div class="line">            nn::util::VectorSubtract(&amp;viewForward, <a name="a180"></a><a class="code" href="classnn_1_1util_1_1_vector3f.html#a8c56edbb5901c65aae3b2c248513e7f8">nn::util::Vector3f::Zero</a>(), targetDir);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update the position using the current camera attitude and the stick input value.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">float</span> AtMoveSpeed = 20.0f;</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> viewMovement;</div>
<div class="line">            <span class="keyword">const</span> <a name="_a181"></a><a class="code" href="structnn_1_1util_1_1_float2.html">nn::util::Float2</a>&amp; leftStick = g3ddemo::GetLeftStick();</div>
<div class="line"> </div>
<div class="line">            VectorMultiply(&amp;viewMovement, viewRight, AtMoveSpeed * (leftStick.<a name="a182"></a>x));</div>
<div class="line">            VectorAdd(&amp;pos, viewMovement, pos);</div>
<div class="line">            VectorMultiply(&amp;viewMovement, viewForward, AtMoveSpeed * (-leftStick.<a name="a183"></a>y));</div>
<div class="line">            VectorAdd(&amp;pos, viewMovement, pos);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the camera rotation amount from the stick input value.</span></div>
<div class="line">        <a name="_a184"></a><a class="code" href="structnn_1_1util_1_1_vector4f_type.html">nn::util::Vector4fType</a> quatanion;</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">float</span> RotSpeed = 0.02f;</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_float2.html">nn::util::Float2</a>&amp; rightStick = g3ddemo::GetRightStick();</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_vector4f_type.html">nn::util::Vector4fType</a> quatanionX;</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">float</span> angle = rightStick.y * RotSpeed * 0.5f;</div>
<div class="line">                <span class="keywordtype">float</span> cos = std::cos(angle);</div>
<div class="line">                <span class="keywordtype">float</span> sin = std::sin(angle);</div>
<div class="line">                VectorSet(&amp;quatanionX, sin * VectorGetX(viewRight), sin * VectorGetY(viewRight), sin * VectorGetZ(viewRight), cos);</div>
<div class="line">            }</div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_vector4f_type.html">nn::util::Vector4fType</a> quatanionY;</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">float</span> angle = rightStick.x * -RotSpeed * 0.5f;</div>
<div class="line">                VectorSet(&amp;quatanionY, 0.0f, std::sin(angle), 0.0f, std::cos(angle));</div>
<div class="line">            }</div>
<div class="line">            QuaternionMultiply(&amp;quatanion, quatanionY, quatanionX);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Apply the rotation amount calculated from the view vector.</span></div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a> matrix;</div>
<div class="line">                MatrixSetRotate(&amp;matrix, quatanion);</div>
<div class="line"> </div>
<div class="line">                VectorTransformNormal(&amp;targetDir, targetDir, matrix);</div>
<div class="line">                VectorNormalize(&amp;targetDir, targetDir);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Update the target position.</span></div>
<div class="line">            VectorMultiply(&amp;target, targetDir, length);</div>
<div class="line">            VectorAdd(&amp;target, target, pos);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Create the upward direction from the position and target.</span></div>
<div class="line">            VectorCross(&amp;up, viewRight, targetDir);</div>
<div class="line">            VectorSet(&amp;up, 0.0f, (VectorGetY(up) &gt;= 0) ? 1.0f : -1.0f, 0.0f);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Focus on the target when there is button input.</span></div>
<div class="line">    <span class="keywordflow">if</span> (</div>
<div class="line">        !g3ddemo::IsButtonHolded&lt;nns::hid::Button::Y&gt;() &amp;&amp; (</div>
<div class="line">            g3ddemo::IsButtonHolded&lt;nns::hid::Button::ZL&gt;() ||</div>
<div class="line">            g3ddemo::IsButtonHolded&lt;nns::hid::Button::ZR&gt;())</div>
<div class="line">        )</div>
<div class="line">    {</div>
<div class="line">        MoveFocusToSelected();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Apply to the constant buffer.</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a> matrix;</div>
<div class="line">        MatrixLookAtRightHanded(&amp;matrix, pos, target, up);</div>
<div class="line">        g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a5b633742724f63bffdb11389a06b974b">SetViewMtx</a>(ViewType_Default, matrix);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Update the models.</span></div>
<div class="line"><span class="keywordtype">void</span> CalculateModelAnimObjs(<span class="keywordtype">int</span> uniformBufferIndex, <span class="keywordtype">bool</span> enableAnimation) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Update the common ModelAnimObj for each pass.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html">nns::g3d::ModelAnimObj</a>* pModelAnimObj : g_Holder.modelAnimObjs)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Execute animation.</span></div>
<div class="line">        <span class="keywordflow">if</span> (enableAnimation)</div>
<div class="line">        {</div>
<div class="line">            pModelAnimObj-&gt;<a name="a185"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a82b107da95e7e3d784c583231239312c">CalculateAnimations</a>();</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// When playing skeletal animations in 3DEditor,</span></div>
<div class="line">            <span class="comment">// use CalculateAnimations() to overwrite the updated animations.</span></div>
<div class="line">            <span class="comment">// To use the cache, the calculations are performed continuously from skeletal</span></div>
<div class="line">            <span class="comment">// animation calculations to the world matrix calculations.</span></div>
<div class="line">            <a name="a186"></a><a class="code" href="classnn_1_1g3d_1_1viewer_1_1_viewer_server.html#a47e4dee10fee77c93daece0d2f6ccd83">nn::g3d::viewer::ViewerServer::GetInstance</a>().<a name="a187"></a><a class="code" href="classnn_1_1g3d_1_1viewer_1_1_viewer_server.html#af3db15d17f92c36d93953eab0413163a">CalculateSkeletalAnimations</a>(pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a75f2e005c7b06d62f33d69508db503e9">GetModelObj</a>());</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pModelAnimObj-&gt;<a name="a188"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a02e5ba16654e2ac74bcb2caaed0900ec">CalculateWorld</a>();</div>
<div class="line">        pModelAnimObj-&gt;<a name="a189"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#acefaadd93924a74297cad50f9b37ec5f">CalculateBounding</a>();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (enableAnimation)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1viewer_1_1_viewer_server.html#a47e4dee10fee77c93daece0d2f6ccd83">nn::g3d::viewer::ViewerServer::GetInstance</a>().<a name="a190"></a><a class="code" href="classnn_1_1g3d_1_1viewer_1_1_viewer_server.html#a59245dea48b7f205905c636c40db9806">CalculateAnimations</a>();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html">nns::g3d::ModelAnimObj</a>* pModelAnimObj : g_Holder.modelAnimObjs)</div>
<div class="line">    {</div>
<div class="line">        pModelAnimObj-&gt;<a name="a191"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a42dadacf320552419e3c79da07846ad4">CalculateUniformBlock</a>(uniformBufferIndex);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get the RenderModelObj with the specified name from the resource holder.</span></div>
<div class="line"><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* FindRenderModelObj(<span class="keyword">const</span> <span class="keywordtype">char</span>* pModelName) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>()-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#af58166699404cb37a59cb3e6daf96011">GetName</a>(), pModelName) != 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> pRenderModelObj;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate the AABB size.</span></div>
<div class="line"><span class="keywordtype">bool</span> CalculateAdjustedAabb(</div>
<div class="line">    <a name="_a192"></a><a class="code" href="structnn_1_1g3d_1_1_aabb.html">nn::g3d::Aabb</a>* pAabbObj,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a>* pRenderUnitObj,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a>&amp; lightView,</div>
<div class="line">    <span class="keyword">const</span> <a name="_a193"></a><a class="code" href="structnn_1_1g3d_1_1_view_volume.html">nn::g3d::ViewVolume</a>&amp; viewVolume</div>
<div class="line">) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_shape_obj.html">nn::g3d::ShapeObj</a>* pShapeObj = pRenderUnitObj-&gt;<a name="a194"></a><a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html#a070b738c99704e910bce8d8f332ce988">GetShapeObj</a>();</div>
<div class="line">    <span class="keyword">const</span> <a name="_a195"></a><a class="code" href="structnn_1_1g3d_1_1_sphere.html">nn::g3d::Sphere</a>* pSphere = pShapeObj-&gt;<a name="a196"></a><a class="code" href="classnn_1_1g3d_1_1_shape_obj.html#a311a863e4d0810ddffa988344af47974">GetBounding</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (!pSphere || !viewVolume.<a name="a197"></a><a class="code" href="structnn_1_1g3d_1_1_view_volume.html#a27699906ae01800c90654c7cab3d38da">TestIntersection</a>(*pSphere))</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> pos;</div>
<div class="line">    VectorTransform(&amp;pos, pSphere-&gt;<a name="a198"></a><a class="code" href="structnn_1_1g3d_1_1_sphere.html#af9b926645587dc30bef63829d00c6b04">center</a>, lightView);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> radiusVector = nn::util::MakeVector3fType(</div>
<div class="line">        pSphere-&gt;<a name="a199"></a><a class="code" href="structnn_1_1g3d_1_1_sphere.html#a6a3b0a90d98a62e136cf04663c001f6a">radius</a>, pSphere-&gt;<a class="code" href="structnn_1_1g3d_1_1_sphere.html#a6a3b0a90d98a62e136cf04663c001f6a">radius</a>, pSphere-&gt;<a class="code" href="structnn_1_1g3d_1_1_sphere.html#a6a3b0a90d98a62e136cf04663c001f6a">radius</a>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> sphereAabbPoints[2];</div>
<div class="line">    nn::util::VectorAdd(&amp;sphereAabbPoints[0], pos, radiusVector);</div>
<div class="line">    nn::util::VectorSubtract(&amp;sphereAabbPoints[1], pos, radiusVector);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1g3d_1_1_aabb.html">nn::g3d::Aabb</a> sphereAabb;</div>
<div class="line">    sphereAabb.<a name="a200"></a><a class="code" href="structnn_1_1g3d_1_1_aabb.html#af2f8ee6cbdb5cc54f3a473f1d161eb57">Set</a>(sphereAabbPoints, 2);</div>
<div class="line"> </div>
<div class="line">    pAabbObj-&gt;<a name="a201"></a><a class="code" href="structnn_1_1g3d_1_1_aabb.html#a55665897527cf6fe756913cd698abd42">Merge</a>(*pAabbObj, sphereAabb);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> CanDrawToShadowMap(<span class="keyword">const</span> <a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a>* pRenderUnitObj, <span class="keywordtype">int</span> passIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate the light source projection matrix.</span></div>
<div class="line"><span class="keywordtype">void</span> CalculateLightAabb(</div>
<div class="line">    <a class="code" href="structnn_1_1g3d_1_1_aabb.html">nn::g3d::Aabb</a>* pOutAabb,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a>&amp; lightView,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a>&amp; invLightView,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a>&amp; cameraView,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a>&amp; cameraProj</div>
<div class="line">) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> cameraViewProj;</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> invCameraViewProj;</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> screenToLightView;</div>
<div class="line">    MatrixMultiply(&amp;cameraViewProj, cameraView, cameraProj);</div>
<div class="line">    MatrixInverse(&amp;invCameraViewProj, cameraViewProj);</div>
<div class="line">    MatrixMultiply(&amp;screenToLightView, invCameraViewProj, lightView);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1g3d_1_1_aabb.html">nn::g3d::Aabb</a> lightVolumeAabb;</div>
<div class="line">    VectorSet(&amp;lightVolumeAabb.<a name="a202"></a><a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>, FLT_MAX, FLT_MAX, FLT_MAX);</div>
<div class="line">    VectorSet(&amp;lightVolumeAabb.<a name="a203"></a><a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>, -FLT_MAX, -FLT_MAX, -FLT_MAX);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1g3d_1_1_aabb.html">nn::g3d::Aabb</a> objectsAabb;</div>
<div class="line">    VectorSet(&amp;objectsAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>, FLT_MAX, FLT_MAX, FLT_MAX);</div>
<div class="line">    VectorSet(&amp;objectsAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>, -FLT_MAX, -FLT_MAX, -FLT_MAX);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> posLightView;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; 2; ++x)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; 2; ++y)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; 2; ++z)</div>
<div class="line">            {</div>
<div class="line">                VectorSet(&amp;posLightView,</div>
<div class="line">                    x == 0 ? -1.0f : 1.0f,</div>
<div class="line">                    y == 0 ? -1.0f : 1.0f,</div>
<div class="line">                    z == 0 ? 0.0f : 1.0f);</div>
<div class="line">                VectorTransformCoord(&amp;posLightView, posLightView, screenToLightView);</div>
<div class="line">                VectorSet(&amp;lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>,</div>
<div class="line">                    (std::min)(VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetX(posLightView)),</div>
<div class="line">                    (std::min)(VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetY(posLightView)),</div>
<div class="line">                    (std::min)(VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetZ(posLightView)));</div>
<div class="line">                VectorSet(&amp;lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>,</div>
<div class="line">                    (std::max)(VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), VectorGetX(posLightView)),</div>
<div class="line">                    (std::max)(VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), VectorGetY(posLightView)),</div>
<div class="line">                    (std::max)(VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), VectorGetZ(posLightView)));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    VectorSetZ(&amp;lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>, 0.0f);</div>
<div class="line"> </div>
<div class="line">    *pOutAabb = lightVolumeAabb;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1g3d_1_1_view_volume.html">nn::g3d::ViewVolume</a> viewVolume;</div>
<div class="line">    viewVolume.<a name="a204"></a><a class="code" href="structnn_1_1g3d_1_1_view_volume.html#a1c153ca33802ebdffa981311c7d515eb">SetOrtho</a>(VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), -VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), -VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), invLightView);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> isObjectAabbValid = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> shapeIndex = 0, shapeCount = pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>()-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a54e1cf48111ecb56b8dde5824d13a1fd">GetShapeCount</a>(); shapeIndex &lt; shapeCount; ++shapeIndex)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a>* pRenderUnitObj = pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a7c323f2e5100196cc55a5d778de6630a">GetRenderUnitObj</a>(shapeIndex);</div>
<div class="line">            <span class="keywordflow">if</span> (!CanDrawToShadowMap(pRenderUnitObj, DrawPassType_Shadow))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line">            isObjectAabbValid |= CalculateAdjustedAabb(&amp;objectsAabb, pRenderUnitObj, lightView, viewVolume);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!isObjectAabbValid)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    VectorSet(&amp;pOutAabb-&gt;<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>,</div>
<div class="line">        (std::max)(VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetX(objectsAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>)),</div>
<div class="line">        (std::max)(VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetY(objectsAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>)),</div>
<div class="line">        (std::max)(VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetZ(objectsAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>))</div>
<div class="line">    );</div>
<div class="line">    VectorSet(&amp;pOutAabb-&gt;<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>,</div>
<div class="line">        (std::min)(VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), VectorGetX(objectsAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>)),</div>
<div class="line">        (std::min)(VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), VectorGetY(objectsAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>)),</div>
<div class="line">        (std::min)(VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), VectorGetZ(objectsAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>))</div>
<div class="line">    );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate the context.</span></div>
<div class="line"><span class="keywordtype">void</span> CalculateContext(<span class="keywordtype">int</span> bufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">float</span> cascadeDepth[TownContext::cascadeShadowCount + 1] = { 10.0f, 800.0f, 1600.0f, 4500.0f, 40000.0f };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Update the position of the light based on the material.</span></div>
<div class="line">    <span class="keyword">const</span> <a name="_a205"></a><a class="code" href="classnn_1_1g3d_1_1_material_obj.html">nn::g3d::MaterialObj</a>* pEnvMaterial = g_pEnvModelObj-&gt;<a name="a206"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a225cda4a0e7881df5dc4ebb15ac6c6f6">GetMaterial</a>(0);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> paramIndex = 0, paramCount = pEnvMaterial-&gt;<a name="a207"></a><a class="code" href="classnn_1_1g3d_1_1_material_obj.html#a92e4a14e18379878b68e8a1df4906e8f">GetShaderParamCount</a>(); paramIndex &lt; paramCount; ++paramIndex)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>* paramName = pEnvMaterial-&gt;<a name="a208"></a><a class="code" href="classnn_1_1g3d_1_1_material_obj.html#ad0d7594dd997ea0ce862ed400fb82793">GetShaderParamName</a>(paramIndex);</div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(paramName, <span class="stringliteral">&quot;dir_light_dir&quot;</span>) != 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_float3.html">nn::util::Float3</a>* lightDir = pEnvMaterial-&gt;<a name="a209"></a><a class="code" href="classnn_1_1g3d_1_1_material_obj.html#a1864c83787f076a1bd8edf556ef82c48">GetShaderParam</a>&lt;<a class="code" href="structnn_1_1util_1_1_float3.html">nn::util::Float3</a>&gt;(paramIndex);</div>
<div class="line">        nn::util::VectorSet(&amp;g_LightPosition, -lightDir-&gt;<a name="a210"></a>x * 2000.0f, -lightDir-&gt;<a name="a211"></a>y * 2200.0f, -lightDir-&gt;<a name="a212"></a>z * 2000.0f);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> up = <a name="a213"></a><a class="code" href="util___vector_api_8h.html#ad240ddb9de10d0854bf3af10a4bead74">NN_UTIL_VECTOR_3F_INITIALIZER</a>(0.0f, 1.0f, 0.0f);</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> target = <a class="code" href="util___vector_api_8h.html#ad240ddb9de10d0854bf3af10a4bead74">NN_UTIL_VECTOR_3F_INITIALIZER</a>(0.0f, 0.0f, 0.0f);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a> lightViewMatrix;</div>
<div class="line">    MatrixLookAtRightHanded(&amp;lightViewMatrix, g_LightPosition, target, up);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a> invLightViewMatrix;</div>
<div class="line">    MatrixInverse(&amp;invLightViewMatrix, lightViewMatrix);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sliceIndex = 0; sliceIndex &lt; TownContext::cascadeShadowCount; ++sliceIndex)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> cascadeProjMatrix;</div>
<div class="line">        MatrixPerspectiveFieldOfViewRightHanded(&amp;cascadeProjMatrix, <a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f), 16.0f / 9.0f, cascadeDepth[sliceIndex], cascadeDepth[sliceIndex + 1]);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="structnn_1_1g3d_1_1_aabb.html">nn::g3d::Aabb</a> lightVolumeAabb;</div>
<div class="line">        CalculateLightAabb(&amp;lightVolumeAabb, lightViewMatrix, invLightViewMatrix, g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#aff24f2ebd999e9d9f423945fa9d4e8e0">GetViewMtx</a>(ViewType_Default), cascadeProjMatrix);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> lightProjMatrix;</div>
<div class="line">        MatrixOrthographicOffCenterRightHanded(&amp;lightProjMatrix,</div>
<div class="line">            VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>),</div>
<div class="line">            VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>),</div>
<div class="line">            -VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), -VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>));</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> lightViewProjMatrix;</div>
<div class="line">        MatrixMultiply(&amp;lightViewProjMatrix, lightViewMatrix, lightProjMatrix);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the context for each cascade.</span></div>
<div class="line">        g_Context.SetLightProjection(bufferIndex, sliceIndex, lightViewProjMatrix);</div>
<div class="line"> </div>
<div class="line">        g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a5b633742724f63bffdb11389a06b974b">SetViewMtx</a>(ViewType_Light0 + sliceIndex, lightViewMatrix);</div>
<div class="line">        g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#ab2d9de5f49ec96d7672389badb1acf46">SetProjectionMtx</a>(ViewType_Light0 + sliceIndex, lightProjMatrix);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the view volume for frustum culling.</span></div>
<div class="line">        g_RenderView.<a name="a214"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">GetViewVolume</a>(ViewType_Light0 + sliceIndex).<a class="code" href="structnn_1_1g3d_1_1_view_volume.html#a1c153ca33802ebdffa981311c7d515eb">SetOrtho</a>(</div>
<div class="line">            VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), VectorGetY(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>),</div>
<div class="line">            VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>), VectorGetX(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>),</div>
<div class="line">            -VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">max</a>), -VectorGetZ(lightVolumeAabb.<a class="code" href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">min</a>),</div>
<div class="line">            invLightViewMatrix);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    g_Context.SetCascadeDepth(bufferIndex, &amp;cascadeDepth[1]);</div>
<div class="line">    g_Context.SetNearFar(bufferIndex, 10.0f, 40000.0f);</div>
<div class="line">    <span class="keywordtype">float</span> tanFovY = std::tan(<a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f * 0.5f));</div>
<div class="line">    g_Context.SetTangentFov(bufferIndex, tanFovY * (16.0f / 9.0f), tanFovY);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::TextureCompute&gt;() &amp;&amp; g_FrameCount &gt; 1)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Calculate the average brightness.</span></div>
<div class="line">        g_TextureAverageShader.CalculateAverage(bufferIndex);</div>
<div class="line">        <a name="_a215"></a><a class="code" href="structnn_1_1util_1_1_float4.html">nn::util::Float4</a>&amp; texAverage = g_TextureAverageShader.GetTextureAverage(bufferIndex);</div>
<div class="line">        <span class="keywordtype">float</span> diff = texAverage.<a name="a216"></a>x + texAverage.<a name="a217"></a>y + texAverage.<a name="a218"></a>z - 0.65f;</div>
<div class="line">        <span class="comment">// Previously calculated result.</span></div>
<div class="line">        <span class="keywordtype">float</span> diffIntensity = g_Context.GetDiffIntensity(1 - bufferIndex);</div>
<div class="line">        diffIntensity -= diff * diff * diff * 0.04f;</div>
<div class="line">        <span class="keywordflow">if</span> (diffIntensity &lt; 0.3f) diffIntensity = 0.3f;</div>
<div class="line">        <span class="keywordflow">if</span> (diffIntensity &gt; 1.7f) diffIntensity = 1.7f;</div>
<div class="line">        g_Context.SetDiffIntensity(bufferIndex, diffIntensity);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        g_Context.SetDiffIntensity(bufferIndex, nn::g3d::Math::Abs(((g_FrameCount + 27000) % 36000 - 18000) / 18000.0f) * 2.0f);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    g_Context.Calculate(bufferIndex);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// The debug draw context.</span></div>
<div class="line">    g_DebugDrawModeContext.SetLodLevelEnabled(bufferIndex, g_SelectedDebugDrawType == DebugDrawType_LodLevel);</div>
<div class="line">    g_DebugDrawModeContext.SetMipLevelEnabled(bufferIndex, g_SelectedDebugDrawType == DebugDrawType_MipLevel);</div>
<div class="line">    g_DebugDrawModeContext.SetOverdrawEnabled(bufferIndex, g_SelectedDebugDrawType == DebugDrawType_Overdraw);</div>
<div class="line">    g_DebugDrawModeContext.Calculate(bufferIndex);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Update processing for the model LOD level.</span></div>
<div class="line"><span class="keywordtype">void</span> CalculateModelForceLodLevel()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Set the mandatory display at the specified LOD level.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> forceLodLevel = GetForceLodLevel();</div>
<div class="line">        <span class="keywordflow">if</span> (forceLodLevel &gt;= pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>()-&gt;<a name="a219"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#aa425c7adfa926e0315955baf57a02653">GetLodCount</a>())</div>
<div class="line">        {</div>
<div class="line">            forceLodLevel = pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>()-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#aa425c7adfa926e0315955baf57a02653">GetLodCount</a>() - 1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (forceLodLevel == InvalidForceLodLevel)</div>
<div class="line">        {</div>
<div class="line">            pRenderModelObj-&gt;<a name="a220"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa9207cb673b0250dda41592b4183ad4b">SetDrawLodDisabled</a>();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            pRenderModelObj-&gt;<a name="a221"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#af1a9446c300e6fa439e90d73b07e7d03">SetDrawLodEnabled</a>(forceLodLevel);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculations</span></div>
<div class="line"><span class="keywordtype">void</span> Calculate(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework, <span class="keywordtype">void</span>* pUserData) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(pGfxFramework);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a6dbabc4b1fab1df227e879443468b749">GetDevice</a>();</div>
<div class="line">    <span class="keywordtype">int</span> uniformBufferIndex = *<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span>(pUserData);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Calculations</span></div>
<div class="line">    <a name="a222"></a><a class="code" href="perf___profile_8h.html#ac0cbbec62451185954e3e6a11cac2fa8">NN_PERF_SET_COLOR</a>(<a class="code" href="classnn_1_1util_1_1_color4u8.html#a60d33066a521b0728f8660d12e010d8c">nn::util::Color4u8::Green</a>());</div>
<div class="line">    <a name="a223"></a><a class="code" href="perf___profile_8h.html#a9589655224905f671b5e15a02838305c">NN_PERF_BEGIN_MEASURE_NAME</a>(<span class="stringliteral">&quot;Calculate 1&quot;</span>);</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Menu control.</span></div>
<div class="line">        CalculateMenu(g_TextureAverageShader.GetTextureAverage(uniformBufferIndex));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Camera control.</span></div>
<div class="line">        UpdateCamera();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update the view matrix for the water surface.</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> pos;</div>
<div class="line">            VectorSet(&amp;pos, VectorGetX(g_CameraPosition), -VectorGetY(g_CameraPosition), VectorGetZ(g_CameraPosition));</div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a> target;</div>
<div class="line">            VectorSet(&amp;target, VectorGetX(g_CameraTarget), -VectorGetY(g_CameraTarget), VectorGetZ(g_CameraTarget));</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a> matrix;</div>
<div class="line">            MatrixLookAtRightHanded(&amp;matrix, pos, target, g_CameraUp);</div>
<div class="line">            g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a5b633742724f63bffdb11389a06b974b">SetViewMtx</a>(ViewType_Water, matrix);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update the environment model.</span></div>
<div class="line">        g_pEnvModelObj-&gt;<a name="a224"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a674b6b3417778ae519cf3bc6d6f5ff65">CalculateMaterial</a>(uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update the viewer.</span></div>
<div class="line">        g_TownViewer.Update();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update ModelAnimObj.</span></div>
<div class="line">        CalculateModelAnimObjs(uniformBufferIndex, g_MenuFlag.Test&lt;MenuFlag::ModelAnimation&gt;());</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update shaders.</span></div>
<div class="line">        <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">        {</div>
<div class="line">            pRenderModelObj-&gt;<a name="a225"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a7afd6cf7af0d0b72ce0f951e5fe48f3a">UpdateShader</a>(pDevice);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        {</div>
<div class="line">            g_TextureAverageShader.UpdateShader(pDevice);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update light.</span></div>
<div class="line">        g_PointLight.Calculate(pDevice, uniformBufferIndex, g_MenuFlag.Test&lt;MenuFlag::LightAnimation&gt;());</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Calculate the context.</span></div>
<div class="line">        CalculateContext(uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// View update processing.</span></div>
<div class="line">        g_RenderView.<a name="a226"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#aea54457661666de292743fe0cb6c75a0">Calculate</a>(uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update the view volume rendering settings.</span></div>
<div class="line">        g_ViewVolumeRenderer.Update(uniformBufferIndex);</div>
<div class="line">        g_ViewVolumeRenderer.SetViewMatrix(g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#aff24f2ebd999e9d9f423945fa9d4e8e0">GetViewMtx</a>(ViewType_Default));</div>
<div class="line">        g_ViewVolumeRenderer.SetProjectionMatrix(g_RenderView.<a name="a227"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#afa649636fe025a114183f493e836c328">GetProjectionMtx</a>(ViewType_Default));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update the view volume for custom culling.</span></div>
<div class="line">        <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::FreezeViewVolume&gt;())</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (g_SelectedViewType != ViewType_Default)</div>
<div class="line">            {</div>
<div class="line">                 g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">GetViewVolume</a>(ViewType_Default).<a name="a228"></a><a class="code" href="structnn_1_1g3d_1_1_view_volume.html#a243414ea182959c9e1685d2e5e756339">SetPerspective</a>(<a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f), 16.0f / 9.0f,</div>
<div class="line">                10.0f, 40000.0f, g_RenderView.<a name="a229"></a><a class="code" href="classnns_1_1g3d_1_1_render_view.html#a836001447f77827d1ec62ccead0df40f">GetInverseViewMtx</a>(ViewType_Default));</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (g_SelectedViewType != ViewType_Water)</div>
<div class="line">            {</div>
<div class="line">                g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">GetViewVolume</a>(ViewType_Water).<a class="code" href="structnn_1_1g3d_1_1_view_volume.html#a243414ea182959c9e1685d2e5e756339">SetPerspective</a>(<a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f), 16.0f / 9.0f,</div>
<div class="line">                10.0f, 40000.0f, g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a836001447f77827d1ec62ccead0df40f">GetInverseViewMtx</a>(ViewType_Water));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">GetViewVolume</a>(ViewType_Default).<a class="code" href="structnn_1_1g3d_1_1_view_volume.html#a243414ea182959c9e1685d2e5e756339">SetPerspective</a>(<a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f), 16.0f / 9.0f,</div>
<div class="line">                10.0f, 40000.0f, g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a836001447f77827d1ec62ccead0df40f">GetInverseViewMtx</a>(ViewType_Default));</div>
<div class="line">            g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">GetViewVolume</a>(ViewType_Water).<a class="code" href="structnn_1_1g3d_1_1_view_volume.html#a243414ea182959c9e1685d2e5e756339">SetPerspective</a>(<a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f), 16.0f / 9.0f,</div>
<div class="line">                10.0f, 40000.0f, g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a836001447f77827d1ec62ccead0df40f">GetInverseViewMtx</a>(ViewType_Water));</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a> viewMatrix = g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#aff24f2ebd999e9d9f423945fa9d4e8e0">GetViewMtx</a>(g_SelectedViewType);</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> projectionMatrix = g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#afa649636fe025a114183f493e836c328">GetProjectionMtx</a>(g_SelectedViewType);</div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> viewProjectionMatrix;</div>
<div class="line">            nn::util::MatrixMultiply(&amp;viewProjectionMatrix, viewMatrix, projectionMatrix);</div>
<div class="line"> </div>
<div class="line">            nn::util::MatrixInverse(&amp;g_InvViewProjectionMatrix, viewProjectionMatrix);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Update the mandatory display settings for the LOD level.</span></div>
<div class="line">        CalculateModelForceLodLevel();</div>
<div class="line">    }</div>
<div class="line">    <a name="a230"></a><a class="code" href="perf___profile_8h.html#a0a94d0601ec383fed996a444d77c3e53">NN_PERF_END_MEASURE</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//-------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">//  Draw.</span></div>
<div class="line"><span class="comment">//-------------------------------------------------------------------</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Clear the screen.</span></div>
<div class="line"><span class="keywordtype">void</span> ClearScreen(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework, <a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    SCOPED_GPU_MEASURE( pCommandBuffer, SectionType_Clear );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Clear the framebuffer.</span></div>
<div class="line">    g3ddemo::ClearFrameBuffer(pCommandBuffer, &amp;g_FrameBuffer[FrameBufferType_Water]);</div>
<div class="line">    g3ddemo::ClearFrameBuffer(pCommandBuffer, &amp;g_FrameBuffer[FrameBufferType_Geometry]);</div>
<div class="line">    g3ddemo::ClearFrameBuffer(pCommandBuffer, &amp;g_FrameBuffer[FrameBufferType_Shadow]);</div>
<div class="line">    g3ddemo::ClearFrameBuffer(pCommandBuffer, &amp;g_FrameBuffer[FrameBufferType_Light]);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Clear the overdraw measurement target image.</span></div>
<div class="line">    <a name="_a231"></a><a class="code" href="classnn_1_1gfx_1_1_t_color_target_view.html">nn::gfx::ColorTargetView</a>* pOverdrawMeasuring = g_OverdrawMeasuringBuffer.<a name="a232"></a><a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a43eb2923bdcf7b2f7f0837fe66a0e1f9">GetColorTargetView</a>();</div>
<div class="line">    pCommandBuffer-&gt;<a name="a233"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3da2d3c95fe888adb5a3f84dcc013d45">ClearColor</a>(pOverdrawMeasuring, 0.0, 0.0, 0.0, 0.0, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Clear the shadow depth stencil.</span></div>
<div class="line">    <a name="_a234"></a><a class="code" href="classnn_1_1gfx_1_1_t_depth_stencil_view.html">nn::gfx::DepthStencilView</a>* pShadowDepth = g_DepthBufferShadow.<a name="a235"></a><a class="code" href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a7cbf66a408eeba5cebc262628336f854">GetDepthStencilView</a>(0);</div>
<div class="line">    pCommandBuffer-&gt;<a name="a236"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ae51f685157847b92ffb0c05362a4a6ef">ClearDepthStencil</a>(pShadowDepth, 1.0f, 0, <a name="a237"></a><a class="code" href="namespacenn_1_1gfx.html#a733cd65018ead22dd2cd0a62a8bd2ec9a93c09969027b90e4794060197dedb5fb">nn::gfx::DepthStencilClearMode_DepthStencil</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Clear the color target.</span></div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_color_target_view.html">nn::gfx::ColorTargetView</a>* pColor = pGfxFramework-&gt;<a name="a238"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ab825acf6f1e23e4946e8915d087a94a1">GetColorTargetView</a>();</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3da2d3c95fe888adb5a3f84dcc013d45">ClearColor</a>(pColor, 0.0f, 0.0f, 0.0f, 1.0f, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Clear the depth stencil.</span></div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_depth_stencil_view.html">nn::gfx::DepthStencilView</a>* pDepth = pGfxFramework-&gt;<a name="a239"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ae375791c8ef66431a6910dafd0156bb2">GetDepthStencilView</a>();</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ae51f685157847b92ffb0c05362a4a6ef">ClearDepthStencil</a>(pDepth, 1.0f, 0, <a class="code" href="namespacenn_1_1gfx.html#a733cd65018ead22dd2cd0a62a8bd2ec9a93c09969027b90e4794060197dedb5fb">nn::gfx::DepthStencilClearMode_DepthStencil</a>, <span class="keyword">nullptr</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Copy to the color buffer.</span></div>
<div class="line"><span class="keywordtype">void</span> CopyColorBuffer(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework, <a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    SCOPED_GPU_MEASURE(pCommandBuffer, SectionType_Copy);</div>
<div class="line"> </div>
<div class="line">    <a name="_a240"></a><a class="code" href="classnn_1_1gfx_1_1_texture_subresource.html">nn::gfx::TextureSubresource</a> subresource;</div>
<div class="line">    subresource.<a name="a241"></a><a class="code" href="classnn_1_1gfx_1_1_texture_subresource.html#aa788017964f3e18dcd398dbd206c12c7">SetDefault</a>();</div>
<div class="line">    <a name="_a242"></a><a class="code" href="classnn_1_1gfx_1_1_texture_copy_region.html">nn::gfx::TextureCopyRegion</a> copyRegion;</div>
<div class="line">    copyRegion.<a name="a243"></a><a class="code" href="classnn_1_1gfx_1_1_texture_copy_region.html#a1aac318a74055dd68e5c323eab8688bd">SetDefault</a>();</div>
<div class="line">    copyRegion.<a name="a244"></a><a class="code" href="classnn_1_1gfx_1_1_texture_copy_region.html#abbfd901ca7ce1eb8fb022abf37a8a1ef">SetWidth</a>(pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a68decd5e5c7a89df27eb8d428515e92d">GetDisplayWidth</a>());</div>
<div class="line">    copyRegion.<a name="a245"></a><a class="code" href="classnn_1_1gfx_1_1_texture_copy_region.html#a577f1ac98fe6e3ff5b67b2642a775155">SetHeight</a>(pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#af0da71ea5a113a27c596366259db882e">GetDisplayHeight</a>());</div>
<div class="line">    pCommandBuffer-&gt;<a name="a246"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#afd05d1e63d9009d74cf7de5088dab91c">CopyImage</a>(g_ColorBuffer.<a name="a247"></a><a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#ad3989c9903a8fd88ec4486ad72dc3743">GetTexture</a>(), subresource, 0, 0, 0, pGfxFramework-&gt;<a name="a248"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#afff5cb7c9f0790dab3f15823bb1120f4">GetColorBuffer</a>(), copyRegion);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw only the selected objects.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawSelectedObj(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> passIndex, <span class="keywordtype">int</span> uniformBufferIndex, <a name="a249"></a><a class="code" href="namespacenns_1_1g3d.html#a8f9ca59f33cdd8f33860637f64cf27fb">nns::g3d::DrawCullingCallback</a> pDrawCullingCallback)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> modelIndex = g_SelectedModelIndex;</div>
<div class="line">    <span class="keywordtype">int</span> shapeIndex = g_SelectedShapeIndex;</div>
<div class="line">    <span class="keywordtype">int</span> submeshIndex = g_SelectedSubmeshIndex;</div>
<div class="line"> </div>
<div class="line">    <a name="a250"></a><a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(modelIndex, 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(g_Holder.modelAnimObjs.size()));</div>
<div class="line">    <a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj = g_Holder.renderModelObjs[modelIndex];</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnn_1_1g3d_1_1_model_obj.html">nn::g3d::ModelObj</a>* pModelObj = pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>();</div>
<div class="line">    <a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(pModelObj);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(shapeIndex, 0, pModelObj-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a54e1cf48111ecb56b8dde5824d13a1fd">GetShapeCount</a>());</div>
<div class="line">    pRenderModelObj-&gt;<a name="a251"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a3f6da939a5b0b2c92b1c3d90d807f6c0">SetDrawSingleShapeEnabled</a>(shapeIndex);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::SingleSubmesh&gt;())</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(submeshIndex, 0, pModelObj-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a4f56c9a4a685ff577c44b60bc50f5a8b">GetShape</a>(shapeIndex)-&gt;<a name="a252"></a><a class="code" href="classnn_1_1g3d_1_1_shape_obj.html#a07131b7bd1633a73acff2b021ebd45a7">GetSubMeshCount</a>());</div>
<div class="line">        pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a7c323f2e5100196cc55a5d778de6630a">GetRenderUnitObj</a>(shapeIndex)-&gt;<a name="a253"></a><a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html#ad644206f00cdcfdfe1eb7e29abdefad7">SetDrawSingleSubmeshEnabled</a>(submeshIndex);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    pRenderModelObj-&gt;<a name="a254"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa4061058dfcb32e29b89c6f50cb23738">Draw</a>(</div>
<div class="line">        pCommandBuffer,</div>
<div class="line">        passIndex,</div>
<div class="line">        ViewType_Default,</div>
<div class="line">        uniformBufferIndex,</div>
<div class="line">        pDrawCullingCallback</div>
<div class="line">    );</div>
<div class="line"> </div>
<div class="line">    pRenderModelObj-&gt;<a name="a255"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a153dbcb687fc2674987d950b4e70ea3e">SetDrawSingleShapeDisabled</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::SingleSubmesh&gt;())</div>
<div class="line">    {</div>
<div class="line">        pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a7c323f2e5100196cc55a5d778de6630a">GetRenderUnitObj</a>(shapeIndex)-&gt;<a name="a256"></a><a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html#a796992ce72c3b30abf062fdb996388f0">SetDrawSingleSubmeshDisabled</a>();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Determine whether to draw to the shadow map.</span></div>
<div class="line"><span class="keywordtype">bool</span> CanDrawToShadowMap(<span class="keyword">const</span> <a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a>* pRenderUnitObj, <span class="keywordtype">int</span> passIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <a name="_a257"></a><a class="code" href="classnn_1_1g3d_1_1_res_material.html">nn::g3d::ResMaterial</a>* pResMaterial = pRenderUnitObj-&gt;<a name="a258"></a><a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html#ae92c38daa56f51aaffec96046eaea77d">GetRenderShape</a>(passIndex)-&gt;<a name="a259"></a><a class="code" href="classnns_1_1g3d_1_1_render_shape.html#a2d71fdcacfb733e7c945b46f0497f417">GetRenderMaterial</a>()-&gt;<a name="a260"></a><a class="code" href="classnns_1_1g3d_1_1_render_material.html#a056a695c32d1ffa9ba15478b21d80175">GetResMaterial</a>();</div>
<div class="line">    <span class="keyword">const</span> <a name="_a261"></a><a class="code" href="classnn_1_1g3d_1_1_res_render_info.html">nn::g3d::ResRenderInfo</a>* pRenderInfo = pResMaterial-&gt;<a name="a262"></a><a class="code" href="classnn_1_1g3d_1_1_res_material.html#a173fe82a044bd944283cfb617b8111c1">FindRenderInfo</a>(<span class="stringliteral">&quot;dynamic_shadow&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!pRenderInfo)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> pRenderInfo-&gt;<a name="a263"></a><a class="code" href="classnn_1_1g3d_1_1_res_render_info.html#ad7542986cc293f55fbb39a116597ce1a">GetInt</a>(0) == 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the shadow.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawShadow(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> uniformBufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!g_MenuFlag.Test&lt;MenuFlag::ShadowRendering&gt;())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    SCOPED_GPU_MEASURE( pCommandBuffer, SectionType_Shadow );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sliceIndex = 0; sliceIndex &lt; TownContext::cascadeShadowCount; ++sliceIndex)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1gfx_1_1_t_color_target_view.html">nn::gfx::ColorTargetView</a>* pColorTargetView = g_FrameBuffer[FrameBufferType_Shadow].<a name="a264"></a><a class="code" href="classnns_1_1gfx_1_1_frame_buffer.html#ae2248ea57bfe2ad7a5b118d530774a7c">GetColorBuffer</a>()-&gt;<a class="code" href="classnns_1_1gfx_1_1_color_buffer.html#a43eb2923bdcf7b2f7f0837fe66a0e1f9">GetColorTargetView</a>();</div>
<div class="line">        pCommandBuffer-&gt;<a name="a265"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3698a1cbd3b59b649c048f709ddd766c">SetRenderTargets</a>(1, &amp;pColorTargetView, g_DepthBufferShadow.<a class="code" href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a7cbf66a408eeba5cebc262628336f854">GetDepthStencilView</a>(sliceIndex + 1));</div>
<div class="line">        pCommandBuffer-&gt;<a name="a266"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ab1c541475f015777b8ce4bdfffe7c1c3">SetViewportScissorState</a>(g_FrameBuffer[FrameBufferType_Shadow].GetViewportScissorState());</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Rebind the uniform block.</span></div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>* buffers[g_BufferingCount];</div>
<div class="line">        buffers[0] = g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#ac12827c0d0788017a196ef5b80304304">GetViewUniformBlock</a>(ViewType_Light0 + sliceIndex, 0);</div>
<div class="line">        buffers[1] = g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#ac12827c0d0788017a196ef5b80304304">GetViewUniformBlock</a>(ViewType_Light0 + sliceIndex, 1);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Set the view volume for custom culling.</span></div>
<div class="line">            pRenderModelObj-&gt;<a name="a267"></a><a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a23c1d8bb281f5f05e885dcc40e36c627">SetViewVolume</a>(ViewType_Light0 + sliceIndex, &amp;g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">GetViewVolume</a>(ViewType_Light0 + sliceIndex));</div>
<div class="line"> </div>
<div class="line">            pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#a51705d6e0cbec14deae05e0dc0724835">BindUniformBlock</a>(DrawPassType_Shadow, <span class="stringliteral">&quot;view&quot;</span>, buffers, g_BufferingCount);</div>
<div class="line">            pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa4061058dfcb32e29b89c6f50cb23738">Draw</a>(</div>
<div class="line">                pCommandBuffer,</div>
<div class="line">                DrawPassType_Shadow,</div>
<div class="line">                ViewType_Light0 + sliceIndex,</div>
<div class="line">                uniformBufferIndex,</div>
<div class="line">                CanDrawToShadowMap</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the water surface.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawWater(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> uniformBufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!g_MenuFlag.Test&lt;MenuFlag::WaterRendering&gt;())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    SCOPED_GPU_MEASURE( pCommandBuffer, SectionType_Water );</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if NN_GFX_IS_TARGET_GL</span></div>
<div class="line">    pCommandBuffer-&gt;<a name="a268"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#adf046ccaeada2834e769085dbbc4445e">Gl4SetUserCommand</a>([](<span class="keyword">const</span> <span class="keywordtype">void</span>*){ glEnable(GL_CLIP_DISTANCE0); }, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    g3ddemo::SetFrameBufferToRenderTarget(pCommandBuffer, &amp;g_FrameBuffer[FrameBufferType_Water]);</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ab1c541475f015777b8ce4bdfffe7c1c3">SetViewportScissorState</a>(g_FrameBuffer[FrameBufferType_Water].GetViewportScissorState());</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">    {</div>
<div class="line">        pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa4061058dfcb32e29b89c6f50cb23738">Draw</a>(pCommandBuffer, DrawPassType_Water, ViewType_Water, uniformBufferIndex);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if NN_GFX_IS_TARGET_GL</span></div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#adf046ccaeada2834e769085dbbc4445e">Gl4SetUserCommand</a>([](<span class="keyword">const</span> <span class="keywordtype">void</span>*) { glDisable(GL_CLIP_DISTANCE0); }, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Z-Prepass rendering.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawZPre(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework, <a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> uniformBufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!g_MenuFlag.Test&lt;MenuFlag::ZPrePass&gt;())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    SCOPED_GPU_MEASURE(pCommandBuffer, SectionType_ZPrePass);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_color_target_view.html">nn::gfx::ColorTargetView</a>* pColorTargetView = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ab825acf6f1e23e4946e8915d087a94a1">GetColorTargetView</a>();</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3698a1cbd3b59b649c048f709ddd766c">SetRenderTargets</a>(1, &amp;pColorTargetView, pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ae375791c8ef66431a6910dafd0156bb2">GetDepthStencilView</a>());</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ab1c541475f015777b8ce4bdfffe7c1c3">SetViewportScissorState</a>(pGfxFramework-&gt;<a name="a269"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ae13f7a4f898b54ab4d566ee2d1aec56e">GetViewportScissorState</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Draw only the selected objects.</span></div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::SingleShape&gt;())</div>
<div class="line">    {</div>
<div class="line">        DrawSelectedObj(pCommandBuffer, DrawPassType_ZPre, uniformBufferIndex, IsOpaqueObject);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">    {</div>
<div class="line">        pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa4061058dfcb32e29b89c6f50cb23738">Draw</a>(</div>
<div class="line">            pCommandBuffer,</div>
<div class="line">            DrawPassType_ZPre,</div>
<div class="line">            ViewType_Default,</div>
<div class="line">            uniformBufferIndex,</div>
<div class="line">            IsOpaqueObject</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the G buffer.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawGeometry(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> uniformBufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!g_MenuFlag.Test&lt;MenuFlag::GeometryRendering&gt;())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    SCOPED_GPU_MEASURE( pCommandBuffer, SectionType_Geometry );</div>
<div class="line"> </div>
<div class="line">    g3ddemo::SetFrameBufferToRenderTarget(pCommandBuffer, &amp;g_FrameBuffer[FrameBufferType_Geometry]);</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ab1c541475f015777b8ce4bdfffe7c1c3">SetViewportScissorState</a>(g_FrameBuffer[FrameBufferType_Geometry].GetViewportScissorState());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Draw only the selected objects.</span></div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::SingleShape&gt;())</div>
<div class="line">    {</div>
<div class="line">        DrawSelectedObj(pCommandBuffer, DrawPassType_Geometry, uniformBufferIndex, IsOpaqueObject);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">    {</div>
<div class="line">        pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa4061058dfcb32e29b89c6f50cb23738">Draw</a>(pCommandBuffer, DrawPassType_Geometry, ViewType_Default, uniformBufferIndex, IsOpaqueObject);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw light.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawLight(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> uniformBufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!g_MenuFlag.Test&lt;MenuFlag::LightRendering&gt;())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    SCOPED_GPU_MEASURE( pCommandBuffer, SectionType_Light );</div>
<div class="line"> </div>
<div class="line">    g3ddemo::SetFrameBufferToRenderTarget(pCommandBuffer, &amp;g_FrameBuffer[FrameBufferType_Light]);</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ab1c541475f015777b8ce4bdfffe7c1c3">SetViewportScissorState</a>(g_FrameBuffer[FrameBufferType_Light].GetViewportScissorState());</div>
<div class="line">    g_PointLight.Draw(pCommandBuffer, uniformBufferIndex);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw opaque objects.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawOpaque(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> uniformBufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    SCOPED_GPU_MEASURE( pCommandBuffer, SectionType_Opaque );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Draw only the selected objects.</span></div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::SingleShape&gt;())</div>
<div class="line">    {</div>
<div class="line">        DrawSelectedObj(pCommandBuffer, DrawPassType_Model, uniformBufferIndex, IsOpaqueObject);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">    {</div>
<div class="line">        pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa4061058dfcb32e29b89c6f50cb23738">Draw</a>(</div>
<div class="line">            pCommandBuffer,</div>
<div class="line">            DrawPassType_Model,</div>
<div class="line">            ViewType_Default,</div>
<div class="line">            uniformBufferIndex,</div>
<div class="line">            IsOpaqueObject</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw translucent objects.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawTranslucent(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> uniformBufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    SCOPED_GPU_MEASURE( pCommandBuffer, SectionType_Translucent );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Draw only the selected objects.</span></div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::SingleShape&gt;())</div>
<div class="line">    {</div>
<div class="line">        DrawSelectedObj(</div>
<div class="line">            pCommandBuffer,</div>
<div class="line">            DrawPassType_Model,</div>
<div class="line">            uniformBufferIndex,</div>
<div class="line">            [](<span class="keyword">const</span> <a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a>* pRenderUnitObj, <span class="keywordtype">int</span> passIndex) { <span class="keywordflow">return</span> !IsOpaqueObject(pRenderUnitObj, passIndex); }</div>
<div class="line">        );</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj : g_Holder.renderModelObjs)</div>
<div class="line">    {</div>
<div class="line">        pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa4061058dfcb32e29b89c6f50cb23738">Draw</a>(</div>
<div class="line">            pCommandBuffer,</div>
<div class="line">            DrawPassType_Model,</div>
<div class="line">            ViewType_Default,</div>
<div class="line">            uniformBufferIndex,</div>
<div class="line">            [](<span class="keyword">const</span> <a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a>* pRenderUnitObj, <span class="keywordtype">int</span> passIndex)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> !IsOpaqueObject(pRenderUnitObj, passIndex);</div>
<div class="line">            }</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the final output.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawFinalImage(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework, <a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> uniformBufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Set the drawing target.</span></div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_color_target_view.html">nn::gfx::ColorTargetView</a>* pColor = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ab825acf6f1e23e4946e8915d087a94a1">GetColorTargetView</a>();</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_depth_stencil_view.html">nn::gfx::DepthStencilView</a>* pDepth = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ae375791c8ef66431a6910dafd0156bb2">GetDepthStencilView</a>();</div>
<div class="line"> </div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3698a1cbd3b59b649c048f709ddd766c">SetRenderTargets</a>(1, &amp;pColor, pDepth);</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ab1c541475f015777b8ce4bdfffe7c1c3">SetViewportScissorState</a>(pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ae13f7a4f898b54ab4d566ee2d1aec56e">GetViewportScissorState</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Draw opaque objects.</span></div>
<div class="line">    DrawOpaque(pCommandBuffer, uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Copy to the color buffer.</span></div>
<div class="line">    CopyColorBuffer(pGfxFramework, pCommandBuffer);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Draw translucent objects.</span></div>
<div class="line">    DrawTranslucent(pCommandBuffer, uniformBufferIndex);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the bounding sphere.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawBoundingSphere(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(g_SelectedModelIndex, 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(g_Holder.renderModelObjs.size()));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj = g_Holder.renderModelObjs[g_SelectedModelIndex];</div>
<div class="line">    g_BoundingRenderer.DrawSphere(pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>(), pCommandBuffer, GetForceLodLevel());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the bounding box.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawBoundingBox(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(g_SelectedModelIndex, 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(g_Holder.renderModelObjs.size()));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj = g_Holder.renderModelObjs[g_SelectedModelIndex];</div>
<div class="line">    <a class="code" href="classnn_1_1g3d_1_1_model_obj.html">nn::g3d::ModelObj</a>* pModelObj = pRenderModelObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">GetModelObj</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> forceLodLevel = GetForceLodLevel();</div>
<div class="line">    <span class="keywordtype">int</span> shapeIndex = g_SelectedShapeIndex;</div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::SingleSubmesh&gt;())</div>
<div class="line">    {</div>
<div class="line">        g_BoundingRenderer.DrawBox(pModelObj, pCommandBuffer, shapeIndex, forceLodLevel, g_SelectedSubmeshIndex);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    g_BoundingRenderer.DrawBox(pModelObj, pCommandBuffer, shapeIndex, forceLodLevel);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the bounding.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawBounding(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::Matrix4x3fType</a> viewMtx = g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#aff24f2ebd999e9d9f423945fa9d4e8e0">GetViewMtx</a>(ViewType_Default);</div>
<div class="line">    <a class="code" href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::Matrix4x4fType</a> projMtx = g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#afa649636fe025a114183f493e836c328">GetProjectionMtx</a>(ViewType_Default);</div>
<div class="line">    g_BoundingRenderer.Update(pCommandBuffer, &amp;viewMtx, &amp;projMtx);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::BoundingSphere&gt;())</div>
<div class="line">    {</div>
<div class="line">        DrawBoundingSphere(pCommandBuffer);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (g_MenuFlag.Test&lt;MenuFlag::BoundingBox&gt;())</div>
<div class="line">    {</div>
<div class="line">        DrawBoundingBox(pCommandBuffer);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the view volume.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawViewVolume(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!g_MenuFlag.Test&lt;MenuFlag::DrawViewVolume&gt;())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (g_SelectedViewType == ViewType_Default &amp;&amp; !g_MenuFlag.Test&lt;MenuFlag::FreezeViewVolume&gt;())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="_a270"></a><a class="code" href="structnn_1_1util_1_1_unorm8x4.html">nn::util::Color4u8Type</a> color;</div>
<div class="line">    color.<a name="a271"></a><a class="code" href="structnn_1_1util_1_1_unorm8x4.html#a1dd7b3754750ca1cfbf9663f216df96d">v</a>[0] = 0;</div>
<div class="line">    color.v[1] = 255;</div>
<div class="line">    color.v[2] = 255;</div>
<div class="line">    color.v[3] = 32;</div>
<div class="line"> </div>
<div class="line">    g_ViewVolumeRenderer.Draw(pCommandBuffer, g_InvViewProjectionMatrix, color);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the information text.</span></div>
<div class="line"><span class="keywordtype">void</span> DrawMenu(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework, <a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    SCOPED_GPU_MEASURE( pCommandBuffer, SectionType_Menu );</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_color_target_view.html">nn::gfx::ColorTargetView</a>* pColor = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ab825acf6f1e23e4946e8915d087a94a1">GetColorTargetView</a>();</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_depth_stencil_view.html">nn::gfx::DepthStencilView</a>* pDepth = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ae375791c8ef66431a6910dafd0156bb2">GetDepthStencilView</a>();</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3698a1cbd3b59b649c048f709ddd766c">SetRenderTargets</a>(1, &amp;pColor, pDepth);</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ab1c541475f015777b8ce4bdfffe7c1c3">SetViewportScissorState</a>(pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ae13f7a4f898b54ab4d566ee2d1aec56e">GetViewportScissorState</a>());</div>
<div class="line"> </div>
<div class="line">    <a name="a272"></a><a class="code" href="namespacenns_1_1dbgui.html#a130fd0189fc1b44752570a7d28fbb4d9">nns::dbgui::Render</a>(pCommandBuffer);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Execute the compute shader.</span></div>
<div class="line"><span class="keywordtype">void</span> CalculateAverageColor(<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer, <span class="keywordtype">int</span> bufferIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!g_MenuFlag.Test&lt;MenuFlag::TextureCompute&gt;())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    SCOPED_GPU_MEASURE( pCommandBuffer, SectionType_Average );</div>
<div class="line"> </div>
<div class="line">    g_TextureAverageShader.MakeCommand(pCommandBuffer, bufferIndex, g_ColorDescriptorSlot);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Display the overdraw results.</span></div>
<div class="line"><span class="keywordtype">void</span> VisualizeOverdrawResult(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework, <a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!g_MenuFlag.Test&lt;MenuFlag::DebugDrawMode&gt;() || g_SelectedDebugDrawType != DebugDrawType_Overdraw)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    SCOPED_GPU_MEASURE(pCommandBuffer, SectionType_Visualize);</div>
<div class="line"> </div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#ab1c541475f015777b8ce4bdfffe7c1c3">SetViewportScissorState</a>(pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ae13f7a4f898b54ab4d566ee2d1aec56e">GetViewportScissorState</a>());</div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_color_target_view.html">nn::gfx::ColorTargetView</a>* pColorTargetView = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ab825acf6f1e23e4946e8915d087a94a1">GetColorTargetView</a>();</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3698a1cbd3b59b649c048f709ddd766c">SetRenderTargets</a>(1, &amp;pColorTargetView, <span class="keyword">nullptr</span>);</div>
<div class="line">    pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3da2d3c95fe888adb5a3f84dcc013d45">ClearColor</a>(pColorTargetView, 0.0, 0.0, 0.0, 1.0, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">    g_OverdrawVisualizeShader.MakeCommand(pCommandBuffer, g_OverdrawMeasuringDescriptorSlot);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a draw command.</span></div>
<div class="line"><span class="keywordtype">void</span> MakeCommand(<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a>* pGfxFramework, <span class="keywordtype">int</span> uniformBufferIndex, <span class="keywordtype">void</span>* pUserData) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(pUserData);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Generate the commands.</span></div>
<div class="line">    <a class="code" href="perf___profile_8h.html#ac0cbbec62451185954e3e6a11cac2fa8">NN_PERF_SET_COLOR</a>(<a class="code" href="classnn_1_1util_1_1_color4u8.html#a60d33066a521b0728f8660d12e010d8c">nn::util::Color4u8::Green</a>());</div>
<div class="line">    <a class="code" href="perf___profile_8h.html#a9589655224905f671b5e15a02838305c">NN_PERF_BEGIN_MEASURE_NAME</a>(<span class="stringliteral">&quot;Make Command&quot;</span>);</div>
<div class="line">    pGfxFramework-&gt;<a name="a273"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a1682d81714db542ef9bb6aae8908b19f">BeginFrame</a>(uniformBufferIndex);</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::CommandBuffer</a>* pCommandBuffer = pGfxFramework-&gt;<a name="a274"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a80b4defad13752d673db840e439d1a7f">GetRootCommandBuffer</a>(uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Invalidate the GPU cache for the descriptor and shader code.</span></div>
<div class="line">        pCommandBuffer-&gt;<a name="a275"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a7e5cade7802122a5272657dfaec5d1f1">InvalidateMemory</a>(<a name="a276"></a><a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a569fa278473bf8871cece2df59df5e68">nn::gfx::GpuAccess_ShaderCode</a> | <a name="a277"></a><a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5ab49f83cffb7a771c178eafdbbd93ca1a">nn::gfx::GpuAccess_Descriptor</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Disable the texture cache.</span></div>
<div class="line">        pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a7e5cade7802122a5272657dfaec5d1f1">InvalidateMemory</a>(<a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a4a531ae2d7e145f647300ea67bc76ccc">nn::gfx::GpuAccess_Texture</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Clear the screen.</span></div>
<div class="line">        ClearScreen(pGfxFramework, pCommandBuffer);</div>
<div class="line"> </div>
<div class="line">        pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3c541dc719b81ec50feb0daee0225fba">PushDebugGroup</a>( <span class="stringliteral">&quot;PrePass&quot;</span> );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Draw the shadow.</span></div>
<div class="line">        DrawShadow(pCommandBuffer, uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Draw the water surface.</span></div>
<div class="line">        DrawWater(pCommandBuffer, uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Z-Prepass rendering.</span></div>
<div class="line">        DrawZPre(pGfxFramework, pCommandBuffer, uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Draw the G buffer.</span></div>
<div class="line">        DrawGeometry(pCommandBuffer, uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Flush the cache.</span></div>
<div class="line">        pCommandBuffer-&gt;<a name="a278"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3b43b17e57f564190229a914370bfb9b">FlushMemory</a>(<a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a0db6d0fe517ccdbde996e7748f0c69f8">nn::gfx::GpuAccess_ColorBuffer</a>);</div>
<div class="line"> </div>
<div class="line">        pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a7e5cade7802122a5272657dfaec5d1f1">InvalidateMemory</a>(<a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a4a531ae2d7e145f647300ea67bc76ccc">nn::gfx::GpuAccess_Texture</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Draw light.</span></div>
<div class="line">        DrawLight(pCommandBuffer, uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        pCommandBuffer-&gt;<a name="a279"></a><a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a61aceaec4503d8409fca24773727892a">PopDebugGroup</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Flush the cache.</span></div>
<div class="line">        pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3b43b17e57f564190229a914370bfb9b">FlushMemory</a>(<a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a0db6d0fe517ccdbde996e7748f0c69f8">nn::gfx::GpuAccess_ColorBuffer</a>);</div>
<div class="line">        pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3b43b17e57f564190229a914370bfb9b">FlushMemory</a>(<a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a1663c5652d151ae04844adb9a3784bea">nn::gfx::GpuAccess_DepthStencil</a>);</div>
<div class="line"> </div>
<div class="line">        pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a7e5cade7802122a5272657dfaec5d1f1">InvalidateMemory</a>(<a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a4a531ae2d7e145f647300ea67bc76ccc">nn::gfx::GpuAccess_Texture</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Draw the final image.</span></div>
<div class="line">        DrawFinalImage(pGfxFramework, pCommandBuffer, uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Draw bounding.</span></div>
<div class="line">        DrawBounding(pCommandBuffer);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Draw ViewVolume.</span></div>
<div class="line">        DrawViewVolume(pCommandBuffer);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// GPU calculations.</span></div>
<div class="line">        CalculateAverageColor(pCommandBuffer, uniformBufferIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Display the overdraw results.</span></div>
<div class="line">        VisualizeOverdrawResult(pGfxFramework, pCommandBuffer);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Draw menu.</span></div>
<div class="line">        DrawMenu(pGfxFramework, pCommandBuffer);</div>
<div class="line"> </div>
<div class="line">        pCommandBuffer-&gt;<a class="code" href="classnn_1_1gfx_1_1_t_command_buffer.html#a3b43b17e57f564190229a914370bfb9b">FlushMemory</a>(<a name="a280"></a><a class="code" href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a37837da53e8a54a085715aa973eb8475">nn::gfx::GpuAccess_QueryBuffer</a>);</div>
<div class="line">    }</div>
<div class="line">    pGfxFramework-&gt;<a name="a281"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#ae8a95943cd296bb2ad8ab6e6532b7b0e">EndFrame</a>(uniformBufferIndex);</div>
<div class="line">    <a class="code" href="perf___profile_8h.html#a0a94d0601ec383fed996a444d77c3e53">NN_PERF_END_MEASURE</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">} <span class="comment">// Anonymous namespace.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Determine whether an object is opaque.</span></div>
<div class="line"><span class="keywordtype">bool</span> IsOpaqueObject(<span class="keyword">const</span> <a name="_a282"></a><a class="code" href="classnns_1_1g3d_1_1_render_material.html">nns::g3d::RenderMaterial</a>* pRenderMaterial) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_res_render_info.html">nn::g3d::ResRenderInfo</a>* pRenderInfo = pRenderMaterial-&gt;GetResMaterial()-&gt;FindRenderInfo(<span class="stringliteral">&quot;blend&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!pRenderInfo)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> pRenderInfo-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_render_info.html#ad7542986cc293f55fbb39a116597ce1a">GetInt</a>(0) == g3ddemo::BlendMode_Opaque;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Determine whether an object is opaque.</span></div>
<div class="line"><span class="keywordtype">bool</span> IsOpaqueObject(<span class="keyword">const</span> <a class="code" href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a>* pRenderUnitObj, <span class="keywordtype">int</span> passIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classnns_1_1g3d_1_1_render_material.html">nns::g3d::RenderMaterial</a>* pRenderMaterial = pRenderUnitObj-&gt;GetRenderShape(passIndex)-&gt;GetRenderMaterial();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> IsOpaqueObject(pRenderMaterial);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>* GetFrameBufferDescriptorSlot(FrameBufferType frameBufferType) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(frameBufferType, 0, FrameBufferType_Count);</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a>* descriplotSlots[] = {</div>
<div class="line">        &amp;g_DepthDescriptorSlot,</div>
<div class="line">        &amp;g_WaterDescriptorSlot,</div>
<div class="line">        &amp;g_GeometryColorDescriptorSlot,</div>
<div class="line">        &amp;g_LightDescriptorSlot,</div>
<div class="line">        &amp;g_OverdrawDescriptorSlot</div>
<div class="line">    };</div>
<div class="line">    <span class="keywordflow">return</span> descriplotSlots[frameBufferType];</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* GetSectionName(<span class="keywordtype">int</span> sectionType) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(sectionType, 0, SectionType_Count);</div>
<div class="line">    <span class="keywordflow">return</span> g_MeasureInfoArray[sectionType].name;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <a class="code" href="classnn_1_1util_1_1_color4u8.html">nn::util::Color4u8</a>&amp; GetSectionColor(<span class="keywordtype">int</span> sectionType) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(sectionType, 0, SectionType_Count);</div>
<div class="line">    <span class="keywordflow">return</span> g_MeasureInfoArray[sectionType].color;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> SetBlendState(<a name="_a283"></a><a class="code" href="classnns_1_1g3d_1_1_render_model.html">nns::g3d::RenderModel</a>* pRenderModel, <span class="keywordtype">int</span> passIndex, <span class="keywordtype">int</span> materialIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderModel);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(passIndex, 0, pRenderModel-&gt;GetPassCount());</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(materialIndex, 0, pRenderModel-&gt;GetResModel()-&gt;GetMaterialCount());</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnns_1_1g3d_1_1_render_material.html">nns::g3d::RenderMaterial</a>* pRenderMaterial = pRenderModel-&gt;GetRenderMaterial(passIndex, materialIndex);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderMaterial);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(pRenderMaterial-&gt;<a name="a284"></a><a class="code" href="classnns_1_1g3d_1_1_render_material.html#a02ad913b574c49097c701753ce84ae57">IsInitialized</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> blendMode = g3ddemo::BlendMode_Opaque;</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_res_material.html">nn::g3d::ResMaterial</a>* pResMaterial = pRenderMaterial-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_material.html#a056a695c32d1ffa9ba15478b21d80175">GetResMaterial</a>();</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_res_render_info.html">nn::g3d::ResRenderInfo</a>* pRenderInfo = pResMaterial-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_material.html#a173fe82a044bd944283cfb617b8111c1">FindRenderInfo</a>(<span class="stringliteral">&quot;blend&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (pRenderInfo)</div>
<div class="line">        {</div>
<div class="line">            blendMode = pRenderInfo-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_render_info.html#ad7542986cc293f55fbb39a116597ce1a">GetInt</a>(0);</div>
<div class="line">            <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(blendMode, g3ddemo::BlendMode_Opaque, g3ddemo::BlendMode_Max);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <a name="_a285"></a><a class="code" href="classnn_1_1gfx_1_1_t_blend_state.html">nn::gfx::BlendState</a>* pBlendState = g3ddemo::GetBlendState(blendMode);</div>
<div class="line">    pRenderMaterial-&gt;<a name="a286"></a><a class="code" href="classnns_1_1g3d_1_1_render_material.html#a7a42be9e7fffcf333a54d9b1dfb5ed0a">SetBlendState</a>(pBlendState);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> SetRasterizerState(<a class="code" href="classnns_1_1g3d_1_1_render_model.html">nns::g3d::RenderModel</a>* pRenderModel, <span class="keywordtype">int</span> passIndex, <span class="keywordtype">int</span> materialIndex, <span class="keywordtype">int</span> fillMode) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderModel);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(passIndex, 0, pRenderModel-&gt;GetPassCount());</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(materialIndex, 0, pRenderModel-&gt;GetResModel()-&gt;GetMaterialCount());</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(fillMode, 0, g3ddemo::FillMode_Max);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnns_1_1g3d_1_1_render_material.html">nns::g3d::RenderMaterial</a>* pRenderMaterial = pRenderModel-&gt;GetRenderMaterial(passIndex, materialIndex);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderMaterial);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(pRenderMaterial-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_material.html#a02ad913b574c49097c701753ce84ae57">IsInitialized</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_res_material.html">nn::g3d::ResMaterial</a>* pResMaterial = pRenderMaterial-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_material.html#a056a695c32d1ffa9ba15478b21d80175">GetResMaterial</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// When there is rendering information for culling mode, use it.</span></div>
<div class="line">    g3ddemo::CullMode cullMode = g3ddemo::CullMode_Back;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Cull polygons in the direction of the light source when rendering shadows to reduce the occurrence of shadow acne.</span></div>
<div class="line">    <span class="keywordflow">if</span> (passIndex == DrawPassType_Shadow)</div>
<div class="line">    {</div>
<div class="line">        cullMode = g3ddemo::CullMode_Front;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Get the rendering information and select the appropriate culling mode.</span></div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_res_render_info.html">nn::g3d::ResRenderInfo</a>* pRenderInfo = pResMaterial-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_material.html#a173fe82a044bd944283cfb617b8111c1">FindRenderInfo</a>(<span class="stringliteral">&quot;culling&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (pRenderInfo)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="nn___assert_8h.html#a500008249e93282dc7552e33f586af86">NN_ASSERT_GREATER</a>(pRenderInfo-&gt;<a name="a287"></a><a class="code" href="classnn_1_1g3d_1_1_res_render_info.html#a7325e489c6d8d37b2a6af77a54f5b090">GetArrayLength</a>(), 0);</div>
<div class="line">            cullMode = <span class="keyword">static_cast&lt;</span>g3ddemo::CullMode<span class="keyword">&gt;</span>(pRenderInfo-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_render_info.html#ad7542986cc293f55fbb39a116597ce1a">GetInt</a>(0));</div>
<div class="line">            <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(cullMode, g3ddemo::CullMode_Back, g3ddemo::CullMode_Max);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">const</span> <a name="_a288"></a><a class="code" href="classnn_1_1gfx_1_1_t_rasterizer_state.html">nn::gfx::RasterizerState</a>* pRasterizerState = g3ddemo::GetRasterizerState(cullMode, fillMode);</div>
<div class="line">    pRenderMaterial-&gt;<a name="a289"></a><a class="code" href="classnns_1_1g3d_1_1_render_material.html#a209f62ddd0bb627cea0d2c4c95170e21">SetRasterizerState</a>(pRasterizerState);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> SetDepthStencilState(<a class="code" href="classnns_1_1g3d_1_1_render_model.html">nns::g3d::RenderModel</a>* pRenderModel, <span class="keywordtype">int</span> passIndex, <span class="keywordtype">int</span> materialIndex, <span class="keywordtype">int</span> depthWriteMode, <span class="keywordtype">int</span> depthTestMode, <span class="keywordtype">int</span> depthFunc) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderModel);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(passIndex, 0, pRenderModel-&gt;GetPassCount());</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(materialIndex, 0, pRenderModel-&gt;GetResModel()-&gt;GetMaterialCount());</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a>(depthFunc, 0, g3ddemo::DepthFunc_Max);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnns_1_1g3d_1_1_render_material.html">nns::g3d::RenderMaterial</a>* pRenderMaterial = pRenderModel-&gt;GetRenderMaterial(passIndex, materialIndex);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderMaterial);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(pRenderMaterial-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_material.html#a02ad913b574c49097c701753ce84ae57">IsInitialized</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <a name="_a290"></a><a class="code" href="classnn_1_1gfx_1_1_t_depth_stencil_state.html">nn::gfx::DepthStencilState</a>* pDepthStencilState = g3ddemo::GetDepthStencilState(depthWriteMode, depthTestMode, depthFunc);</div>
<div class="line">    pRenderMaterial-&gt;<a name="a291"></a><a class="code" href="classnns_1_1g3d_1_1_render_material.html#a761b859f03921457046c4f556c3ea647">SetDepthStencilState</a>(pDepthStencilState);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> SetupRenderState(<a class="code" href="classnns_1_1g3d_1_1_render_model.html">nns::g3d::RenderModel</a>* pRenderModel, <span class="keywordtype">int</span> passIndex, <span class="keywordtype">int</span> materialIndex) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderModel);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnns_1_1g3d_1_1_render_material.html">nns::g3d::RenderMaterial</a>* pRenderMaterial = pRenderModel-&gt;GetRenderMaterial(passIndex, materialIndex);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pRenderMaterial);</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(pRenderMaterial-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_material.html#a02ad913b574c49097c701753ce84ae57">IsInitialized</a>());</div>
<div class="line">    <a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(pRenderMaterial);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the blend state.</span></div>
<div class="line">    SetBlendState(pRenderModel, passIndex, materialIndex);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the rasterizer state.</span></div>
<div class="line">    SetRasterizerState(pRenderModel, passIndex, materialIndex, g_MenuFlag.Test&lt;MenuFlag::Wireframe&gt;() ? g3ddemo::FillMode_Wireframe : g3ddemo::FillMode_Solid);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the depth stencil state.</span></div>
<div class="line">    g3ddemo::DepthWriteMode depthWriteMode = g3ddemo::DepthWriteMode_On;</div>
<div class="line">    g3ddemo::DepthTestMode depthTestMode = g3ddemo::DepthTestMode_On;</div>
<div class="line">    g3ddemo::DepthFunc depthFunc = g3ddemo::DepthFunc_Less;</div>
<div class="line">    <span class="keywordflow">if</span> (passIndex == DrawPassType_Model)</div>
<div class="line">    {</div>
<div class="line">        depthFunc = g_MenuFlag.Test&lt;MenuFlag::ZPrePass&gt;() &amp;&amp; IsOpaqueObject(pRenderMaterial) ? g3ddemo::DepthFunc_Equal : g3ddemo::DepthFunc_Less;</div>
<div class="line">        depthWriteMode = g_MenuFlag.Test&lt;MenuFlag::ZPrePass&gt;() &amp;&amp; IsOpaqueObject(pRenderMaterial) ? g3ddemo::DepthWriteMode_Off : depthWriteMode;</div>
<div class="line">    }</div>
<div class="line">    SetDepthStencilState(pRenderModel, passIndex, materialIndex, depthWriteMode, depthTestMode, depthFunc);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Render target settings.</span></div>
<div class="line"><span class="keywordtype">void</span> SetupRenderState(<a class="code" href="classnns_1_1g3d_1_1_render_model.html">nns::g3d::RenderModel</a>* pRenderModel) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> passIndex = 0, passCount = pRenderModel-&gt;GetPassCount(); passIndex &lt; passCount; ++passIndex)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> materialIndex = 0, materialCount = pRenderModel-&gt;GetResModel()-&gt;GetMaterialCount(); materialIndex &lt; materialCount; ++materialIndex)</div>
<div class="line">        {</div>
<div class="line">            SetupRenderState(pRenderModel, passIndex, materialIndex);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Update the Env uniform block.</span></div>
<div class="line"><span class="keywordtype">void</span> BindEnvUniformBlockAndSampler(<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">     <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_material_obj.html">nn::g3d::MaterialObj</a>* pEnvMaterialObj = g_pEnvModelObj-&gt;GetMaterial(0);</div>
<div class="line">     <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>* buffers[g_BufferingCount];</div>
<div class="line">     {</div>
<div class="line">         buffers[0] = pEnvMaterialObj-&gt;<a name="a292"></a><a class="code" href="classnn_1_1g3d_1_1_material_obj.html#aef15d5bfda74edf022aa6337f13d52ed">GetMaterialBlock</a>(0);</div>
<div class="line">         buffers[1] = pEnvMaterialObj-&gt;<a class="code" href="classnn_1_1g3d_1_1_material_obj.html#aef15d5bfda74edf022aa6337f13d52ed">GetMaterialBlock</a>(1);</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// If the name of the shading model defined by the shader assignment is env,</span></div>
<div class="line">    <span class="comment">// it will not be set because the material uniform block is used.</span></div>
<div class="line">    <a class="code" href="classnn_1_1g3d_1_1_model_obj.html">nn::g3d::ModelObj</a>* pModelObj = pRenderModelObj-&gt;GetModelObj();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> shapeIndex = 0, shapeCount = pModelObj-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a54e1cf48111ecb56b8dde5824d13a1fd">GetShapeCount</a>(); shapeIndex &lt; shapeCount; ++shapeIndex)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> materialIndex = pModelObj-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a4f56c9a4a685ff577c44b60bc50f5a8b">GetShape</a>(shapeIndex)-&gt;<a name="a293"></a><a class="code" href="classnn_1_1g3d_1_1_shape_obj.html#af40ab5352dfd30bc5e42f9aff17a70dc">GetMaterialIndex</a>();</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_material_obj.html">nn::g3d::MaterialObj</a>* pMaterialObj = pModelObj-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a225cda4a0e7881df5dc4ebb15ac6c6f6">GetMaterial</a>(materialIndex);</div>
<div class="line">        <span class="keyword">const</span> <a name="_a294"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_assign.html">nn::g3d::ResShaderAssign</a>* pShaderAssign = pMaterialObj-&gt;<a name="a295"></a><a class="code" href="classnn_1_1g3d_1_1_material_obj.html#ac83012bf24ce5dafd6fed058a9700975">GetResource</a>()-&gt;<a name="a296"></a><a class="code" href="classnn_1_1g3d_1_1_res_material.html#a264b8eaf26b01fcf6dc0771b27c03aad">GetShaderAssign</a>();</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>* shadingModelName = pShaderAssign-&gt;<a name="a297"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_assign.html#af19bb02607868a0ee63245e8eda8d642">GetShadingModelName</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(shadingModelName, <span class="stringliteral">&quot;town_env&quot;</span>) == 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pRenderModelObj-&gt;GetRenderUnitObj(shapeIndex)-&gt;BindUniformBlock(<span class="stringliteral">&quot;env&quot;</span>, buffers, g_BufferingCount);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Bind the shared textures stored by the env model.</span></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classnn_1_1g3d_1_1_res_material.html">nn::g3d::ResMaterial</a>* pResMaterial = pEnvMaterialObj-&gt;<a class="code" href="classnn_1_1g3d_1_1_material_obj.html#ac83012bf24ce5dafd6fed058a9700975">GetResource</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> samplerIndex = 0, samplerCount = pResMaterial-&gt;<a name="a298"></a><a class="code" href="classnn_1_1g3d_1_1_res_material.html#a3764f643940e0f05ec03630e6a0e4341">GetSamplerCount</a>(); samplerIndex &lt; samplerCount; ++samplerIndex)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>* pSamplerName = pResMaterial-&gt;<a name="a299"></a><a class="code" href="classnn_1_1g3d_1_1_res_material.html#a432a9aa610adeec1bbafb85811e85f05">GetSamplerName</a>(samplerIndex);</div>
<div class="line">        <a name="_a300"></a><a class="code" href="classnn_1_1g3d_1_1_sampler_ref.html">nn::g3d::SamplerRef</a> samplerRef = pEnvMaterialObj-&gt;<a name="a301"></a><a class="code" href="classnn_1_1g3d_1_1_material_obj.html#ac92fd4547dded42b97cc7ca9715d053d">GetSampler</a>(samplerIndex);</div>
<div class="line">        <a name="_a302"></a><a class="code" href="classnn_1_1g3d_1_1_texture_ref.html">nn::g3d::TextureRef</a> textureRef = pEnvMaterialObj-&gt;<a name="a303"></a><a class="code" href="classnn_1_1g3d_1_1_material_obj.html#a57b77c44f4e6bdedc0b190c1f1f93448">GetTexture</a>(samplerIndex);</div>
<div class="line">        pRenderModelObj-&gt;BindSampler(pSamplerName, textureRef.<a name="a304"></a><a class="code" href="classnn_1_1g3d_1_1_texture_ref.html#a6371d19f32919f27e2e52155c097cf98">GetDescriptorSlot</a>(), samplerRef.<a name="a305"></a><a class="code" href="classnn_1_1g3d_1_1_sampler_ref.html#ac1c6ff5f92bc0c57f2be911aa9ba3f1c">GetDescriptorSlot</a>());</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Configure the uniform block.</span></div>
<div class="line"><span class="keywordtype">void</span> BindUniformBlockAndSampler(<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Bind the env model uniform block and sampler.</span></div>
<div class="line">    BindEnvUniformBlockAndSampler(pRenderModelObj);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Bind the shared texture buffer generated in the runtime, such as for the framebuffer.</span></div>
<div class="line">    <span class="keywordflow">for</span> (ISharedObject* pSharedObject : g_SharedObjects)</div>
<div class="line">    {</div>
<div class="line">        pSharedObject-&gt;BindTo(pRenderModelObj);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the view volume for custom culling.</span></div>
<div class="line">    pRenderModelObj-&gt;SetViewVolume(ViewType_Default, &amp;g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">GetViewVolume</a>(ViewType_Default));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Configure settings for the uniform block and LOD in RenderModelObj.</span></div>
<div class="line"><span class="keywordtype">void</span> SetupRenderModelObj(<a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Initialize the function used to determine the LOD level.</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> lodThresholds[] = { 1.0f, 0.4f, 0.2f, 0.1f };</div>
<div class="line">    g_CalculateLodDefault = CalculateLod(&amp;g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#aff24f2ebd999e9d9f423945fa9d4e8e0">GetViewMtx</a>(ViewType_Default),</div>
<div class="line">        1.0f / <a name="a306"></a><a class="code" href="namespacenn_1_1util.html#a0cdc076bfbd01224d54074c1f312165b">nn::util::TanEst</a>(<a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f) * 0.5f), lodThresholds,</div>
<div class="line">        <span class="keyword">sizeof</span>(lodThresholds) / <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> lodThresholdsWater[] = { 1.0f, 0.8f, 0.4f, 0.2f };</div>
<div class="line">    g_CalculateLodWater = CalculateLod(&amp;g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#aff24f2ebd999e9d9f423945fa9d4e8e0">GetViewMtx</a>(ViewType_Water),</div>
<div class="line">        1.0f / <a class="code" href="namespacenn_1_1util.html#a0cdc076bfbd01224d54074c1f312165b">nn::util::TanEst</a>(<a class="code" href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a>(45.0f) * 0.5f), lodThresholdsWater,</div>
<div class="line">        <span class="keyword">sizeof</span>(lodThresholdsWater) / <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// LOD level determination function settings.</span></div>
<div class="line">    {</div>
<div class="line">        pRenderModelObj-&gt;SetCalculateLodLevelFunctor(ViewType_Default, &amp;g_CalculateLodDefault);</div>
<div class="line">        pRenderModelObj-&gt;SetCalculateLodLevelFunctor(ViewType_Water, &amp;g_CalculateLodWater);</div>
<div class="line">        pRenderModelObj-&gt;SetCalculateLodLevelFunctor(ViewType_Light0, &amp;g_CalculateLodDefault);</div>
<div class="line">        pRenderModelObj-&gt;SetCalculateLodLevelFunctor(ViewType_Light1, &amp;g_CalculateLodDefault);</div>
<div class="line">        pRenderModelObj-&gt;SetCalculateLodLevelFunctor(ViewType_Light2, &amp;g_CalculateLodDefault);</div>
<div class="line">        pRenderModelObj-&gt;SetCalculateLodLevelFunctor(ViewType_Light3, &amp;g_CalculateLodDefault);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Settings common to multiple passes.</span></div>
<div class="line">    BindUniformBlockAndSampler(pRenderModelObj);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the shader key options for the shadow pass rendering type.</span></div>
<div class="line">    WriteDrawTypeKey(pRenderModelObj, DrawPassType_Shadow, <span class="stringliteral">&quot;c_Depth&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the pre-z rendering pass and geometry rendering pass.</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>* buffers[g_BufferingCount];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; g_BufferingCount; i++)</div>
<div class="line">        {</div>
<div class="line">            buffers[i] = g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#ac12827c0d0788017a196ef5b80304304">GetViewUniformBlock</a>(ViewType_Default, i);</div>
<div class="line">        }</div>
<div class="line">        pRenderModelObj-&gt;BindUniformBlock(DrawPassType_ZPre, <span class="stringliteral">&quot;view&quot;</span>, buffers, g_BufferingCount);</div>
<div class="line">        pRenderModelObj-&gt;BindUniformBlock(DrawPassType_Geometry, <span class="stringliteral">&quot;view&quot;</span>, buffers, g_BufferingCount);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the shader key options for the z pre-pass rendering type.</span></div>
<div class="line">        WriteDrawTypeKey(pRenderModelObj, DrawPassType_ZPre, <span class="stringliteral">&quot;c_Depth&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the shader key options for the geometry pass rendering type.</span></div>
<div class="line">        WriteDrawTypeKey(pRenderModelObj, DrawPassType_Geometry, <span class="stringliteral">&quot;c_Gbuffer&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the view volume for custom culling.</span></div>
<div class="line">        pRenderModelObj-&gt;SetViewVolume(ViewType_Default, &amp;g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">GetViewVolume</a>(ViewType_Default));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Water surface draw pass settings.</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>* buffers[g_BufferingCount];</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; g_BufferingCount; i++)</div>
<div class="line">        {</div>
<div class="line">            buffers[i] = g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#ac12827c0d0788017a196ef5b80304304">GetViewUniformBlock</a>(ViewType_Water, i);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pRenderModelObj-&gt;BindUniformBlock(DrawPassType_Water, <span class="stringliteral">&quot;view&quot;</span>, buffers, g_BufferingCount);</div>
<div class="line">        SetupWaterVariation(pRenderModelObj);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set the view volume for custom culling.</span></div>
<div class="line">        pRenderModelObj-&gt;SetViewVolume(ViewType_Water, &amp;g_RenderView.<a class="code" href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">GetViewVolume</a>(ViewType_Water));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Uniform block for switching the debug mode.</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::Buffer</a>* buffers[g_BufferingCount];</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; g_BufferingCount; i++)</div>
<div class="line">        {</div>
<div class="line">            buffers[i] = g_DebugDrawModeContext.GetContextBlock(i);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pRenderModelObj-&gt;BindUniformBlock(DrawPassType_Model, <span class="stringliteral">&quot;debug_draw_mode_context&quot;</span>, buffers, g_BufferingCount);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Set a dynamic skinning option.</span></div>
<div class="line">    g3ddemo::WriteSkinningOption(pRenderModelObj);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Configure the image for overdraw measurement.</span></div>
<div class="line">    pRenderModelObj-&gt;BindImage(DrawPassType_Model, <span class="stringliteral">&quot;_o0&quot;</span>, g_OverdrawMeasuringDescriptorSlot);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set a dummy sampler.</span></div>
<div class="line">    pRenderModelObj-&gt;BindDummySampler(g3ddemo::GetDummyTextureRef().GetDescriptorSlot(), g3ddemo::GetDummySamplerDescriptorSlot());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize RenderModel.</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="namespacenns_1_1g3d.html#aa1c714afc7a0cf4a993dcbc6774f1643">CreateRenderModel</a>(g3ddemo::ResourceHolder* pHolder, <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice, <a class="code" href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a>* pResFile) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html">nn::g3d::ResShaderArchive</a>* pModelResShaderArchive = pResFile-&gt;<a name="a307"></a><a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html#a653a9b76579a3dc72734a59d81d11dd7">GetUserPtr</a>&lt;<a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html">nn::g3d::ResShaderArchive</a>&gt;();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> modelIndex = 0, modelCount = pResFile-&gt;GetModelCount(); modelIndex &lt; modelCount; ++modelIndex)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1_res_model.html">nn::g3d::ResModel</a>* pResModel = pResFile-&gt;GetModel(modelIndex);</div>
<div class="line">        <a class="code" href="classnns_1_1g3d_1_1_render_model.html">nns::g3d::RenderModel</a>* pRenderModel = <a name="a308"></a><a class="code" href="namespacenns_1_1g3d.html#aa1c714afc7a0cf4a993dcbc6774f1643">nns::g3d::CreateRenderModel</a>(pDevice, pResModel, DrawPassType_Count);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(g_pTownShaderArchive);</div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1_res_shading_model.html">nn::g3d::ResShadingModel</a>* pForceBindShadingModel = g_pTownShaderArchive-&gt;<a class="code" href="classnn_1_1g3d_1_1_res_shader_archive.html#a17c81d3fe346cbcc531ad38138b7117b">FindShadingModel</a>(<span class="stringliteral">&quot;town&quot;</span>);</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pForceBindShadingModel);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> passIndex = 0; passIndex &lt; DrawPassType_Count; ++passIndex)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (pModelResShaderArchive != <span class="keyword">nullptr</span>)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">bool</span> success = pRenderModel-&gt;<a name="a309"></a><a class="code" href="classnns_1_1g3d_1_1_render_model.html#aa157d2168a767b3333c62aa5cc120973">CreateDrawPass</a>(pDevice, passIndex, pModelResShaderArchive);</div>
<div class="line">                <a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(success);</div>
<div class="line">                <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(success, <span class="stringliteral">&quot;Failed to create draw pass&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Forcibly assign the town shader if the shader corresponding to the model does not exist.</span></div>
<div class="line">                <span class="keywordtype">bool</span> success = pRenderModel-&gt;<a class="code" href="classnns_1_1g3d_1_1_render_model.html#aa157d2168a767b3333c62aa5cc120973">CreateDrawPass</a>(pDevice, passIndex, pForceBindShadingModel);</div>
<div class="line">                <a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(success);</div>
<div class="line">                <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(success, <span class="stringliteral">&quot;Failed to create draw pass&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        SetupRenderState(pRenderModel);</div>
<div class="line">        pHolder-&gt;renderModels.push_back(pRenderModel);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize ModelAnimObj.</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="namespacenns_1_1g3d.html#a72152fa94a41e3511738bf0a9bc7c255">CreateModelAnimObj</a>(g3ddemo::ResourceHolder* pHolder, <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice, <a class="code" href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a>* pResFile, CreateModelInstanceCallback pCallback) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> modelIndex = 0, modelCount = pResFile-&gt;GetModelCount(); modelIndex &lt; modelCount; ++modelIndex)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1_res_model.html">nn::g3d::ResModel</a>* pResModel = pResFile-&gt;GetModel(modelIndex);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Because shape animations may be sent from 3dEditor, enable dynamic generation of vertex buffers.</span></div>
<div class="line">        pResModel-&gt;<a name="a310"></a><a class="code" href="classnn_1_1g3d_1_1_res_model.html#af8edc74ae5766b974f74b16d692abca0">ActivateDynamicVertexAttrForShapeAnim</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Initialize ModelAnimObj.</span></div>
<div class="line">        <a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html">nns::g3d::ModelAnimObj</a>* pModelAnimObj;</div>
<div class="line">        {</div>
<div class="line">            <a name="_a311"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj_1_1_builder.html">nn::g3d::ModelObj::Builder</a> builder(pResModel);</div>
<div class="line">            builder.ViewCount(ViewType_Count);</div>
<div class="line">            builder.ShapeBufferingCount(g_BufferingCount);</div>
<div class="line">            builder.SkeletonBufferingCount(g_BufferingCount);</div>
<div class="line">            builder.MaterialBufferingCount(g_BufferingCount);</div>
<div class="line">            builder.SetBoundingEnabled();</div>
<div class="line">            builder.ShapeUserAreaSize(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * g_MaxLodLevel);</div>
<div class="line">            pModelAnimObj = <a name="a312"></a><a class="code" href="namespacenns_1_1g3d.html#a72152fa94a41e3511738bf0a9bc7c255">nns::g3d::CreateModelAnimObj</a>(pDevice, builder);</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a>(pModelAnimObj);</div>
<div class="line">        pHolder-&gt;modelAnimObjs.push_back(pModelAnimObj);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="classnn_1_1g3d_1_1_model_obj.html">nn::g3d::ModelObj</a>* pModelObj = pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a75f2e005c7b06d62f33d69508db503e9">GetModelObj</a>();</div>
<div class="line">        pModelObj-&gt;<a name="a313"></a><a class="code" href="classnn_1_1g3d_1_1_model_obj.html#af8edfe8be76fd1460ed6db03ed53dfd7">SetShapeAnimCalculationEnabled</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set LOD information.</span></div>
<div class="line">        SetupShapeUserArea(pModelObj);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create the buffer for recording animation IDs.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">size_t</span> bufferSize = <span class="keyword">sizeof</span>(int) * AnimationType_Count;</div>
<div class="line">            <span class="keywordtype">int</span>* pAnimId = g3ddemo::AllocateMemory&lt;int&gt;(bufferSize);</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> animationIndex = 0; animationIndex &lt; AnimationType_Count; ++animationIndex)</div>
<div class="line">            {</div>
<div class="line">                pAnimId[animationIndex] = <a name="a314"></a><a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a362b50b68f24886e203fa3bad05f25d9">nns::g3d::ModelAnimObj::InvalidAnimId</a>;</div>
<div class="line">            }</div>
<div class="line">            pHolder-&gt;animationIds.push_back(pAnimId);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// If a callback function is set, call it.</span></div>
<div class="line">        <span class="keywordflow">if</span> (pCallback)</div>
<div class="line">        {</div>
<div class="line">            pCallback(pModelObj);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize RenderModelObj.</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="namespacenns_1_1g3d.html#a4d8d828fb260a742ceca742312144c68">CreateRenderModelObj</a>(g3ddemo::ResourceHolder* pHolder, <a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html">nns::g3d::ModelAnimObj</a>* pModelAnimObj, <a class="code" href="classnns_1_1g3d_1_1_render_model.html">nns::g3d::RenderModel</a>* pRenderModel) <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a75f2e005c7b06d62f33d69508db503e9">GetModelObj</a>()-&gt;<a class="code" href="classnn_1_1g3d_1_1_model_obj.html#a71faa678be49b342e738072ed3783ed3">GetResource</a>() == pRenderModel-&gt;<a name="a315"></a><a class="code" href="classnns_1_1g3d_1_1_render_model.html#a8a79574afbd1af521b7dedbc75b5e376">GetResModel</a>());</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a>* pRenderModelObj = <a name="a316"></a><a class="code" href="namespacenns_1_1g3d.html#a4d8d828fb260a742ceca742312144c68">nns::g3d::CreateRenderModelObj</a>(pModelAnimObj-&gt;<a class="code" href="classnns_1_1g3d_1_1_model_anim_obj.html#a75f2e005c7b06d62f33d69508db503e9">GetModelObj</a>(), pRenderModel);</div>
<div class="line">    pHolder-&gt;renderModelObjs.push_back(pRenderModelObj);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> TownMain() <a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classnns_1_1gfx_1_1_debug_graphics_framework.html">nns::gfx::DebugGraphicsFramework</a>* pGfxFramework = g3ddemo::GetGfxFramework();</div>
<div class="line">    pGfxFramework-&gt;<a name="a317"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a4d3c1d1a8351f709865afed46452f793">SetFrameworkMode</a>(<a name="a318"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a4987555fae0e257658ffef4beb51a674a6d2e6861717e82c71ea532bf89e5b1f0">nns::gfx::GraphicsFramework::FrameworkMode_DeferredSubmission</a>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::Device</a>* pDevice = pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a6dbabc4b1fab1df227e879443468b749">GetDevice</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize Town.</span></div>
<div class="line">    InitializeTown(pGfxFramework);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> uniformBufferIndex = 0;</div>
<div class="line">    pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#af8b095e85b8a9c7aec4f4b9748295885">SetCalculateCallback</a>(Calculate, &amp;uniformBufferIndex);</div>
<div class="line">    pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a5bd57c06d0e55d2f66ecc9c6058c8302">SetMakeCommandCallback</a>(MakeCommand, &amp;uniformBufferIndex);</div>
<div class="line">    pGfxFramework-&gt;<a name="a319"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a3c1198bea42a57bd909746fd0c5af266">ResetFrame</a>();</div>
<div class="line">    g_FrameCount = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Main loop.</span></div>
<div class="line">    <span class="keywordflow">while</span> (<a name="a320"></a><a class="code" href="nn___macro_8h.html#a71c0f58f6d49fe1392380eed4509ab9a">NN_STATIC_CONDITION</a>(1))</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (GetMenuMode() != MenuType_Debug1)</div>
<div class="line">        {</div>
<div class="line">            <a name="a321"></a><a class="code" href="perf___profile_8h.html#a5131b7b04a8b13456f6f2c7f8b3f0c61">NN_PERF_SET_ENABLED</a>(<span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="perf___profile_8h.html#a5131b7b04a8b13456f6f2c7f8b3f0c61">NN_PERF_SET_ENABLED</a>(<span class="keyword">true</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        g3ddemo::UpdateController();</div>
<div class="line">        <span class="keywordflow">if</span> (g3ddemo::IsButtonTriggered&lt;nns::hid::Button::Start&gt;())</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Execute frame processing.</span></div>
<div class="line">        pGfxFramework-&gt;<a name="a322"></a><a class="code" href="classnns_1_1gfx_1_1_debug_graphics_framework.html#ad125c3ec3693ab4d020953776009acd1">ProcessFrame</a>();</div>
<div class="line"> </div>
<div class="line">        uniformBufferIndex ^= 1;</div>
<div class="line">        ++g_FrameCount;</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">    pGfxFramework-&gt;<a name="a323"></a><a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a8123c6c4c936915e693da89b566f7d34">QueueFinish</a>();</div>
<div class="line"> </div>
<div class="line">    pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#af8b095e85b8a9c7aec4f4b9748295885">SetCalculateCallback</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">    pGfxFramework-&gt;<a class="code" href="classnns_1_1gfx_1_1_graphics_framework.html#a5bd57c06d0e55d2f66ecc9c6058c8302">SetMakeCommandCallback</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free Town.</span></div>
<div class="line">    FinalizeTown(pGfxFramework, pDevice);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_anim_frame_ctrl_html_acc8290c7f3020efa545336804fbb7ea0"><div class="ttname"><a href="classnn_1_1g3d_1_1_anim_frame_ctrl.html#acc8290c7f3020efa545336804fbb7ea0">nn::g3d::AnimFrameCtrl::SetStep</a></div><div class="ttdeci">void SetStep(float step) NN_NOEXCEPT</div><div class="ttdoc">Sets the frame update width.</div><div class="ttdef"><b>Definition:</b> g3d_AnimObj.h:135</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_anim_obj_html_ac2f590c6bdb160d6e7b7e640826b4362"><div class="ttname"><a href="classnn_1_1g3d_1_1_anim_obj.html#ac2f590c6bdb160d6e7b7e640826b4362">nn::g3d::AnimObj::GetFrameCtrl</a></div><div class="ttdeci">AnimFrameCtrl &amp; GetFrameCtrl() NN_NOEXCEPT</div><div class="ttdoc">Gets the frame controller.</div><div class="ttdef"><b>Definition:</b> g3d_AnimObj.h:711</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_material_obj_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_material_obj.html">nn::g3d::MaterialObj</a></div><div class="ttdoc">A material instance.</div><div class="ttdef"><b>Definition:</b> g3d_MaterialObj.h:30</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_material_obj_html_a1864c83787f076a1bd8edf556ef82c48"><div class="ttname"><a href="classnn_1_1g3d_1_1_material_obj.html#a1864c83787f076a1bd8edf556ef82c48">nn::g3d::MaterialObj::GetShaderParam</a></div><div class="ttdeci">const void * GetShaderParam(int paramIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets the shader parameters.</div><div class="ttdef"><b>Definition:</b> g3d_MaterialObj.h:444</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_material_obj_html_a57b77c44f4e6bdedc0b190c1f1f93448"><div class="ttname"><a href="classnn_1_1g3d_1_1_material_obj.html#a57b77c44f4e6bdedc0b190c1f1f93448">nn::g3d::MaterialObj::GetTexture</a></div><div class="ttdeci">nn::g3d::TextureRef GetTexture(int texIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets the texture.</div><div class="ttdef"><b>Definition:</b> g3d_MaterialObj.h:596</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_material_obj_html_a92e4a14e18379878b68e8a1df4906e8f"><div class="ttname"><a href="classnn_1_1g3d_1_1_material_obj.html#a92e4a14e18379878b68e8a1df4906e8f">nn::g3d::MaterialObj::GetShaderParamCount</a></div><div class="ttdeci">int GetShaderParamCount() const NN_NOEXCEPT</div><div class="ttdoc">Gets the number of shader parameters placed under the material.</div><div class="ttdef"><b>Definition:</b> g3d_MaterialObj.h:339</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_material_obj_html_ac83012bf24ce5dafd6fed058a9700975"><div class="ttname"><a href="classnn_1_1g3d_1_1_material_obj.html#ac83012bf24ce5dafd6fed058a9700975">nn::g3d::MaterialObj::GetResource</a></div><div class="ttdeci">const ResMaterial * GetResource() const NN_NOEXCEPT</div><div class="ttdoc">Gets a resource.</div><div class="ttdef"><b>Definition:</b> g3d_MaterialObj.h:153</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_material_obj_html_ac92fd4547dded42b97cc7ca9715d053d"><div class="ttname"><a href="classnn_1_1g3d_1_1_material_obj.html#ac92fd4547dded42b97cc7ca9715d053d">nn::g3d::MaterialObj::GetSampler</a></div><div class="ttdeci">SamplerRef GetSampler(int samplerIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets the sampler by looking up the index.</div><div class="ttdef"><b>Definition:</b> g3d_MaterialObj.h:709</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_material_obj_html_ad0d7594dd997ea0ce862ed400fb82793"><div class="ttname"><a href="classnn_1_1g3d_1_1_material_obj.html#ad0d7594dd997ea0ce862ed400fb82793">nn::g3d::MaterialObj::GetShaderParamName</a></div><div class="ttdeci">const char * GetShaderParamName(int paramIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets the shader parameter name from the index.</div><div class="ttdef"><b>Definition:</b> g3d_MaterialObj.h:353</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_material_obj_html_aef15d5bfda74edf022aa6337f13d52ed"><div class="ttname"><a href="classnn_1_1g3d_1_1_material_obj.html#aef15d5bfda74edf022aa6337f13d52ed">nn::g3d::MaterialObj::GetMaterialBlock</a></div><div class="ttdeci">nn::gfx::Buffer * GetMaterialBlock(int bufferIndex) NN_NOEXCEPT</div><div class="ttdoc">Gets the buffer for a uniform block retained by the material.</div><div class="ttdef"><b>Definition:</b> g3d_MaterialObj.h:206</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_1_1_builder_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj_1_1_builder.html">nn::g3d::ModelObj::Builder</a></div><div class="ttdoc">The class that builds instances of ModelObj.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:1179</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html">nn::g3d::ModelObj</a></div><div class="ttdoc">A model instance.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:32</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_a225cda4a0e7881df5dc4ebb15ac6c6f6"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#a225cda4a0e7881df5dc4ebb15ac6c6f6">nn::g3d::ModelObj::GetMaterial</a></div><div class="ttdeci">MaterialObj * GetMaterial(int matIndex) NN_NOEXCEPT</div><div class="ttdoc">Gets the material by looking up the index.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:784</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_a4f56c9a4a685ff577c44b60bc50f5a8b"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#a4f56c9a4a685ff577c44b60bc50f5a8b">nn::g3d::ModelObj::GetShape</a></div><div class="ttdeci">ShapeObj * GetShape(int shapeIndex) NN_NOEXCEPT</div><div class="ttdoc">Gets the shape by looking up the index.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:675</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_a54e1cf48111ecb56b8dde5824d13a1fd"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#a54e1cf48111ecb56b8dde5824d13a1fd">nn::g3d::ModelObj::GetShapeCount</a></div><div class="ttdeci">int GetShapeCount() const NN_NOEXCEPT</div><div class="ttdoc">Gets the number of shapes placed under the model.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:661</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_a674b6b3417778ae519cf3bc6d6f5ff65"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#a674b6b3417778ae519cf3bc6d6f5ff65">nn::g3d::ModelObj::CalculateMaterial</a></div><div class="ttdeci">void CalculateMaterial(int bufferIndex) NN_NOEXCEPT</div><div class="ttdoc">Calculates render resources for materials.</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_a6d96fa2003a6099ea92df607e5ddc78e"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#a6d96fa2003a6099ea92df607e5ddc78e">nn::g3d::ModelObj::SetMaterialVisible</a></div><div class="ttdeci">void SetMaterialVisible(int matIndex, bool visible) NN_NOEXCEPT</div><div class="ttdoc">Sets the visibility of the specified material.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:592</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_a71faa678be49b342e738072ed3783ed3"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#a71faa678be49b342e738072ed3783ed3">nn::g3d::ModelObj::GetResource</a></div><div class="ttdeci">const ResModel * GetResource() const NN_NOEXCEPT</div><div class="ttdoc">Gets a resource.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:248</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_a78560f853ae973b9383a52a2d52f8253"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#a78560f853ae973b9383a52a2d52f8253">nn::g3d::ModelObj::GetMaterialCount</a></div><div class="ttdeci">int GetMaterialCount() const NN_NOEXCEPT</div><div class="ttdoc">Gets the number of materials placed under the model.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:770</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_aa425c7adfa926e0315955baf57a02653"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#aa425c7adfa926e0315955baf57a02653">nn::g3d::ModelObj::GetLodCount</a></div><div class="ttdeci">int GetLodCount() const NN_NOEXCEPT</div><div class="ttdoc">Gets the number of LOD levels in the model.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:388</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_af58166699404cb37a59cb3e6daf96011"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#af58166699404cb37a59cb3e6daf96011">nn::g3d::ModelObj::GetName</a></div><div class="ttdeci">const char * GetName() const NN_NOEXCEPT</div><div class="ttdoc">Gets the model name.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:448</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_af814bd6f8fe716e4ae3c8eea11603338"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#af814bd6f8fe716e4ae3c8eea11603338">nn::g3d::ModelObj::SetShapeUserAreaForceUpdateEnabled</a></div><div class="ttdeci">void SetShapeUserAreaForceUpdateEnabled() NN_NOEXCEPT</div><div class="ttdoc">Configure to update the shape's user area even when the shape is not a rigid body.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:458</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_af8c5bbd80c73ab37280e7505ea4a0292"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#af8c5bbd80c73ab37280e7505ea4a0292">nn::g3d::ModelObj::GetSkeleton</a></div><div class="ttdeci">SkeletonObj * GetSkeleton() NN_NOEXCEPT</div><div class="ttdoc">Gets the skeleton.</div><div class="ttdef"><b>Definition:</b> g3d_ModelObj.h:637</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_model_obj_html_af8edfe8be76fd1460ed6db03ed53dfd7"><div class="ttname"><a href="classnn_1_1g3d_1_1_model_obj.html#af8edfe8be76fd1460ed6db03ed53dfd7">nn::g3d::ModelObj::SetShapeAnimCalculationEnabled</a></div><div class="ttdeci">void SetShapeAnimCalculationEnabled() NN_NOEXCEPT</div><div class="ttdoc">Enables the setting to calculate the shape animation result in the CPU and apply that result to the d...</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_bone_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_bone.html">nn::g3d::ResBone</a></div><div class="ttdoc">Bone resource.</div><div class="ttdef"><b>Definition:</b> g3d_ResSkeleton.h:66</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_bone_html_ada6b32d204c3db8b73db76e781d0a0a1"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_bone.html#ada6b32d204c3db8b73db76e781d0a0a1">nn::g3d::ResBone::GetName</a></div><div class="ttdeci">const char * GetName() const NN_NOEXCEPT</div><div class="ttdoc">Gets the skeleton name.</div><div class="ttdef"><b>Definition:</b> g3d_ResSkeleton.h:161</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_bone_visibility_anim_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_bone_visibility_anim.html">nn::g3d::ResBoneVisibilityAnim</a></div><div class="ttdoc">The bone visibility animation resource.</div><div class="ttdef"><b>Definition:</b> g3d_ResBoneVisibilityAnim.h:58</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_external_file_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_external_file.html">nn::g3d::ResExternalFile</a></div><div class="ttdoc">The external file resource.</div><div class="ttdef"><b>Definition:</b> g3d_ResCommon.h:209</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_external_file_html_a9207cd3bcc5ffe210f8cd4ce37460c23"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_external_file.html#a9207cd3bcc5ffe210f8cd4ce37460c23">nn::g3d::ResExternalFile::GetData</a></div><div class="ttdeci">void * GetData() NN_NOEXCEPT</div><div class="ttdoc">Gets a pointer to the external file.</div><div class="ttdef"><b>Definition:</b> g3d_ResCommon.h:230</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_file_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_file.html">nn::g3d::ResFile</a></div><div class="ttdoc">Resource files.</div><div class="ttdef"><b>Definition:</b> g3d_ResFile.h:86</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_file_html_a013b6097af603cc2611627cba86fa6ed"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_file.html#a013b6097af603cc2611627cba86fa6ed">nn::g3d::ResFile::SetUserPtr</a></div><div class="ttdeci">void SetUserPtr(void *pUserPtr) NN_NOEXCEPT</div><div class="ttdoc">Sets the user pointer.</div><div class="ttdef"><b>Definition:</b> g3d_ResFile.h:243</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_file_html_a0de53bc695b00cecf5fd0c9b08d13034"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_file.html#a0de53bc695b00cecf5fd0c9b08d13034">nn::g3d::ResFile::FindExternalFile</a></div><div class="ttdeci">ResExternalFile * FindExternalFile(const char *str) NN_NOEXCEPT</div><div class="ttdoc">Gets the external file with the specified name.</div><div class="ttdef"><b>Definition:</b> g3d_ResFile.h:1229</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_file_html_a0f972d96f615b397c35f24e83bbef80c"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_file.html#a0f972d96f615b397c35f24e83bbef80c">nn::g3d::ResFile::FindBoneVisibilityAnim</a></div><div class="ttdeci">ResBoneVisibilityAnim * FindBoneVisibilityAnim(const char *str) NN_NOEXCEPT</div><div class="ttdoc">Gets the bone visibility animation with the specified name.</div><div class="ttdef"><b>Definition:</b> g3d_ResFile.h:930</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_file_html_a4e6bf2223e05531032dd18f523c224c4"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_file.html#a4e6bf2223e05531032dd18f523c224c4">nn::g3d::ResFile::FindMaterialAnim</a></div><div class="ttdeci">ResMaterialAnim * FindMaterialAnim(const char *str) NN_NOEXCEPT</div><div class="ttdoc">Gets the material animation with the specified name.</div><div class="ttdef"><b>Definition:</b> g3d_ResFile.h:631</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_file_html_a4f00478003a8c27bbb820a8aee35b357"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_file.html#a4f00478003a8c27bbb820a8aee35b357">nn::g3d::ResFile::FindSkeletalAnim</a></div><div class="ttdeci">ResSkeletalAnim * FindSkeletalAnim(const char *str) NN_NOEXCEPT</div><div class="ttdoc">Gets the skeletal animation with the specified name.</div><div class="ttdef"><b>Definition:</b> g3d_ResFile.h:482</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_file_html_a9aa26a8344b39de22d2493584f55e000"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_file.html#a9aa26a8344b39de22d2493584f55e000">nn::g3d::ResFile::FindShapeAnim</a></div><div class="ttdeci">ResShapeAnim * FindShapeAnim(const char *str) NN_NOEXCEPT</div><div class="ttdoc">Gets the shape animation with the specified name.</div><div class="ttdef"><b>Definition:</b> g3d_ResFile.h:780</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_file_html_aea207d962515bd832f33b3efd734ccbc"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_file.html#aea207d962515bd832f33b3efd734ccbc">nn::g3d::ResFile::FindModel</a></div><div class="ttdeci">ResModel * FindModel(const char *str) NN_NOEXCEPT</div><div class="ttdoc">Gets the model with the specified name.</div><div class="ttdef"><b>Definition:</b> g3d_ResFile.h:333</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_file_html_afeaf3b666d229f4e30fe374ee5707909"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_file.html#afeaf3b666d229f4e30fe374ee5707909">nn::g3d::ResFile::Setup</a></div><div class="ttdeci">void Setup(nn::gfx::Device *pDevice) NN_NOEXCEPT</div><div class="ttdoc">Sets up the resource.</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_material_anim_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_material_anim.html">nn::g3d::ResMaterialAnim</a></div><div class="ttdoc">Material animation resources.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterialAnim.h:375</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_material_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_material.html">nn::g3d::ResMaterial</a></div><div class="ttdoc">The material resource.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:954</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_material_html_a173fe82a044bd944283cfb617b8111c1"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_material.html#a173fe82a044bd944283cfb617b8111c1">nn::g3d::ResMaterial::FindRenderInfo</a></div><div class="ttdeci">ResRenderInfo * FindRenderInfo(const char *str) NN_NOEXCEPT</div><div class="ttdoc">Gets the rendering information with the specified name.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:1194</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_material_html_a264b8eaf26b01fcf6dc0771b27c03aad"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_material.html#a264b8eaf26b01fcf6dc0771b27c03aad">nn::g3d::ResMaterial::GetShaderAssign</a></div><div class="ttdeci">ResShaderAssign * GetShaderAssign() NN_NOEXCEPT</div><div class="ttdoc">Gets the shader assignment information.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:2078</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_material_html_a3764f643940e0f05ec03630e6a0e4341"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_material.html#a3764f643940e0f05ec03630e6a0e4341">nn::g3d::ResMaterial::GetSamplerCount</a></div><div class="ttdeci">int GetSamplerCount() const NN_NOEXCEPT</div><div class="ttdoc">Gets the number of samplers.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:1470</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_material_html_a432a9aa610adeec1bbafb85811e85f05"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_material.html#a432a9aa610adeec1bbafb85811e85f05">nn::g3d::ResMaterial::GetSamplerName</a></div><div class="ttdeci">const char * GetSamplerName(int elemIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets the name from the index of the sampler.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:1583</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_mesh_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_mesh.html">nn::g3d::ResMesh</a></div><div class="ttdoc">The mesh resources. Retains the index buffer.</div><div class="ttdef"><b>Definition:</b> g3d_ResShape.h:719</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_mesh_html_a74c7c4bf93c150f0a0c4d85f6b23d21f"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_mesh.html#a74c7c4bf93c150f0a0c4d85f6b23d21f">nn::g3d::ResMesh::GetOffset</a></div><div class="ttdeci">ptrdiff_t GetOffset() const NN_NOEXCEPT</div><div class="ttdoc">Gets the vertex index starting point.</div><div class="ttdef"><b>Definition:</b> g3d_ResShape.h:1034</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_model_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_model.html">nn::g3d::ResModel</a></div><div class="ttdoc">Model resources.</div><div class="ttdef"><b>Definition:</b> g3d_ResModel.h:71</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_model_html_aca2ca478cace80e46c68071c86330880"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_model.html#aca2ca478cace80e46c68071c86330880">nn::g3d::ResModel::GetName</a></div><div class="ttdeci">const char * GetName() const NN_NOEXCEPT</div><div class="ttdoc">Gets the model name.</div><div class="ttdef"><b>Definition:</b> g3d_ResModel.h:173</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_model_html_af8edc74ae5766b974f74b16d692abca0"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_model.html#af8edc74ae5766b974f74b16d692abca0">nn::g3d::ResModel::ActivateDynamicVertexAttrForShapeAnim</a></div><div class="ttdeci">void ActivateDynamicVertexAttrForShapeAnim() NN_NOEXCEPT</div><div class="ttdoc">Includes the vertex attribute required for shape animation into the dynamic vertex buffer.</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_render_info_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_render_info.html">nn::g3d::ResRenderInfo</a></div><div class="ttdoc">Render information resource.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:106</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_render_info_html_a7325e489c6d8d37b2a6af77a54f5b090"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_render_info.html#a7325e489c6d8d37b2a6af77a54f5b090">nn::g3d::ResRenderInfo::GetArrayLength</a></div><div class="ttdeci">int GetArrayLength() const NN_NOEXCEPT</div><div class="ttdoc">Gets the array length.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:135</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_render_info_html_ad7542986cc293f55fbb39a116597ce1a"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_render_info.html#ad7542986cc293f55fbb39a116597ce1a">nn::g3d::ResRenderInfo::GetInt</a></div><div class="ttdeci">const int32_t * GetInt() const NN_NOEXCEPT</div><div class="ttdoc">Gets the data as an integer array.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:156</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_archive_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_archive.html">nn::g3d::ResShaderArchive</a></div><div class="ttdoc">Shader archive resource.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:2811</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_archive_html_a0bd2ecf27e62dd885eb25a1c57e29c9d"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_archive.html#a0bd2ecf27e62dd885eb25a1c57e29c9d">nn::g3d::ResShaderArchive::Setup</a></div><div class="ttdeci">void Setup(nn::gfx::Device *pDevice) NN_NOEXCEPT</div><div class="ttdoc">Sets up the shader archive.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:2854</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_archive_html_a17c81d3fe346cbcc531ad38138b7117b"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_archive.html#a17c81d3fe346cbcc531ad38138b7117b">nn::g3d::ResShaderArchive::FindShadingModel</a></div><div class="ttdeci">ResShadingModel * FindShadingModel(const char *str) NN_NOEXCEPT</div><div class="ttdoc">Gets the shading model with the specified name.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:3119</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_archive_html_a5ed5eaebeae9492aeaa64fabaf6e743c"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_archive.html#a5ed5eaebeae9492aeaa64fabaf6e743c">nn::g3d::ResShaderArchive::GetName</a></div><div class="ttdeci">const char * GetName() const NN_NOEXCEPT</div><div class="ttdoc">Gets the name of the shader archive.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:2954</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_archive_html_a653a9b76579a3dc72734a59d81d11dd7"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_archive.html#a653a9b76579a3dc72734a59d81d11dd7">nn::g3d::ResShaderArchive::GetUserPtr</a></div><div class="ttdeci">void * GetUserPtr() NN_NOEXCEPT</div><div class="ttdoc">Gets the user pointer.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:2980</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_archive_html_ad03541d45efb24c2f6991b780ec42add"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_archive.html#ad03541d45efb24c2f6991b780ec42add">nn::g3d::ResShaderArchive::Cleanup</a></div><div class="ttdeci">void Cleanup(nn::gfx::Device *pDevice) NN_NOEXCEPT</div><div class="ttdoc">Cleans up the shader archive.</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_assign_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_assign.html">nn::g3d::ResShaderAssign</a></div><div class="ttdoc">Shader assignment information.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:251</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_assign_html_af19bb02607868a0ee63245e8eda8d642"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_assign.html#af19bb02607868a0ee63245e8eda8d642">nn::g3d::ResShaderAssign::GetShadingModelName</a></div><div class="ttdeci">const char * GetShadingModelName() const NN_NOEXCEPT</div><div class="ttdoc">Gets the name of the shader model.</div><div class="ttdef"><b>Definition:</b> g3d_ResMaterial.h:271</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_file_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_file.html">nn::g3d::ResShaderFile</a></div><div class="ttdoc">Shader archive resource.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:3256</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_file_html_a39a1802d90e4a26b504d97710bfdca5a"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_file.html#a39a1802d90e4a26b504d97710bfdca5a">nn::g3d::ResShaderFile::ResCast</a></div><div class="ttdeci">static ResShaderFile * ResCast(void *ptr) NN_NOEXCEPT</div><div class="ttdoc">Converts the loaded file to ResShaderFile.</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_file_html_a6ca625333d1fb3f4b903d0ee4533666c"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_file.html#a6ca625333d1fb3f4b903d0ee4533666c">nn::g3d::ResShaderFile::Setup</a></div><div class="ttdeci">void Setup(nn::gfx::Device *pDevice) NN_NOEXCEPT</div><div class="ttdoc">Sets up the shader archive.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:3319</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_file_html_a733f0fed01ac50f68f743fb47a8813f6"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_file.html#a733f0fed01ac50f68f743fb47a8813f6">nn::g3d::ResShaderFile::IsValid</a></div><div class="ttdeci">static bool IsValid(const void *ptr) NN_NOEXCEPT</div><div class="ttdoc">Determines whether the binary data is a valid shader file.</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_file_html_ab2a9392d9a139efe97b011ac5aec96c4"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_file.html#ab2a9392d9a139efe97b011ac5aec96c4">nn::g3d::ResShaderFile::GetResShaderArchive</a></div><div class="ttdeci">ResShaderArchive * GetResShaderArchive() NN_NOEXCEPT</div><div class="ttdoc">Gets the shader archive.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:3448</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_option_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_option.html">nn::g3d::ResShaderOption</a></div><div class="ttdoc">Resource for shader options.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:378</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shader_option_html_a221f5561148d29f8930f3342e8401430"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shader_option.html#a221f5561148d29f8930f3342e8401430">nn::g3d::ResShaderOption::FindChoiceIndex</a></div><div class="ttdeci">int FindChoiceIndex(const char *str) const NN_NOEXCEPT</div><div class="ttdoc">Gets the index of the Choice with the specified name.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:466</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shading_model_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shading_model.html">nn::g3d::ResShadingModel</a></div><div class="ttdoc">Shading model resource.</div><div class="ttdef"><b>Definition:</b> g3d_ResShader.h:1192</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_shape_anim_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_shape_anim.html">nn::g3d::ResShapeAnim</a></div><div class="ttdoc">Shape animation resources.</div><div class="ttdef"><b>Definition:</b> g3d_ResShapeAnim.h:228</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_res_skeletal_anim_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_res_skeletal_anim.html">nn::g3d::ResSkeletalAnim</a></div><div class="ttdoc">Skeleton animation.</div><div class="ttdef"><b>Definition:</b> g3d_ResSkeletalAnim.h:407</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_sampler_ref_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_sampler_ref.html">nn::g3d::SamplerRef</a></div><div class="ttdoc">Type that represents the sampler and the descriptor pool that registered that sampler.</div><div class="ttdef"><b>Definition:</b> g3d_ResCommon.h:107</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_sampler_ref_html_ac1c6ff5f92bc0c57f2be911aa9ba3f1c"><div class="ttname"><a href="classnn_1_1g3d_1_1_sampler_ref.html#ac1c6ff5f92bc0c57f2be911aa9ba3f1c">nn::g3d::SamplerRef::GetDescriptorSlot</a></div><div class="ttdeci">nn::gfx::DescriptorSlot GetDescriptorSlot() const NN_NOEXCEPT</div><div class="ttdoc">Gets the descriptor slot.</div><div class="ttdef"><b>Definition:</b> g3d_ResCommon.h:154</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shader_selector_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_shader_selector.html">nn::g3d::ShaderSelector</a></div><div class="ttdoc">Selector for dynamic shader variations.</div><div class="ttdef"><b>Definition:</b> g3d_ShaderObj.h:732</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shader_selector_html_a245ecc912327099dc0d517a40a71e5d8"><div class="ttname"><a href="classnn_1_1g3d_1_1_shader_selector.html#a245ecc912327099dc0d517a40a71e5d8">nn::g3d::ShaderSelector::GetDynamicOption</a></div><div class="ttdeci">const ResShaderOption * GetDynamicOption(int optionIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets a dynamic option by looking up its index.</div><div class="ttdef"><b>Definition:</b> g3d_ShaderObj.h:827</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shader_selector_html_a3afe10975f2f1896503ceedda3e04773"><div class="ttname"><a href="classnn_1_1g3d_1_1_shader_selector.html#a3afe10975f2f1896503ceedda3e04773">nn::g3d::ShaderSelector::WriteDynamicKey</a></div><div class="ttdeci">void WriteDynamicKey(int optionIndex, int choiceIndex) NN_NOEXCEPT</div><div class="ttdoc">Rewrites the shader key using the specified choice.</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shader_selector_html_a6d3d502fd6ee5a967e41fcfe6d42be51"><div class="ttname"><a href="classnn_1_1g3d_1_1_shader_selector.html#a6d3d502fd6ee5a967e41fcfe6d42be51">nn::g3d::ShaderSelector::FindDynamicOptionIndex</a></div><div class="ttdeci">int FindDynamicOptionIndex(const char *name) const NN_NOEXCEPT</div><div class="ttdoc">Gets the index from the dynamic option name.</div><div class="ttdef"><b>Definition:</b> g3d_ShaderObj.h:813</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shape_obj_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_shape_obj.html">nn::g3d::ShapeObj</a></div><div class="ttdoc">Shape instances.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:268</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shape_obj_html_a07131b7bd1633a73acff2b021ebd45a7"><div class="ttname"><a href="classnn_1_1g3d_1_1_shape_obj.html#a07131b7bd1633a73acff2b021ebd45a7">nn::g3d::ShapeObj::GetSubMeshCount</a></div><div class="ttdeci">int GetSubMeshCount() const NN_NOEXCEPT</div><div class="ttdoc">Gets the number of submeshes.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:616</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shape_obj_html_a311a863e4d0810ddffa988344af47974"><div class="ttname"><a href="classnn_1_1g3d_1_1_shape_obj.html#a311a863e4d0810ddffa988344af47974">nn::g3d::ShapeObj::GetBounding</a></div><div class="ttdeci">Sphere * GetBounding() NN_NOEXCEPT</div><div class="ttdoc">Gets the bounding sphere on the world coordinate system for the shape.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:985</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shape_obj_html_a366192ea48975363a42b6793469b484c"><div class="ttname"><a href="classnn_1_1g3d_1_1_shape_obj.html#a366192ea48975363a42b6793469b484c">nn::g3d::ShapeObj::GetUserArea</a></div><div class="ttdeci">void * GetUserArea() NN_NOEXCEPT</div><div class="ttdoc">Gets a pointer to the user area.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:802</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shape_obj_html_a4250dd1621b8717ab126aa3d43a18fa8"><div class="ttname"><a href="classnn_1_1g3d_1_1_shape_obj.html#a4250dd1621b8717ab126aa3d43a18fa8">nn::g3d::ShapeObj::GetResMesh</a></div><div class="ttdeci">const ResMesh * GetResMesh() const NN_NOEXCEPT</div><div class="ttdoc">Gets a mesh.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:578</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_shape_obj_html_af40ab5352dfd30bc5e42f9aff17a70dc"><div class="ttname"><a href="classnn_1_1g3d_1_1_shape_obj.html#af40ab5352dfd30bc5e42f9aff17a70dc">nn::g3d::ShapeObj::GetMaterialIndex</a></div><div class="ttdeci">int GetMaterialIndex() const NN_NOEXCEPT</div><div class="ttdoc">Gets the index to the referenced ResMaterial.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:515</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_skeleton_obj_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_skeleton_obj.html">nn::g3d::SkeletonObj</a></div><div class="ttdoc">Skeleton instance.</div><div class="ttdef"><b>Definition:</b> g3d_SkeletonObj.h:253</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_skeleton_obj_html_a97fdc7d1e1740b2e49d3c5365589adda"><div class="ttname"><a href="classnn_1_1g3d_1_1_skeleton_obj.html#a97fdc7d1e1740b2e49d3c5365589adda">nn::g3d::SkeletonObj::GetWorldMtxArray</a></div><div class="ttdeci">nn::util::Matrix4x3fType * GetWorldMtxArray() NN_NOEXCEPT</div><div class="ttdoc">Gets the world matrix array.</div><div class="ttdef"><b>Definition:</b> g3d_SkeletonObj.h:523</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_skeleton_obj_html_aa68e8daa205d4be875ce8d4381729d1b"><div class="ttname"><a href="classnn_1_1g3d_1_1_skeleton_obj.html#aa68e8daa205d4be875ce8d4381729d1b">nn::g3d::SkeletonObj::GetResBone</a></div><div class="ttdeci">const ResBone * GetResBone(int boneIndex) NN_NOEXCEPT</div><div class="ttdoc">Gets the bone by looking up the index.</div><div class="ttdef"><b>Definition:</b> g3d_SkeletonObj.h:673</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_skeleton_obj_html_ab15be070fb286ad141a8c93607f55c67"><div class="ttname"><a href="classnn_1_1g3d_1_1_skeleton_obj.html#ab15be070fb286ad141a8c93607f55c67">nn::g3d::SkeletonObj::GetBoneCount</a></div><div class="ttdeci">int GetBoneCount() const NN_NOEXCEPT</div><div class="ttdoc">Gets the number of bones.</div><div class="ttdef"><b>Definition:</b> g3d_SkeletonObj.h:659</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_texture_ref_html"><div class="ttname"><a href="classnn_1_1g3d_1_1_texture_ref.html">nn::g3d::TextureRef</a></div><div class="ttdoc">Type that represents the texture view and the descriptor pool that registered that texture view.</div><div class="ttdef"><b>Definition:</b> g3d_ResCommon.h:28</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1_texture_ref_html_a6371d19f32919f27e2e52155c097cf98"><div class="ttname"><a href="classnn_1_1g3d_1_1_texture_ref.html#a6371d19f32919f27e2e52155c097cf98">nn::g3d::TextureRef::GetDescriptorSlot</a></div><div class="ttdeci">nn::gfx::DescriptorSlot GetDescriptorSlot() const NN_NOEXCEPT</div><div class="ttdoc">Gets the descriptor slot.</div><div class="ttdef"><b>Definition:</b> g3d_ResCommon.h:76</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1viewer_1_1_viewer_server_html_a47e4dee10fee77c93daece0d2f6ccd83"><div class="ttname"><a href="classnn_1_1g3d_1_1viewer_1_1_viewer_server.html#a47e4dee10fee77c93daece0d2f6ccd83">nn::g3d::viewer::ViewerServer::GetInstance</a></div><div class="ttdeci">static NN_DETAIL_G3D_VIEWER_API ViewerServer &amp; GetInstance() NN_NOEXCEPT</div><div class="ttdoc">Gets a server instance.</div><div class="ttdef"><b>Definition:</b> g3d_ViewerServer.h:414</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1viewer_1_1_viewer_server_html_a59245dea48b7f205905c636c40db9806"><div class="ttname"><a href="classnn_1_1g3d_1_1viewer_1_1_viewer_server.html#a59245dea48b7f205905c636c40db9806">nn::g3d::viewer::ViewerServer::CalculateAnimations</a></div><div class="ttdeci">NN_DETAIL_G3D_VIEWER_API void CalculateAnimations() NN_NOEXCEPT</div><div class="ttdoc">Calculates the animations to edit.</div><div class="ttdef"><b>Definition:</b> g3d_ViewerServer.h:514</div></div>
<div class="ttc" id="aclassnn_1_1g3d_1_1viewer_1_1_viewer_server_html_af3db15d17f92c36d93953eab0413163a"><div class="ttname"><a href="classnn_1_1g3d_1_1viewer_1_1_viewer_server.html#af3db15d17f92c36d93953eab0413163a">nn::g3d::viewer::ViewerServer::CalculateSkeletalAnimations</a></div><div class="ttdeci">NN_DETAIL_G3D_VIEWER_API void CalculateSkeletalAnimations(const nn::g3d::ModelObj *pModelObj) NN_NOEXCEPT</div><div class="ttdoc">If the specified model is the edit target, calculate the skeleton animation bound to it.</div><div class="ttdef"><b>Definition:</b> g3d_ViewerServer.h:506</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_descriptor_slot_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_descriptor_slot.html">nn::gfx::DescriptorSlot</a></div><div class="ttdoc">The class representing a descriptor slot.</div><div class="ttdef"><b>Definition:</b> gfx_DescriptorSlot.h:40</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_descriptor_slot_html_adcd95d6cda65fe4ee6f5b44324dc4e1a"><div class="ttname"><a href="classnn_1_1gfx_1_1_descriptor_slot.html#adcd95d6cda65fe4ee6f5b44324dc4e1a">nn::gfx::DescriptorSlot::IsValid</a></div><div class="ttdeci">bool IsValid() const NN_NOEXCEPT</div><div class="ttdoc">Determines whether the obtained slot is a valid slot.</div><div class="ttdef"><b>Definition:</b> gfx_DescriptorSlot.h:71</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_sampler_info_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_sampler_info.html">nn::gfx::SamplerInfo</a></div><div class="ttdoc">Represents the information for initializing a sampler.</div><div class="ttdef"><b>Definition:</b> gfx_SamplerInfo.h:48</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_sampler_info_html_a0a8b936b65f761b509f7c9873983f75f"><div class="ttname"><a href="classnn_1_1gfx_1_1_sampler_info.html#a0a8b936b65f761b509f7c9873983f75f">nn::gfx::SamplerInfo::SetDefault</a></div><div class="ttdeci">void SetDefault() NN_NOEXCEPT</div><div class="ttdoc">A helper function for setting the default value for each parameter.</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_sampler_info_html_a14b99ee8e4e76d7df522bbe4c9ef5b8b"><div class="ttname"><a href="classnn_1_1gfx_1_1_sampler_info.html#a14b99ee8e4e76d7df522bbe4c9ef5b8b">nn::gfx::SamplerInfo::SetBorderColorType</a></div><div class="ttdeci">void SetBorderColorType(TextureBorderColorType value) NN_NOEXCEPT</div><div class="ttdoc">Sets the border color type to apply when the address mode is TextureAddressMode_ClampToBorder.</div><div class="ttdef"><b>Definition:</b> gfx_SamplerInfo.h:154</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_sampler_info_html_a4b884f39b099e21ee9bf99933cd99e7b"><div class="ttname"><a href="classnn_1_1gfx_1_1_sampler_info.html#a4b884f39b099e21ee9bf99933cd99e7b">nn::gfx::SamplerInfo::SetAddressV</a></div><div class="ttdeci">void SetAddressV(TextureAddressMode value) NN_NOEXCEPT</div><div class="ttdoc">Sets the address mode for the v-coordinate when sampling outside the 0.0 to 1.0 range.</div><div class="ttdef"><b>Definition:</b> gfx_SamplerInfo.h:115</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_sampler_info_html_a5834b5ed1253675f8cc144267b982689"><div class="ttname"><a href="classnn_1_1gfx_1_1_sampler_info.html#a5834b5ed1253675f8cc144267b982689">nn::gfx::SamplerInfo::SetFilterMode</a></div><div class="ttdeci">void SetFilterMode(FilterMode value) NN_NOEXCEPT</div><div class="ttdoc">Sets the filter mode to apply during sampling.</div><div class="ttdef"><b>Definition:</b> gfx_SamplerInfo.h:89</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_sampler_info_html_a729bb669172b22822c2b3e3b206cd6f1"><div class="ttname"><a href="classnn_1_1gfx_1_1_sampler_info.html#a729bb669172b22822c2b3e3b206cd6f1">nn::gfx::SamplerInfo::SetAddressU</a></div><div class="ttdeci">void SetAddressU(TextureAddressMode value) NN_NOEXCEPT</div><div class="ttdoc">Sets the address mode for the u-coordinate when sampling outside the 0.0 to 1.0 range.</div><div class="ttdef"><b>Definition:</b> gfx_SamplerInfo.h:102</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_sampler_info_html_a7ce8cb4ae53432bea9c0f7d788dd0072"><div class="ttname"><a href="classnn_1_1gfx_1_1_sampler_info.html#a7ce8cb4ae53432bea9c0f7d788dd0072">nn::gfx::SamplerInfo::SetComparisonFunction</a></div><div class="ttdeci">void SetComparisonFunction(ComparisonFunction value) NN_NOEXCEPT</div><div class="ttdoc">Sets the comparison function to apply when Comparison is included in the filter mode.</div><div class="ttdef"><b>Definition:</b> gfx_SamplerInfo.h:141</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_sampler_info_html_aad204b43e3fe75fa2a5d386e8061ea10"><div class="ttname"><a href="classnn_1_1gfx_1_1_sampler_info.html#aad204b43e3fe75fa2a5d386e8061ea10">nn::gfx::SamplerInfo::SetAddressW</a></div><div class="ttdeci">void SetAddressW(TextureAddressMode value) NN_NOEXCEPT</div><div class="ttdoc">Sets the address mode for the w-coordinate when sampling outside the 0.0 to 1.0 range.</div><div class="ttdef"><b>Definition:</b> gfx_SamplerInfo.h:128</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_blend_state_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_blend_state.html">nn::gfx::TBlendState&lt; TargetConfig::Variation &gt;</a></div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_buffer_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_buffer.html">nn::gfx::TBuffer</a></div><div class="ttdoc">Graphics abstraction layer representing a buffer.</div><div class="ttdef"><b>Definition:</b> gfx_Buffer.h:63</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_color_target_view_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_color_target_view.html">nn::gfx::TColorTargetView</a></div><div class="ttdoc">Graphics abstraction layer representing a color target view.</div><div class="ttdef"><b>Definition:</b> gfx_Texture.h:515</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html">nn::gfx::TCommandBuffer</a></div><div class="ttdoc">Graphics abstraction layer representing a command buffer.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:70</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_a3698a1cbd3b59b649c048f709ddd766c"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#a3698a1cbd3b59b649c048f709ddd766c">nn::gfx::TCommandBuffer::SetRenderTargets</a></div><div class="ttdeci">void SetRenderTargets(int colorTargetCount, const TColorTargetView&lt; Target &gt; *const *ppColorTargets, const TDepthStencilView&lt; Target &gt; *pDepthStencil) NN_NOEXCEPT</div><div class="ttdoc">Adds a command that sets render targets.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:532</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_a3b43b17e57f564190229a914370bfb9b"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#a3b43b17e57f564190229a914370bfb9b">nn::gfx::TCommandBuffer::FlushMemory</a></div><div class="ttdeci">void FlushMemory(int gpuAccessFlags) NN_NOEXCEPT</div><div class="ttdoc">Flushes the GPU write cache in memory.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:906</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_a3c541dc719b81ec50feb0daee0225fba"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#a3c541dc719b81ec50feb0daee0225fba">nn::gfx::TCommandBuffer::PushDebugGroup</a></div><div class="ttdeci">void PushDebugGroup(const char *description) NN_NOEXCEPT</div><div class="ttdoc">Pushes a debug group onto the debug group stack for annotating a specific range for debugging.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:1214</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_a3da2d3c95fe888adb5a3f84dcc013d45"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#a3da2d3c95fe888adb5a3f84dcc013d45">nn::gfx::TCommandBuffer::ClearColor</a></div><div class="ttdeci">void ClearColor(TColorTargetView&lt; Target &gt; *pColorTarget, float red, float green, float blue, float alpha, const TextureArrayRange *pArrayRange) NN_NOEXCEPT</div><div class="ttdoc">Adds a command that clears a color target.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:808</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_a61aceaec4503d8409fca24773727892a"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#a61aceaec4503d8409fca24773727892a">nn::gfx::TCommandBuffer::PopDebugGroup</a></div><div class="ttdeci">void PopDebugGroup() NN_NOEXCEPT</div><div class="ttdoc">Pops the currently active debug group from the debug group stack.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:1230</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_a7e5cade7802122a5272657dfaec5d1f1"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#a7e5cade7802122a5272657dfaec5d1f1">nn::gfx::TCommandBuffer::InvalidateMemory</a></div><div class="ttdeci">void InvalidateMemory(int gpuAccessFlags) NN_NOEXCEPT</div><div class="ttdoc">Invalidates the GPU write cache in memory.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:922</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_ab1c541475f015777b8ce4bdfffe7c1c3"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#ab1c541475f015777b8ce4bdfffe7c1c3">nn::gfx::TCommandBuffer::SetViewportScissorState</a></div><div class="ttdeci">void SetViewportScissorState(const TViewportScissorState&lt; Target &gt; *pViewportScissorState) NN_NOEXCEPT</div><div class="ttdoc">Add a command that sets a viewport scissor state.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:572</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_adf046ccaeada2834e769085dbbc4445e"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#adf046ccaeada2834e769085dbbc4445e">nn::gfx::TCommandBuffer::Gl4SetUserCommand</a></div><div class="ttdeci">void Gl4SetUserCommand(Gl4UserCommandCallbackType pCallback, const void *pParam) NN_NOEXCEPT</div><div class="ttdoc">Adds a user-defined command.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:1620</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_ae51f685157847b92ffb0c05362a4a6ef"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#ae51f685157847b92ffb0c05362a4a6ef">nn::gfx::TCommandBuffer::ClearDepthStencil</a></div><div class="ttdeci">void ClearDepthStencil(TDepthStencilView&lt; Target &gt; *pDepthStencil, float depth, int stencil, DepthStencilClearMode clearMode, const TextureArrayRange *pArrayRange) NN_NOEXCEPT</div><div class="ttdoc">Adds a command that clears a depth stencil.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:860</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_command_buffer_html_afd05d1e63d9009d74cf7de5088dab91c"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_command_buffer.html#afd05d1e63d9009d74cf7de5088dab91c">nn::gfx::TCommandBuffer::CopyImage</a></div><div class="ttdeci">void CopyImage(TTexture&lt; Target &gt; *pDstTexture, const TextureSubresource &amp;dstSubresource, int dstOffsetU, int dstOffsetV, int dstOffsetW, const TTexture&lt; Target &gt; *pSrcTexture, const TextureCopyRegion &amp;srcCopyRegion) NN_NOEXCEPT</div><div class="ttdoc">Adds a command that copies an image.</div><div class="ttdef"><b>Definition:</b> gfx_CommandBuffer.h:630</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_depth_stencil_state_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_depth_stencil_state.html">nn::gfx::TDepthStencilState</a></div><div class="ttdoc">Graphics abstraction layer representing a depth stencil state.</div><div class="ttdef"><b>Definition:</b> gfx_State.h:261</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_depth_stencil_view_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_depth_stencil_view.html">nn::gfx::TDepthStencilView</a></div><div class="ttdoc">Graphics abstraction layer representing a depth stencil view.</div><div class="ttdef"><b>Definition:</b> gfx_Texture.h:617</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_device_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_device.html">nn::gfx::TDevice</a></div><div class="ttdoc">Graphics abstraction layer representing a device.</div><div class="ttdef"><b>Definition:</b> gfx_Device.h:66</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_memory_pool_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_memory_pool.html">nn::gfx::TMemoryPool</a></div><div class="ttdoc">Graphics abstraction layer representing a memory pool.</div><div class="ttdef"><b>Definition:</b> gfx_MemoryPool.h:59</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_rasterizer_state_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_rasterizer_state.html">nn::gfx::TRasterizerState</a></div><div class="ttdoc">Graphics abstraction layer representing a rasterizer state.</div><div class="ttdef"><b>Definition:</b> gfx_State.h:61</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_sampler_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_sampler.html">nn::gfx::TSampler</a></div><div class="ttdoc">Graphics abstraction layer representing a sampler.</div><div class="ttdef"><b>Definition:</b> gfx_Sampler.h:61</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_sampler_html_a409b6c740f965c39549d46d496d1ba0d"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_sampler.html#a409b6c740f965c39549d46d496d1ba0d">nn::gfx::TSampler::Initialize</a></div><div class="ttdeci">void Initialize(TDevice&lt; Target &gt; *pDevice, const InfoType &amp;info) NN_NOEXCEPT</div><div class="ttdoc">Initializes the sampler.</div><div class="ttdef"><b>Definition:</b> gfx_Sampler.h:98</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_sampler_html_af725b5cfc86c86d203b292253db4c12b"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_sampler.html#af725b5cfc86c86d203b292253db4c12b">nn::gfx::TSampler::Finalize</a></div><div class="ttdeci">void Finalize(TDevice&lt; Target &gt; *pDevice) NN_NOEXCEPT</div><div class="ttdoc">Destroys the sampler.</div><div class="ttdef"><b>Definition:</b> gfx_Sampler.h:135</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_texture_html_a6580c829bab613b6e9850e543f9a7203"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_texture.html#a6580c829bab613b6e9850e543f9a7203">nn::gfx::TTexture::CalculateMipDataAlignment</a></div><div class="ttdeci">static size_t CalculateMipDataAlignment(TDevice&lt; Target &gt; *pDevice, const InfoType &amp;info) NN_NOEXCEPT</div><div class="ttdoc">Calculates the alignment requested by the pointer of the mipmap data base level data pointer.</div><div class="ttdef"><b>Definition:</b> gfx_Texture.h:98</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_t_texture_html_ac9d3334566c6451da3f015e5ed1fd1ad"><div class="ttname"><a href="classnn_1_1gfx_1_1_t_texture.html#ac9d3334566c6451da3f015e5ed1fd1ad">nn::gfx::TTexture::CalculateMipDataSize</a></div><div class="ttdeci">static size_t CalculateMipDataSize(TDevice&lt; Target &gt; *pDevice, const InfoType &amp;info) NN_NOEXCEPT</div><div class="ttdoc">Calculates the total size requested by the mipmap data.</div><div class="ttdef"><b>Definition:</b> gfx_Texture.h:135</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_copy_region_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_copy_region.html">nn::gfx::TextureCopyRegion</a></div><div class="ttdoc">Class that indicates a range of texture copy operations.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:1276</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_copy_region_html_a1aac318a74055dd68e5c323eab8688bd"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_copy_region.html#a1aac318a74055dd68e5c323eab8688bd">nn::gfx::TextureCopyRegion::SetDefault</a></div><div class="ttdeci">void SetDefault() NN_NOEXCEPT</div><div class="ttdoc">A helper function for setting the default value for each parameter.</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_copy_region_html_a577f1ac98fe6e3ff5b67b2642a775155"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_copy_region.html#a577f1ac98fe6e3ff5b67b2642a775155">nn::gfx::TextureCopyRegion::SetHeight</a></div><div class="ttdeci">void SetHeight(int value) NN_NOEXCEPT</div><div class="ttdoc">Sets the height.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:1386</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_copy_region_html_abbfd901ca7ce1eb8fb022abf37a8a1ef"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_copy_region.html#abbfd901ca7ce1eb8fb022abf37a8a1ef">nn::gfx::TextureCopyRegion::SetWidth</a></div><div class="ttdeci">void SetWidth(int value) NN_NOEXCEPT</div><div class="ttdoc">Sets the width.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:1369</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_info_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_info.html">nn::gfx::TextureInfo</a></div><div class="ttdoc">The class representing the information for initializing a texture.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:53</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_info_html_a1b6439172b5749537b1a6020a2a8b5ec"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_info.html#a1b6439172b5749537b1a6020a2a8b5ec">nn::gfx::TextureInfo::SetArrayLength</a></div><div class="ttdeci">void SetArrayLength(int value) NN_NOEXCEPT</div><div class="ttdoc">Sets the length of the array.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:201</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_info_html_a214c396c13c6086b75cf63dc374f14ab"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_info.html#a214c396c13c6086b75cf63dc374f14ab">nn::gfx::TextureInfo::SetGpuAccessFlags</a></div><div class="ttdeci">void SetGpuAccessFlags(int value) NN_NOEXCEPT</div><div class="ttdoc">Sets the method of access for the GPU.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:121</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_info_html_a2351f69b4b5c3bece70bfc416a74f96a"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_info.html#a2351f69b4b5c3bece70bfc416a74f96a">nn::gfx::TextureInfo::SetHeight</a></div><div class="ttdeci">void SetHeight(int value) NN_NOEXCEPT</div><div class="ttdoc">Sets the height of the base level image.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:167</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_info_html_a7347a6f3179dc816dc7eb761cdc37152"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_info.html#a7347a6f3179dc816dc7eb761cdc37152">nn::gfx::TextureInfo::SetDefault</a></div><div class="ttdeci">void SetDefault() NN_NOEXCEPT</div><div class="ttdoc">A helper function for setting the default value for each parameter.</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_info_html_a8187f32da9bbbed65c49a1c00932d796"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_info.html#a8187f32da9bbbed65c49a1c00932d796">nn::gfx::TextureInfo::SetMipCount</a></div><div class="ttdeci">void SetMipCount(int value) NN_NOEXCEPT</div><div class="ttdoc">Sets the number of mipmaps.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:252</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_info_html_aa9542aaf7fe4dea102f8ec01188c3227"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_info.html#aa9542aaf7fe4dea102f8ec01188c3227">nn::gfx::TextureInfo::SetWidth</a></div><div class="ttdeci">void SetWidth(int value) NN_NOEXCEPT</div><div class="ttdoc">Sets the width of the base level image.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:150</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_info_html_aabd5c4ee3aaf0dfc3577843da1d8bc1f"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_info.html#aabd5c4ee3aaf0dfc3577843da1d8bc1f">nn::gfx::TextureInfo::SetImageFormat</a></div><div class="ttdeci">void SetImageFormat(ImageFormat value) NN_NOEXCEPT</div><div class="ttdoc">Sets the image format.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:108</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_info_html_ac1912ab092b3f1acd897e96ea4eb7ffc"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_info.html#ac1912ab092b3f1acd897e96ea4eb7ffc">nn::gfx::TextureInfo::SetImageStorageDimension</a></div><div class="ttdeci">void SetImageStorageDimension(ImageStorageDimension value) NN_NOEXCEPT</div><div class="ttdoc">Sets the dimension of the image data.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:95</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_subresource_html"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_subresource.html">nn::gfx::TextureSubresource</a></div><div class="ttdoc">Class that indicates a specific image in a texture.</div><div class="ttdef"><b>Definition:</b> gfx_TextureInfo.h:1191</div></div>
<div class="ttc" id="aclassnn_1_1gfx_1_1_texture_subresource_html_aa788017964f3e18dcd398dbd206c12c7"><div class="ttname"><a href="classnn_1_1gfx_1_1_texture_subresource.html#aa788017964f3e18dcd398dbd206c12c7">nn::gfx::TextureSubresource::SetDefault</a></div><div class="ttdeci">void SetDefault() NN_NOEXCEPT</div><div class="ttdoc">A helper function for setting the default value for each parameter.</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_color4u8_html"><div class="ttname"><a href="classnn_1_1util_1_1_color4u8.html">nn::util::Color4u8</a></div><div class="ttdoc">Class that supports colors expressed as unsigned 8-bit integers for each of the four components.</div><div class="ttdef"><b>Definition:</b> util_Color.h:30</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_color4u8_html_a07833fdd4841fb2351cf085f336834c8"><div class="ttname"><a href="classnn_1_1util_1_1_color4u8.html#a07833fdd4841fb2351cf085f336834c8">nn::util::Color4u8::White</a></div><div class="ttdeci">static const Color4u8 &amp; White() NN_NOEXCEPT</div><div class="ttdoc">Color value for white.</div><div class="ttdef"><b>Definition:</b> util_Color.h:263</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_color4u8_html_a491184555fc9bbc5a4020fa8d37c70ac"><div class="ttname"><a href="classnn_1_1util_1_1_color4u8.html#a491184555fc9bbc5a4020fa8d37c70ac">nn::util::Color4u8::Black</a></div><div class="ttdeci">static const Color4u8 &amp; Black() NN_NOEXCEPT</div><div class="ttdoc">Color value for black.</div><div class="ttdef"><b>Definition:</b> util_Color.h:247</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_color4u8_html_a5ad1502b37a61d84307433906727813c"><div class="ttname"><a href="classnn_1_1util_1_1_color4u8.html#a5ad1502b37a61d84307433906727813c">nn::util::Color4u8::Blue</a></div><div class="ttdeci">static const Color4u8 &amp; Blue() NN_NOEXCEPT</div><div class="ttdoc">Color value for blue.</div><div class="ttdef"><b>Definition:</b> util_Color.h:287</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_color4u8_html_a60d33066a521b0728f8660d12e010d8c"><div class="ttname"><a href="classnn_1_1util_1_1_color4u8.html#a60d33066a521b0728f8660d12e010d8c">nn::util::Color4u8::Green</a></div><div class="ttdeci">static const Color4u8 &amp; Green() NN_NOEXCEPT</div><div class="ttdoc">Color value for green.</div><div class="ttdef"><b>Definition:</b> util_Color.h:279</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_color4u8_html_a74cab22bd85f0940aec269c535ee5b54"><div class="ttname"><a href="classnn_1_1util_1_1_color4u8.html#a74cab22bd85f0940aec269c535ee5b54">nn::util::Color4u8::Red</a></div><div class="ttdeci">static const Color4u8 &amp; Red() NN_NOEXCEPT</div><div class="ttdoc">Color value for red.</div><div class="ttdef"><b>Definition:</b> util_Color.h:271</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_color4u8_html_a7c997c375202d7cf5c0643d4c6f47a20"><div class="ttname"><a href="classnn_1_1util_1_1_color4u8.html#a7c997c375202d7cf5c0643d4c6f47a20">nn::util::Color4u8::Cyan</a></div><div class="ttdeci">static const Color4u8 &amp; Cyan() NN_NOEXCEPT</div><div class="ttdoc">Color value for cyan.</div><div class="ttdef"><b>Definition:</b> util_Color.h:311</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_color4u8_html_a9d134cd2f801f8f6045e48c8af2eab3d"><div class="ttname"><a href="classnn_1_1util_1_1_color4u8.html#a9d134cd2f801f8f6045e48c8af2eab3d">nn::util::Color4u8::Yellow</a></div><div class="ttdeci">static const Color4u8 &amp; Yellow() NN_NOEXCEPT</div><div class="ttdoc">Color value for yellow.</div><div class="ttdef"><b>Definition:</b> util_Color.h:295</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_res_dic_html_a825d9c73f03e6d02e9f8d0050b0e11a6"><div class="ttname"><a href="classnn_1_1util_1_1_res_dic.html#a825d9c73f03e6d02e9f8d0050b0e11a6">nn::util::ResDic::Npos</a></div><div class="ttdeci">static const int Npos</div><div class="ttdoc">Specifies an invalid index.</div><div class="ttdef"><b>Definition:</b> util_ResDic.h:45</div></div>
<div class="ttc" id="aclassnn_1_1util_1_1_vector3f_html_a8c56edbb5901c65aae3b2c248513e7f8"><div class="ttname"><a href="classnn_1_1util_1_1_vector3f.html#a8c56edbb5901c65aae3b2c248513e7f8">nn::util::Vector3f::Zero</a></div><div class="ttdeci">static const Vector3f &amp; Zero() NN_NOEXCEPT</div><div class="ttdoc">The zero vector.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html">nns::g3d::ModelAnimObj</a></div><div class="ttdoc">This class manages the model objects and animation objects.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:25</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_a02e5ba16654e2ac74bcb2caaed0900ec"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#a02e5ba16654e2ac74bcb2caaed0900ec">nns::g3d::ModelAnimObj::CalculateWorld</a></div><div class="ttdeci">void CalculateWorld() NN_NOEXCEPT</div><div class="ttdoc">Performs update processing for the world conversion matrix.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_a362b50b68f24886e203fa3bad05f25d9"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#a362b50b68f24886e203fa3bad05f25d9">nns::g3d::ModelAnimObj::InvalidAnimId</a></div><div class="ttdeci">static const int InvalidAnimId</div><div class="ttdoc">Invalid animation ID.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:46</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_a42dadacf320552419e3c79da07846ad4"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#a42dadacf320552419e3c79da07846ad4">nns::g3d::ModelAnimObj::CalculateUniformBlock</a></div><div class="ttdeci">void CalculateUniformBlock(int bufferIndex) NN_NOEXCEPT</div><div class="ttdoc">Updates the uniform block referenced by the GPU.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_a6d65fa83870517442782cd0c6d676ff7"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#a6d65fa83870517442782cd0c6d676ff7">nns::g3d::ModelAnimObj::SetRotate</a></div><div class="ttdeci">void SetRotate(const nn::util::Vector3fType &amp;rotate) NN_NOEXCEPT</div><div class="ttdoc">Sets the rotation component of the model matrix.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:379</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_a75f2e005c7b06d62f33d69508db503e9"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#a75f2e005c7b06d62f33d69508db503e9">nns::g3d::ModelAnimObj::GetModelObj</a></div><div class="ttdeci">nn::g3d::ModelObj * GetModelObj() NN_NOEXCEPT</div><div class="ttdoc">Gets nn::g3d::ModelObj.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:116</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_a82b107da95e7e3d784c583231239312c"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#a82b107da95e7e3d784c583231239312c">nns::g3d::ModelAnimObj::CalculateAnimations</a></div><div class="ttdeci">void CalculateAnimations() NN_NOEXCEPT</div><div class="ttdoc">Initializes animations.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_a96e279ac5daea23a15c152b783bc2c7c"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#a96e279ac5daea23a15c152b783bc2c7c">nns::g3d::ModelAnimObj::GetAnimObj</a></div><div class="ttdeci">nn::g3d::ModelAnimObj * GetAnimObj(int id) NN_NOEXCEPT</div><div class="ttdoc">Gets the nn::g3d::ModelAnimObj corresponding to the ID.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_aa85473e7a9d9022c249ed737ea34c83a"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#aa85473e7a9d9022c249ed737ea34c83a">nns::g3d::ModelAnimObj::CreateAnim</a></div><div class="ttdeci">int CreateAnim(const void *pResAnim, AnimPlayState state) NN_NOEXCEPT</div><div class="ttdoc">Creates the animation to apply to the model.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_ab1d22a1e60ac9dd1fb7693064364f02d"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#ab1d22a1e60ac9dd1fb7693064364f02d">nns::g3d::ModelAnimObj::SetTranslate</a></div><div class="ttdeci">void SetTranslate(const nn::util::Vector3fType &amp;translate) NN_NOEXCEPT</div><div class="ttdoc">Sets the translation component of the model matrix.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:397</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_model_anim_obj_html_acefaadd93924a74297cad50f9b37ec5f"><div class="ttname"><a href="classnns_1_1g3d_1_1_model_anim_obj.html#acefaadd93924a74297cad50f9b37ec5f">nns::g3d::ModelAnimObj::CalculateBounding</a></div><div class="ttdeci">void CalculateBounding() NN_NOEXCEPT</div><div class="ttdoc">Performs update processing for bounding.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_material_html"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_material.html">nns::g3d::RenderMaterial</a></div><div class="ttdoc">This class manages the depth stencil state, blend state, randomizer state, and shading model of the m...</div><div class="ttdef"><b>Definition:</b> g3d_RenderModel.h:24</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_material_html_a02ad913b574c49097c701753ce84ae57"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_material.html#a02ad913b574c49097c701753ce84ae57">nns::g3d::RenderMaterial::IsInitialized</a></div><div class="ttdeci">bool IsInitialized() const NN_NOEXCEPT</div><div class="ttdoc">Determines whether initialized.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModel.h:288</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_material_html_a056a695c32d1ffa9ba15478b21d80175"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_material.html#a056a695c32d1ffa9ba15478b21d80175">nns::g3d::RenderMaterial::GetResMaterial</a></div><div class="ttdeci">const nn::g3d::ResMaterial * GetResMaterial() const NN_NOEXCEPT</div><div class="ttdoc">Gets the material.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModel.h:141</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_material_html_a209f62ddd0bb627cea0d2c4c95170e21"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_material.html#a209f62ddd0bb627cea0d2c4c95170e21">nns::g3d::RenderMaterial::SetRasterizerState</a></div><div class="ttdeci">void SetRasterizerState(const nn::gfx::RasterizerState *pRasterizerState) NN_NOEXCEPT</div><div class="ttdoc">Sets the rasterizer state.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModel.h:269</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_material_html_a761b859f03921457046c4f556c3ea647"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_material.html#a761b859f03921457046c4f556c3ea647">nns::g3d::RenderMaterial::SetDepthStencilState</a></div><div class="ttdeci">void SetDepthStencilState(const nn::gfx::DepthStencilState *pDepthStencilState) NN_NOEXCEPT</div><div class="ttdoc">Sets the depth stencil state.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModel.h:241</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_material_html_a7a42be9e7fffcf333a54d9b1dfb5ed0a"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_material.html#a7a42be9e7fffcf333a54d9b1dfb5ed0a">nns::g3d::RenderMaterial::SetBlendState</a></div><div class="ttdeci">void SetBlendState(const nn::gfx::BlendState *pBlendState) NN_NOEXCEPT</div><div class="ttdoc">Sets the blend state.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModel.h:213</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_html"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model.html">nns::g3d::RenderModel</a></div><div class="ttdoc">This class manages the vertex state, depth stencil state, blend state, rasterizer state,...</div><div class="ttdef"><b>Definition:</b> g3d_RenderModel.h:1066</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_html_a8a79574afbd1af521b7dedbc75b5e376"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model.html#a8a79574afbd1af521b7dedbc75b5e376">nns::g3d::RenderModel::GetResModel</a></div><div class="ttdeci">const nn::g3d::ResModel * GetResModel() const NN_NOEXCEPT</div><div class="ttdoc">Gets the model.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModel.h:1259</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_html_aa157d2168a767b3333c62aa5cc120973"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model.html#aa157d2168a767b3333c62aa5cc120973">nns::g3d::RenderModel::CreateDrawPass</a></div><div class="ttdeci">bool CreateDrawPass(nn::gfx::Device *pDevice, int passIndex, nn::g3d::ResShaderArchive *pResShaderArchive) NN_NOEXCEPT</div><div class="ttdoc">Creates the rendering pass.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html">nns::g3d::RenderModelObj</a></div><div class="ttdoc">Model rendering class.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:617</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_a153dbcb687fc2674987d950b4e70ea3e"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#a153dbcb687fc2674987d950b4e70ea3e">nns::g3d::RenderModelObj::SetDrawSingleShapeDisabled</a></div><div class="ttdeci">void SetDrawSingleShapeDisabled() NN_NOEXCEPT</div><div class="ttdoc">Disables the feature to render only one specified shape.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:1047</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_a23c1d8bb281f5f05e885dcc40e36c627"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#a23c1d8bb281f5f05e885dcc40e36c627">nns::g3d::RenderModelObj::SetViewVolume</a></div><div class="ttdeci">void SetViewVolume(int viewIndex, nn::g3d::ViewVolume *pViewVolume) NN_NOEXCEPT</div><div class="ttdoc">This function sets the view volume.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:1027</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_a3f6da939a5b0b2c92b1c3d90d807f6c0"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#a3f6da939a5b0b2c92b1c3d90d807f6c0">nns::g3d::RenderModelObj::SetDrawSingleShapeEnabled</a></div><div class="ttdeci">void SetDrawSingleShapeEnabled(int shapeIndex) NN_NOEXCEPT</div><div class="ttdoc">Enables the feature to render only one specified shape.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:1040</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_a51705d6e0cbec14deae05e0dc0724835"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#a51705d6e0cbec14deae05e0dc0724835">nns::g3d::RenderModelObj::BindUniformBlock</a></div><div class="ttdeci">void BindUniformBlock(const char *id, const nn::gfx::Buffer **pBufferPtr, int bufferCount) NN_NOEXCEPT</div><div class="ttdoc">Sets the uniform block.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:704</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_a741490f4b757df1b2e573665d251b48a"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#a741490f4b757df1b2e573665d251b48a">nns::g3d::RenderModelObj::BindSampler</a></div><div class="ttdeci">void BindSampler(const char *id, const nn::gfx::DescriptorSlot &amp;textureDescriptorSlot, const nn::gfx::DescriptorSlot &amp;samplerDescriptorSlot) NN_NOEXCEPT</div><div class="ttdoc">Sets the sampler.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:851</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_a7afd6cf7af0d0b72ce0f951e5fe48f3a"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#a7afd6cf7af0d0b72ce0f951e5fe48f3a">nns::g3d::RenderModelObj::UpdateShader</a></div><div class="ttdeci">void UpdateShader(nn::gfx::Device *pDevice) NN_NOEXCEPT</div><div class="ttdoc">Updates the shader.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_a7c323f2e5100196cc55a5d778de6630a"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#a7c323f2e5100196cc55a5d778de6630a">nns::g3d::RenderModelObj::GetRenderUnitObj</a></div><div class="ttdeci">const nns::g3d::RenderUnitObj * GetRenderUnitObj(int shapeIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets nns::g3d::RenderUnitObj.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:947</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_aa0a852cc2943033071f80f6660185518"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#aa0a852cc2943033071f80f6660185518">nns::g3d::RenderModelObj::GetModelObj</a></div><div class="ttdeci">nn::g3d::ModelObj * GetModelObj() NN_NOEXCEPT</div><div class="ttdoc">Gets nn::g3d::ModelObj.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:927</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_aa4061058dfcb32e29b89c6f50cb23738"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#aa4061058dfcb32e29b89c6f50cb23738">nns::g3d::RenderModelObj::Draw</a></div><div class="ttdeci">void Draw(nn::gfx::CommandBuffer *pCommandBuffer, int passIndex, int viewIndex, int bufferIndex, DrawCullingCallback pDrawCullingCallback) const NN_NOEXCEPT</div><div class="ttdoc">Draws a model.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_aa9207cb673b0250dda41592b4183ad4b"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#aa9207cb673b0250dda41592b4183ad4b">nns::g3d::RenderModelObj::SetDrawLodDisabled</a></div><div class="ttdeci">void SetDrawLodDisabled() NN_NOEXCEPT</div><div class="ttdoc">Disables the feature for always rendering at the specified LOD level.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:998</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_ad68ebccea384c915d3c84e33c418a631"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#ad68ebccea384c915d3c84e33c418a631">nns::g3d::RenderModelObj::BindImage</a></div><div class="ttdeci">void BindImage(const char *id, const nn::gfx::DescriptorSlot &amp;textureDescriptorSlot) NN_NOEXCEPT</div><div class="ttdoc">Sets the image.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:889</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_model_obj_html_af1a9446c300e6fa439e90d73b07e7d03"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_model_obj.html#af1a9446c300e6fa439e90d73b07e7d03">nns::g3d::RenderModelObj::SetDrawLodEnabled</a></div><div class="ttdeci">void SetDrawLodEnabled(int lodLevel) NN_NOEXCEPT</div><div class="ttdoc">Enables the feature for always rendering at the specified LOD level.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:987</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_shape_html_a2d71fdcacfb733e7c945b46f0497f417"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_shape.html#a2d71fdcacfb733e7c945b46f0497f417">nns::g3d::RenderShape::GetRenderMaterial</a></div><div class="ttdeci">nns::g3d::RenderMaterial * GetRenderMaterial() NN_NOEXCEPT</div><div class="ttdoc">Gets RenderMaterial.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModel.h:780</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_unit_obj_html"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_unit_obj.html">nns::g3d::RenderUnitObj</a></div><div class="ttdoc">The shape rendering class.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:34</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_unit_obj_html_a070b738c99704e910bce8d8f332ce988"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_unit_obj.html#a070b738c99704e910bce8d8f332ce988">nns::g3d::RenderUnitObj::GetShapeObj</a></div><div class="ttdeci">const nn::g3d::ShapeObj * GetShapeObj() const NN_NOEXCEPT</div><div class="ttdoc">Gets nn::g3d::ShapeObj.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:97</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_unit_obj_html_a796992ce72c3b30abf062fdb996388f0"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_unit_obj.html#a796992ce72c3b30abf062fdb996388f0">nns::g3d::RenderUnitObj::SetDrawSingleSubmeshDisabled</a></div><div class="ttdeci">void SetDrawSingleSubmeshDisabled() NN_NOEXCEPT</div><div class="ttdoc">Disables the feature for rendering only one specified submesh.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:427</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_unit_obj_html_ac3f3d5d30665ffbeb4b004dc45aadf23"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_unit_obj.html#ac3f3d5d30665ffbeb4b004dc45aadf23">nns::g3d::RenderUnitObj::GetShaderSelector</a></div><div class="ttdeci">nn::g3d::ShaderSelector * GetShaderSelector(int passIndex) NN_NOEXCEPT</div><div class="ttdoc">Gets the nn::g3d::ShaderSelector used for shape rendering.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:438</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_unit_obj_html_ad644206f00cdcfdfe1eb7e29abdefad7"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_unit_obj.html#ad644206f00cdcfdfe1eb7e29abdefad7">nns::g3d::RenderUnitObj::SetDrawSingleSubmeshEnabled</a></div><div class="ttdeci">void SetDrawSingleSubmeshEnabled(int submeshIndex) NN_NOEXCEPT</div><div class="ttdoc">Enables the feature for rendering only one specified submesh.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:421</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_unit_obj_html_ae92c38daa56f51aaffec96046eaea77d"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_unit_obj.html#ae92c38daa56f51aaffec96046eaea77d">nns::g3d::RenderUnitObj::GetRenderShape</a></div><div class="ttdeci">const nns::g3d::RenderShape * GetRenderShape(int passIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets the nns::g3d::RenderShape associated with the shape.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:488</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html">nns::g3d::RenderView</a></div><div class="ttdoc">Utility class for managing views.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:1136</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_a100b745a702bfed5c0e2192d3c943a3f"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#a100b745a702bfed5c0e2192d3c943a3f">nns::g3d::RenderView::GetViewVolume</a></div><div class="ttdeci">nn::g3d::ViewVolume &amp; GetViewVolume(int viewIndex) NN_NOEXCEPT</div><div class="ttdoc">Gets the view volume.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:1236</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_a5b633742724f63bffdb11389a06b974b"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#a5b633742724f63bffdb11389a06b974b">nns::g3d::RenderView::SetViewMtx</a></div><div class="ttdeci">void SetViewMtx(int viewIndex, const nn::util::Matrix4x3fType &amp;viewMtx) NN_NOEXCEPT</div><div class="ttdoc">Sets the view matrix.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:1224</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_a6520169e698d615f7cc77553e32ca88c"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#a6520169e698d615f7cc77553e32ca88c">nns::g3d::RenderView::Initialize</a></div><div class="ttdeci">void Initialize(nn::gfx::Device *pDevice, int viewCount, int bufferCount) NN_NOEXCEPT</div><div class="ttdoc">Initializes RenderView.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_a836001447f77827d1ec62ccead0df40f"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#a836001447f77827d1ec62ccead0df40f">nns::g3d::RenderView::GetInverseViewMtx</a></div><div class="ttdeci">nn::util::Matrix4x3fType &amp; GetInverseViewMtx(int viewIndex) NN_NOEXCEPT</div><div class="ttdoc">Gets the inverse matrix of the view.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:1283</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_ab2d9de5f49ec96d7672389badb1acf46"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#ab2d9de5f49ec96d7672389badb1acf46">nns::g3d::RenderView::SetProjectionMtx</a></div><div class="ttdeci">void SetProjectionMtx(int viewIndex, const nn::util::Matrix4x4fType &amp;projectionMtx) NN_NOEXCEPT</div><div class="ttdoc">Sets the projection matrix.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:1201</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_ac12827c0d0788017a196ef5b80304304"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#ac12827c0d0788017a196ef5b80304304">nns::g3d::RenderView::GetViewUniformBlock</a></div><div class="ttdeci">const nn::gfx::Buffer * GetViewUniformBlock(int viewIndex, int bufferIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets the nn::gfx::Buffer of the uniform block used for the view.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:1261</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_ae2461a77f4a4a5f2c954516604f35a9e"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#ae2461a77f4a4a5f2c954516604f35a9e">nns::g3d::RenderView::Finalize</a></div><div class="ttdeci">void Finalize(nn::gfx::Device *pDevice) NN_NOEXCEPT</div><div class="ttdoc">Destroys RenderView.</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_aea54457661666de292743fe0cb6c75a0"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#aea54457661666de292743fe0cb6c75a0">nns::g3d::RenderView::Calculate</a></div><div class="ttdeci">void Calculate(int bufferIndex) NN_NOEXCEPT</div><div class="ttdoc">Performs update.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:1309</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_afa649636fe025a114183f493e836c328"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#afa649636fe025a114183f493e836c328">nns::g3d::RenderView::GetProjectionMtx</a></div><div class="ttdeci">const nn::util::Matrix4x4fType &amp; GetProjectionMtx(int viewIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets the projection matrix.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:1190</div></div>
<div class="ttc" id="aclassnns_1_1g3d_1_1_render_view_html_aff24f2ebd999e9d9f423945fa9d4e8e0"><div class="ttname"><a href="classnns_1_1g3d_1_1_render_view.html#aff24f2ebd999e9d9f423945fa9d4e8e0">nns::g3d::RenderView::GetViewMtx</a></div><div class="ttdeci">const nn::util::Matrix4x3fType &amp; GetViewMtx(int viewIndex) const NN_NOEXCEPT</div><div class="ttdoc">Gets the view matrix.</div><div class="ttdef"><b>Definition:</b> g3d_Utility.h:1213</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_color_buffer_html"><div class="ttname"><a href="classnns_1_1gfx_1_1_color_buffer.html">nns::gfx::ColorBuffer</a></div><div class="ttdoc">Manages the color buffer.</div><div class="ttdef"><b>Definition:</b> gfx_ColorBuffer.h:26</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_color_buffer_html_a0a3d9dfef23dc64d27a7809259af0487"><div class="ttname"><a href="classnns_1_1gfx_1_1_color_buffer.html#a0a3d9dfef23dc64d27a7809259af0487">nns::gfx::ColorBuffer::Finalize</a></div><div class="ttdeci">void Finalize(nn::gfx::Device *pDevice) NN_NOEXCEPT</div><div class="ttdoc">Finalizes the instance.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_color_buffer_html_a0ea68fa6049b3f87e1bea7b3e96f8cd7"><div class="ttname"><a href="classnns_1_1gfx_1_1_color_buffer.html#a0ea68fa6049b3f87e1bea7b3e96f8cd7">nns::gfx::ColorBuffer::GetTextureView</a></div><div class="ttdeci">nn::gfx::TextureView * GetTextureView() NN_NOEXCEPT</div><div class="ttdoc">Gets the texture view.</div><div class="ttdef"><b>Definition:</b> gfx_ColorBuffer.h:68</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_color_buffer_html_a43eb2923bdcf7b2f7f0837fe66a0e1f9"><div class="ttname"><a href="classnns_1_1gfx_1_1_color_buffer.html#a43eb2923bdcf7b2f7f0837fe66a0e1f9">nns::gfx::ColorBuffer::GetColorTargetView</a></div><div class="ttdeci">nn::gfx::ColorTargetView * GetColorTargetView() NN_NOEXCEPT</div><div class="ttdoc">Gets the color target view.</div><div class="ttdef"><b>Definition:</b> gfx_ColorBuffer.h:89</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_color_buffer_html_a88a293d24f8a4d313e58b9b55e7ca235"><div class="ttname"><a href="classnns_1_1gfx_1_1_color_buffer.html#a88a293d24f8a4d313e58b9b55e7ca235">nns::gfx::ColorBuffer::GetMemoryPoolOffset</a></div><div class="ttdeci">ptrdiff_t GetMemoryPoolOffset()</div><div class="ttdoc">Gets the offset in the memory pool.</div><div class="ttdef"><b>Definition:</b> gfx_ColorBuffer.h:131</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_color_buffer_html_ac34c46313002c92e87ddfcebca0d6399"><div class="ttname"><a href="classnns_1_1gfx_1_1_color_buffer.html#ac34c46313002c92e87ddfcebca0d6399">nns::gfx::ColorBuffer::Initialize</a></div><div class="ttdeci">void Initialize(nn::gfx::Device *pDevice, const nn::gfx::TextureInfo &amp;infoType, nn::gfx::MemoryPool *pMemoryPool, ptrdiff_t memoryPoolOffset, size_t memorySize) NN_NOEXCEPT</div><div class="ttdoc">Initializes.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_color_buffer_html_ad3989c9903a8fd88ec4486ad72dc3743"><div class="ttname"><a href="classnns_1_1gfx_1_1_color_buffer.html#ad3989c9903a8fd88ec4486ad72dc3743">nns::gfx::ColorBuffer::GetTexture</a></div><div class="ttdeci">nn::gfx::Texture * GetTexture() NN_NOEXCEPT</div><div class="ttdoc">Gets the texture.</div><div class="ttdef"><b>Definition:</b> gfx_ColorBuffer.h:54</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_debug_graphics_framework_html"><div class="ttname"><a href="classnns_1_1gfx_1_1_debug_graphics_framework.html">nns::gfx::DebugGraphicsFramework</a></div><div class="ttdoc">The graphics framework class for debugging.</div><div class="ttdef"><b>Definition:</b> gfx_DebugGraphicsFramework.h:33</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_debug_graphics_framework_html_ad125c3ec3693ab4d020953776009acd1"><div class="ttname"><a href="classnns_1_1gfx_1_1_debug_graphics_framework.html#ad125c3ec3693ab4d020953776009acd1">nns::gfx::DebugGraphicsFramework::ProcessFrame</a></div><div class="ttdeci">virtual void ProcessFrame() NN_NOEXCEPT NN_OVERRIDE</div><div class="ttdoc">Executes the process for a single frame.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_depth_stencil_buffer_html"><div class="ttname"><a href="classnns_1_1gfx_1_1_depth_stencil_buffer.html">nns::gfx::DepthStencilBuffer</a></div><div class="ttdoc">Manages the depth stencil buffer.</div><div class="ttdef"><b>Definition:</b> gfx_DepthStencilBuffer.h:26</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_depth_stencil_buffer_html_a15181441c55981c617c26f08c0d633b6"><div class="ttname"><a href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a15181441c55981c617c26f08c0d633b6">nns::gfx::DepthStencilBuffer::GetTextureView</a></div><div class="ttdeci">nn::gfx::TextureView * GetTextureView() NN_NOEXCEPT</div><div class="ttdoc">Gets the texture view.</div><div class="ttdef"><b>Definition:</b> gfx_DepthStencilBuffer.h:93</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_depth_stencil_buffer_html_a2862254a06065f787781675f70d21c99"><div class="ttname"><a href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a2862254a06065f787781675f70d21c99">nns::gfx::DepthStencilBuffer::GetMemoryPoolOffset</a></div><div class="ttdeci">ptrdiff_t GetMemoryPoolOffset()</div><div class="ttdoc">Gets the offset in the memory pool.</div><div class="ttdef"><b>Definition:</b> gfx_DepthStencilBuffer.h:155</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_depth_stencil_buffer_html_a404a08a8dce6c4479175658ebfb74ded"><div class="ttname"><a href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a404a08a8dce6c4479175658ebfb74ded">nns::gfx::DepthStencilBuffer::Initialize</a></div><div class="ttdeci">void Initialize(nn::gfx::Device *pDevice, const nn::gfx::TextureInfo &amp;infoType, nn::gfx::MemoryPool *pMemoryPool, ptrdiff_t memoryPoolOffset, size_t memorySize) NN_NOEXCEPT</div><div class="ttdoc">Initializes.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_depth_stencil_buffer_html_a7cbf66a408eeba5cebc262628336f854"><div class="ttname"><a href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a7cbf66a408eeba5cebc262628336f854">nns::gfx::DepthStencilBuffer::GetDepthStencilView</a></div><div class="ttdeci">nn::gfx::DepthStencilView * GetDepthStencilView() NN_NOEXCEPT</div><div class="ttdoc">Gets the depth stencil view.</div><div class="ttdef"><b>Definition:</b> gfx_DepthStencilBuffer.h:113</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_depth_stencil_buffer_html_a8b7c10a7933aac8e6739c7aba8ddc3ed"><div class="ttname"><a href="classnns_1_1gfx_1_1_depth_stencil_buffer.html#a8b7c10a7933aac8e6739c7aba8ddc3ed">nns::gfx::DepthStencilBuffer::Finalize</a></div><div class="ttdeci">void Finalize(nn::gfx::Device *pDevice) NN_NOEXCEPT</div><div class="ttdoc">Finalizes the instance.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_frame_buffer_1_1_info_type_html"><div class="ttname"><a href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html">nns::gfx::FrameBuffer::InfoType</a></div><div class="ttdoc">The initialization parameter for FrameBuffer.</div><div class="ttdef"><b>Definition:</b> gfx_FrameBuffer.h:213</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_frame_buffer_1_1_info_type_html_a1c11d62a105b9babfefc39502e7a1fde"><div class="ttname"><a href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html#a1c11d62a105b9babfefc39502e7a1fde">nns::gfx::FrameBuffer::InfoType::SetColorBufferFormat</a></div><div class="ttdeci">void SetColorBufferFormat(nn::gfx::ImageFormat format) NN_NOEXCEPT</div><div class="ttdoc">Sets the format of the color buffer.</div><div class="ttdef"><b>Definition:</b> gfx_FrameBuffer.h:293</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_frame_buffer_1_1_info_type_html_a5432609cb89aee98e128c60d8fc26d87"><div class="ttname"><a href="classnns_1_1gfx_1_1_frame_buffer_1_1_info_type.html#a5432609cb89aee98e128c60d8fc26d87">nns::gfx::FrameBuffer::InfoType::SetDepthBufferDisabled</a></div><div class="ttdeci">void SetDepthBufferDisabled() NN_NOEXCEPT</div><div class="ttdoc">Sets the depth stencil buffer to the disabled state.</div><div class="ttdef"><b>Definition:</b> gfx_FrameBuffer.h:314</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_frame_buffer_html"><div class="ttname"><a href="classnns_1_1gfx_1_1_frame_buffer.html">nns::gfx::FrameBuffer</a></div><div class="ttdoc">Manages the render target.</div><div class="ttdef"><b>Definition:</b> gfx_FrameBuffer.h:31</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_frame_buffer_html_ac0ef328dfaa5d754f898669025bbb162"><div class="ttname"><a href="classnns_1_1gfx_1_1_frame_buffer.html#ac0ef328dfaa5d754f898669025bbb162">nns::gfx::FrameBuffer::SetClearColor</a></div><div class="ttdeci">void SetClearColor(float red, float green, float blue, float alpha=1.0f) NN_NOEXCEPT</div><div class="ttdoc">Sets the clear color.</div><div class="ttdef"><b>Definition:</b> gfx_FrameBuffer.h:129</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_frame_buffer_html_ae2248ea57bfe2ad7a5b118d530774a7c"><div class="ttname"><a href="classnns_1_1gfx_1_1_frame_buffer.html#ae2248ea57bfe2ad7a5b118d530774a7c">nns::gfx::FrameBuffer::GetColorBuffer</a></div><div class="ttdeci">nns::gfx::ColorBuffer * GetColorBuffer() NN_NOEXCEPT</div><div class="ttdoc">Gets the color buffer.</div><div class="ttdef"><b>Definition:</b> gfx_FrameBuffer.h:152</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html">nns::gfx::GraphicsFramework</a></div><div class="ttdoc">The graphics framework class.</div><div class="ttdef"><b>Definition:</b> gfx_GraphicsFramework.h:41</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a1682d81714db542ef9bb6aae8908b19f"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a1682d81714db542ef9bb6aae8908b19f">nns::gfx::GraphicsFramework::BeginFrame</a></div><div class="ttdeci">virtual void BeginFrame(int bufferIndex) NN_NOEXCEPT</div><div class="ttdoc">Begins adding commands to the root command buffer.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a3c1198bea42a57bd909746fd0c5af266"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a3c1198bea42a57bd909746fd0c5af266">nns::gfx::GraphicsFramework::ResetFrame</a></div><div class="ttdeci">void ResetFrame() NN_NOEXCEPT</div><div class="ttdoc">Resets frame processing.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a4987555fae0e257658ffef4beb51a674a6d2e6861717e82c71ea532bf89e5b1f0"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a4987555fae0e257658ffef4beb51a674a6d2e6861717e82c71ea532bf89e5b1f0">nns::gfx::GraphicsFramework::FrameworkMode_DeferredSubmission</a></div><div class="ttdeci">@ FrameworkMode_DeferredSubmission</div><div class="ttdoc">Mode that submits a command after Vsync, and then starts GPU processing after the submission.</div><div class="ttdef"><b>Definition:</b> gfx_GraphicsFramework.h:851</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a4d3c1d1a8351f709865afed46452f793"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a4d3c1d1a8351f709865afed46452f793">nns::gfx::GraphicsFramework::SetFrameworkMode</a></div><div class="ttdeci">void SetFrameworkMode(FrameworkMode mode) NN_NOEXCEPT</div><div class="ttdoc">Configures the framework mode.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a5bd57c06d0e55d2f66ecc9c6058c8302"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a5bd57c06d0e55d2f66ecc9c6058c8302">nns::gfx::GraphicsFramework::SetMakeCommandCallback</a></div><div class="ttdeci">void SetMakeCommandCallback(GraphicsFrameworkMakeCommandCallback pFunction, void *pUserData) NN_NOEXCEPT</div><div class="ttdoc">Configures the command generating callback function during frame processing.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a68decd5e5c7a89df27eb8d428515e92d"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a68decd5e5c7a89df27eb8d428515e92d">nns::gfx::GraphicsFramework::GetDisplayWidth</a></div><div class="ttdeci">int GetDisplayWidth() const NN_NOEXCEPT</div><div class="ttdoc">Gets the width of the display.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a6dbabc4b1fab1df227e879443468b749"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a6dbabc4b1fab1df227e879443468b749">nns::gfx::GraphicsFramework::GetDevice</a></div><div class="ttdeci">nn::gfx::Device * GetDevice() NN_NOEXCEPT</div><div class="ttdoc">Gets a device.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a7342a183bbe66874974bff3bb4de7450"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a7342a183bbe66874974bff3bb4de7450">nns::gfx::GraphicsFramework::FreePoolMemory</a></div><div class="ttdeci">void FreePoolMemory(MemoryPoolType type, ptrdiff_t offset) NN_NOEXCEPT</div><div class="ttdoc">Deallocates the allocated memory pool segment.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a80b4defad13752d673db840e439d1a7f"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a80b4defad13752d673db840e439d1a7f">nns::gfx::GraphicsFramework::GetRootCommandBuffer</a></div><div class="ttdeci">nn::gfx::CommandBuffer * GetRootCommandBuffer(int bufferIndex) NN_NOEXCEPT</div><div class="ttdoc">Gets the root command buffer.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a8123c6c4c936915e693da89b566f7d34"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a8123c6c4c936915e693da89b566f7d34">nns::gfx::GraphicsFramework::QueueFinish</a></div><div class="ttdeci">void QueueFinish() NN_NOEXCEPT</div><div class="ttdoc">Synchronizes the execution of submitted commands.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_a9c662e2ac88106a0cb9828ef1e8f0faa"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#a9c662e2ac88106a0cb9828ef1e8f0faa">nns::gfx::GraphicsFramework::GetMemoryPool</a></div><div class="ttdeci">nn::gfx::MemoryPool * GetMemoryPool(MemoryPoolType type) NN_NOEXCEPT</div><div class="ttdoc">Gets the memory pool.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_ab825acf6f1e23e4946e8915d087a94a1"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#ab825acf6f1e23e4946e8915d087a94a1">nns::gfx::GraphicsFramework::GetColorTargetView</a></div><div class="ttdeci">nn::gfx::ColorTargetView * GetColorTargetView() NN_NOEXCEPT</div><div class="ttdoc">Gets the color target view.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_abafa38f3c2c4064d405b2f1a0eba1b6a"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#abafa38f3c2c4064d405b2f1a0eba1b6a">nns::gfx::GraphicsFramework::GetSampler</a></div><div class="ttdeci">nn::gfx::Sampler * GetSampler(SamplerType type) NN_NOEXCEPT</div><div class="ttdoc">Gets a sampler.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_acecf77dd6ff405ca77374c2829a4a9bf"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#acecf77dd6ff405ca77374c2829a4a9bf">nns::gfx::GraphicsFramework::Finalize</a></div><div class="ttdeci">virtual void Finalize() NN_NOEXCEPT</div><div class="ttdoc">Finalizes the instance.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_acfe9bb061211e7cea1984525a9391152"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#acfe9bb061211e7cea1984525a9391152">nns::gfx::GraphicsFramework::AllocatePoolMemory</a></div><div class="ttdeci">ptrdiff_t AllocatePoolMemory(MemoryPoolType type, size_t size, size_t alignment) NN_NOEXCEPT</div><div class="ttdoc">Allocates the memory pool segment.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_ae13f7a4f898b54ab4d566ee2d1aec56e"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#ae13f7a4f898b54ab4d566ee2d1aec56e">nns::gfx::GraphicsFramework::GetViewportScissorState</a></div><div class="ttdeci">nn::gfx::ViewportScissorState * GetViewportScissorState() NN_NOEXCEPT</div><div class="ttdoc">Gets the viewport scissor state.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_ae375791c8ef66431a6910dafd0156bb2"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#ae375791c8ef66431a6910dafd0156bb2">nns::gfx::GraphicsFramework::GetDepthStencilView</a></div><div class="ttdeci">nn::gfx::DepthStencilView * GetDepthStencilView() NN_NOEXCEPT</div><div class="ttdoc">Gets the depth stencil view.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_ae8a95943cd296bb2ad8ab6e6532b7b0e"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#ae8a95943cd296bb2ad8ab6e6532b7b0e">nns::gfx::GraphicsFramework::EndFrame</a></div><div class="ttdeci">virtual void EndFrame(int bufferIndex) NN_NOEXCEPT</div><div class="ttdoc">Ends adding commands to the root command buffer.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_af0da71ea5a113a27c596366259db882e"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#af0da71ea5a113a27c596366259db882e">nns::gfx::GraphicsFramework::GetDisplayHeight</a></div><div class="ttdeci">int GetDisplayHeight() const NN_NOEXCEPT</div><div class="ttdoc">Gets the height of the display.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_af8b095e85b8a9c7aec4f4b9748295885"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#af8b095e85b8a9c7aec4f4b9748295885">nns::gfx::GraphicsFramework::SetCalculateCallback</a></div><div class="ttdeci">void SetCalculateCallback(GraphicsFrameworkCalculateCallback pFunction, void *pUserData) NN_NOEXCEPT</div><div class="ttdoc">Configures the calculation callback function during frame processing.</div></div>
<div class="ttc" id="aclassnns_1_1gfx_1_1_graphics_framework_html_afff5cb7c9f0790dab3f15823bb1120f4"><div class="ttname"><a href="classnns_1_1gfx_1_1_graphics_framework.html#afff5cb7c9f0790dab3f15823bb1120f4">nns::gfx::GraphicsFramework::GetColorBuffer</a></div><div class="ttdeci">nn::gfx::Texture * GetColorBuffer() NN_NOEXCEPT</div><div class="ttdoc">Gets the color buffer.</div></div>
<div class="ttc" id="ag3d___viewer_8h_html"><div class="ttname"><a href="g3d___viewer_8h.html">g3d_Viewer.h</a></div><div class="ttdoc">Declarations for the g3d::viewer API.</div></div>
<div class="ttc" id="agll_8h_html"><div class="ttname"><a href="gll_8h.html">gll.h</a></div><div class="ttdoc">API declarations for the OpenGL loader library.</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a196a725dd687649e105dc924a75ab40ba5e64ed3305625fbfd1a41f7e07bf922e"><div class="ttname"><a href="namespacenn_1_1gfx.html#a196a725dd687649e105dc924a75ab40ba5e64ed3305625fbfd1a41f7e07bf922e">nn::gfx::TextureAddressMode_ClampToBorder</a></div><div class="ttdeci">@ TextureAddressMode_ClampToBorder</div><div class="ttdoc">Clamp to the border color.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:257</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a196a725dd687649e105dc924a75ab40baf587fdb03960ed5c7fcf3ad21458a8a0"><div class="ttname"><a href="namespacenn_1_1gfx.html#a196a725dd687649e105dc924a75ab40baf587fdb03960ed5c7fcf3ad21458a8a0">nn::gfx::TextureAddressMode_ClampToEdge</a></div><div class="ttdeci">@ TextureAddressMode_ClampToEdge</div><div class="ttdoc">Clamp to the edge.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:256</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a24dbcd6d86531138895622b5a854e4f5a0db6d0fe517ccdbde996e7748f0c69f8"><div class="ttname"><a href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a0db6d0fe517ccdbde996e7748f0c69f8">nn::gfx::GpuAccess_ColorBuffer</a></div><div class="ttdeci">@ GpuAccess_ColorBuffer</div><div class="ttdoc">Access as a color buffer.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:710</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a24dbcd6d86531138895622b5a854e4f5a1663c5652d151ae04844adb9a3784bea"><div class="ttname"><a href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a1663c5652d151ae04844adb9a3784bea">nn::gfx::GpuAccess_DepthStencil</a></div><div class="ttdeci">@ GpuAccess_DepthStencil</div><div class="ttdoc">Access as a depth stencil buffer.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:711</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a24dbcd6d86531138895622b5a854e4f5a37837da53e8a54a085715aa973eb8475"><div class="ttname"><a href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a37837da53e8a54a085715aa973eb8475">nn::gfx::GpuAccess_QueryBuffer</a></div><div class="ttdeci">@ GpuAccess_QueryBuffer</div><div class="ttdoc">Access as a query write destination.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:714</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a24dbcd6d86531138895622b5a854e4f5a4a531ae2d7e145f647300ea67bc76ccc"><div class="ttname"><a href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a4a531ae2d7e145f647300ea67bc76ccc">nn::gfx::GpuAccess_Texture</a></div><div class="ttdeci">@ GpuAccess_Texture</div><div class="ttdoc">Access as texture.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:708</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a24dbcd6d86531138895622b5a854e4f5a569fa278473bf8871cece2df59df5e68"><div class="ttname"><a href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a569fa278473bf8871cece2df59df5e68">nn::gfx::GpuAccess_ShaderCode</a></div><div class="ttdeci">@ GpuAccess_ShaderCode</div><div class="ttdoc">Access as shader code.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:716</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a24dbcd6d86531138895622b5a854e4f5a651b4131559d89eabd39541b70986048"><div class="ttname"><a href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5a651b4131559d89eabd39541b70986048">nn::gfx::GpuAccess_Image</a></div><div class="ttdeci">@ GpuAccess_Image</div><div class="ttdoc">Access as image.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:717</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a24dbcd6d86531138895622b5a854e4f5ab49f83cffb7a771c178eafdbbd93ca1a"><div class="ttname"><a href="namespacenn_1_1gfx.html#a24dbcd6d86531138895622b5a854e4f5ab49f83cffb7a771c178eafdbbd93ca1a">nn::gfx::GpuAccess_Descriptor</a></div><div class="ttdeci">@ GpuAccess_Descriptor</div><div class="ttdoc">Access as a descriptor.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:715</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a52703c69a29adb8ba4cf3d02c6be65d6aeecfd005f00573cce0430313e61bc33e"><div class="ttname"><a href="namespacenn_1_1gfx.html#a52703c69a29adb8ba4cf3d02c6be65d6aeecfd005f00573cce0430313e61bc33e">nn::gfx::ImageStorageDimension_2d</a></div><div class="ttdeci">@ ImageStorageDimension_2d</div><div class="ttdoc">Two dimensions.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:378</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a55131be8acb19fc0a4a24d395fa2df0aa3d4e6c7b91ed8cd0de11f0e143174f57"><div class="ttname"><a href="namespacenn_1_1gfx.html#a55131be8acb19fc0a4a24d395fa2df0aa3d4e6c7b91ed8cd0de11f0e143174f57">nn::gfx::TextureBorderColorType_White</a></div><div class="ttdeci">@ TextureBorderColorType_White</div><div class="ttdoc">Represents ( 1, 1, 1, 1 ).</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:364</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a733cd65018ead22dd2cd0a62a8bd2ec9a93c09969027b90e4794060197dedb5fb"><div class="ttname"><a href="namespacenn_1_1gfx.html#a733cd65018ead22dd2cd0a62a8bd2ec9a93c09969027b90e4794060197dedb5fb">nn::gfx::DepthStencilClearMode_DepthStencil</a></div><div class="ttdeci">@ DepthStencilClearMode_DepthStencil</div><div class="ttdoc">Clears the stencil component and the depth component.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:824</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_a853c8c6e8cb3e59241f1fd893d6da280aeb6605a4d8b9b5bb65f08e73f2f8c7eb"><div class="ttname"><a href="namespacenn_1_1gfx.html#a853c8c6e8cb3e59241f1fd893d6da280aeb6605a4d8b9b5bb65f08e73f2f8c7eb">nn::gfx::ComparisonFunction_LessEqual</a></div><div class="ttdeci">@ ComparisonFunction_LessEqual</div><div class="ttdoc">Represents lhs &lt;= rhs.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:350</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_ad02723fd1d5795fe8801dc262eae6e1aa71c748257c0ed44c4e11e1aa698a1834"><div class="ttname"><a href="namespacenn_1_1gfx.html#ad02723fd1d5795fe8801dc262eae6e1aa71c748257c0ed44c4e11e1aa698a1834">nn::gfx::FilterMode_Comparison_MinLinear_MagLinear_MipLinear</a></div><div class="ttdeci">@ FilterMode_Comparison_MinLinear_MagLinear_MipLinear</div><div class="ttdoc">Comparison mode, linear minification filter, linear magnification filter, linear mipmap filter.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:300</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_ae794c2b6a518a4ae9ada4d3339b87605a2f64d2e25bf61ef9571b504d2b86a895"><div class="ttname"><a href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605a2f64d2e25bf61ef9571b504d2b86a895">nn::gfx::ImageFormat_D32_Float</a></div><div class="ttdeci">@ ImageFormat_D32_Float</div><div class="ttdoc">Single-component, 32-bit, depth stencil format.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:548</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_ae794c2b6a518a4ae9ada4d3339b87605a4a123ace5d6e0c4d7b532024f6e14c7e"><div class="ttname"><a href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605a4a123ace5d6e0c4d7b532024f6e14c7e">nn::gfx::ImageFormat_R32_Uint</a></div><div class="ttdeci">@ ImageFormat_R32_Uint</div><div class="ttdoc">Single-component, 32-bit, unsigned-integer format.</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:545</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_ae794c2b6a518a4ae9ada4d3339b87605ac8c99c8d634a1a71ba05e16b6de4536e"><div class="ttname"><a href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605ac8c99c8d634a1a71ba05e16b6de4536e">nn::gfx::ImageFormat_R11_G11_B10_Float</a></div><div class="ttdeci">@ ImageFormat_R11_G11_B10_Float</div><div class="ttdoc">Three-component, 32-bit, floating-point format (11 bits, 11 bits, 10 bits).</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:537</div></div>
<div class="ttc" id="anamespacenn_1_1gfx_html_ae794c2b6a518a4ae9ada4d3339b87605ae9a6f4b8714c06cc877193b5635c8019"><div class="ttname"><a href="namespacenn_1_1gfx.html#ae794c2b6a518a4ae9ada4d3339b87605ae9a6f4b8714c06cc877193b5635c8019">nn::gfx::ImageFormat_R8_G8_B8_A8_Unorm</a></div><div class="ttdeci">@ ImageFormat_R8_G8_B8_A8_Unorm</div><div class="ttdoc">Four-component, 32-bit, unsigned-normalized format (each component 8 bits).</div><div class="ttdef"><b>Definition:</b> gfx_Enum.h:524</div></div>
<div class="ttc" id="anamespacenn_1_1oe_html_a217121fe4c4dcf327efa7059c33c88c3"><div class="ttname"><a href="namespacenn_1_1oe.html#a217121fe4c4dcf327efa7059c33c88c3">nn::oe::SetCpuBoostMode</a></div><div class="ttdeci">void SetCpuBoostMode(CpuBoostMode mode) NN_NOEXCEPT</div><div class="ttdoc">Sets the CPU boost mode.</div></div>
<div class="ttc" id="anamespacenn_1_1oe_html_a9a4c06113b2d2e39157e21fd9d33c874a56d0c008e285dc2c80ab2f33c225e4c6"><div class="ttname"><a href="namespacenn_1_1oe.html#a9a4c06113b2d2e39157e21fd9d33c874a56d0c008e285dc2c80ab2f33c225e4c6">nn::oe::CpuBoostMode_FastLoad</a></div><div class="ttdeci">@ CpuBoostMode_FastLoad</div><div class="ttdoc">The optimal mode for loading files.</div><div class="ttdef"><b>Definition:</b> oe_CpuBoostMode.h:38</div></div>
<div class="ttc" id="anamespacenn_1_1oe_html_a9a4c06113b2d2e39157e21fd9d33c874a68b6ac86a64960519ad1bc96e5630653"><div class="ttname"><a href="namespacenn_1_1oe.html#a9a4c06113b2d2e39157e21fd9d33c874a68b6ac86a64960519ad1bc96e5630653">nn::oe::CpuBoostMode_Normal</a></div><div class="ttdeci">@ CpuBoostMode_Normal</div><div class="ttdoc">Normal mode.</div><div class="ttdef"><b>Definition:</b> oe_CpuBoostMode.h:37</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_ac50b86561c15ee3e8195c83fddc8e732"><div class="ttname"><a href="namespacenn_1_1os.html#ac50b86561c15ee3e8195c83fddc8e732">nn::os::SetThreadCoreMask</a></div><div class="ttdeci">void SetThreadCoreMask(ThreadType *thread, int idealCore, Bit64 affinityMask) NN_NOEXCEPT</div><div class="ttdoc">Sets the target thread core assignment.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_ad106866a5b13bc3d430104333966b479"><div class="ttname"><a href="namespacenn_1_1os.html#ad106866a5b13bc3d430104333966b479">nn::os::GetCurrentThread</a></div><div class="ttdeci">ThreadType * GetCurrentThread() NN_NOEXCEPT</div><div class="ttdoc">Gets a ThreadType object for the current thread.</div></div>
<div class="ttc" id="anamespacenn_1_1util_html_a0cdc076bfbd01224d54074c1f312165b"><div class="ttname"><a href="namespacenn_1_1util.html#a0cdc076bfbd01224d54074c1f312165b">nn::util::TanEst</a></div><div class="ttdeci">float TanEst(float radian) NN_NOEXCEPT</div><div class="ttdoc">Finds the tangent value by polynomial approximation.</div><div class="ttdef"><b>Definition:</b> util_Arithmetic.h:257</div></div>
<div class="ttc" id="anamespacenn_1_1util_html_a342713848fbb4ce6750da90d297bc824"><div class="ttname"><a href="namespacenn_1_1util.html#a342713848fbb4ce6750da90d297bc824">nn::util::DegreeToRadian</a></div><div class="ttdeci">float DegreeToRadian(float degree) NN_NOEXCEPT</div><div class="ttdoc">Converts an angle from degrees to radian representation.</div><div class="ttdef"><b>Definition:</b> util_Arithmetic.h:63</div></div>
<div class="ttc" id="anamespacenns_1_1dbgui_html_a130fd0189fc1b44752570a7d28fbb4d9"><div class="ttname"><a href="namespacenns_1_1dbgui.html#a130fd0189fc1b44752570a7d28fbb4d9">nns::dbgui::Render</a></div><div class="ttdeci">void Render(nn::gfx::CommandBuffer *pCommandBuffer) NN_NOEXCEPT</div><div class="ttdoc">Renders the frame.</div></div>
<div class="ttc" id="anamespacenns_1_1g3d_html_a4d8d828fb260a742ceca742312144c68"><div class="ttname"><a href="namespacenns_1_1g3d.html#a4d8d828fb260a742ceca742312144c68">nns::g3d::CreateRenderModelObj</a></div><div class="ttdeci">RenderModelObj * CreateRenderModelObj(nn::g3d::ModelObj *pModelObj, RenderModel *pRenderModel) NN_NOEXCEPT</div><div class="ttdoc">Creates and returns nns::g3d::RenderModelObj.</div></div>
<div class="ttc" id="anamespacenns_1_1g3d_html_a72152fa94a41e3511738bf0a9bc7c255"><div class="ttname"><a href="namespacenns_1_1g3d.html#a72152fa94a41e3511738bf0a9bc7c255">nns::g3d::CreateModelAnimObj</a></div><div class="ttdeci">nns::g3d::ModelAnimObj * CreateModelAnimObj(nn::gfx::Device *pDevice, nn::g3d::ModelObj::Builder &amp;builder) NN_NOEXCEPT</div><div class="ttdoc">Creates and returns nn::g3d::ModelAnimObj.</div></div>
<div class="ttc" id="anamespacenns_1_1g3d_html_a8f9ca59f33cdd8f33860637f64cf27fb"><div class="ttname"><a href="namespacenns_1_1g3d.html#a8f9ca59f33cdd8f33860637f64cf27fb">nns::g3d::DrawCullingCallback</a></div><div class="ttdeci">bool(* DrawCullingCallback)(const RenderUnitObj *pRenderUnitObj, int passIndex)</div><div class="ttdoc">The callback function that is called before shape rendering.</div><div class="ttdef"><b>Definition:</b> g3d_RenderModelObj.h:28</div></div>
<div class="ttc" id="anamespacenns_1_1g3d_html_aa1c714afc7a0cf4a993dcbc6774f1643"><div class="ttname"><a href="namespacenns_1_1g3d.html#aa1c714afc7a0cf4a993dcbc6774f1643">nns::g3d::CreateRenderModel</a></div><div class="ttdeci">RenderModel * CreateRenderModel(nn::gfx::Device *pDevice, nn::g3d::ResModel *pResModel, int passCount) NN_NOEXCEPT</div><div class="ttdoc">Creates and returns nns::g3d::RenderModel.</div></div>
<div class="ttc" id="ann___assert_8h_html_a0473ebccccc250efd6100a9bbfec406b"><div class="ttname"><a href="nn___assert_8h.html#a0473ebccccc250efd6100a9bbfec406b">NN_ASSERT_NOT_NULL</a></div><div class="ttdeci">#define NN_ASSERT_NOT_NULL(pointer)</div><div class="ttdoc">Tests whether the pointer is not a null pointer.</div><div class="ttdef"><b>Definition:</b> nn_Assert.h:140</div></div>
<div class="ttc" id="ann___assert_8h_html_a500008249e93282dc7552e33f586af86"><div class="ttname"><a href="nn___assert_8h.html#a500008249e93282dc7552e33f586af86">NN_ASSERT_GREATER</a></div><div class="ttdeci">#define NN_ASSERT_GREATER(lhs, rhs)</div><div class="ttdoc">Tests whether the left side is greater than the right side.</div><div class="ttdef"><b>Definition:</b> nn_Assert.h:198</div></div>
<div class="ttc" id="ann___assert_8h_html_a55d6b188692ffffd64e69532738ed2fc"><div class="ttname"><a href="nn___assert_8h.html#a55d6b188692ffffd64e69532738ed2fc">NN_ASSERT_EQUAL</a></div><div class="ttdeci">#define NN_ASSERT_EQUAL(lhs, rhs)</div><div class="ttdoc">Tests whether the values are equal.</div><div class="ttdef"><b>Definition:</b> nn_Assert.h:162</div></div>
<div class="ttc" id="ann___assert_8h_html_a7db3abee8e8c71d5dd8629b35e228afa"><div class="ttname"><a href="nn___assert_8h.html#a7db3abee8e8c71d5dd8629b35e228afa">NN_ASSERT_RANGE</a></div><div class="ttdeci">#define NN_ASSERT_RANGE(value, begin, end)</div><div class="ttdoc">Tests whether the value is included within the range.</div><div class="ttdef"><b>Definition:</b> nn_Assert.h:249</div></div>
<div class="ttc" id="ann___assert_8h_html_ade59d1d911907a16c0241f8fe3b31542"><div class="ttname"><a href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a></div><div class="ttdeci">#define NN_ASSERT(condition,...)</div><div class="ttdoc">Tests whether a condition is satisfied.</div><div class="ttdef"><b>Definition:</b> nn_Assert.h:124</div></div>
<div class="ttc" id="ann___macro_8h_html_a0e31cc4dc24d85253a31e48b1a85ab33"><div class="ttname"><a href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div><div class="ttdeci">#define NN_NOEXCEPT</div><div class="ttdoc">Declares that the function does not throw exceptions.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:196</div></div>
<div class="ttc" id="ann___macro_8h_html_a1035ab876d08f7beb687ce9c8bbcf4ac"><div class="ttname"><a href="nn___macro_8h.html#a1035ab876d08f7beb687ce9c8bbcf4ac">NN_STATIC_ASSERT</a></div><div class="ttdeci">#define NN_STATIC_ASSERT(condition)</div><div class="ttdoc">Tests whether a conditional expression is true at compile time.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:141</div></div>
<div class="ttc" id="ann___macro_8h_html_a5b950a1a9c5f9b57d49185d8fb4cd4ab"><div class="ttname"><a href="nn___macro_8h.html#a5b950a1a9c5f9b57d49185d8fb4cd4ab">NN_OVERRIDE</a></div><div class="ttdeci">#define NN_OVERRIDE</div><div class="ttdoc">Declares that the function overrides a virtual function.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:210</div></div>
<div class="ttc" id="ann___macro_8h_html_a71c0f58f6d49fe1392380eed4509ab9a"><div class="ttname"><a href="nn___macro_8h.html#a71c0f58f6d49fe1392380eed4509ab9a">NN_STATIC_CONDITION</a></div><div class="ttdeci">#define NN_STATIC_CONDITION(condition)</div><div class="ttdoc">Suppresses compiler warnings on intentional, explicitly specified conditional constants.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:626</div></div>
<div class="ttc" id="ann___macro_8h_html_ac9e299d3cb72972ad29ea24cbf4a3f71"><div class="ttname"><a href="nn___macro_8h.html#ac9e299d3cb72972ad29ea24cbf4a3f71">NN_IMPLICIT</a></div><div class="ttdeci">#define NN_IMPLICIT</div><div class="ttdoc">Suppresses static analysis tool warnings against conversion operators and conversion constructors tha...</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:602</div></div>
<div class="ttc" id="ann___macro_8h_html_acd3a418aa2fc4a6379eaa722181a46a6"><div class="ttname"><a href="nn___macro_8h.html#acd3a418aa2fc4a6379eaa722181a46a6">NN_ARRAY_SIZE</a></div><div class="ttdeci">#define NN_ARRAY_SIZE(array)</div><div class="ttdoc">Gets the array size.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:696</div></div>
<div class="ttc" id="ann___macro_8h_html_af2d1673769927c5eae977d8dde3ce106"><div class="ttname"><a href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a></div><div class="ttdeci">#define NN_UNUSED(variable)</div><div class="ttdoc">Suppresses compiler warnings on intentionally unused variables.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:610</div></div>
<div class="ttc" id="aperf___profile_8h_html_a0a94d0601ec383fed996a444d77c3e53"><div class="ttname"><a href="perf___profile_8h.html#a0a94d0601ec383fed996a444d77c3e53">NN_PERF_END_MEASURE</a></div><div class="ttdeci">#define NN_PERF_END_MEASURE()</div><div class="ttdoc">Records the time when performance stops being measured by the meter corresponding to the core that is...</div><div class="ttdef"><b>Definition:</b> perf_Profile.h:221</div></div>
<div class="ttc" id="aperf___profile_8h_html_a3506f976dd0501c40d1605db7811ceed"><div class="ttname"><a href="perf___profile_8h.html#a3506f976dd0501c40d1605db7811ceed">NN_PERF_SET_GET_CORE_NUMBER_FUNCTION</a></div><div class="ttdeci">#define NN_PERF_SET_GET_CORE_NUMBER_FUNCTION(getCoreNumberFunction)</div><div class="ttdoc">Registers the function that returns the ID of the core on which the current thread is running.</div><div class="ttdef"><b>Definition:</b> perf_Profile.h:111</div></div>
<div class="ttc" id="aperf___profile_8h_html_a5131b7b04a8b13456f6f2c7f8b3f0c61"><div class="ttname"><a href="perf___profile_8h.html#a5131b7b04a8b13456f6f2c7f8b3f0c61">NN_PERF_SET_ENABLED</a></div><div class="ttdeci">#define NN_PERF_SET_ENABLED(isEnabled)</div><div class="ttdoc">Sets whether metrics and statistics are enabled or disabled.</div><div class="ttdef"><b>Definition:</b> perf_Profile.h:122</div></div>
<div class="ttc" id="aperf___profile_8h_html_a5289e91681166ba39ce97d6eb116c59d"><div class="ttname"><a href="perf___profile_8h.html#a5289e91681166ba39ce97d6eb116c59d">NN_PERF_END_MEASURE_GPU</a></div><div class="ttdeci">#define NN_PERF_END_MEASURE_GPU(pCommandBuffer)</div><div class="ttdoc">Records the time when performance stops being measured by the GpuMeter.</div><div class="ttdef"><b>Definition:</b> perf_Profile.h:393</div></div>
<div class="ttc" id="aperf___profile_8h_html_a9589655224905f671b5e15a02838305c"><div class="ttname"><a href="perf___profile_8h.html#a9589655224905f671b5e15a02838305c">NN_PERF_BEGIN_MEASURE_NAME</a></div><div class="ttdeci">#define NN_PERF_BEGIN_MEASURE_NAME(sectionName)</div><div class="ttdoc">Records the time when performance begins being measured by the meter corresponding to the core that i...</div><div class="ttdef"><b>Definition:</b> perf_Profile.h:199</div></div>
<div class="ttc" id="aperf___profile_8h_html_ac0cbbec62451185954e3e6a11cac2fa8"><div class="ttname"><a href="perf___profile_8h.html#ac0cbbec62451185954e3e6a11cac2fa8">NN_PERF_SET_COLOR</a></div><div class="ttdeci">#define NN_PERF_SET_COLOR(color)</div><div class="ttdoc">Changes the color of the CpuMeter that corresponds to the running CPU core.</div><div class="ttdef"><b>Definition:</b> perf_Profile.h:403</div></div>
<div class="ttc" id="aperf___profile_8h_html_ae7dc0bda5eab2fc0a3c36f5a92683580"><div class="ttname"><a href="perf___profile_8h.html#ae7dc0bda5eab2fc0a3c36f5a92683580">NN_PERF_BEGIN_MEASURE_NAME_GPU</a></div><div class="ttdeci">#define NN_PERF_BEGIN_MEASURE_NAME_GPU(pCommandBuffer, sectionName)</div><div class="ttdoc">Records the time when performance starts being measured by the GpuMeter.</div><div class="ttdef"><b>Definition:</b> perf_Profile.h:370</div></div>
<div class="ttc" id="aperf___profile_8h_html_af2d54f7bfca84e3d33b2009f6334f169"><div class="ttname"><a href="perf___profile_8h.html#af2d54f7bfca84e3d33b2009f6334f169">NN_PERF_SET_COLOR_GPU</a></div><div class="ttdeci">#define NN_PERF_SET_COLOR_GPU(color)</div><div class="ttdoc">Changes the color of the GpuMeter object.</div><div class="ttdef"><b>Definition:</b> perf_Profile.h:416</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_aabb_html"><div class="ttname"><a href="structnn_1_1g3d_1_1_aabb.html">nn::g3d::Aabb</a></div><div class="ttdoc">Axis-Aligned-Bounding-Box (AABB) for determining the intersection.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:74</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_aabb_html_a55665897527cf6fe756913cd698abd42"><div class="ttname"><a href="structnn_1_1g3d_1_1_aabb.html#a55665897527cf6fe756913cd698abd42">nn::g3d::Aabb::Merge</a></div><div class="ttdeci">void Merge(const Aabb &amp;lhs, const Aabb &amp;rhs) NN_NOEXCEPT</div><div class="ttdoc">Sets an AABB that encompasses two other AABBs.</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_aabb_html_ac799e985cdb7fbc2654b04331b03fec8"><div class="ttname"><a href="structnn_1_1g3d_1_1_aabb.html#ac799e985cdb7fbc2654b04331b03fec8">nn::g3d::Aabb::max</a></div><div class="ttdeci">nn::util::Vector3fType max</div><div class="ttdoc">Maximum coordinates.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:99</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_aabb_html_ac88079a3f7535c5f9de555ccdded8a0d"><div class="ttname"><a href="structnn_1_1g3d_1_1_aabb.html#ac88079a3f7535c5f9de555ccdded8a0d">nn::g3d::Aabb::min</a></div><div class="ttdeci">nn::util::Vector3fType min</div><div class="ttdoc">Minimum coordinates.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:97</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_aabb_html_af2f8ee6cbdb5cc54f3a473f1d161eb57"><div class="ttname"><a href="structnn_1_1g3d_1_1_aabb.html#af2f8ee6cbdb5cc54f3a473f1d161eb57">nn::g3d::Aabb::Set</a></div><div class="ttdeci">void Set(const nn::util::Vector3fType *pPointArray, int count) NN_NOEXCEPT</div><div class="ttdoc">Sets an AABB surrounding the specified vertex group.</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_sphere_html"><div class="ttname"><a href="structnn_1_1g3d_1_1_sphere.html">nn::g3d::Sphere</a></div><div class="ttdoc">Spheres for cross value.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:51</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_sphere_html_a6a3b0a90d98a62e136cf04663c001f6a"><div class="ttname"><a href="structnn_1_1g3d_1_1_sphere.html#a6a3b0a90d98a62e136cf04663c001f6a">nn::g3d::Sphere::radius</a></div><div class="ttdeci">float radius</div><div class="ttdoc">Radius.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:69</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_sphere_html_af9b926645587dc30bef63829d00c6b04"><div class="ttname"><a href="structnn_1_1g3d_1_1_sphere.html#af9b926645587dc30bef63829d00c6b04">nn::g3d::Sphere::center</a></div><div class="ttdeci">nn::util::Vector3fType center</div><div class="ttdoc">Center.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:67</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_view_volume_html"><div class="ttname"><a href="structnn_1_1g3d_1_1_view_volume.html">nn::g3d::ViewVolume</a></div><div class="ttdoc">The view volume.</div><div class="ttdef"><b>Definition:</b> g3d_ShapeObj.h:121</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_view_volume_html_a1c153ca33802ebdffa981311c7d515eb"><div class="ttname"><a href="structnn_1_1g3d_1_1_view_volume.html#a1c153ca33802ebdffa981311c7d515eb">nn::g3d::ViewVolume::SetOrtho</a></div><div class="ttdeci">void SetOrtho(float top, float bottom, float left, float right, float zNear, float zFar, const nn::util::Matrix4x3fType &amp;viewToWorld) NN_NOEXCEPT</div><div class="ttdoc">This function sets the view volume.</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_view_volume_html_a243414ea182959c9e1685d2e5e756339"><div class="ttname"><a href="structnn_1_1g3d_1_1_view_volume.html#a243414ea182959c9e1685d2e5e756339">nn::g3d::ViewVolume::SetPerspective</a></div><div class="ttdeci">void SetPerspective(float fovy, float aspect, float zNear, float zFar, const nn::util::Matrix4x3fType &amp;viewToWorld) NN_NOEXCEPT</div><div class="ttdoc">This function sets the view volume.</div></div>
<div class="ttc" id="astructnn_1_1g3d_1_1_view_volume_html_a27699906ae01800c90654c7cab3d38da"><div class="ttname"><a href="structnn_1_1g3d_1_1_view_volume.html#a27699906ae01800c90654c7cab3d38da">nn::g3d::ViewVolume::TestIntersection</a></div><div class="ttdeci">bool TestIntersection(const Sphere &amp;sphere) const NN_NOEXCEPT</div><div class="ttdoc">Tests for intersection.</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_float2_html"><div class="ttname"><a href="structnn_1_1util_1_1_float2.html">nn::util::Float2</a></div><div class="ttdoc">Represents a two-dimensional vector using an array of single precision floating point numbers.</div><div class="ttdef"><b>Definition:</b> util_MathTypes.h:55</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_float3_html"><div class="ttname"><a href="structnn_1_1util_1_1_float3.html">nn::util::Float3</a></div><div class="ttdoc">Represents a three-dimensional vector using an array of single precision floating point numbers.</div><div class="ttdef"><b>Definition:</b> util_MathTypes.h:71</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_float4_html"><div class="ttname"><a href="structnn_1_1util_1_1_float4.html">nn::util::Float4</a></div><div class="ttdoc">Represents a four-dimensional vector using an array of single precision floating point numbers.</div><div class="ttdef"><b>Definition:</b> util_MathTypes.h:88</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_matrix_row_major4x3f_type_html"><div class="ttname"><a href="structnn_1_1util_1_1_matrix_row_major4x3f_type.html">nn::util::MatrixRowMajor4x3fType</a></div><div class="ttdoc">Represents a four-row, three-column, row-major matrix using a single precision floating point data ty...</div><div class="ttdef"><b>Definition:</b> util_MathTypes.h:394</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_matrix_row_major4x4f_type_html"><div class="ttname"><a href="structnn_1_1util_1_1_matrix_row_major4x4f_type.html">nn::util::MatrixRowMajor4x4fType</a></div><div class="ttdoc">Represents a four-row, four-column, row-major matrix using a single precision floating point data typ...</div><div class="ttdef"><b>Definition:</b> util_MathTypes.h:422</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_unorm8x4_html"><div class="ttname"><a href="structnn_1_1util_1_1_unorm8x4.html">nn::util::Unorm8x4</a></div><div class="ttdoc">Structure that holds a one-dimensional array of four elements, each a normalized 8-byte unsigned inte...</div><div class="ttdef"><b>Definition:</b> util_MathTypes.h:47</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_unorm8x4_html_a1dd7b3754750ca1cfbf9663f216df96d"><div class="ttname"><a href="structnn_1_1util_1_1_unorm8x4.html#a1dd7b3754750ca1cfbf9663f216df96d">nn::util::Unorm8x4::v</a></div><div class="ttdeci">uint8_t v[4]</div><div class="ttdoc">Element array.</div><div class="ttdef"><b>Definition:</b> util_MathTypes.h:48</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_vector3f_type_html"><div class="ttname"><a href="structnn_1_1util_1_1_vector3f_type.html">nn::util::Vector3fType</a></div><div class="ttdoc">Represents a three-dimensional vector using a single precision floating point data type.</div><div class="ttdef"><b>Definition:</b> util_MathTypes.h:306</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_vector4f_type_html"><div class="ttname"><a href="structnn_1_1util_1_1_vector4f_type.html">nn::util::Vector4fType</a></div><div class="ttdoc">Represents a four-dimensional vector using a single precision floating point data type.</div><div class="ttdef"><b>Definition:</b> util_MathTypes.h:338</div></div>
<div class="ttc" id="autil___vector_api_8h_html_ad240ddb9de10d0854bf3af10a4bead74"><div class="ttname"><a href="util___vector_api_8h.html#ad240ddb9de10d0854bf3af10a4bead74">NN_UTIL_VECTOR_3F_INITIALIZER</a></div><div class="ttdeci">#define NN_UTIL_VECTOR_3F_INITIALIZER</div><div class="ttdoc">Macro that can be used as an initializer for an nn::util::Vector3fType object.</div><div class="ttdef"><b>Definition:</b> util_VectorApi.h:1633</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
