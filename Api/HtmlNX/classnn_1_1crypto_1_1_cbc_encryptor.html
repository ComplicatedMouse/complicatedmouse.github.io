<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nn::crypto::CbcEncryptor&lt; BlockCipher &gt; Class Template Reference | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenn.html">nn</a></li><li class="navelem"><a class="el" href="namespacenn_1_1crypto.html">crypto</a></li><li class="navelem"><a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html">CbcEncryptor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classnn_1_1crypto_1_1_cbc_encryptor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nn::crypto::CbcEncryptor&lt; BlockCipher &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for encrypting in CBC mode.  
 <a href="classnn_1_1crypto_1_1_cbc_encryptor.html#details">More...</a></p>

<p><code>#include &lt;nn/crypto/crypto_CbcEncryptor.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4da7c8a1dbf26d8af7f7c4936040bf5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html#a4da7c8a1dbf26d8af7f7c4936040bf5d">CbcEncryptor</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a4da7c8a1dbf26d8af7f7c4936040bf5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default constructor.  <a href="classnn_1_1crypto_1_1_cbc_encryptor.html#a4da7c8a1dbf26d8af7f7c4936040bf5d">More...</a><br /></td></tr>
<tr class="separator:a4da7c8a1dbf26d8af7f7c4936040bf5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645559bf90e723f5f700aa5f4ddbe8ed"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html#a645559bf90e723f5f700aa5f4ddbe8ed">GetBufferedDataSize</a> () const <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a645559bf90e723f5f700aa5f4ddbe8ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of the unprocessed input data.  <a href="classnn_1_1crypto_1_1_cbc_encryptor.html#a645559bf90e723f5f700aa5f4ddbe8ed">More...</a><br /></td></tr>
<tr class="separator:a645559bf90e723f5f700aa5f4ddbe8ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af818c853083aac22c80cda83aebed8f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html#af818c853083aac22c80cda83aebed8f8">Initialize</a> (const BlockCipher *pBlockCipher, const void *pIv, size_t ivSize) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:af818c853083aac22c80cda83aebed8f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the encryption process in CBC mode.  <a href="classnn_1_1crypto_1_1_cbc_encryptor.html#af818c853083aac22c80cda83aebed8f8">More...</a><br /></td></tr>
<tr class="separator:af818c853083aac22c80cda83aebed8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc7d41793c96e695070b8eb294b9fd6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html#abbc7d41793c96e695070b8eb294b9fd6">Update</a> (void *pDst, size_t dstSize, const void *pSrc, size_t srcSize) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:abbc7d41793c96e695070b8eb294b9fd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs encryption in CBC mode.  <a href="classnn_1_1crypto_1_1_cbc_encryptor.html#abbc7d41793c96e695070b8eb294b9fd6">More...</a><br /></td></tr>
<tr class="separator:abbc7d41793c96e695070b8eb294b9fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a1ad575936571dd8adbb16cddbe52e960"><td class="memItemLeft" align="right" valign="top"><a id="a1ad575936571dd8adbb16cddbe52e960"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html#a1ad575936571dd8adbb16cddbe52e960">BlockSize</a> = BlockCipher::BlockSize</td></tr>
<tr class="memdesc:a1ad575936571dd8adbb16cddbe52e960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant representing the block size. <br /></td></tr>
<tr class="separator:a1ad575936571dd8adbb16cddbe52e960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0142401e3fa1726f80c233481f18c90"><td class="memItemLeft" align="right" valign="top"><a id="ac0142401e3fa1726f80c233481f18c90"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html#ac0142401e3fa1726f80c233481f18c90">IvSize</a> = BlockCipher::BlockSize</td></tr>
<tr class="memdesc:ac0142401e3fa1726f80c233481f18c90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant representing the IV size. <br /></td></tr>
<tr class="separator:ac0142401e3fa1726f80c233481f18c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename BlockCipher&gt;<br />
class nn::crypto::CbcEncryptor&lt; BlockCipher &gt;</h3>

<p>Class for encrypting in CBC mode. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">BlockCipher</td><td>The implementation class for the block cipher to use.</td></tr>
  </table>
  </dd>
</dl>
<p> <b>Details</b> <br  />
The cipher mode for CBC is as stipulated in NIST SP 800-38A.</p>
<p>This class is a template class that takes the block cipher implementation class as a template parameter. Use <code><a class="el" href="classnn_1_1crypto_1_1_aes128_cbc_encryptor.html" title="Class for using CBC mode AES encryption with a key size of 128 bits.">Aes128CbcEncryptor</a></code> or a similar class in your actual code.</p>
<p>The implementation of the block cipher class specified in the template must satisfy the following conditions. For more information including about the parameters of each function, see <code><a class="el" href="classnn_1_1crypto_1_1_aes_encryptor.html" title="Class that implements encryption with an AES cipher.">AesEncryptor</a></code>.</p>
<ol type="1">
<li>Has a <code>BlockSize</code> constant that defines the size of the block to process.</li>
<li>Has a <code>EncryptBlock</code> function that encrypts a single block.</li>
</ol>
<p>This class has the following states. The state immediately after instantiation is uninitialized.</p><ul>
<li>Uninitialized state.</li>
<li>Ready.</li>
</ul>
<p>Padding is not supported in this class. If your data format requires specific padding, add the padding to the data before use. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4da7c8a1dbf26d8af7f7c4936040bf5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da7c8a1dbf26d8af7f7c4936040bf5d">&#9670;&nbsp;</a></span>CbcEncryptor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BlockCipher &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html">nn::crypto::CbcEncryptor</a>&lt; BlockCipher &gt;::<a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html">CbcEncryptor</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default constructor. </p>
<p> <b>Details</b> <br  />
The instance that is created is in an uninitialized state. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af818c853083aac22c80cda83aebed8f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af818c853083aac22c80cda83aebed8f8">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BlockCipher &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html">nn::crypto::CbcEncryptor</a>&lt; BlockCipher &gt;::Initialize </td>
          <td>(</td>
          <td class="paramtype">const BlockCipher *&#160;</td>
          <td class="paramname"><em>pBlockCipher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>pIv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ivSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the encryption process in CBC mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pBlockCipher</td><td>Instance of the block cipher implementation class. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pIv</td><td>Pointer to the IV data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ivSize</td><td>Size of the IV data in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>The <code>EncryptBlock</code> member function of the instance specified in <code><em>pBlockCipher</em></code> can be called.</li>
<li>ivSize == IvSize</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>The instance is in a ready state.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
Specify an instance of the class that implements the block cipher to use for encryption in <code><em>pBlockCipher</em></code>. The instance must be initialized with the required key, and other settings, so that <code>EncryptBlock</code> is ready to be called.</p>
<p>The instance specified in <code><em>pBlockCipher</em></code> is not copied. Do not perform any operations on <code><em>pBlockCipher</em></code> until the processing sequence is complete.</p>
<p>An internal copy of the IV data is created. </p>

</div>
</div>
<a id="abbc7d41793c96e695070b8eb294b9fd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc7d41793c96e695070b8eb294b9fd6">&#9670;&nbsp;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BlockCipher &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html">nn::crypto::CbcEncryptor</a>&lt; BlockCipher &gt;::Update </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pDst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dstSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>pSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>srcSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs encryption in CBC mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pDst</td><td>Pointer to the buffer that receives encrypted data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dstSize</td><td>Size of the buffer pointed to by <code><em>pDst</em></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pSrc</td><td>Pointer to the buffer storing the data to encrypt. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srcSize</td><td>Size in bytes of the data to encrypt.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the actual number of bytes that were encrypted.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>The instance is in a ready state.</li>
<li><code><em>dstSize</em></code> &gt;= ((<code><em>srcSize</em></code> + <code><em><a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html#a645559bf90e723f5f700aa5f4ddbe8ed" title="Gets the size of the unprocessed input data.">GetBufferedDataSize()</a></em></code>) / <code>BlockSize</code>) * <code>BlockSize</code>.</li>
<li>The region specified by <code><em>pDst</em></code>,<code><em>dstSize</em></code> does not overlap with the region specified by <code><em>pSrc</em></code>,<code><em>srcSize</em></code>.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>The encrypted result is written to <code><em>pDst</em></code>.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
In CBC mode, encryption takes place one block at a time. As a result, the maximum size required of <code><em>dstSize</em></code> for a single call is (<code><em>srcSize</em></code> + <em>block_size</em> – <code>1</code>). For instance, assuming that <code>Update</code> is called one byte at a time, the encryption process does not run and a value of <code>0</code> is returned until the cumulative size reaches the block size. When the cumulative size reaches the block size, the call processes one block of data, and the size of that block is returned as the return value.</p>
<p>In CBC mode, the sum total of <code><em>srcSize</em></code> must be a multiple of the block size.</p>
<p>The buffer size required for the total <code><em>dstSize</em></code> for all calls is the same as the total <code><em>srcSize</em></code>. </p>

</div>
</div>
<a id="a645559bf90e723f5f700aa5f4ddbe8ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a645559bf90e723f5f700aa5f4ddbe8ed">&#9670;&nbsp;</a></span>GetBufferedDataSize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BlockCipher &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classnn_1_1crypto_1_1_cbc_encryptor.html">nn::crypto::CbcEncryptor</a>&lt; BlockCipher &gt;::GetBufferedDataSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the size of the unprocessed input data. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the size of the unprocessed input data in bytes.</dd></dl>
<p> <b>Details</b> <br  />
Data that was entered using <code>Update</code> but has not yet reached the size of a block is buffered in an unprocessed state until the block size is reached.</p>
<p>This function can be used to get the size of that buffered data. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
