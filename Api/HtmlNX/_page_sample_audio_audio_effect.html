<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Audio Effects Sample | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_audio.html">Audio Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Audio Effects Sample </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSampleAudioAudioEffect_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSampleAudioAudioEffect_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSampleAudioAudioEffect_SectionNecessaryEnvironment">Required Environment</a></li>
<li class="level1"><a href="#PageSampleAudioAudioEffect_SectionHowToOperate">How to Use</a></li>
<li class="level1"><a href="#PageSampleAudioAudioEffect_SectionPrecaution">Important Information</a></li>
<li class="level1"><a href="#PageSampleAudioAudioEffect_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSampleAudioAudioEffect_SectionDetail">Description</a><ul><li class="level2"><a href="#PageSampleAudioAudioEffect_SubsectionAuxEffect">Aux Effects</a></li>
<li class="level2"><a href="#PageSampleAudioAudioEffect_SubsectionCaptureEffect">Capture Effect</a></li>
<li class="level2"><a href="#PageSampleAudioAudioEffect_SubsectionReverbEffect">Reverb Effects</a></li>
<li class="level2"><a href="#PageSampleAudioAudioEffect_SubsectionI3dl2ReverbEffect">I3dl2Reverb Effect</a></li>
<li class="level2"><a href="#PageSampleAudioAudioEffect_SubsectionDelayEffect">Delay Effects</a></li>
<li class="level2"><a href="#PageSampleAudioAudioEffect_LightLimiter">LightLimiter Effect</a></li>
<li class="level2"><a href="#PageSampleAudioAudioEffect_BiquadFilter">BiquadFilter Effect</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This sample program shows how to use the audio effects feature.</p>
<h1><a class="anchor" id="PageSampleAudioAudioEffect_SectionBrief"></a>
Overview</h1>
<p>This sample uses audio effects to affect playback samples.</p>
<h1><a class="anchor" id="PageSampleAudioAudioEffect_SectionFileStructure"></a>
File Structure</h1>
<p>This sample program is located in <code><a class="el" href="dir_46491640022be93972476661f1248ba2.html">Samples/Sources/Applications/AudioEffect/ </a> </code>.</p>
<h1><a class="anchor" id="PageSampleAudioAudioEffect_SectionNecessaryEnvironment"></a>
Required Environment</h1>
<p>You must be able to use audio output.</p>
<h1><a class="anchor" id="PageSampleAudioAudioEffect_SectionHowToOperate"></a>
How to Use</h1>
<p>Sound effects can be played back using input from the keyboard or DebugPad.</p>
<table class="doxtable">
<tr>
<th>Input </th><th>Operation  </th></tr>
<tr>
<td>A Button </td><td>Plays <code>SampleSe0</code> once.  </td></tr>
<tr>
<td>[B] </td><td>Plays <code>SampleSe1</code> once.  </td></tr>
<tr>
<td>[X] </td><td>Updates the settings for the selected effect.  </td></tr>
<tr>
<td>[Y] </td><td>Switches the sound effect for the effect target.  </td></tr>
<tr>
<td>Left/Right Buttons </td><td>Switches the selected effect.  </td></tr>
<tr>
<td>[L] + [X] </td><td>Enables and disables Capture effect processing.  </td></tr>
<tr>
<td>[L] + [Y] </td><td>Enables and disables Aux effects.  </td></tr>
<tr>
<td>[L] + [Up][Down] </td><td>Adjusts the sound effect volume for the effect target.  </td></tr>
<tr>
<td>[L] + [Left][Right] </td><td>Adjusts the pan to the left and right for the effect target.  </td></tr>
<tr>
<td>[-] </td><td>Displays a description of sample operations..  </td></tr>
<tr>
<td>[L] + [-] </td><td>Displays the processing result for the effect.  </td></tr>
<tr>
<td>START or SPACEBAR </td><td>Quits the program.  </td></tr>
</table>
<h1><a class="anchor" id="PageSampleAudioAudioEffect_SectionPrecaution"></a>
Important Information</h1>
<p>Nothing specific.</p>
<h1><a class="anchor" id="PageSampleAudioAudioEffect_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>Build the sample program and then run it.</p>
<h1><a class="anchor" id="PageSampleAudioAudioEffect_SectionDetail"></a>
Description</h1>
<p>This sample program performs audio effect processing.</p>
<p>It shows how to use the various effects.</p>
<h2><a class="anchor" id="PageSampleAudioAudioEffect_SubsectionAuxEffect"></a>
Aux Effects</h2>
<p>The aux effect feature allows you to get audio sample data from the audio renderer and to write that data back. This feature enables the developer to insert proprietary signal processing.</p>
<p>The following flow is used.</p>
<ul>
<li>Allocate the buffer to use for aux effects.</li>
<li>Add the aux effect to <code>SubMix</code> and <code>FinalMix</code>.</li>
<li>Get the sample data from the audio renderer.</li>
<li>Perform signal processing. (For the purposes of this sample, this processing consists of simple volume and pan adjustments.)</li>
<li>Write the sample data back to the audio renderer.</li>
</ul>
<p>First allocate the buffer to use for the aux effect. Developers will process the sample data that is written to this buffer. Increasing the size of the buffer increases the maximum delay amount. Yet if the buffer is too small, it may result in noise because there is not enough time for the user's proprietary processing.</p>
<p>Next, add the aux effect to <code>SubMix</code> and <code>FinalMix</code>. Also set the channels to send the Aux effects to. Data taken from the audio renderer is block-interleaved. You can include just channel blocks for the specified channels.</p>
<p>Finally, signal processing occurs within the main loop. If this processing takes too long, the output after effect processing will not be continuous, which may result in noise. The developer must also write back to the audio renderer the same number of sample data units that were obtained from the audio renderer. You can use the <code><a class="el" href="namespacenn_1_1audio.html#adbadc0832469ad712cf5239701963b79" title="Gets statistical information associated with the SendBuffer and ReturnBuffer managed by AuxType.">nn::audio::GetAuxBufferStatistics()</a></code> function to get the total number of samples that were not read in time by the user and lost as a result, in addition to the total number of samples that were not written in time and for which noise may occur.</p>
<h2><a class="anchor" id="PageSampleAudioAudioEffect_SubsectionCaptureEffect"></a>
Capture Effect</h2>
<p>The Capture effect provides a way to get audio sample data from the audio renderer. Compared to the Aux effect, the Capture effect lacks write-back capabilities, but it does not affect output after effect processing. In other words, the delays to output that occur after Aux effect processing do not occur with the Capture effect.</p>
<p>The following flow is used.</p>
<ul>
<li>Allocate the buffer to use with the Capture effect.</li>
<li>Add the Capture effect to <code>SubMix</code> or <code>FinalMix</code>.</li>
<li>Get sample data from the Capture effect.</li>
</ul>
<p>The first step is to allocate the buffer to use with the Capture effect Developers will process the sample data that is written to this buffer. You can reduce the buffer size, but if you do, you will need to get the sample data more frequently.</p>
<p>Next, add the Capture effect to <code>SubMix</code> or <code>FinalMix</code>. Also set the channels to send to the Capture effect here. The sample data received from the Capture effect is block-interleaved. The specified channels determine the number of channel blocks that are included.</p>
<p>As the last step, perform the process of getting sample data in the main loop. If this process takes too long, there will be missing segments in the obtained sample data. To get the total number of samples lost due to missing segments, use the <code><a class="el" href="namespacenn_1_1audio.html#acd99cd5e9e834b1f37019a4e69b5c988" title="Gets the cumulative number of samples that have been lost from the buffer managed by CaptureType.">nn::audio::GetCaptureLostSampleCount()</a></code> function.</p>
<h2><a class="anchor" id="PageSampleAudioAudioEffect_SubsectionReverbEffect"></a>
Reverb Effects</h2>
<p>Reverb effects are effects that emulate the reverberating sound of audio inside spaces.</p>
<p>Use the <code><a class="el" href="namespacenn_1_1audio.html#aa081b9cab7e4ca8d079093c1fc50bb4d" title="Adds a ReverbType object to FinalMixType.">nn::audio::AddReverb()</a></code> function to add reverb effects to <code>SubMix</code> or <code>FinalMix</code>. You can use the <code><a class="el" href="namespacenn_1_1audio.html#aff0e36cd224e963c355f8ef8fa88c38a" title="Sets the ReverbType input/output mix buffer indexes.">nn::audio::SetReverbInputOutput()</a></code> function to set the bus on which to send the reverb effect added to <code>SubMix</code> or <code>FinalMix</code>. The index used for this setting is the index of the <code>Submix</code> or <code>FinalMix</code> buffer to which the reverb effect was added. In this example, <code>FinalMix</code> has four channels and a reverb effect is added to channel 2. Channels 0 and 1 of <code>FinalMix</code> are the input for the reverb effect, and the samples are returned to these same channels of the same <code>FinalMix</code> after the effect has been applied.</p>
<p>The reverb effect has a number of parameters. For descriptions of these parameters, see the NintendoSDK audio effect documentation. All of these reverb effect parameters can be modified while the audio renderer is running. Any updates to the reverb effect parameters are applied the next time the <a class="el" href="namespacenn_1_1audio.html#ac555128156197608dfaeeb5e824780a6" title="Updates the parameters for Voice objects bound to the audio renderer.">nn::audio::RequestUpdateAudioRenderer()</a> function is called. The changes are not applied until then. Make sure that you do not change any parameters while <code><a class="el" href="namespacenn_1_1audio.html#ac555128156197608dfaeeb5e824780a6" title="Updates the parameters for Voice objects bound to the audio renderer.">nn::audio::RequestUpdateAudioRenderer()</a></code> is being called.</p>
<p>The internal state of the reverb effect is cleared when reverb is enabled by the <code><a class="el" href="namespacenn_1_1audio.html#a538fed00cd1c56b19858e73f6d06a59c" title="Sets the ReverbType object to be enabled or disabled.">nn::audio::SetReverbEnabled()</a></code> function. The configured parameters are maintained.</p>
<h2><a class="anchor" id="PageSampleAudioAudioEffect_SubsectionI3dl2ReverbEffect"></a>
I3dl2Reverb Effect</h2>
<p>The <code>I3dl2Reverb</code> effect is a reverberation effect that partially complies with the Interactive 3D Audio Level 2 specification.</p>
<p>To use this effect, add it to <code>SubMix</code> or <code>FinalMix</code> using the <code><a class="el" href="namespacenn_1_1audio.html#a88bff95c7242f9d37ae5f631e825648b" title="Adds a I3dl2ReverbType object to FinalMixType.">nn::audio::AddI3dl2Reverb()</a></code> function, just like with <code>Reverb</code>.</p>
<h2><a class="anchor" id="PageSampleAudioAudioEffect_SubsectionDelayEffect"></a>
Delay Effects</h2>
<p>Delay effects delay the playback of specified samples for the specified amount of time.</p>
<p>You use delay effects like you use reverb effects by using the <code><a class="el" href="namespacenn_1_1audio.html#ad332d3b8805f5157ef98572a99a9f2a0" title="Adds a DelayType object to FinalMixType.">nn::audio::AddDelay()</a></code> function to add them to <code>SubMix</code> or <code>FinalMix</code>.</p>
<h2><a class="anchor" id="PageSampleAudioAudioEffect_LightLimiter"></a>
LightLimiter Effect</h2>
<p>The LightLimiter effect is a limiter effect with a light processing load.</p>
<p>To use this effect, call the <code><a class="el" href="namespacenn_1_1audio.html#a0bab4b3f6c0c1c7aa0011d2ee4b33919" title="Adds a LightLimiterType object to FinalMixType.">nn::audio::AddLightLimiter()</a></code> function to add it to <code>SubMix</code> or <code>FinalMix</code>, similar to how you use reverb.</p>
<h2><a class="anchor" id="PageSampleAudioAudioEffect_BiquadFilter"></a>
BiquadFilter Effect</h2>
<p>The BiquadFilter effect is an effect that performs generic biquad filtering for low-pass filter and high-pass filter and the like.</p>
<p>To use this effect, call the <code><a class="el" href="namespacenn_1_1audio.html#ad771f7516d8c6eea51938171d9389af7" title="Adds a BiquadFilterType object to FinalMixType.">nn::audio::AddBiquadFilter()</a></code> function to add it to <code>SubMix</code> or <code>FinalMix</code>, similar to how you use reverb. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
