<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HTTP(S) download  with the libcurl easy interface. | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_libcurl_root.html">Libcurl Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">HTTP(S) download with the libcurl easy interface. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSampleLibcurlBasic_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSampleLibcurlBasic_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSampleLibcurlBasic_SectionNecessaryEnvironment">Environmental Requirements</a></li>
<li class="level1"><a href="#PageSampleLibcurlBasic_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSampleLibcurlBasic_SectionDetail">Description</a></li>
</ul>
</div>
<div class="textblock"><p>This sample program shows how to use the libcurl easy interface for basic HTTP and HTTPS communication.</p>
<h1><a class="anchor" id="PageSampleLibcurlBasic_SectionBrief"></a>
Overview</h1>
<p>First the nifm library is used to request a network connection from the system. Once a network connection is acquired the socket library is initialized. Next the curl library is initialized, an easy handle created, options are set, SSL handling set-up. Finally the sample fetches the resource from the url provided by the user as an argument to the program.</p>
<h1><a class="anchor" id="PageSampleLibcurlBasic_SectionFileStructure"></a>
File Structure</h1>
<p>The sample program is located at <a class="el" href="dir_ff95afe307424a55c5399c34c2a907bd.html">Samples/Sources/Applications/Libcurl/Basic </a>.</p>
<h1><a class="anchor" id="PageSampleLibcurlBasic_SectionNecessaryEnvironment"></a>
Environmental Requirements</h1>
<p>You must use the settings manager in advance to import network connection settings. For details, see <a href="../../Package/contents/Pages/Page_104465190.html#Anchor_104465190_SettingsManager_network">Registering Network Connection Settings</a> for more information.</p>
<p>The sample fetches the resource specified by the URL provided as an argument to the program. Below, we use <a href="http://www.example.com">http://www.example.com</a> but any HTTP(S) URL that is available to your network will suffice.</p>
<h1><a class="anchor" id="PageSampleLibcurlBasic_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>You must provide an HTTP(S) URL as an argument at execution time. <br  />
&#160; <b>Example</b><br  />
</p><ul>
<li>Run with default parameters.<br  />
 LibcurlBasic <a href="http://www.example.com">http://www.example.com</a></li>
</ul>
<h1><a class="anchor" id="PageSampleLibcurlBasic_SectionDetail"></a>
Description</h1>
<p>The sample program has the following flow.</p>
<ul>
<li>Initialize the nifm library with <a class="el" href="namespacenn_1_1nifm.html#a0e3aaf3209696149ec22613e1d3d6705" title="Initializes the network connection management library and makes its functionality available.">nn::nifm::Initialize()</a>, submit a network request with <a class="el" href="namespacenn_1_1nifm.html#a96f83210fc74e61335caf9308a357fff" title="Requests a network connection of the system.">nn::nifm::SubmitNetworkRequest()</a>, and wait for <a class="el" href="namespacenn_1_1nifm.html#a933a28d229a56e800703d95d4830fc6a" title="Determines whether a network connection is available.">nn::nifm::IsNetworkAvailable()</a> to return true.</li>
<li>Initialize the socket library with <a class="el" href="namespacenn_1_1socket.html#adacc3405184e8f28fb630745b9f43db0" title="Initialize socket library.">nn::socket::Initialize()</a>.</li>
<li>Initialize the curl library with <a href="https://curl.haxx.se/libcurl/c/curl_global_init.html">curl_global_init()</a>.</li>
<li>Create the easy handle with <a href="https://curl.haxx.se/libcurl/c/curl_easy_init.html">curl_easy_init()</a>.</li>
<li>If enabled in the source file, enable all built-in compression accept encodings.</li>
<li>Set the easy handle options with <a href="https://curl.haxx.se/libcurl/c/curl_easy_setopt.html">curl_easy_setopt()</a>.</li>
<li>If enabled in the source file, set up proxy settings.</li>
<li>If the URL contains "https" then the sample program uses CURLOPT_SSL_CTX_FUNCTION for the SSL settings.</li>
<li>Send an HTTP or HTTPS request with <a href="https://curl.haxx.se/libcurl/c/curl_easy_perform.html">curl_easy_perform()</a>.</li>
<li>On success the content of the HTTP(S) response is output to the log. On error the error is printed.</li>
<li>The libraries initialized on start-up are finalized in reverse order and the programs exits.</li>
</ul>
<pre class="fragment">Waiting for network interface availability...
Waiting for network interface availability...
Waiting for network interface availability...
Waiting for network interface availability...
Waiting for network interface availability...
Waiting for network interface availability...
Fetching URL: http://www.example.com/
*    Trying 93.184.216.34...
*  Connected to www.example.com (93.184.216.34) port 80 (#0)
&gt;  GET / HTTP/1.1
Host: www.example.com
Accept: */*

&lt;  HTTP/1.1 200 OK
&lt;  Accept-Ranges: bytes
&lt;  Cache-Control: max-age=604800
&lt;  Content-Type: text/html
&lt;  Date: Fri, 22 Jan 2016 04:39:06 GMT
&lt;  Etag: "359670651"
&lt;  Expires: Fri, 29 Jan 2016 04:39:06 GMT
&lt;  Last-Modified: Fri, 09 Aug 2013 23:54:35 GMT
&lt;  Server: ECS (rhv/818F)
&lt;  Vary: Accept-Encoding
&lt;  X-Cache: HIT
&lt;  x-ec-custom-error: 1
&lt;  Content-Length: 1270
&lt;  
&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Example Domain&lt;/title&gt;

    &lt;meta charset="utf-8" /&gt;
    &lt;meta http-equiv="Content-type" content="text/html; charset=utf-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
    &lt;style type="text/css"&gt;
    body {
        background-color: #f0f0f2;
        margin: 0;
        padding: 0;
        font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
        
    }
    div {
        width: 600px;
        margin: 5em auto;
        padding: 50px;
        background-color: #fff;
        border-radius: 1em;
    }
    a:link, a:visited {
        color: #38488f;
        text-decoration: none;
    }
    @media (max-width: 700px) {
        body {
            background-color: #fff;
        }
        div {
            width: auto;
            margin: 0 auto;
            border-radius: 0;
            padding: 1em;
        }
    }
    &lt;/style&gt;    
&lt;/head&gt;

&lt;body&gt;
&lt;div&gt;
    &lt;h1&gt;Example Domain&lt;/h1&gt;
    &lt;p&gt;This domain is established to be used for illustrative examples in documents. You may use this
    domain in examples without prior coordination or asking for permission.&lt;/p&gt;
    &lt;p&gt;&lt;a href="http://www.iana.org/domains/example"&gt;More information...&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

 * Download Progress: 100%
*  Connection #0 to host www.example.com left intact

CURL_EASY_PERFORM() SUCCEEDED!
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
