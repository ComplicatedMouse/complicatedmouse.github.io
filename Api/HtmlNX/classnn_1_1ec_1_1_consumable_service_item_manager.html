<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nn::ec::ConsumableServiceItemManager Class Reference | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenn.html">nn</a></li><li class="navelem"><a class="el" href="namespacenn_1_1ec.html">ec</a></li><li class="navelem"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html">ConsumableServiceItemManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classnn_1_1ec_1_1_consumable_service_item_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nn::ec::ConsumableServiceItemManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A manager class for maintaining consumable service items in the client.  
 <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#details">More...</a></p>

<p><code>#include &lt;nn/ec/ec_ConsumableServiceItemApi.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae098be56c2096f7a374d0e7a7b790101"><td class="memItemLeft" align="right" valign="top"><a id="ae098be56c2096f7a374d0e7a7b790101"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#ae098be56c2096f7a374d0e7a7b790101">ConsumableServiceItemManager</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:ae098be56c2096f7a374d0e7a7b790101"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br /></td></tr>
<tr class="separator:ae098be56c2096f7a374d0e7a7b790101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aa00f281bf48b077fc9af1a93a0811d"><td class="memItemLeft" align="right" valign="top"><a id="a4aa00f281bf48b077fc9af1a93a0811d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a4aa00f281bf48b077fc9af1a93a0811d">~ConsumableServiceItemManager</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a4aa00f281bf48b077fc9af1a93a0811d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a4aa00f281bf48b077fc9af1a93a0811d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc8f12dc850cea01231f0d90d59a4836"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#afc8f12dc850cea01231f0d90d59a4836">CanQueryNewData</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:afc8f12dc850cea01231f0d90d59a4836"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a request to get new license information can be made for this object.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#afc8f12dc850cea01231f0d90d59a4836">More...</a><br /></td></tr>
<tr class="separator:afc8f12dc850cea01231f0d90d59a4836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9310a17918a46870baa0888cf67153f0"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a9310a17918a46870baa0888cf67153f0">ExportSerializedRightData</a> (void *buffer, size_t bufferSize) const <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a9310a17918a46870baa0888cf67153f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the license information serialized into a format that can be saved to the save data.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a9310a17918a46870baa0888cf67153f0">More...</a><br /></td></tr>
<tr class="separator:a9310a17918a46870baa0888cf67153f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aab8fe7b1b423fbd0730a4d04cc1eb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a3aab8fe7b1b423fbd0730a4d04cc1eb2">GetProvidableItemIdCount</a> () const <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a3aab8fe7b1b423fbd0730a4d04cc1eb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of consumable service items that can be provided.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a3aab8fe7b1b423fbd0730a4d04cc1eb2">More...</a><br /></td></tr>
<tr class="separator:a3aab8fe7b1b423fbd0730a4d04cc1eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f26d947191cd74b78681ee573401199"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnn_1_1_result.html">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a5f26d947191cd74b78681ee573401199">GetProvidableItemIds</a> (int *pOutItemIdCount, <a class="el" href="structnn_1_1ec_1_1_consumable_service_item_id.html">ConsumableServiceItemId</a> outItemIdArray[], int itemIdArrayCount) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a5f26d947191cd74b78681ee573401199"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the item IDs of the consumable service items that can be provided.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a5f26d947191cd74b78681ee573401199">More...</a><br /></td></tr>
<tr class="separator:a5f26d947191cd74b78681ee573401199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72fd60a6651098b381e88d258909bcab"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a72fd60a6651098b381e88d258909bcab">GetRequiredBufferSizeToExportSerializedRightData</a> () const <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a72fd60a6651098b381e88d258909bcab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the buffer size required for getting serialized license information.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a72fd60a6651098b381e88d258909bcab">More...</a><br /></td></tr>
<tr class="separator:a72fd60a6651098b381e88d258909bcab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46610134ab3f906d1830ca637dd0555b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnn_1_1_result.html">nn::Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a46610134ab3f906d1830ca637dd0555b">Initialize</a> (<a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html">ShopServiceAccessor</a> *pAccessor, const <a class="el" href="structnn_1_1account_1_1_uid.html">account::Uid</a> &amp;user, void *pWorkMemory, size_t workMemorySize) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a46610134ab3f906d1830ca637dd0555b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the consumable service item manager.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a46610134ab3f906d1830ca637dd0555b">More...</a><br /></td></tr>
<tr class="separator:a46610134ab3f906d1830ca637dd0555b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c9545b35e016abce4f6619fc437283"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnn_1_1_result.html">nn::Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#ac7c9545b35e016abce4f6619fc437283">Initialize</a> (<a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html">ShopServiceAccessor</a> *pAccessor, const <a class="el" href="structnn_1_1account_1_1_uid.html">account::Uid</a> &amp;user, void *pWorkMemory, size_t workMemorySize, const void *buffer, size_t bufferSize) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:ac7c9545b35e016abce4f6619fc437283"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the consumable service item manager to the state where it stores serialized license information.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#ac7c9545b35e016abce4f6619fc437283">More...</a><br /></td></tr>
<tr class="separator:ac7c9545b35e016abce4f6619fc437283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2351e895211f953b40e5950dfd9f9c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a1a2351e895211f953b40e5950dfd9f9c">IsConsumptionRequired</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a1a2351e895211f953b40e5950dfd9f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the stored license information requires the license to be consumed.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a1a2351e895211f953b40e5950dfd9f9c">More...</a><br /></td></tr>
<tr class="separator:a1a2351e895211f953b40e5950dfd9f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef275da9b2435a2fd1d89d9d0bc110ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#aef275da9b2435a2fd1d89d9d0bc110ad">IsInitialized</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:aef275da9b2435a2fd1d89d9d0bc110ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the consumable service item manager was initialized.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#aef275da9b2435a2fd1d89d9d0bc110ad">More...</a><br /></td></tr>
<tr class="separator:aef275da9b2435a2fd1d89d9d0bc110ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db272aa02eb9a46de5cc03c2c59cefd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a6db272aa02eb9a46de5cc03c2c59cefd">IsRecoveryRequired</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a6db272aa02eb9a46de5cc03c2c59cefd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the stored license information requires the license to be restored.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a6db272aa02eb9a46de5cc03c2c59cefd">More...</a><br /></td></tr>
<tr class="separator:a6db272aa02eb9a46de5cc03c2c59cefd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde3aca0fb565d096122c0c75ba82a43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnn_1_1_result.html">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#acde3aca0fb565d096122c0c75ba82a43">MarkServiceProvided</a> (const <a class="el" href="structnn_1_1ec_1_1_consumable_service_item_id.html">ConsumableServiceItemId</a> &amp;itemId) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:acde3aca0fb565d096122c0c75ba82a43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the specified Item ID as having been provided and removes it from the list of IDs stored by this object.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#acde3aca0fb565d096122c0c75ba82a43">More...</a><br /></td></tr>
<tr class="separator:acde3aca0fb565d096122c0c75ba82a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cc001ab88dd697e5c7db4f9f19d35c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnn_1_1_result.html">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a3cc001ab88dd697e5c7db4f9f19d35c3">MarkServiceProvided</a> (uint64_t *pOutSeed, const <a class="el" href="structnn_1_1ec_1_1_consumable_service_item_id.html">ConsumableServiceItemId</a> &amp;itemId) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a3cc001ab88dd697e5c7db4f9f19d35c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the specified Item ID as having been provided and removes it from the list of IDs stored by this object.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a3cc001ab88dd697e5c7db4f9f19d35c3">More...</a><br /></td></tr>
<tr class="separator:a3cc001ab88dd697e5c7db4f9f19d35c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af608e23c5af275284e49d275f70e76e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#af608e23c5af275284e49d275f70e76e6">SetupAsyncRequest</a> (<a class="el" href="classnn_1_1ec_1_1_async_consume_right_data_request.html">AsyncConsumeRightDataRequest</a> *pOutRequest) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:af608e23c5af275284e49d275f70e76e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the asynchronous request for consuming license information for this object.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#af608e23c5af275284e49d275f70e76e6">More...</a><br /></td></tr>
<tr class="separator:af608e23c5af275284e49d275f70e76e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33fc6ce16e32dae64b27a3e459165179"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a33fc6ce16e32dae64b27a3e459165179">SetupAsyncRequest</a> (<a class="el" href="classnn_1_1ec_1_1_async_get_consumable_right_data_request.html">AsyncGetConsumableRightDataRequest</a> *pOutRequest) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a33fc6ce16e32dae64b27a3e459165179"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the asynchronous request for getting unconsumed license information for this object.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a33fc6ce16e32dae64b27a3e459165179">More...</a><br /></td></tr>
<tr class="separator:a33fc6ce16e32dae64b27a3e459165179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8e7d0c01d33dc0d579d31fc447ad4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#afe8e7d0c01d33dc0d579d31fc447ad4a">SetupAsyncRequest</a> (<a class="el" href="classnn_1_1ec_1_1_async_recover_right_data_request.html">AsyncRecoverRightDataRequest</a> *pOutRequest) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:afe8e7d0c01d33dc0d579d31fc447ad4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the asynchronous request for this object for restoring the license information to a state where it can be provided.  <a href="classnn_1_1ec_1_1_consumable_service_item_manager.html#afe8e7d0c01d33dc0d579d31fc447ad4a">More...</a><br /></td></tr>
<tr class="separator:afe8e7d0c01d33dc0d579d31fc447ad4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A manager class for maintaining consumable service items in the client. </p>
<p> <b>Details</b> <br  />
 Overview: This class receives the work memory from the application and manages the license information for consumable service items. The application cannot directly operate the license information contained in this class. Use the following methods to operate the license information. </p><ul>
<li>Pass the derived class for the <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_async_request_base.html" title="Asynchronous request base class for consumable service items.">ConsumableServiceItemAsyncRequestBase</a></code> asynchronous request class (defined separately) to this class and issue an asynchronous request. </li>
<li>Use the method for this class to operate the license information contained inside.</li>
</ul>
<p>Functionality: The asynchronous request derived class provides the processing required for communicating with the server. For more information about calling and asynchronous operations, see the reference for the applicable class. </p><ul>
<li><code><a class="el" href="classnn_1_1ec_1_1_async_get_consumable_right_data_request.html" title="Asynchronous request class for getting unconsumed license information stored on the server.">AsyncGetConsumableRightDataRequest</a></code> gets unconsumed license information on the server. </li>
<li><code><a class="el" href="classnn_1_1ec_1_1_async_consume_right_data_request.html" title="Asynchronous request class that consumes the rights information stored on the server.">AsyncConsumeRightDataRequest</a></code> consumes the stored license information on the server and enables it to be provided to the client. </li>
<li><code><a class="el" href="classnn_1_1ec_1_1_async_recover_right_data_request.html" title="Asynchronous request class that restores the license information to a state where it can be provided.">AsyncRecoverRightDataRequest</a></code> restores to a state where the stored license information can be provided for recovery in cases such as when there is power loss.</li>
</ul>
<p>Any other processing is provided as methods of the <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code> class. Methods are provided for asynchronous requests, serializing stored data, and providing item IDs. </p><ul>
<li><code>CanQueryNewData</code>, <code>IsConsumptionRequired</code>, and <code>IsRecoveryRequired</code> determine whether each asynchronous request can be executed based on the internal state of the <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code> object. </li>
<li><code>SetupAsyncRequest</code> initializes the asynchronous request object by referencing this object. </li>
<li><code>ExportSerializedRightData</code> serializes the stored license information in a format that can be saved as save data. </li>
<li><code>GetProvidableItemIds</code> gets the item IDs of consumable service items that can be provided. </li>
<li><code>MarkServiceProvided</code> removes the specified item ID from the list of items to manage, because the item has already been provided.</li>
</ul>
<p>Important information about asynchronous requests: </p><ul>
<li>Before executing <code><a class="el" href="classnn_1_1ec_1_1_async_consume_right_data_request.html" title="Asynchronous request class that consumes the rights information stored on the server.">AsyncConsumeRightDataRequest</a></code>, make sure to save and commit the serialized data to save data. This step protects the license information purchased by the user by allowing it to be loaded from save data even if power loss occurs when consuming the license. </li>
<li>A single <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code> object cannot be made to reference multiple asynchronous request objects simultaneously. For this reason, immediately destroy any asynchronous request objects after you have finished using them. Do not initialize a different asynchronous request object to reference this object without first destroying the existing asynchronous request object.</li>
</ul>
<p>Important information for serializing data: </p><ul>
<li>When entering data to this class from the application, do not enter any data other than the serialized license information obtained by the <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a9310a17918a46870baa0888cf67153f0" title="Gets the license information serialized into a format that can be saved to the save data.">ExportSerializedRightData()</a></code> function. If any other data is entered, it is considered invalid data input and an error is returned. </li>
<li>Do not overwrite serialized license information in the application. The license information will be in an invalid state if it is overwritten. Asynchronous requests cannot be run for license information in an invalid state, and that information cannot be operated using this class. As a result, the consumable service item may no longer be available to the user.</li>
</ul>
<p>Important information when providing service to the user: </p><ul>
<li>Consumable service items purchased by the user must ultimately to be converted to value to the user within the application. The process of providing the ultimate value to the user is called <em>providing service</em> in this document. In this library, service is provided by having the application provide value to the user at the same time the service is marked as provided. </li>
<li>Consider the following specific example of providing service. Assume that a consumable service item for getting "10 herbs" is registered with the item ID "MedicalHarb10," and consider a case where a user purchases one license for this item and has obtained in a state where the server can provide the item to be saved in the save data. "Herbs" cannot be used in the license information format, so the application determines that the item ID is "MedicalHarb10" and performs the processing to add 10 herbs. At the same time, <code>MarkServiceProvided</code> is executed for "MedicalHarb10," and the license information representing "MedicalHarb10" is marked as provided. If the results of adding "herbs" and the result of marking "MedicalHarb10" as provided are both committed to the save data simultaneously, the data is made inseparable and persistent. This allows the user to gain the value of 10 "herbs" within the game. This procedure is called <em>providing service</em>. </li>
<li>Do not use the consumable service item license information as the herb itself. License information indicates the license for which the user obtains value, and is not the value itself. </li>
<li>To mark the service as provided and provide value to the user, use methods such as save data commit to make them inseparable. If only one status is made persistent, the user may lose value that they have purchased, or enjoy duplicate benefits. </li>
<li>The application must independently define the processing for providing value to the user. The application must also independently define support for correlating the item ID and process for providing value. </li>
<li>This class cannot get any more license information after the stored license information has reached the maximum (100). At that point, users cannot get consumable service items that they have purchased from the server to be available locally. To avoid this issue, after the license information stored in this object can be provided, provide service immediately whenever possible. </li>
<li>For these reasons, we do not recommend using this feature by storing the purchase as license information in the save data and providing service each time the user benefits from the value of the license information. In terms of the specific preceding example, this is equivalent to having the application convert the license information to "herbs" each time the user uses an "herb." Use the feature for saving license information to user save data as protection from power loss. </li>
<li>The license state stored in this class can be reverted to unprovided by user operations if the license information is saved in an unprovided state to the save data, and that data is saved using the cloud backup service. If the value of the item for the user changes each time service is provided, it would be possible for the user to repeat the process of reverting the item to an unprovided state to select a higher value. To avoid this situation, it is possible to get a random number as a hint for fixing the value. This random number remains the same when providing the same item, even if the save data is reverted. </li>
</ul>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_ec_consumable_service_item_manager_2_ec_consumable_service_item_manager_8cpp-example.html#_a20">EcConsumableServiceItemManager/EcConsumableServiceItemManager.cpp</a>.</dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a46610134ab3f906d1830ca637dd0555b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46610134ab3f906d1830ca637dd0555b">&#9670;&nbsp;</a></span>Initialize() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnn_1_1_result.html">nn::Result</a> nn::ec::ConsumableServiceItemManager::Initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html">ShopServiceAccessor</a> *&#160;</td>
          <td class="paramname"><em>pAccessor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnn_1_1account_1_1_uid.html">account::Uid</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pWorkMemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>workMemorySize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the consumable service item manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pAccessor</td><td>The accessor initialized with <code>OwnedConsumableServiceItem</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user</td><td>The user referencing the license information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pWorkMemory</td><td>Work memory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">workMemorySize</td><td>The size of the working memory.</td></tr>
  </table>
  </dd>
</dl>
<p><br  />
 </p><dl class="retval"><dt><b><a class="el" href="retval.html#_retval000142">Return Values:</a></b></dt><dd><p class="startdd"><b><a class="el" href="classnn_1_1_result_success.html" title="Represents a successful Result.">nn::ResultSuccess</a></b> The process succeeded. <br  />
 </p>
<p class="enddd"><b><a class="el" href="classnn_1_1ec_1_1_result_insufficient_work_memory.html" title="A class that represents error Result values (ec: Not enough working memory.).">nn::ec::ResultInsufficientWorkMemory</a></b> Insufficient work memory for <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code>. During initialization, pass work memory of <code><a class="el" href="namespacenn_1_1ec.html#a9b351c75efb6d117f999455249e031de" title="Minimum memory size for the work buffer required for internal processing for the library.">nn::ec::RequiredWorkMemorySizeForConsumableServiceItem</a></code> bytes or greater.</p>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#aef275da9b2435a2fd1d89d9d0bc110ad" title="Determines whether the consumable service item manager was initialized.">IsInitialized()</a></code> == <code>false</code>.</li>
<li><code><em>pAccessor</em></code> != <code>nullptr</code>.</li>
<li><code><em>pAccessor</em>.IsAvailable()</code> == <code>true</code>.</li>
<li><code>static_cast&lt;bool&gt;(user)</code> == <code>true</code>.</li>
<li><code><em>workMemory</em></code> != <code>nullptr</code>.</li>
<li><code><em>workMemorySize</em></code> &gt;= <code>RequiredWorkMemorySizeForConsumableServiceItem</code>.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
 See the <code><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html" title="The shop service accessor class.">nn::ec::ShopServiceAccessor</a></code> reference and appropriately initialize the accessor entered with <code><em>pAccessor</em></code>. If initialization was not performed correctly, a <code><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html" title="The shop service accessor class.">ShopServiceAccessor</a></code> is returned for operations relating to asynchronous requests. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_ec_consumable_service_item_manager_2_ec_consumable_service_item_manager_8cpp-example.html#a49">EcConsumableServiceItemManager/EcConsumableServiceItemManager.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="ac7c9545b35e016abce4f6619fc437283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7c9545b35e016abce4f6619fc437283">&#9670;&nbsp;</a></span>Initialize() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnn_1_1_result.html">nn::Result</a> nn::ec::ConsumableServiceItemManager::Initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html">ShopServiceAccessor</a> *&#160;</td>
          <td class="paramname"><em>pAccessor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnn_1_1account_1_1_uid.html">account::Uid</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pWorkMemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>workMemorySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the consumable service item manager to the state where it stores serialized license information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pAccessor</td><td>The accessor initialized with <code>OwnedConsumableServiceItem</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user</td><td>The user referencing the license information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pWorkMemory</td><td>Work memory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">workMemorySize</td><td>The size of the working memory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferSize</td><td>Data size.</td></tr>
  </table>
  </dd>
</dl>
<p><br  />
 </p><dl class="retval"><dt><b><a class="el" href="retval.html#_retval000143">Return Values:</a></b></dt><dd><p class="startdd"><b><a class="el" href="classnn_1_1_result_success.html" title="Represents a successful Result.">nn::ResultSuccess</a></b> The process succeeded. <br  />
 </p>
<p class="interdd"><b><a class="el" href="classnn_1_1ec_1_1_result_insufficient_work_memory.html" title="A class that represents error Result values (ec: Not enough working memory.).">nn::ec::ResultInsufficientWorkMemory</a></b> Insufficient work memory for <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code>. During initialization, pass work memory of <code><a class="el" href="namespacenn_1_1ec.html#a9b351c75efb6d117f999455249e031de" title="Minimum memory size for the work buffer required for internal processing for the library.">nn::ec::RequiredWorkMemorySizeForConsumableServiceItem</a></code> bytes or greater. <br  />
 </p>
<p class="enddd"><b>nn::ec::ResultConsumableServiceItemInvalidSaveData</b> Cannot initialize using the specified <code><em>buffer</em></code> and <code><em>bufferSize</em></code>. Show in the error viewer.</p>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#aef275da9b2435a2fd1d89d9d0bc110ad" title="Determines whether the consumable service item manager was initialized.">IsInitialized()</a></code> == <code>false</code>.</li>
<li><code><em>pAccessor</em></code> != <code>nullptr</code>.</li>
<li><code><em>pAccessor</em>.IsAvailable()</code> == <code>true</code>.</li>
<li><code>static_cast&lt;bool&gt;(user)</code> == <code>true</code>.</li>
<li><code><em>workMemory</em></code> != <code>nullptr</code>.</li>
<li><code><em>workMemorySize</em></code> &gt;= <code>RequiredWorkMemorySizeForConsumableServiceItem</code>.</li>
<li><code><em>buffer</em></code> != <code>nullptr</code>.</li>
<li><code><em>bufferSize</em></code> &gt; <code>0</code>.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
 If there is serialized license information in the user save data, use this function to initialize.</p>
<p>After running this function, the entered license information is stored in the manager. In addition, if it is not clear that the entered license information can be provided, the manager enters a state where license recovery is required (<code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a6db272aa02eb9a46de5cc03c2c59cefd" title="Determines whether the stored license information requires the license to be restored.">IsRecoveryRequired()</a></code> == <code>true</code>).</p>
<p>See the <code><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html" title="The shop service accessor class.">nn::ec::ShopServiceAccessor</a></code> reference and appropriately initialize the accessor entered with <code><em>pAccessor</em></code>. If initialization was not performed correctly, a <code><a class="el" href="classnn_1_1ec_1_1_shop_service_accessor.html" title="The shop service accessor class.">ShopServiceAccessor</a></code> is returned for operations relating to asynchronous requests. </p>

</div>
</div>
<a id="aef275da9b2435a2fd1d89d9d0bc110ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef275da9b2435a2fd1d89d9d0bc110ad">&#9670;&nbsp;</a></span>IsInitialized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nn::ec::ConsumableServiceItemManager::IsInitialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether the consumable service item manager was initialized. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the initialization state. </dd></dl>

</div>
</div>
<a id="afc8f12dc850cea01231f0d90d59a4836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc8f12dc850cea01231f0d90d59a4836">&#9670;&nbsp;</a></span>CanQueryNewData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nn::ec::ConsumableServiceItemManager::CanQueryNewData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether a request to get new license information can be made for this object. </p>
<p> <b>Details</b> <br  />
 If <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#afc8f12dc850cea01231f0d90d59a4836" title="Determines whether a request to get new license information can be made for this object.">CanQueryNewData()</a></code> == <code>true</code>, <code><a class="el" href="classnn_1_1ec_1_1_async_get_consumable_right_data_request.html" title="Asynchronous request class for getting unconsumed license information stored on the server.">AsyncGetConsumableRightDataRequest</a></code> can be called. Calling this function allows new license information for consumable service items to be obtained from the server. </p>

</div>
</div>
<a id="a1a2351e895211f953b40e5950dfd9f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a2351e895211f953b40e5950dfd9f9c">&#9670;&nbsp;</a></span>IsConsumptionRequired()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nn::ec::ConsumableServiceItemManager::IsConsumptionRequired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether the stored license information requires the license to be consumed. </p>
<p> <b>Details</b> <br  />
 If <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a1a2351e895211f953b40e5950dfd9f9c" title="Determines whether the stored license information requires the license to be consumed.">IsConsumptionRequired()</a></code> == <code>true</code> is satisfied, call <code><a class="el" href="classnn_1_1ec_1_1_async_consume_right_data_request.html" title="Asynchronous request class that consumes the rights information stored on the server.">AsyncConsumeRightDataRequest</a></code> to consume the stored license information. </p>

</div>
</div>
<a id="a6db272aa02eb9a46de5cc03c2c59cefd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6db272aa02eb9a46de5cc03c2c59cefd">&#9670;&nbsp;</a></span>IsRecoveryRequired()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nn::ec::ConsumableServiceItemManager::IsRecoveryRequired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether the stored license information requires the license to be restored. </p>
<p> <b>Details</b> <br  />
 Immediately after executing Initialize or failing to consume a license, this object requires license restoration. If <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a6db272aa02eb9a46de5cc03c2c59cefd" title="Determines whether the stored license information requires the license to be restored.">IsRecoveryRequired()</a></code> == <code>true</code>, call <code><a class="el" href="classnn_1_1ec_1_1_async_recover_right_data_request.html" title="Asynchronous request class that restores the license information to a state where it can be provided.">AsyncRecoverRightDataRequest</a></code> to restore the state of the stored license information.</p>
<p>While <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a6db272aa02eb9a46de5cc03c2c59cefd" title="Determines whether the stored license information requires the license to be restored.">IsRecoveryRequired()</a></code> == <code>true</code>, use <code><a class="el" href="classnn_1_1ec_1_1_async_get_consumable_right_data_request.html" title="Asynchronous request class for getting unconsumed license information stored on the server.">AsyncGetConsumableRightDataRequest</a></code> to get new license information. In addition, <code><a class="el" href="classnn_1_1ec_1_1_async_consume_right_data_request.html" title="Asynchronous request class that consumes the rights information stored on the server.">AsyncConsumeRightDataRequest</a></code> cannot be used to consume the license information. </p>

</div>
</div>
<a id="a33fc6ce16e32dae64b27a3e459165179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33fc6ce16e32dae64b27a3e459165179">&#9670;&nbsp;</a></span>SetupAsyncRequest() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::ec::ConsumableServiceItemManager::SetupAsyncRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnn_1_1ec_1_1_async_get_consumable_right_data_request.html">AsyncGetConsumableRightDataRequest</a> *&#160;</td>
          <td class="paramname"><em>pOutRequest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the asynchronous request for getting unconsumed license information for this object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutRequest</td><td>Asynchronous request instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><code><em>pOutRequest</em></code> != <code>nullptr</code>.</li>
<li><code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#aef275da9b2435a2fd1d89d9d0bc110ad" title="Determines whether the consumable service item manager was initialized.">IsInitialized()</a></code> == <code>true</code>.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li><code><em>pOutRequest</em></code> is already initialized.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
 After running this function, <code><em>pOutRequest</em></code> is initialized. The asynchronous request described in the <code><a class="el" href="classnn_1_1ec_1_1_async_get_consumable_right_data_request.html" title="Asynchronous request class for getting unconsumed license information stored on the server.">AsyncGetConsumableRightDataRequest</a></code> reference can be executed.</p>
<p>After running this function, do not destroy the <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code> item until the asynchronous request using <code><em>pOutRequest</em></code> completes. </p>

</div>
</div>
<a id="af608e23c5af275284e49d275f70e76e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af608e23c5af275284e49d275f70e76e6">&#9670;&nbsp;</a></span>SetupAsyncRequest() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::ec::ConsumableServiceItemManager::SetupAsyncRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnn_1_1ec_1_1_async_consume_right_data_request.html">AsyncConsumeRightDataRequest</a> *&#160;</td>
          <td class="paramname"><em>pOutRequest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the asynchronous request for consuming license information for this object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutRequest</td><td>Asynchronous request instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><code><em>pOutRequest</em></code> != <code>nullptr</code>.</li>
<li><code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#aef275da9b2435a2fd1d89d9d0bc110ad" title="Determines whether the consumable service item manager was initialized.">IsInitialized()</a></code> == <code>true</code>.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li><code><em>pOutRequest</em></code> is already initialized.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
 After running this function, <code><em>pOutRequest</em></code> is initialized. The asynchronous request processing described in the <code><a class="el" href="classnn_1_1ec_1_1_async_consume_right_data_request.html" title="Asynchronous request class that consumes the rights information stored on the server.">AsyncConsumeRightDataRequest</a></code> reference becomes executable.</p>
<p>After running this function, do not destroy the <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code> item until the asynchronous request using <code><em>pOutRequest</em></code> completes. </p>

</div>
</div>
<a id="afe8e7d0c01d33dc0d579d31fc447ad4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe8e7d0c01d33dc0d579d31fc447ad4a">&#9670;&nbsp;</a></span>SetupAsyncRequest() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::ec::ConsumableServiceItemManager::SetupAsyncRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnn_1_1ec_1_1_async_recover_right_data_request.html">AsyncRecoverRightDataRequest</a> *&#160;</td>
          <td class="paramname"><em>pOutRequest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the asynchronous request for this object for restoring the license information to a state where it can be provided. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutRequest</td><td>Asynchronous request instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><code><em>pOutRequest</em></code> != <code>nullptr</code>.</li>
<li><code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#aef275da9b2435a2fd1d89d9d0bc110ad" title="Determines whether the consumable service item manager was initialized.">IsInitialized()</a></code> == <code>true</code>.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li><code><em>pOutRequest</em></code> is already initialized.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
 After running this function, <code><em>pOutRequest</em></code> is initialized. The asynchronous request processing described in the <code><a class="el" href="classnn_1_1ec_1_1_async_consume_right_data_request.html" title="Asynchronous request class that consumes the rights information stored on the server.">AsyncConsumeRightDataRequest</a></code> reference becomes executable.</p>
<p>After running this function, do not destroy the <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code> item until the asynchronous request using <code><em>pOutRequest</em></code> completes. </p>

</div>
</div>
<a id="a72fd60a6651098b381e88d258909bcab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72fd60a6651098b381e88d258909bcab">&#9670;&nbsp;</a></span>GetRequiredBufferSizeToExportSerializedRightData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t nn::ec::ConsumableServiceItemManager::GetRequiredBufferSizeToExportSerializedRightData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the buffer size required for getting serialized license information. </p>
<p> <b>Details</b> <br  />
 The required buffer size is returned even if no license information is stored. </p>

</div>
</div>
<a id="a9310a17918a46870baa0888cf67153f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9310a17918a46870baa0888cf67153f0">&#9670;&nbsp;</a></span>ExportSerializedRightData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t nn::ec::ConsumableServiceItemManager::ExportSerializedRightData </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the license information serialized into a format that can be saved to the save data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Save data storage destination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferSize</td><td>The region size of <code><em>buffer</em></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><code><em>buffer</em></code> != <code>nullptr</code>.</li>
<li><code>GetRequiredBufferSizeToExportSerializedRightDatas</code> &lt;= <code><em>bufferSize</em></code>.</li>
</ul>
</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the serialized data size.</dd></dl>
<p> <b>Details</b> <br  />
 To save the data obtained from this function to the user save data, prepare a buffer with a size of <code>RequiredUserSaveDataSizeForConsumableServiceItem</code> bytes or greater. </p>

</div>
</div>
<a id="a3aab8fe7b1b423fbd0730a4d04cc1eb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aab8fe7b1b423fbd0730a4d04cc1eb2">&#9670;&nbsp;</a></span>GetProvidableItemIdCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nn::ec::ConsumableServiceItemManager::GetProvidableItemIdCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the number of consumable service items that can be provided. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of consumable service items that can be provided. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_ec_consumable_service_item_manager_2_ec_consumable_service_item_manager_8cpp-example.html#a50">EcConsumableServiceItemManager/EcConsumableServiceItemManager.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="a5f26d947191cd74b78681ee573401199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f26d947191cd74b78681ee573401199">&#9670;&nbsp;</a></span>GetProvidableItemIds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnn_1_1_result.html">Result</a> nn::ec::ConsumableServiceItemManager::GetProvidableItemIds </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pOutItemIdCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnn_1_1ec_1_1_consumable_service_item_id.html">ConsumableServiceItemId</a>&#160;</td>
          <td class="paramname"><em>outItemIdArray</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>itemIdArrayCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the item IDs of the consumable service items that can be provided. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutItemIdCount</td><td>Item ID count. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outItemIdArray</td><td>Item ID storage destination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">itemIdArrayCount</td><td>Maximum number of item IDs that can be obtained by <code><em>outItemIdArray</em></code>.</td></tr>
  </table>
  </dd>
</dl>
<p><br  />
 </p><dl class="retval"><dt><b><a class="el" href="retval.html#_retval000144">Return Values:</a></b></dt><dd><p class="startdd"><b><a class="el" href="classnn_1_1_result_success.html" title="Represents a successful Result.">nn::ResultSuccess</a></b> The process succeeded. <br  />
 </p>
<p class="interdd"><b><a class="el" href="classnn_1_1ec_1_1_result_insufficient_work_memory.html" title="A class that represents error Result values (ec: Not enough working memory.).">nn::ec::ResultInsufficientWorkMemory</a></b> Insufficient work memory for <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code>. During initialization, pass work memory of <code><a class="el" href="namespacenn_1_1ec.html#a9b351c75efb6d117f999455249e031de" title="Minimum memory size for the work buffer required for internal processing for the library.">nn::ec::RequiredWorkMemorySizeForConsumableServiceItem</a></code> bytes or greater. <br  />
 </p>
<p class="enddd"><b>nn::ec::ResultConsumableServiceItemInsufficientBuffer</b> Insufficient output buffer to allocate item IDs.</p>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><code><em>pOutItemIdCount</em></code> != <code>nullptr</code>.</li>
<li><code><em>outItemIdArray</em></code> != <code>nullptr</code>.</li>
<li><code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a3aab8fe7b1b423fbd0730a4d04cc1eb2" title="Gets the number of consumable service items that can be provided.">GetProvidableItemIdCount()</a></code> &gt; <code>0</code>.</li>
<li><code><em>itemIdArrayCount</em></code> &gt;= <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html#a3aab8fe7b1b423fbd0730a4d04cc1eb2" title="Gets the number of consumable service items that can be provided.">GetProvidableItemIdCount()</a></code>.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
 The item IDs returned by this function are stored in the low index of <code><em>outItemIdArray</em></code> in order of the date they were obtained, starting from the oldest.</p>
<p>If the user has purchased multiple copies of the same consumable service item, this function gets multiple copies of the same item ID.</p>
<p>Example: </p><ul>
<li>The user purchases five consumable service items with Item ID = <code>ItemBox</code>. The <code><em>outItemIdArray</em></code> gets five of the <code><a class="el" href="structnn_1_1ec_1_1_consumable_service_item_id.html" title="ID that identifies the purchased consumable service item.">ConsumableServiceItemId</a></code> representing <code>ItemBox</code>. <code><em>pOutItemIdCount</em></code> = <code>5</code>. </li>
<li>The user purchases two consumable service items with item ID = <code>BattlePack</code> and 10 consumable service items with item ID = <code>EnergyPack</code>. The <code><em>outItemIdArray</em></code> gets two of the <code><a class="el" href="structnn_1_1ec_1_1_consumable_service_item_id.html" title="ID that identifies the purchased consumable service item.">ConsumableServiceItemId</a></code> representing <code>BattlePack</code> and 10 of the <code><a class="el" href="structnn_1_1ec_1_1_consumable_service_item_id.html" title="ID that identifies the purchased consumable service item.">ConsumableServiceItemId</a></code> representing <code>EnergyPack</code>. <code><em>pOutItemIdCount</em></code> = <code>12</code>. </li>
</ul>

</div>
</div>
<a id="acde3aca0fb565d096122c0c75ba82a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde3aca0fb565d096122c0c75ba82a43">&#9670;&nbsp;</a></span>MarkServiceProvided() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnn_1_1_result.html">Result</a> nn::ec::ConsumableServiceItemManager::MarkServiceProvided </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnn_1_1ec_1_1_consumable_service_item_id.html">ConsumableServiceItemId</a> &amp;&#160;</td>
          <td class="paramname"><em>itemId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the specified Item ID as having been provided and removes it from the list of IDs stored by this object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">itemId</td><td>The item ID of the consumable service item to provide.</td></tr>
  </table>
  </dd>
</dl>
<p><br  />
 </p><dl class="retval"><dt><b><a class="el" href="retval.html#_retval000145">Return Values:</a></b></dt><dd><p class="startdd"><b><a class="el" href="classnn_1_1_result_success.html" title="Represents a successful Result.">nn::ResultSuccess</a></b> The process succeeded. <br  />
 </p>
<p class="enddd"><b>nn::ec::ResultConsumableServiceItemIdNotFound</b> The specified item ID could not be found.</p>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><code><em>itemId</em>.IsValid</code> == <code>true</code>.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
 If the object contains multiples of the same item ID, delete one of these IDs as having been provided. Items with the same item ID are provided in the order they were obtained by <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code>, starting with the oldest items. </p>

</div>
</div>
<a id="a3cc001ab88dd697e5c7db4f9f19d35c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cc001ab88dd697e5c7db4f9f19d35c3">&#9670;&nbsp;</a></span>MarkServiceProvided() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnn_1_1_result.html">Result</a> nn::ec::ConsumableServiceItemManager::MarkServiceProvided </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>pOutSeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnn_1_1ec_1_1_consumable_service_item_id.html">ConsumableServiceItemId</a> &amp;&#160;</td>
          <td class="paramname"><em>itemId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the specified Item ID as having been provided and removes it from the list of IDs stored by this object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutSeed</td><td>Unique seed obtained from the license information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">itemId</td><td>The item ID of the consumable service item to provide.</td></tr>
  </table>
  </dd>
</dl>
<p><br  />
 </p><dl class="retval"><dt><b><a class="el" href="retval.html#_retval000146">Return Values:</a></b></dt><dd><p class="startdd"><b><a class="el" href="classnn_1_1_result_success.html" title="Represents a successful Result.">nn::ResultSuccess</a></b> The process succeeded. <br  />
 </p>
<p class="enddd"><b>nn::ec::ResultConsumableServiceItemIdNotFound</b> The specified item ID could not be found.</p>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><code><em>pOutSeed</em></code> != <code>nullptr</code>.</li>
<li><code><em>itemId</em>.IsValid</code> == <code>true</code>.</li>
</ul>
</dd></dl>
<p> <b>Details</b> <br  />
 If the object contains multiples of the same item ID, delete one of these IDs as having been provided. Items with the same item ID are provided in the order they were obtained by <code><a class="el" href="classnn_1_1ec_1_1_consumable_service_item_manager.html" title="A manager class for maintaining consumable service items in the client.">ConsumableServiceItemManager</a></code>, starting with the oldest items.</p>
<p>For items that change their values for the user each time they are provided, use the random number returned by <code><em>pOutSeed</em></code> as a hint for fixing the value. This step avoids the problem where the user may repeatedly revert the provision state to select higher value content. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
