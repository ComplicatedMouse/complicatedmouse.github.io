<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FriendsProfileImage/FriendsProfileImage.cpp | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">FriendsProfileImage/FriendsProfileImage.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>For an explanation of the source code, see <a class="el" href="_page_sample_friends_profile_image.html">Downloading Profile Images</a> and <tt>FriendsProfileImage/FriendsProfileImage.cpp</tt>.</p>
<div class="fragment"><div class="line"><span class="comment">/*--------------------------------------------------------------------------------*</span></div>
<div class="line"><span class="comment">  Copyright Nintendo.  All rights reserved.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  These coded instructions, statements, and computer programs contain proprietary</span></div>
<div class="line"><span class="comment">  information of Nintendo and/or its licensed developers and are protected by</span></div>
<div class="line"><span class="comment">  national and international copyright laws. They may not be disclosed to third</span></div>
<div class="line"><span class="comment">  parties or copied or duplicated in any form, in whole or in part, without the</span></div>
<div class="line"><span class="comment">  prior written consent of Nintendo.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  The content herein is highly confidential and should be handled accordingly.</span></div>
<div class="line"><span class="comment"> *--------------------------------------------------------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;nn/friends.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="nn___abort_8h.html">nn/nn_Abort.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="nn___log_8h.html">nn/nn_Log.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;nn/account.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="err_8h.html">nn/err.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="image___jpeg_decoder_8h.html">nn/image/image_JpegDecoder.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;nn/nifm.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;nn/os.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="socket_8h.html">nn/socket.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="util___memory_resource_8h.html">nn/util/pmr/util_MemoryResource.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;FileDownloader.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace</span></div>
<div class="line">{</div>
<div class="line">    <a name="_a0"></a><a class="code" href="classnn_1_1socket_1_1_config_default_with_memory.html">nn::socket::ConfigDefaultWithMemory</a> g_SocketConfigWithMemory;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// The download completion callback.</span></div>
<div class="line"><span class="keywordtype">void</span> DownloadCompletionCallback(uint64_t requestId, CURLcode curlCode, <span class="keywordtype">long</span> statusCode,</div>
<div class="line">    <span class="keywordtype">void</span>* pBuffer, <span class="keywordtype">size_t</span> downloadedSize, <span class="keywordtype">void</span>* pParam)</div>
<div class="line">{</div>
<div class="line">    <a name="a1"></a><a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(pParam);</div>
<div class="line"> </div>
<div class="line">    <a name="a2"></a><a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;The download request was completed. id = %llu\n&quot;</span>, requestId);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!(curlCode == CURLE_OK &amp;&amp; statusCode / 100 == 2))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;The download failed. curlCode = %d, statusCode = %d\n&quot;</span>, curlCode, statusCode);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// We recommend decoding in a separate thread because intense processing within a callback can affect performance.</span></div>
<div class="line">    <span class="comment">// This sample decodes here, placing a priority on clean code.</span></div>
<div class="line">    <a name="_a3"></a><a class="code" href="classnn_1_1image_1_1_jpeg_decoder.html">nn::image::JpegDecoder</a> decoder(<a name="a4"></a><a class="code" href="namespacenn_1_1util_1_1pmr.html#aba8bcefdfcda79128365857f6f0ab49f">nn::util::pmr::NewDeleteResource</a>());</div>
<div class="line">    decoder.SetImageData(pBuffer, downloadedSize);</div>
<div class="line"> </div>
<div class="line">    <a name="a5"></a><a class="code" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3">nn::image::JpegStatus</a> status = decoder.Analyze();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (status != <a name="a6"></a><a class="code" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3a2f99a50104618a54e9d4e3bfa4e35ffc">nn::image::JpegStatus_Ok</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;Jpeg analyzing failed. status = %d\n&quot;</span>, status);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="_a7"></a><a class="code" href="structnn_1_1image_1_1_dimension.html">nn::image::Dimension</a> dimension = decoder.GetAnalyzedDimension();</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;--------------------------------------------------------------------------------\n&quot;</span>);</div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;ProfileImageInfo:\n&quot;</span>);</div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot; - dataSize = %zu\n&quot;</span>, downloadedSize);</div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot; - width = %d\n&quot;</span>, dimension.<a name="a8"></a><a class="code" href="structnn_1_1image_1_1_dimension.html#a22d3774aefe021c9b1712995e911cb6b">width</a>);</div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot; - height = %d\n&quot;</span>, dimension.<a name="a9"></a><a class="code" href="structnn_1_1image_1_1_dimension.html#a66ca932bdd1a155f05b51572c0d88f75">height</a>);</div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;--------------------------------------------------------------------------------\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Download profile images in multiple sizes.</span></div>
<div class="line"><span class="keywordtype">void</span> DownloadProfileImages(<span class="keyword">const</span> <a name="_a10"></a><a class="code" href="structnn_1_1account_1_1_uid.html">nn::account::Uid</a>&amp; user, <a name="_a11"></a><a class="code" href="structnn_1_1account_1_1_network_service_account_id.html">nn::account::NetworkServiceAccountId</a> accountId) <a name="a12"></a><a class="code" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;[DownloadProfileImages]\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// You can get a maximum of nn::friends::GetProfileCountMax profiles each time the function is called.</span></div>
<div class="line">    <a name="_a13"></a><a class="code" href="classnn_1_1friends_1_1_profile.html">nn::friends::Profile</a> profiles[1] = {};</div>
<div class="line">    <a class="code" href="structnn_1_1account_1_1_network_service_account_id.html">nn::account::NetworkServiceAccountId</a> accountIds[1] = {accountId};</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;nn::friends::GetProfileList() ...\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a name="_a14"></a><a class="code" href="classnn_1_1friends_1_1_async_context.html">nn::friends::AsyncContext</a> context;</div>
<div class="line">    <a name="a15"></a><a class="code" href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a>(<a name="a16"></a><a class="code" href="namespacenn_1_1friends.html#a2ed0821a09cab8bd96f91f374915f01d">nn::friends::GetProfileList</a>(&amp;context, profiles, user, accountIds, <a name="a17"></a><a class="code" href="nn___macro_8h.html#acd3a418aa2fc4a6379eaa722181a46a6">NN_ARRAY_SIZE</a>(profiles)));</div>
<div class="line"> </div>
<div class="line">    <a name="_a18"></a><a class="code" href="classnn_1_1os_1_1_system_event.html">nn::os::SystemEvent</a> completionEvent;</div>
<div class="line">    <a class="code" href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a>(context.<a name="a19"></a><a class="code" href="classnn_1_1friends_1_1_async_context.html#a2bee4a2a2067c6adf26d5a295fb5c408">GetSystemEvent</a>(&amp;completionEvent));</div>
<div class="line"> </div>
<div class="line">    completionEvent.<a name="a20"></a><a class="code" href="classnn_1_1os_1_1_system_event.html#a51c8560630f9760922b6e180b75a45b2">Wait</a>();</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;nn::friends::GetProfileList() done!\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (context.<a name="a21"></a><a class="code" href="classnn_1_1friends_1_1_async_context.html#a2a5abee2754103d367ed555cf9b40fb1">GetResult</a>().<a name="a22"></a><a class="code" href="classnn_1_1_result.html#a5d119d9cb4918fc3cd09215437b91c13">IsFailure</a>())</div>
<div class="line">    {</div>
<div class="line">        <a name="a23"></a><a class="code" href="namespacenn_1_1err.html#a245efc14eca3ff209ce8858b059ec739">nn::err::ShowError</a>(context.<a class="code" href="classnn_1_1friends_1_1_async_context.html#a2a5abee2754103d367ed555cf9b40fb1">GetResult</a>());</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="_a24"></a><a class="code" href="structnn_1_1friends_1_1_url.html">nn::friends::Url</a> imageUrls[3] = {};</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a>(profiles[0].GetProfileImageUrl(&amp;imageUrls[0], <a name="a25"></a><a class="code" href="namespacenn_1_1friends.html#a189555d8b1c0dd4bd127964383c936c0afb3155ddfd3ac623b8a29177ac3bd70c">nn::friends::ImageSize_Standard</a>));</div>
<div class="line">    <a class="code" href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a>(profiles[0].GetProfileImageUrl(&amp;imageUrls[1], <a name="a26"></a><a class="code" href="namespacenn_1_1friends.html#a189555d8b1c0dd4bd127964383c936c0aca921c73ab01f18d10e136d13db25bd8">nn::friends::ImageSize_64x64</a>));</div>
<div class="line">    <a class="code" href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a>(profiles[0].GetProfileImageUrl(&amp;imageUrls[2], <a name="a27"></a><a class="code" href="namespacenn_1_1friends.html#a189555d8b1c0dd4bd127964383c936c0ac531ea9e161ad86bb0b61fad780d61ce">nn::friends::ImageSize_128x128</a>));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (imageUrls[0].value[0] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Sometimes no profile image will be uploaded.</span></div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;The image URL is empty.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// nn::friends::ProfileImageSizeMax is the maximum size for a profile image.</span></div>
<div class="line">    <span class="keyword">static</span> nn::Bit8 s_Buffer[<a class="code" href="nn___macro_8h.html#acd3a418aa2fc4a6379eaa722181a46a6">NN_ARRAY_SIZE</a>(imageUrls)][<a name="a28"></a><a class="code" href="namespacenn_1_1friends.html#ab29f52789d4892b2f3c0cd43e59a5d71">nn::friends::ProfileImageSizeMax</a>];</div>
<div class="line"> </div>
<div class="line">    <a name="_a29"></a><a class="code" href="classnn_1_1os_1_1_tick.html">nn::os::Tick</a> startTick = <a name="a30"></a><a class="code" href="namespacenn_1_1os.html#a79e29821bfb2b0c3a5c222488e90cc89">nn::os::GetSystemTick</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Downloads profile images in parallel.</span></div>
<div class="line">    <span class="comment">// There is no way to ensure that profiles complete downloading in the order they were requested.</span></div>
<div class="line">    <span class="comment">// If you want to download the images in the order they were requested, specify 1 as the maximum number of simultaneous downloads.</span></div>
<div class="line">    FileDownloader downloader(4);</div>
<div class="line"> </div>
<div class="line">    downloader.SetCompletionCallback(DownloadCompletionCallback, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="nn___macro_8h.html#acd3a418aa2fc4a6379eaa722181a46a6">NN_ARRAY_SIZE</a>(imageUrls); i++)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;URL = %s\n&quot;</span>, imageUrls[i].value);</div>
<div class="line"> </div>
<div class="line">        uint64_t requestId;</div>
<div class="line">        downloader.AddRequest(&amp;requestId, imageUrls[i].value, s_Buffer[i], <span class="keyword">sizeof</span> (s_Buffer[i]));</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;Request id = %llu\n&quot;</span>, requestId);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    downloader.Execute();</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnn_1_1os_1_1_tick.html">nn::os::Tick</a> endTick = <a class="code" href="namespacenn_1_1os.html#a79e29821bfb2b0c3a5c222488e90cc89">nn::os::GetSystemTick</a>();</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;Time = %lld ms\n&quot;</span>, (endTick - startTick).ToTimeSpan().GetMilliSeconds());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> nnMain()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;[sample] Start.\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a name="a31"></a><a class="code" href="namespacenn_1_1account.html#ac5870470963c9923c63f76e03c8c024e">nn::account::Initialize</a>();</div>
<div class="line">    <a name="a32"></a><a class="code" href="namespacenn_1_1nifm.html#a0e3aaf3209696149ec22613e1d3d6705">nn::nifm::Initialize</a>();</div>
<div class="line">    <a name="a33"></a><a class="code" href="namespacenn_1_1socket.html#adacc3405184e8f28fb630745b9f43db0">nn::socket::Initialize</a>(g_SocketConfigWithMemory);</div>
<div class="line"> </div>
<div class="line">    curl_global_init(CURL_GLOBAL_DEFAULT);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1account_1_1_uid.html">nn::account::Uid</a> user;</div>
<div class="line"> </div>
<div class="line">    <a name="_a34"></a><a class="code" href="classnn_1_1_result.html">nn::Result</a> result = <a name="a35"></a><a class="code" href="namespacenn_1_1account.html#a749534bdfdee56eebe9203a526390b32">nn::account::ShowUserSelector</a>(&amp;user);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (nn::account::ResultCancelledByUser::Includes(result))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;[sample] Please select the user account.\n&quot;</span>);</div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;[sample] End.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a>(result);</div>
<div class="line"> </div>
<div class="line">    <a name="_a36"></a><a class="code" href="structnn_1_1account_1_1_user_handle.html">nn::account::UserHandle</a> handle = {};</div>
<div class="line">    <a class="code" href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a>(<a name="a37"></a><a class="code" href="namespacenn_1_1account.html#a06fd27c776fbc31c918ea0a84ddb1f41">nn::account::OpenUser</a>(&amp;handle, user));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structnn_1_1account_1_1_network_service_account_id.html">nn::account::NetworkServiceAccountId</a> accountId = {};</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a38"></a><a class="code" href="namespacenn_1_1account.html#a8a800930ca2f1f5b402bf4cc25db7f1d">nn::account::GetNetworkServiceAccountId</a>(&amp;accountId, handle).IsSuccess())</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;nn::nifm::SubmitNetworkRequestAndWait() ...\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <a name="a39"></a><a class="code" href="namespacenn_1_1nifm.html#ac42c271bffbeb6324e5a41ae779d6575">nn::nifm::SubmitNetworkRequestAndWait</a>();</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;nn::nifm::SubmitNetworkRequestAndWait() done!\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a40"></a><a class="code" href="namespacenn_1_1nifm.html#a933a28d229a56e800703d95d4830fc6a">nn::nifm::IsNetworkAvailable</a>())</div>
<div class="line">        {</div>
<div class="line">            DownloadProfileImages(user, accountId);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;Network is not available.\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;[sample] Warning: Please link the available network service account to user account.\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="a41"></a><a class="code" href="namespacenn_1_1account.html#aaf1a6e0b8cbcef6f62eae042bca5b7cb">nn::account::CloseUser</a>(handle);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a>(<span class="stringliteral">&quot;[sample] End.\n&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="aclassnn_1_1_result_html"><div class="ttname"><a href="classnn_1_1_result.html">nn::Result</a></div><div class="ttdoc">Represents the generic result of an operation.</div><div class="ttdef"><b>Definition:</b> nn_Result.h:32</div></div>
<div class="ttc" id="aclassnn_1_1_result_html_a5d119d9cb4918fc3cd09215437b91c13"><div class="ttname"><a href="classnn_1_1_result.html#a5d119d9cb4918fc3cd09215437b91c13">nn::Result::IsFailure</a></div><div class="ttdeci">bool IsFailure() const NN_NOEXCEPT</div><div class="ttdoc">! Returns IsSuccess().</div><div class="ttdef"><b>Definition:</b> nn_Result.h:99</div></div>
<div class="ttc" id="aclassnn_1_1friends_1_1_async_context_html"><div class="ttname"><a href="classnn_1_1friends_1_1_async_context.html">nn::friends::AsyncContext</a></div><div class="ttdoc">Class for handling asynchronous processing.</div><div class="ttdef"><b>Definition:</b> friends_AsyncContext.h:35</div></div>
<div class="ttc" id="aclassnn_1_1friends_1_1_async_context_html_a2a5abee2754103d367ed555cf9b40fb1"><div class="ttname"><a href="classnn_1_1friends_1_1_async_context.html#a2a5abee2754103d367ed555cf9b40fb1">nn::friends::AsyncContext::GetResult</a></div><div class="ttdeci">nn::Result GetResult() const NN_NOEXCEPT</div><div class="ttdoc">Gets the result of asynchronous processing.</div></div>
<div class="ttc" id="aclassnn_1_1friends_1_1_async_context_html_a2bee4a2a2067c6adf26d5a295fb5c408"><div class="ttname"><a href="classnn_1_1friends_1_1_async_context.html#a2bee4a2a2067c6adf26d5a295fb5c408">nn::friends::AsyncContext::GetSystemEvent</a></div><div class="ttdeci">nn::Result GetSystemEvent(nn::os::SystemEvent *outEvent) NN_NOEXCEPT</div><div class="ttdoc">Gets the event that signals asynchronous processing completion.</div></div>
<div class="ttc" id="aclassnn_1_1friends_1_1_profile_html"><div class="ttname"><a href="classnn_1_1friends_1_1_profile.html">nn::friends::Profile</a></div><div class="ttdoc">Class for handling user profiles.</div><div class="ttdef"><b>Definition:</b> friends_Profile.h:31</div></div>
<div class="ttc" id="aclassnn_1_1image_1_1_jpeg_decoder_html"><div class="ttname"><a href="classnn_1_1image_1_1_jpeg_decoder.html">nn::image::JpegDecoder</a></div><div class="ttdoc">Decodes JPEG data.</div><div class="ttdef"><b>Definition:</b> image_JpegDecoder.h:76</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_system_event_html"><div class="ttname"><a href="classnn_1_1os_1_1_system_event.html">nn::os::SystemEvent</a></div><div class="ttdoc">Class for handling system events.</div><div class="ttdef"><b>Definition:</b> os_SystemEvent.h:46</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_system_event_html_a51c8560630f9760922b6e180b75a45b2"><div class="ttname"><a href="classnn_1_1os_1_1_system_event.html#a51c8560630f9760922b6e180b75a45b2">nn::os::SystemEvent::Wait</a></div><div class="ttdeci">void Wait() NN_NOEXCEPT</div><div class="ttdoc">Waits for a system event to enter a signaled state.</div><div class="ttdef"><b>Definition:</b> os_SystemEvent.h:244</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_tick_html"><div class="ttname"><a href="classnn_1_1os_1_1_tick.html">nn::os::Tick</a></div><div class="ttdoc">Class for handling system ticks.</div><div class="ttdef"><b>Definition:</b> os_TickTypes.h:59</div></div>
<div class="ttc" id="aclassnn_1_1socket_1_1_config_default_with_memory_html"><div class="ttname"><a href="classnn_1_1socket_1_1_config_default_with_memory.html">nn::socket::ConfigDefaultWithMemory</a></div><div class="ttdoc">Class specifying a default configuration.</div><div class="ttdef"><b>Definition:</b> socket_Config.h:627</div></div>
<div class="ttc" id="aerr_8h_html"><div class="ttname"><a href="err_8h.html">err.h</a></div><div class="ttdoc">Declarations for the library API for general errors.</div></div>
<div class="ttc" id="aimage___jpeg_decoder_8h_html"><div class="ttname"><a href="image___jpeg_decoder_8h.html">image_JpegDecoder.h</a></div><div class="ttdoc">Definitions relating to the JPEG decoding features.</div></div>
<div class="ttc" id="anamespacenn_1_1account_html_a06fd27c776fbc31c918ea0a84ddb1f41"><div class="ttname"><a href="namespacenn_1_1account.html#a06fd27c776fbc31c918ea0a84ddb1f41">nn::account::OpenUser</a></div><div class="ttdeci">Result OpenUser(UserHandle *pOutHandle, const Uid &amp;user) NN_NOEXCEPT</div><div class="ttdoc">Changes a user to an open state and gets the appropriate handle.</div></div>
<div class="ttc" id="anamespacenn_1_1account_html_a749534bdfdee56eebe9203a526390b32"><div class="ttname"><a href="namespacenn_1_1account.html#a749534bdfdee56eebe9203a526390b32">nn::account::ShowUserSelector</a></div><div class="ttdeci">Result ShowUserSelector(Uid *pOut, const UserSelectionSettings &amp;arg) NN_NOEXCEPT</div><div class="ttdoc">Calls the UI for selecting users.</div></div>
<div class="ttc" id="anamespacenn_1_1account_html_a8a800930ca2f1f5b402bf4cc25db7f1d"><div class="ttname"><a href="namespacenn_1_1account.html#a8a800930ca2f1f5b402bf4cc25db7f1d">nn::account::GetNetworkServiceAccountId</a></div><div class="ttdeci">Result GetNetworkServiceAccountId(NetworkServiceAccountId *pOutId, const UserHandle &amp;handle) NN_NOEXCEPT</div><div class="ttdoc">Specifies a handle for a user in an open state, and gets that user's network service account ID.</div></div>
<div class="ttc" id="anamespacenn_1_1account_html_aaf1a6e0b8cbcef6f62eae042bca5b7cb"><div class="ttname"><a href="namespacenn_1_1account.html#aaf1a6e0b8cbcef6f62eae042bca5b7cb">nn::account::CloseUser</a></div><div class="ttdeci">void CloseUser(const UserHandle &amp;handle) NN_NOEXCEPT</div><div class="ttdoc">Changes the state of the user indicated by the specified handle to Closed.</div></div>
<div class="ttc" id="anamespacenn_1_1account_html_ac5870470963c9923c63f76e03c8c024e"><div class="ttname"><a href="namespacenn_1_1account.html#ac5870470963c9923c63f76e03c8c024e">nn::account::Initialize</a></div><div class="ttdeci">void Initialize() NN_NOEXCEPT</div><div class="ttdoc">Begins using the account system.</div></div>
<div class="ttc" id="anamespacenn_1_1err_html_a245efc14eca3ff209ce8858b059ec739"><div class="ttname"><a href="namespacenn_1_1err.html#a245efc14eca3ff209ce8858b059ec739">nn::err::ShowError</a></div><div class="ttdeci">void ShowError(nn::Result result) NN_NOEXCEPT</div><div class="ttdoc">Display an error that occurs.</div></div>
<div class="ttc" id="anamespacenn_1_1friends_html_a189555d8b1c0dd4bd127964383c936c0ac531ea9e161ad86bb0b61fad780d61ce"><div class="ttname"><a href="namespacenn_1_1friends.html#a189555d8b1c0dd4bd127964383c936c0ac531ea9e161ad86bb0b61fad780d61ce">nn::friends::ImageSize_128x128</a></div><div class="ttdeci">@ ImageSize_128x128</div><div class="ttdoc">Image with a width and height of 128 pixels.</div><div class="ttdef"><b>Definition:</b> friends_Types.h:114</div></div>
<div class="ttc" id="anamespacenn_1_1friends_html_a189555d8b1c0dd4bd127964383c936c0aca921c73ab01f18d10e136d13db25bd8"><div class="ttname"><a href="namespacenn_1_1friends.html#a189555d8b1c0dd4bd127964383c936c0aca921c73ab01f18d10e136d13db25bd8">nn::friends::ImageSize_64x64</a></div><div class="ttdeci">@ ImageSize_64x64</div><div class="ttdoc">Image with a width and height of 64 pixels.</div><div class="ttdef"><b>Definition:</b> friends_Types.h:113</div></div>
<div class="ttc" id="anamespacenn_1_1friends_html_a189555d8b1c0dd4bd127964383c936c0afb3155ddfd3ac623b8a29177ac3bd70c"><div class="ttname"><a href="namespacenn_1_1friends.html#a189555d8b1c0dd4bd127964383c936c0afb3155ddfd3ac623b8a29177ac3bd70c">nn::friends::ImageSize_Standard</a></div><div class="ttdeci">@ ImageSize_Standard</div><div class="ttdoc">The standard image size.</div><div class="ttdef"><b>Definition:</b> friends_Types.h:117</div></div>
<div class="ttc" id="anamespacenn_1_1friends_html_a2ed0821a09cab8bd96f91f374915f01d"><div class="ttname"><a href="namespacenn_1_1friends.html#a2ed0821a09cab8bd96f91f374915f01d">nn::friends::GetProfileList</a></div><div class="ttdeci">nn::Result GetProfileList(AsyncContext *outAsync, Profile *outProfiles, const nn::account::Uid &amp;uid, const nn::account::NetworkServiceAccountId *accountIds, int count) NN_NOEXCEPT</div><div class="ttdoc">Gets the profile list.</div></div>
<div class="ttc" id="anamespacenn_1_1friends_html_ab29f52789d4892b2f3c0cd43e59a5d71"><div class="ttname"><a href="namespacenn_1_1friends.html#ab29f52789d4892b2f3c0cd43e59a5d71">nn::friends::ProfileImageSizeMax</a></div><div class="ttdeci">const size_t ProfileImageSizeMax</div><div class="ttdoc">The maximum profile image size.</div><div class="ttdef"><b>Definition:</b> friends_Types.h:52</div></div>
<div class="ttc" id="anamespacenn_1_1image_html_a8c78190141f5d2997ea6dfdaac0730e3"><div class="ttname"><a href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3">nn::image::JpegStatus</a></div><div class="ttdeci">JpegStatus</div><div class="ttdoc">The status codes returned by the JPEG library.</div><div class="ttdef"><b>Definition:</b> image_JpegCommon.h:32</div></div>
<div class="ttc" id="anamespacenn_1_1image_html_a8c78190141f5d2997ea6dfdaac0730e3a2f99a50104618a54e9d4e3bfa4e35ffc"><div class="ttname"><a href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3a2f99a50104618a54e9d4e3bfa4e35ffc">nn::image::JpegStatus_Ok</a></div><div class="ttdeci">@ JpegStatus_Ok</div><div class="ttdoc">Success.</div><div class="ttdef"><b>Definition:</b> image_JpegCommon.h:33</div></div>
<div class="ttc" id="anamespacenn_1_1nifm_html_a0e3aaf3209696149ec22613e1d3d6705"><div class="ttname"><a href="namespacenn_1_1nifm.html#a0e3aaf3209696149ec22613e1d3d6705">nn::nifm::Initialize</a></div><div class="ttdeci">nn::Result Initialize() NN_NOEXCEPT</div><div class="ttdoc">Initializes the network connection management library and makes its functionality available.</div></div>
<div class="ttc" id="anamespacenn_1_1nifm_html_a933a28d229a56e800703d95d4830fc6a"><div class="ttname"><a href="namespacenn_1_1nifm.html#a933a28d229a56e800703d95d4830fc6a">nn::nifm::IsNetworkAvailable</a></div><div class="ttdeci">bool IsNetworkAvailable() NN_NOEXCEPT</div><div class="ttdoc">Determines whether a network connection is available.</div></div>
<div class="ttc" id="anamespacenn_1_1nifm_html_ac42c271bffbeb6324e5a41ae779d6575"><div class="ttname"><a href="namespacenn_1_1nifm.html#ac42c271bffbeb6324e5a41ae779d6575">nn::nifm::SubmitNetworkRequestAndWait</a></div><div class="ttdeci">void SubmitNetworkRequestAndWait() NN_NOEXCEPT</div><div class="ttdoc">Makes a request to the system for a network connection, and blocks until the request is accepted or d...</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a79e29821bfb2b0c3a5c222488e90cc89"><div class="ttname"><a href="namespacenn_1_1os.html#a79e29821bfb2b0c3a5c222488e90cc89">nn::os::GetSystemTick</a></div><div class="ttdeci">Tick GetSystemTick() NN_NOEXCEPT</div><div class="ttdoc">Gets the system tick value.</div></div>
<div class="ttc" id="anamespacenn_1_1socket_html_adacc3405184e8f28fb630745b9f43db0"><div class="ttname"><a href="namespacenn_1_1socket.html#adacc3405184e8f28fb630745b9f43db0">nn::socket::Initialize</a></div><div class="ttdeci">Result Initialize(const Config &amp;config) NN_NOEXCEPT</div><div class="ttdoc">Initialize socket library.</div></div>
<div class="ttc" id="anamespacenn_1_1util_1_1pmr_html_aba8bcefdfcda79128365857f6f0ab49f"><div class="ttname"><a href="namespacenn_1_1util_1_1pmr.html#aba8bcefdfcda79128365857f6f0ab49f">nn::util::pmr::NewDeleteResource</a></div><div class="ttdeci">nn::MemoryResource * NewDeleteResource() NN_NOEXCEPT</div><div class="ttdoc">Gets an instance of nn::MemoryResource for use by a global scope operator new and global scope operat...</div></div>
<div class="ttc" id="ann___abort_8h_html"><div class="ttname"><a href="nn___abort_8h.html">nn_Abort.h</a></div><div class="ttdoc">Declarations for API resources to abort execution when conditions are not satisfied.</div></div>
<div class="ttc" id="ann___abort_8h_html_a1e657a678a588533a020c2e947df7772"><div class="ttname"><a href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a></div><div class="ttdeci">#define NN_ABORT_UNLESS_RESULT_SUCCESS(result)</div><div class="ttdoc">Tests whether the specified nn::Result is successful or not, and stops if it is not.</div><div class="ttdef"><b>Definition:</b> nn_Abort.h:188</div></div>
<div class="ttc" id="ann___log_8h_html"><div class="ttname"><a href="nn___log_8h.html">nn_Log.h</a></div><div class="ttdoc">Declarations for the logging API.</div></div>
<div class="ttc" id="ann___log_8h_html_a2d720c8bc6b733bce63879350d134a84"><div class="ttname"><a href="nn___log_8h.html#a2d720c8bc6b733bce63879350d134a84">NN_LOG</a></div><div class="ttdeci">#define NN_LOG(...)</div><div class="ttdoc">Adds the string specified in the parameter as a log entry.</div><div class="ttdef"><b>Definition:</b> nn_Log.h:33</div></div>
<div class="ttc" id="ann___macro_8h_html_a0e31cc4dc24d85253a31e48b1a85ab33"><div class="ttname"><a href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></div><div class="ttdeci">#define NN_NOEXCEPT</div><div class="ttdoc">Declares that the function does not throw exceptions.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:196</div></div>
<div class="ttc" id="ann___macro_8h_html_acd3a418aa2fc4a6379eaa722181a46a6"><div class="ttname"><a href="nn___macro_8h.html#acd3a418aa2fc4a6379eaa722181a46a6">NN_ARRAY_SIZE</a></div><div class="ttdeci">#define NN_ARRAY_SIZE(array)</div><div class="ttdoc">Gets the array size.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:696</div></div>
<div class="ttc" id="ann___macro_8h_html_af2d1673769927c5eae977d8dde3ce106"><div class="ttname"><a href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a></div><div class="ttdeci">#define NN_UNUSED(variable)</div><div class="ttdoc">Suppresses compiler warnings on intentionally unused variables.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:610</div></div>
<div class="ttc" id="asocket_8h_html"><div class="ttname"><a href="socket_8h.html">socket.h</a></div><div class="ttdoc">Top level header defining the socket library API.</div></div>
<div class="ttc" id="astructnn_1_1account_1_1_network_service_account_id_html"><div class="ttname"><a href="structnn_1_1account_1_1_network_service_account_id.html">nn::account::NetworkServiceAccountId</a></div><div class="ttdoc">The network service account ID.</div><div class="ttdef"><b>Definition:</b> account_Types.h:129</div></div>
<div class="ttc" id="astructnn_1_1account_1_1_uid_html"><div class="ttname"><a href="structnn_1_1account_1_1_uid.html">nn::account::Uid</a></div><div class="ttdoc">User identifiers added to the account system.</div><div class="ttdef"><b>Definition:</b> account_Types.h:37</div></div>
<div class="ttc" id="astructnn_1_1account_1_1_user_handle_html"><div class="ttname"><a href="structnn_1_1account_1_1_user_handle.html">nn::account::UserHandle</a></div><div class="ttdoc">The handle for dealing with a user in the Open state.</div><div class="ttdef"><b>Definition:</b> account_Types.h:93</div></div>
<div class="ttc" id="astructnn_1_1friends_1_1_url_html"><div class="ttname"><a href="structnn_1_1friends_1_1_url.html">nn::friends::Url</a></div><div class="ttdoc">The URL.</div><div class="ttdef"><b>Definition:</b> friends_Types.h:227</div></div>
<div class="ttc" id="astructnn_1_1image_1_1_dimension_html"><div class="ttname"><a href="structnn_1_1image_1_1_dimension.html">nn::image::Dimension</a></div><div class="ttdoc">The structure representing the generic dimensions of images.</div><div class="ttdef"><b>Definition:</b> image_Common.h:34</div></div>
<div class="ttc" id="astructnn_1_1image_1_1_dimension_html_a22d3774aefe021c9b1712995e911cb6b"><div class="ttname"><a href="structnn_1_1image_1_1_dimension.html#a22d3774aefe021c9b1712995e911cb6b">nn::image::Dimension::width</a></div><div class="ttdeci">std::int32_t width</div><div class="ttdoc">Image width.</div><div class="ttdef"><b>Definition:</b> image_Common.h:35</div></div>
<div class="ttc" id="astructnn_1_1image_1_1_dimension_html_a66ca932bdd1a155f05b51572c0d88f75"><div class="ttname"><a href="structnn_1_1image_1_1_dimension.html#a66ca932bdd1a155f05b51572c0d88f75">nn::image::Dimension::height</a></div><div class="ttdeci">std::int32_t height</div><div class="ttdoc">Image height.</div><div class="ttdef"><b>Definition:</b> image_Common.h:36</div></div>
<div class="ttc" id="autil___memory_resource_8h_html"><div class="ttname"><a href="util___memory_resource_8h.html">util_MemoryResource.h</a></div><div class="ttdoc">Declaration of API resources dealing with memory resources.</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
