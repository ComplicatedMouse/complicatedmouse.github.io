<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AudioEchoback/AudioEchoback.cpp | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">AudioEchoback/AudioEchoback.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>For an explanation of the source code, see <a class="el" href="_page_sample_audio_audio_echoback.html">Simultaneously Using Audio Input and Output Features Sample</a> and <tt>AudioEchoback/AudioEchoback.cpp</tt>.</p>
<div class="fragment"><div class="line"><span class="comment">/*--------------------------------------------------------------------------------*</span></div>
<div class="line"><span class="comment">  Copyright Nintendo.  All rights reserved.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  These coded instructions, statements, and computer programs contain proprietary</span></div>
<div class="line"><span class="comment">  information of Nintendo and/or its licensed developers and are protected by</span></div>
<div class="line"><span class="comment">  national and international copyright laws. They may not be disclosed to third</span></div>
<div class="line"><span class="comment">  parties or copied or duplicated in any form, in whole or in part, without the</span></div>
<div class="line"><span class="comment">  prior written consent of Nintendo.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  The content herein is highly confidential and should be handled accordingly.</span></div>
<div class="line"><span class="comment"> *--------------------------------------------------------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span>  <span class="comment">// std::memset, std::memcpy</span></div>
<div class="line"><span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="nn___abort_8h.html">nn/nn_Abort.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="nn___assert_8h.html">nn/nn_Assert.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;nns/nns_Log.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="audio_8h.html">nn/audio.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="mem_8h.html">nn/mem.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;nn/os.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="nn___time_span_8h.html">nn/nn_TimeSpan.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;nns/audio/audio_HidUtilities.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;nn/hid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="hid___keyboard_key_8h.html">nn/hid/hid_KeyboardKey.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="hid___npad_8h.html">nn/hid/hid_Npad.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="settings___debug_pad_8h.html">nn/settings/settings_DebugPad.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;AudioEchobackUtil.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>{</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> MaxAudioIns = 2;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> g_HeapBuffer[128 * 1024 * 16];</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">size_t</span> ThreadStackSize = 8192 * 2;</div>
<div class="line"><a name="a0"></a><a class="code" href="nn___macro_8h.html#a6ce9d4b07ab8bec971ac8875873615b5">NN_ALIGNAS</a>(4096) <span class="keywordtype">char</span> g_AudioOutThreadStack[ThreadStackSize];</div>
<div class="line"><a name="_a1"></a><a class="code" href="structnn_1_1os_1_1_thread_type.html">nn::os::ThreadType</a>    g_AudioOutThread;</div>
<div class="line"><a class="code" href="nn___macro_8h.html#a6ce9d4b07ab8bec971ac8875873615b5">NN_ALIGNAS</a>(4096) <span class="keywordtype">char</span> g_AudioInThreadStack[ThreadStackSize];</div>
<div class="line"><a class="code" href="structnn_1_1os_1_1_thread_type.html">nn::os::ThreadType</a>    g_AudioInThread;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> Title[] = <span class="stringliteral">&quot;AudioEchoback&quot;</span>;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> InitializeHidDevices()</div>
<div class="line">{</div>
<div class="line">    <a name="a2"></a><a class="code" href="namespacenn_1_1hid.html#a52f910e37e347a944be54f6860a8ed11">nn::hid::InitializeDebugPad</a>();</div>
<div class="line">    <a name="a3"></a><a class="code" href="namespacenn_1_1hid.html#a54ad6953b9cef17b4d79171e819b0048">nn::hid::InitializeNpad</a>();</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="namespacenn_1_1hid.html#a5923008962b52bf501f91b30013aedd6">nn::hid::NpadIdType</a> npadIds[2] = { <a name="a4"></a><a class="code" href="structnn_1_1hid_1_1_npad_id.html#aa0b93745c1c6de72c1fd2174f35c8ed9">nn::hid::NpadId::No1</a>, <a name="a5"></a><a class="code" href="structnn_1_1hid_1_1_npad_id.html#afc19a9a80ac740645b567fc7e1dc36cf">nn::hid::NpadId::Handheld</a> };</div>
<div class="line">    <a name="a6"></a><a class="code" href="namespacenn_1_1hid.html#ac04a55a989058f9d69c5c3e4e29c4480">nn::hid::SetSupportedNpadStyleSet</a>(nn::hid::NpadStyleFullKey::Mask | nn::hid::NpadStyleHandheld::Mask);</div>
<div class="line">    <a name="a7"></a><a class="code" href="namespacenn_1_1hid.html#a82326d8c0d5f888fce443798bb829e97">nn::hid::SetSupportedNpadIdType</a>(npadIds, <span class="keyword">sizeof</span>(npadIds) / <span class="keyword">sizeof</span>(npadIds[0]));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Map keyboard keys to DebugPad buttons.</span></div>
<div class="line">    <a name="_a8"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html">nn::settings::DebugPadKeyboardMap</a> map;</div>
<div class="line">    <a name="a9"></a><a class="code" href="namespacenn_1_1settings.html#a1e96831e46ee03c734e5f81570c8df66">nn::settings::GetDebugPadKeyboardMap</a>(&amp;map);</div>
<div class="line">    map.<a name="a10"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a855fdaccf56bd08f6930e2cfa5a4911a">buttonA</a>     = nn::hid::KeyboardKey::A::Index;</div>
<div class="line">    map.<a name="a11"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#aaeab1b454664e959f1f3b3043bd85b9e">buttonB</a>     = nn::hid::KeyboardKey::B::Index;</div>
<div class="line">    map.<a name="a12"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a7da4c30b07d176a47fcf5793fcf2aa09">buttonX</a>     = nn::hid::KeyboardKey::X::Index;</div>
<div class="line">    map.<a name="a13"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#adfbe65964d33d758e464390324a2b9b1">buttonY</a>     = nn::hid::KeyboardKey::Y::Index;</div>
<div class="line">    map.<a name="a14"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a0657e9987759d3369eee3afeac0cbd22">buttonL</a>     = nn::hid::KeyboardKey::L::Index;</div>
<div class="line">    map.<a name="a15"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#ad9915929ab80efc8ff1e1e0ddb0c4dd1">buttonR</a>     = nn::hid::KeyboardKey::R::Index;</div>
<div class="line">    map.<a name="a16"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a21c82c5b3453501e14dd54caa551ec3b">buttonZL</a>    = nn::hid::KeyboardKey::U::Index;</div>
<div class="line">    map.<a name="a17"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#adfaed2c7da3a1e237e559b0ae6014c0e">buttonZR</a>    = nn::hid::KeyboardKey::V::Index;</div>
<div class="line">    map.<a name="a18"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#aa4fd4510c2a0d1ba4c5109c84e302692">buttonLeft</a>  = nn::hid::KeyboardKey::LeftArrow::Index;</div>
<div class="line">    map.<a name="a19"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#aa7e06839199547265a73743783278f01">buttonRight</a> = nn::hid::KeyboardKey::RightArrow::Index;</div>
<div class="line">    map.<a name="a20"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a1df7216265c45816bcdac2b13534d895">buttonUp</a>    = nn::hid::KeyboardKey::UpArrow::Index;</div>
<div class="line">    map.<a name="a21"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a31b4f18eb874401cde83cfaaadf5e31a">buttonDown</a>  = nn::hid::KeyboardKey::DownArrow::Index;</div>
<div class="line">    map.<a name="a22"></a><a class="code" href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#aa281d2e4e1da30fec73c628a630ce668">buttonStart</a> = nn::hid::KeyboardKey::Space::Index;</div>
<div class="line">    <a name="a23"></a><a class="code" href="namespacenn_1_1settings.html#a587f72d281c2ea03b20e8388df404fc7">nn::settings::SetDebugPadKeyboardMap</a>(map);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> PrintUsage()</div>
<div class="line">{</div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;--------------------------------------------------------\n&quot;</span>);</div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;%s Sample\n&quot;</span>, Title);</div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;--------------------------------------------------------\n&quot;</span>);</div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;Command Line Argument: Set buffer length in milliseconds.\n&quot;</span>);</div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;    Minimum: 5 ms, Max: 50 ms\n&quot;</span>);</div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;[Start/Space]   Shut down sample program\n&quot;</span>);</div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;-------------------------------------------------------\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Check the preconditions needed to run the sample.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Because this sample is simple, it is assumed that the following information for audio input and audio output matches.</span></div>
<div class="line"><span class="comment">// - Number of channels.</span></div>
<div class="line"><span class="comment">// - Sampling rate.</span></div>
<div class="line"><span class="comment">// - Sampling format.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">bool</span> CheckAudioInputOutputProperties(<a name="_a24"></a><a class="code" href="structnn_1_1audio_1_1_audio_in.html">nn::audio::AudioIn</a>* pAudioIn, <a name="_a25"></a><a class="code" href="structnn_1_1audio_1_1_audio_out.html">nn::audio::AudioOut</a>* pAudioOut)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(<a name="a26"></a><a class="code" href="namespacenn_1_1audio.html#ae09a8952d37766dd6ea7cec4e4d1618e">nn::audio::GetAudioInChannelCount</a>(pAudioIn) != <a name="a27"></a><a class="code" href="namespacenn_1_1audio.html#aae5ea724a3c41100cce1fbd7b031b64e">nn::audio::GetAudioOutChannelCount</a>(pAudioOut))</div>
<div class="line">    {</div>
<div class="line">        NNS_LOG(<span class="stringliteral">&quot;AudioIn and AudioOut are supposed to have same channel count in this sample.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(<a name="a28"></a><a class="code" href="namespacenn_1_1audio.html#aba56b33544577ad7773c54b6a44107bb">nn::audio::GetAudioInSampleRate</a>(pAudioIn) != <a name="a29"></a><a class="code" href="namespacenn_1_1audio.html#a48e4f07c8ed98d958ec79532f5962b96">nn::audio::GetAudioOutSampleRate</a>(pAudioOut))</div>
<div class="line">    {</div>
<div class="line">        NNS_LOG(<span class="stringliteral">&quot;AudioIn and AudioOut are supposed to have same sample rate in this sample.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(<a name="a30"></a><a class="code" href="namespacenn_1_1audio.html#a7601ac0b7d81fb3f867c8f63165cdab6">nn::audio::GetAudioInSampleFormat</a>(pAudioIn) != <a name="a31"></a><a class="code" href="namespacenn_1_1audio.html#a36250ba99a54f2adbd9bd993f63fc4b4">nn::audio::GetAudioOutSampleFormat</a>(pAudioOut))</div>
<div class="line">    {</div>
<div class="line">        NNS_LOG(<span class="stringliteral">&quot;AudioIn and AudioOut are supposed to have same sample format in this sample.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>MicData</div>
<div class="line">{</div>
<div class="line">    MicData()</div>
<div class="line">    : mutex(<span class="keyword">false</span>)</div>
<div class="line">    , frameSize(0)</div>
<div class="line">    , readIndex(0)</div>
<div class="line">    , writeIndex(0)</div>
<div class="line">    , readyFrames(0)</div>
<div class="line">    , maxFrames(0)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> SetFrameSize(<span class="keywordtype">size_t</span> _frameSize)</div>
<div class="line">    {</div>
<div class="line">        frameSize = _frameSize;</div>
<div class="line">        maxFrames = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(buffer) / frameSize);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> PutFrame(<span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> size)</div>
<div class="line">    {</div>
<div class="line">        <a name="a32"></a><a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(size == frameSize);</div>
<div class="line">        <a name="a33"></a><a class="code" href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a>(size);</div>
<div class="line">        std::lock_guard&lt;nn::os::Mutex&gt; lock(mutex);</div>
<div class="line"> </div>
<div class="line">        memcpy(&amp;buffer[writeIndex * frameSize], data, frameSize);</div>
<div class="line">        writeIndex = (writeIndex + 1) % maxFrames;</div>
<div class="line">        ++readyFrames;</div>
<div class="line">        readyFrames = std::min(readyFrames, maxFrames);</div>
<div class="line">        cond.Signal();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> GetFrameAdd(<span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> size, int32_t volume)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(size == frameSize);</div>
<div class="line">        std::lock_guard&lt;nn::os::Mutex&gt; lock(mutex);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span>(readyFrames &lt;= 0 &amp;&amp; isOpen)</div>
<div class="line">        {</div>
<div class="line">            cond.Wait(mutex);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span>(!isOpen)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        int16_t* in = <span class="keyword">reinterpret_cast&lt;</span>int16_t*<span class="keyword">&gt;</span>(&amp;buffer[readIndex * frameSize]);</div>
<div class="line">        int16_t* out = <span class="keyword">reinterpret_cast&lt;</span>int16_t*<span class="keyword">&gt;</span>(data);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> Q = 15;</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; size / 2; ++i)</div>
<div class="line">        {</div>
<div class="line">            out[i] += <span class="keyword">static_cast&lt;</span>int16_t<span class="keyword">&gt;</span>((in[i] * volume) &gt;&gt; Q);</div>
<div class="line">        }</div>
<div class="line">        memset(&amp;buffer[readIndex * frameSize], 0, frameSize);</div>
<div class="line">        readIndex = (readIndex + 1) % maxFrames;</div>
<div class="line">        --readyFrames;</div>
<div class="line">        <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(readyFrames &gt;= 0);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="namespacenn_1_1cdr.html#a618cf30986f1f7c82657df03cdac58d1">Open</a>()</div>
<div class="line">    {</div>
<div class="line">        isOpen = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="namespacenn_1_1cdr.html#a04c8b09a539bb16619f7036fc3b1973c">Close</a>()</div>
<div class="line">    {</div>
<div class="line">        isOpen = <span class="keyword">false</span>;</div>
<div class="line">        cond.Signal();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> IsOpen()</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> isOpen.load();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="_a34"></a><a class="code" href="classnn_1_1os_1_1_condition_variable.html">nn::os::ConditionVariable</a> cond;</div>
<div class="line">    <a name="_a35"></a><a class="code" href="classnn_1_1os_1_1_mutex.html">nn::os::Mutex</a> mutex;</div>
<div class="line">    <span class="keywordtype">size_t</span> frameSize;</div>
<div class="line">    <span class="keywordtype">int</span> readIndex;</div>
<div class="line">    <span class="keywordtype">int</span> writeIndex;</div>
<div class="line">    <span class="keywordtype">int</span> readyFrames;</div>
<div class="line">    <span class="keywordtype">int</span> maxFrames;</div>
<div class="line">    std::atomic&lt;bool&gt; isOpen;</div>
<div class="line">    <span class="keywordtype">char</span> buffer [4096 * 8];</div>
<div class="line">};</div>
<div class="line">MicData g_MicData[MaxAudioIns];</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>AudioOutArgs</div>
<div class="line">{</div>
<div class="line">    <a name="_a36"></a><a class="code" href="classnn_1_1os_1_1_system_event.html">nn::os::SystemEvent</a>* event;</div>
<div class="line">    <a class="code" href="structnn_1_1audio_1_1_audio_out.html">nn::audio::AudioOut</a>* audioOut;</div>
<div class="line">    std::atomic&lt;bool&gt; isRunning;</div>
<div class="line">};</div>
<div class="line">AudioOutArgs g_OutArgs;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> AudioOutThread(<span class="keywordtype">void</span>* arg)</div>
<div class="line">{</div>
<div class="line">    AudioOutArgs* args = <span class="keyword">reinterpret_cast&lt;</span>AudioOutArgs*<span class="keyword">&gt;</span>(arg);</div>
<div class="line">    <span class="keywordflow">while</span>(args-&gt;isRunning)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Get the buffer that completed recording.</span></div>
<div class="line">        args-&gt;event-&gt;Wait();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(!args-&gt;isRunning)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a name="_a37"></a><a class="code" href="structnn_1_1audio_1_1_audio_out_buffer.html">nn::audio::AudioOutBuffer</a>* pAudioOutBuffer = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">        pAudioOutBuffer = <a name="a38"></a><a class="code" href="namespacenn_1_1audio.html#a9bf1c9d96a5761b3dca59f7f13155ad8">nn::audio::GetReleasedAudioOutBuffer</a>(args-&gt;audioOut);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">int</span> bufferCount = 0;</div>
<div class="line">        <span class="keywordflow">while</span>(pAudioOutBuffer &amp;&amp; args-&gt;isRunning)</div>
<div class="line">        {</div>
<div class="line">            ++bufferCount;</div>
<div class="line">            <span class="comment">// Copy data and register again.</span></div>
<div class="line">            <span class="keywordtype">void</span>* pOutBuffer = <a name="a39"></a><a class="code" href="namespacenn_1_1audio.html#ac60d0ae60bafcbf7b3baae780efcce77">nn::audio::GetAudioOutBufferDataPointer</a>(pAudioOutBuffer);</div>
<div class="line">            <span class="keywordtype">size_t</span> outSize = <a name="a40"></a><a class="code" href="namespacenn_1_1audio.html#a163daf352ea5548b5b9601db735f260c">nn::audio::GetAudioOutBufferDataSize</a>(pAudioOutBuffer);</div>
<div class="line"> </div>
<div class="line">            memset(pOutBuffer, 0, outSize);</div>
<div class="line">            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; MaxAudioIns; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (g_MicData[i].IsOpen())</div>
<div class="line">                {</div>
<div class="line">                    g_MicData[i].GetFrameAdd(pOutBuffer, outSize,  std::numeric_limits&lt;int16_t&gt;::max() / MaxAudioIns);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <a name="a41"></a><a class="code" href="namespacenn_1_1audio.html#adf6ae7da062359e04d32ec1ec51b84a0">nn::audio::AppendAudioOutBuffer</a>(args-&gt;audioOut, pAudioOutBuffer);</div>
<div class="line">            pAudioOutBuffer = <a class="code" href="namespacenn_1_1audio.html#a9bf1c9d96a5761b3dca59f7f13155ad8">nn::audio::GetReleasedAudioOutBuffer</a>(args-&gt;audioOut);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>AudioInArgs</div>
<div class="line">{</div>
<div class="line">    <a name="_a42"></a><a class="code" href="classnn_1_1mem_1_1_standard_allocator.html">nn::mem::StandardAllocator</a>* allocator;</div>
<div class="line">    <a name="_a43"></a><a class="code" href="classnn_1_1os_1_1_event.html">nn::os::Event</a>* shutdownEvent;</div>
<div class="line">    std::atomic&lt;bool&gt; isRunning;</div>
<div class="line">    <span class="keywordtype">size_t</span> dataSize;</div>
<div class="line">};</div>
<div class="line">AudioInArgs g_InArgs;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>AudioInConnection</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> BufferCount = 4;</div>
<div class="line">    <a class="code" href="structnn_1_1audio_1_1_audio_in.html">nn::audio::AudioIn</a> audioIn;</div>
<div class="line">    <a class="code" href="classnn_1_1os_1_1_system_event.html">nn::os::SystemEvent</a> bufferEvent;</div>
<div class="line">    <a name="_a44"></a><a class="code" href="structnn_1_1os_1_1_multi_wait_holder_type.html">nn::os::MultiWaitHolderType</a> bufferHolder;</div>
<div class="line">    <span class="keywordtype">char</span> name[nn::audio::AudioIn::NameLength];</div>
<div class="line">    <a name="_a45"></a><a class="code" href="structnn_1_1audio_1_1_audio_in_buffer.html">nn::audio::AudioInBuffer</a> buffers[BufferCount];</div>
<div class="line">    <span class="keywordtype">void</span>*                    rawBuffers[BufferCount];</div>
<div class="line">    <span class="keywordtype">bool</span> isConnected;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> InitializeConnections(AudioInConnection* connections, AudioInArgs* args)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> bufferSize = <a name="a46"></a><a class="code" href="namespacenn_1_1util.html#a275a3c89db5d0ab915559d8a85f9cbdd">nn::util::align_up</a>(args-&gt;dataSize, <a name="a47"></a><a class="code" href="structnn_1_1audio_1_1_audio_out_buffer.html#aa20555e970c0cf61d80914af41cf3a44">nn::audio::AudioOutBuffer::SizeGranularity</a>);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MaxAudioIns; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span>&amp; connection = connections[i];</div>
<div class="line">        connection.isConnected = <span class="keyword">false</span>;</div>
<div class="line">        memset(connection.name, 0, <span class="keyword">sizeof</span>(connection.name));</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; AudioInConnection::BufferCount; ++j)</div>
<div class="line">        {</div>
<div class="line">            connection.rawBuffers[j] = args-&gt;allocator-&gt;Allocate(bufferSize, <a name="a48"></a><a class="code" href="structnn_1_1audio_1_1_audio_out_buffer.html#aee83fe382b830ee95f7ecd7431ba9f73">nn::audio::AudioOutBuffer::AddressAlignment</a>);</div>
<div class="line">            <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(connection.rawBuffers[j]);</div>
<div class="line">            <a name="a49"></a><a class="code" href="namespacenn_1_1audio.html#aa9ebc560c7c9cb913c9df8c40fceaeca">nn::audio::SetAudioInBufferInfo</a>(&amp;connection.buffers[j], connection.rawBuffers[j], bufferSize, args-&gt;dataSize);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> FinalizeConnections(AudioInConnection* connections, AudioInArgs* args)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MaxAudioIns; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span>&amp; connection = connections[i];</div>
<div class="line">        connection.isConnected = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; AudioInConnection::BufferCount; ++j)</div>
<div class="line">        {</div>
<div class="line">            args-&gt;allocator-&gt;Free(connection.rawBuffers[j]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> OpenConnection(AudioInConnection&amp; connection, <span class="keyword">const</span> <a name="_a50"></a><a class="code" href="structnn_1_1audio_1_1_audio_in_info.html">nn::audio::AudioInInfo</a>&amp; info)</div>
<div class="line">{</div>
<div class="line">    <a name="_a51"></a><a class="code" href="structnn_1_1audio_1_1_audio_in_parameter.html">nn::audio::AudioInParameter</a> param;</div>
<div class="line">    <a name="a52"></a><a class="code" href="namespacenn_1_1audio.html#ac7b8cea2511b7c0621fbaab18e2eb368">nn::audio::InitializeAudioInParameter</a>(&amp;param);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(!<a name="a53"></a><a class="code" href="namespacenn_1_1audio.html#af6ca7def0d62477aa4f20f27fd9c70c6">nn::audio::OpenAudioIn</a>(&amp;connection.audioIn, &amp;connection.bufferEvent, info.<a name="a54"></a><a class="code" href="structnn_1_1audio_1_1_audio_in_info.html#a58a081dbabb379617b681739e283c529">name</a>, param).<a name="a55"></a><a class="code" href="classnn_1_1_result.html#a80792d8ec8b6b9e9b34025100baa67ec">IsSuccess</a>())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; AudioInConnection::BufferCount; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!<a name="a56"></a><a class="code" href="namespacenn_1_1audio.html#a2c217d690202ef43230d4409852f3c1d">nn::audio::AppendAudioInBuffer</a>(&amp;connection.audioIn, &amp;connection.buffers[i]))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!<a name="a57"></a><a class="code" href="namespacenn_1_1audio.html#af72d3c3851733f838d4c7e72a26b307d">nn::audio::StartAudioIn</a>(&amp;connection.audioIn).<a class="code" href="classnn_1_1_result.html#a80792d8ec8b6b9e9b34025100baa67ec">IsSuccess</a>())</div>
<div class="line">    {</div>
<div class="line">        <a name="a58"></a><a class="code" href="namespacenn_1_1audio.html#aea9b579f0edf49dfce4ea62938317b06">nn::audio::CloseAudioIn</a>(&amp;connection.audioIn);</div>
<div class="line">        <a name="a59"></a><a class="code" href="namespacenn_1_1os.html#a3d924bc362ec80648323428be5182338">nn::os::DestroySystemEvent</a>(connection.bufferEvent.GetBase());</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(!CheckAudioInputOutputProperties(&amp;connection.audioIn, g_OutArgs.audioOut))</div>
<div class="line">    {</div>
<div class="line">        <a name="a60"></a><a class="code" href="namespacenn_1_1audio.html#a29049cc380b643521d79d058a62d9e93">nn::audio::StopAudioIn</a>(&amp;connection.audioIn);</div>
<div class="line">        <a class="code" href="namespacenn_1_1audio.html#aea9b579f0edf49dfce4ea62938317b06">nn::audio::CloseAudioIn</a>(&amp;connection.audioIn);</div>
<div class="line">        <a class="code" href="namespacenn_1_1os.html#a3d924bc362ec80648323428be5182338">nn::os::DestroySystemEvent</a>(connection.bufferEvent.GetBase());</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    connection.isConnected = <span class="keyword">true</span>;</div>
<div class="line">    strcpy(connection.name, info.<a class="code" href="structnn_1_1audio_1_1_audio_in_info.html#a58a081dbabb379617b681739e283c529">name</a>);</div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;Start audio echoback: %s\n&quot;</span>, connection.name);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> CloseConnection(AudioInConnection&amp; connection)</div>
<div class="line">{</div>
<div class="line">    <a name="a61"></a><a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>(connection.isConnected);</div>
<div class="line">    <a class="code" href="namespacenn_1_1audio.html#a29049cc380b643521d79d058a62d9e93">nn::audio::StopAudioIn</a>(&amp;connection.audioIn);</div>
<div class="line">    <a class="code" href="namespacenn_1_1audio.html#aea9b579f0edf49dfce4ea62938317b06">nn::audio::CloseAudioIn</a>(&amp;connection.audioIn);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a3d924bc362ec80648323428be5182338">nn::os::DestroySystemEvent</a>(connection.bufferEvent.GetBase());</div>
<div class="line"> </div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;Stop %s\n&quot;</span>, connection.name);</div>
<div class="line">    connection.isConnected = <span class="keyword">false</span>;</div>
<div class="line">    memset(connection.name, 0, <span class="keyword">sizeof</span>(connection.name));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> FindAvailableConnection(AudioInConnection* connections, <a class="code" href="structnn_1_1audio_1_1_audio_in_info.html">nn::audio::AudioInInfo</a>* infos, <span class="keywordtype">int</span> infoCount, <span class="keywordtype">int</span> offset)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = offset; i &lt; infoCount; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span>&amp; info = infos[i];</div>
<div class="line">        <span class="keywordtype">bool</span> infoConnected = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; MaxAudioIns; ++j)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span>&amp; connection = connections[j];</div>
<div class="line">            <span class="keywordflow">if</span> (connection.isConnected &amp;&amp; strcmp(info.<a class="code" href="structnn_1_1audio_1_1_audio_in_info.html#a58a081dbabb379617b681739e283c529">name</a>, connection.name) == 0)</div>
<div class="line">            {</div>
<div class="line">                infoConnected = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (!infoConnected)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> i;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> HandleConnect(AudioInConnection* connections, <a name="_a62"></a><a class="code" href="structnn_1_1os_1_1_multi_wait_type.html">nn::os::MultiWaitType</a>&amp; multiWait)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structnn_1_1audio_1_1_audio_in_info.html">nn::audio::AudioInInfo</a> audioInInfos[8];</div>
<div class="line">    <span class="keywordtype">int</span> count = <a name="a63"></a><a class="code" href="namespacenn_1_1audio.html#a183262306a7103d73852c3842af67e8a">nn::audio::ListAudioIns</a>(&amp;audioInInfos[0], 8);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> offset = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MaxAudioIns; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span>&amp; connection = connections[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!connection.isConnected)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> index = FindAvailableConnection(connections, audioInInfos, count, offset);</div>
<div class="line">            <span class="keywordflow">if</span> (index != -1)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (OpenConnection(connection, audioInInfos[index]))</div>
<div class="line">                {</div>
<div class="line">                    <a name="a64"></a><a class="code" href="namespacenn_1_1os.html#a4f8d998425d067cb5fec2604ae7845dc">nn::os::InitializeMultiWaitHolder</a>(&amp;connection.bufferHolder, connection.bufferEvent.GetBase());</div>
<div class="line">                    <a name="a65"></a><a class="code" href="namespacenn_1_1os.html#a05af1a7e142f1ece42a53fe41085f53b">nn::os::SetMultiWaitHolderUserData</a>(&amp;connection.bufferHolder, <span class="keyword">static_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(i));</div>
<div class="line">                    <a name="a66"></a><a class="code" href="namespacenn_1_1os.html#a7cd9b25e14bee063959eb9e7f62a4aa8">nn::os::LinkMultiWaitHolder</a>(&amp;multiWait, &amp;connection.bufferHolder);</div>
<div class="line">                    g_MicData[i].Open();</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    ++offset;</div>
<div class="line">                    --i;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> HandleDisconnect(AudioInConnection* connections, <span class="keywordtype">bool</span> forceDisconnect)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structnn_1_1audio_1_1_audio_in_info.html">nn::audio::AudioInInfo</a> audioInInfos[8];</div>
<div class="line">    <span class="keywordtype">int</span> count = <a class="code" href="namespacenn_1_1audio.html#a183262306a7103d73852c3842af67e8a">nn::audio::ListAudioIns</a>(&amp;audioInInfos[0], 8);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MaxAudioIns; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span>&amp; connection = connections[i];</div>
<div class="line">        <span class="keywordtype">bool</span> shouldClose = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!connection.isConnected)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; count; ++j)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span>&amp; info = audioInInfos[j];</div>
<div class="line">            <span class="keywordflow">if</span> (strcmp(info.<a class="code" href="structnn_1_1audio_1_1_audio_in_info.html#a58a081dbabb379617b681739e283c529">name</a>, connection.name) == 0)</div>
<div class="line">            {</div>
<div class="line">                shouldClose = <span class="keyword">false</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (shouldClose || forceDisconnect)</div>
<div class="line">        {</div>
<div class="line">            CloseConnection(connection);</div>
<div class="line">            <a name="a67"></a><a class="code" href="namespacenn_1_1os.html#a07c9c7bbc51249b69dc2361957fd650b">nn::os::UnlinkMultiWaitHolder</a>(&amp;connection.bufferHolder);</div>
<div class="line">            <a name="a68"></a><a class="code" href="namespacenn_1_1os.html#a2de358e6bfa261b74c399b5b59c0da1d">nn::os::FinalizeMultiWaitHolder</a>(&amp;connection.bufferHolder);</div>
<div class="line">            g_MicData[i].Close();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> HandleUpdate(AudioInConnection&amp; connection, <span class="keywordtype">int</span> index)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structnn_1_1audio_1_1_audio_in_buffer.html">nn::audio::AudioInBuffer</a>* pAudioInBuffer = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">    pAudioInBuffer = <a name="a69"></a><a class="code" href="namespacenn_1_1audio.html#a4fe3341bdd916299f38a8eaa2c8de534">nn::audio::GetReleasedAudioInBuffer</a>(&amp;connection.audioIn);</div>
<div class="line">    <span class="keywordflow">while</span> (pAudioInBuffer)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Copy data and register again.</span></div>
<div class="line">        <span class="keywordtype">void</span>* pInBuffer = <a name="a70"></a><a class="code" href="namespacenn_1_1audio.html#ae5fe3dfc47ec857f420675315f4f468d">nn::audio::GetAudioInBufferDataPointer</a>(pAudioInBuffer);</div>
<div class="line">        <span class="keywordtype">size_t</span> inSize = <a name="a71"></a><a class="code" href="namespacenn_1_1audio.html#a0e9e4271b6f713c2f0fee3e3dcdc1684">nn::audio::GetAudioInBufferDataSize</a>(pAudioInBuffer);</div>
<div class="line"> </div>
<div class="line">        g_MicData[index].PutFrame(pInBuffer, inSize);</div>
<div class="line">        <a class="code" href="namespacenn_1_1audio.html#a2c217d690202ef43230d4409852f3c1d">nn::audio::AppendAudioInBuffer</a>(&amp;connection.audioIn, pAudioInBuffer);</div>
<div class="line">        pAudioInBuffer = <a class="code" href="namespacenn_1_1audio.html#a4fe3341bdd916299f38a8eaa2c8de534">nn::audio::GetReleasedAudioInBuffer</a>(&amp;connection.audioIn);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> AudioInThread(<span class="keywordtype">void</span>* arg)</div>
<div class="line">{</div>
<div class="line">    AudioInArgs* args = <span class="keyword">reinterpret_cast&lt;</span>AudioInArgs*<span class="keyword">&gt;</span>(arg);</div>
<div class="line">    AudioInConnection connections[MaxAudioIns];</div>
<div class="line">    <a class="code" href="structnn_1_1os_1_1_multi_wait_type.html">nn::os::MultiWaitType</a>           multiWait;</div>
<div class="line">    <a class="code" href="structnn_1_1os_1_1_multi_wait_holder_type.html">nn::os::MultiWaitHolderType</a>     hotplugHolder;</div>
<div class="line">    <a class="code" href="structnn_1_1os_1_1_multi_wait_holder_type.html">nn::os::MultiWaitHolderType</a>     shutdownHolder;</div>
<div class="line"> </div>
<div class="line">    <a name="a72"></a><a class="code" href="namespacenn_1_1os.html#a48e6662e7fdf9f78bcae79ba94d64a93">nn::os::InitializeMultiWait</a>( &amp;multiWait );</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a4f8d998425d067cb5fec2604ae7845dc">nn::os::InitializeMultiWaitHolder</a>(&amp;shutdownHolder, args-&gt;shutdownEvent-&gt;GetBase());</div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a7cd9b25e14bee063959eb9e7f62a4aa8">nn::os::LinkMultiWaitHolder</a>(&amp;multiWait, &amp;shutdownHolder);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> uintptr_t HotplugData = 0xFFFFFFFF;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnn_1_1os_1_1_system_event.html">nn::os::SystemEvent</a> hotplugEvent;</div>
<div class="line">    <span class="keyword">auto</span> attachEventResult = AcquireAudioInDeviceNotification(&amp;hotplugEvent);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(attachEventResult.IsSuccess())</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacenn_1_1os.html#a4f8d998425d067cb5fec2604ae7845dc">nn::os::InitializeMultiWaitHolder</a>(&amp;hotplugHolder, hotplugEvent.<a name="a73"></a><a class="code" href="classnn_1_1os_1_1_system_event.html#a27b971688da923a2eac49061327552fe">GetBase</a>());</div>
<div class="line">        <a class="code" href="namespacenn_1_1os.html#a05af1a7e142f1ece42a53fe41085f53b">nn::os::SetMultiWaitHolderUserData</a>(&amp;hotplugHolder, HotplugData);</div>
<div class="line">        <a class="code" href="namespacenn_1_1os.html#a7cd9b25e14bee063959eb9e7f62a4aa8">nn::os::LinkMultiWaitHolder</a>(&amp;multiWait, &amp;hotplugHolder);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    InitializeConnections(connections, args);</div>
<div class="line">    HandleConnect(connections, multiWait);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span>(args-&gt;isRunning)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> holder = <a name="a74"></a><a class="code" href="namespacenn_1_1os.html#ab9b837eb53fa2c8a9610cec2b69666fd">nn::os::WaitAny</a>(&amp;multiWait);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(!args-&gt;isRunning)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (holder == <span class="keyword">nullptr</span>)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> data = <a name="a75"></a><a class="code" href="namespacenn_1_1os.html#a9e8c73312415fc00c72808fcc00fea33">nn::os::GetMultiWaitHolderUserData</a>(holder);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (data != HotplugData)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> index = data;</div>
<div class="line">            <span class="keyword">auto</span>&amp; connection = connections[index];</div>
<div class="line">            connection.bufferEvent.Clear();</div>
<div class="line">            HandleUpdate(connection, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(index));</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            HandleDisconnect(connections, <span class="keyword">false</span>);</div>
<div class="line">            HandleConnect(connections, multiWait);</div>
<div class="line">            hotplugEvent.<a name="a76"></a><a class="code" href="classnn_1_1os_1_1_system_event.html#a42a18d99d1cdef662db7b16151f80c46">Clear</a>();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    HandleDisconnect(connections, <span class="keyword">true</span>);</div>
<div class="line">    FinalizeConnections(connections, args);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(attachEventResult.IsSuccess())</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacenn_1_1os.html#a07c9c7bbc51249b69dc2361957fd650b">nn::os::UnlinkMultiWaitHolder</a>(&amp;hotplugHolder);</div>
<div class="line">        <a class="code" href="namespacenn_1_1os.html#a2de358e6bfa261b74c399b5b59c0da1d">nn::os::FinalizeMultiWaitHolder</a>(&amp;hotplugHolder);</div>
<div class="line">        <a class="code" href="namespacenn_1_1os.html#a3d924bc362ec80648323428be5182338">nn::os::DestroySystemEvent</a>(hotplugEvent.<a class="code" href="classnn_1_1os_1_1_system_event.html#a27b971688da923a2eac49061327552fe">GetBase</a>());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a07c9c7bbc51249b69dc2361957fd650b">nn::os::UnlinkMultiWaitHolder</a>(&amp;shutdownHolder);</div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a2de358e6bfa261b74c399b5b59c0da1d">nn::os::FinalizeMultiWaitHolder</a>(&amp;shutdownHolder);</div>
<div class="line"> </div>
<div class="line">    <a name="a77"></a><a class="code" href="namespacenn_1_1os.html#a60873f9b623e014948a9ea53a611da4c">nn::os::FinalizeMultiWait</a>(&amp;multiWait);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// Namespace.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// The main function.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> nnMain()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classnn_1_1mem_1_1_standard_allocator.html">nn::mem::StandardAllocator</a> allocator(g_HeapBuffer, <span class="keyword">sizeof</span>(g_HeapBuffer));</div>
<div class="line">    InitializeHidDevices();</div>
<div class="line">    PrintUsage();</div>
<div class="line"> </div>
<div class="line">    <a name="_a78"></a><a class="code" href="structnn_1_1audio_1_1_audio_out_parameter.html">nn::audio::AudioOutParameter</a> audioOutParameter;</div>
<div class="line">    <a class="code" href="structnn_1_1audio_1_1_audio_out.html">nn::audio::AudioOut</a> audioOut;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> argc = <a name="a79"></a><a class="code" href="namespacenn_1_1os.html#acf2fa6b7b7074a51d0b2de1664cc7bb5">nn::os::GetHostArgc</a>();</div>
<div class="line">    <span class="keyword">auto</span> argv = <a name="a80"></a><a class="code" href="namespacenn_1_1os.html#abd77e6bf19be140867869cc759fa492c">nn::os::GetHostArgv</a>();</div>
<div class="line">    <span class="keywordtype">int</span> bufferLengthInMilliseconds = 50;</div>
<div class="line">    <span class="keywordflow">if</span>(argc &gt;= 2)</div>
<div class="line">    {</div>
<div class="line">        bufferLengthInMilliseconds = atoi(argv[1]);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(bufferLengthInMilliseconds &gt; 50 || bufferLengthInMilliseconds &lt; 0)</div>
<div class="line">    {</div>
<div class="line">        NNS_LOG(<span class="stringliteral">&quot;Clamping bufferLengthInMilliseconds from %d to 50\n&quot;</span>, bufferLengthInMilliseconds);</div>
<div class="line">        bufferLengthInMilliseconds = 50;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="classnn_1_1os_1_1_system_event.html">nn::os::SystemEvent</a> audioOutSystemEvent;</div>
<div class="line">    <span class="comment">// Open audio input and audio output.</span></div>
<div class="line"> </div>
<div class="line">    <a name="a81"></a><a class="code" href="namespacenn_1_1audio.html#a53eb3602be04d214fd6973fa4b63e637">nn::audio::InitializeAudioOutParameter</a>(&amp;audioOutParameter);</div>
<div class="line">    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>(</div>
<div class="line">        <a name="a82"></a><a class="code" href="namespacenn_1_1audio.html#a7d4ddedf1f043b725b4e3a5236a05417">nn::audio::OpenDefaultAudioOut</a>(&amp;audioOut, &amp;audioOutSystemEvent, audioOutParameter).IsSuccess(),</div>
<div class="line">        <span class="stringliteral">&quot;Failed to open AudioOut.&quot;</span></div>
<div class="line">    );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> channelCount = <a class="code" href="namespacenn_1_1audio.html#aae5ea724a3c41100cce1fbd7b031b64e">nn::audio::GetAudioOutChannelCount</a>(&amp;audioOut);</div>
<div class="line">    <span class="keywordtype">int</span> sampleRate = <a class="code" href="namespacenn_1_1audio.html#a48e4f07c8ed98d958ec79532f5962b96">nn::audio::GetAudioOutSampleRate</a>(&amp;audioOut);</div>
<div class="line">    <a class="code" href="namespacenn_1_1audio.html#a2edc363ab06840fc2eaf2acb551bf0c1">nn::audio::SampleFormat</a> sampleFormat = <a class="code" href="namespacenn_1_1audio.html#a36250ba99a54f2adbd9bd993f63fc4b4">nn::audio::GetAudioOutSampleFormat</a>(&amp;audioOut);</div>
<div class="line">    <span class="comment">// Prepare parameters for the buffer.</span></div>
<div class="line">    NNS_LOG(<span class="stringliteral">&quot;bufferLengthInMilliseconds = %d\n&quot;</span>, bufferLengthInMilliseconds);</div>
<div class="line">    <span class="keywordtype">int</span> millisecondsPerSecond = 1000;</div>
<div class="line">    <span class="keywordtype">int</span> frameRate = millisecondsPerSecond / bufferLengthInMilliseconds;</div>
<div class="line">    <span class="keywordtype">int</span> frameSampleCount = sampleRate / frameRate;</div>
<div class="line">    <span class="keywordtype">size_t</span> dataSize = frameSampleCount * channelCount * <a name="a83"></a><a class="code" href="namespacenn_1_1audio.html#a20de4a3eb5e5c4fba0f3b45e0b9e24c8">nn::audio::GetSampleByteSize</a>(sampleFormat);</div>
<div class="line">    <span class="keywordtype">size_t</span> bufferSize = <a class="code" href="namespacenn_1_1util.html#a275a3c89db5d0ab915559d8a85f9cbdd">nn::util::align_up</a>(dataSize, <a class="code" href="structnn_1_1audio_1_1_audio_out_buffer.html#aa20555e970c0cf61d80914af41cf3a44">nn::audio::AudioOutBuffer::SizeGranularity</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> outBufferCount = 3;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; MaxAudioIns; ++i)</div>
<div class="line">    {</div>
<div class="line">        g_MicData[i].SetFrameSize(dataSize);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Allocate and add a buffer.</span></div>
<div class="line">    <a class="code" href="structnn_1_1audio_1_1_audio_out_buffer.html">nn::audio::AudioOutBuffer</a> audioOutBuffer[outBufferCount];</div>
<div class="line">    <span class="keywordtype">void</span>* outBuffer[outBufferCount];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outBufferCount; ++i)</div>
<div class="line">        {</div>
<div class="line">            outBuffer[i] = allocator.Allocate(bufferSize, <a class="code" href="structnn_1_1audio_1_1_audio_out_buffer.html#aee83fe382b830ee95f7ecd7431ba9f73">nn::audio::AudioOutBuffer::AddressAlignment</a>);</div>
<div class="line">            <a class="code" href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a>(outBuffer[i]);</div>
<div class="line">            std::memset(outBuffer[i], 0, bufferSize);</div>
<div class="line">            <a name="a84"></a><a class="code" href="namespacenn_1_1audio.html#aa1ffe215f031b4b64e1cce6fe195b5c4">nn::audio::SetAudioOutBufferInfo</a>(&amp;audioOutBuffer[i], outBuffer[i], bufferSize, dataSize);</div>
<div class="line">            <a class="code" href="namespacenn_1_1audio.html#adf6ae7da062359e04d32ec1ec51b84a0">nn::audio::AppendAudioOutBuffer</a>(&amp;audioOut, &amp;audioOutBuffer[i]);</div>
<div class="line">        }</div>
<div class="line">    <span class="comment">// Start recording and playback.</span></div>
<div class="line">    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>(</div>
<div class="line">        <a name="a85"></a><a class="code" href="namespacenn_1_1audio.html#aa522149d7a0b48763dd5c1eb32609505">nn::audio::StartAudioOut</a>(&amp;audioOut).IsSuccess(),</div>
<div class="line">        <span class="stringliteral">&quot;Failed to start AudioOut.&quot;</span></div>
<div class="line">    );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Wait one frame.</span></div>
<div class="line">    <span class="keyword">const</span> <a name="_a86"></a><a class="code" href="classnn_1_1_time_span.html">nn::TimeSpan</a> interval(<a name="a87"></a><a class="code" href="classnn_1_1_time_span.html#aa37aa3f4100a51ad1cc91710a481e6cd">nn::TimeSpan::FromNanoSeconds</a>(1000 * 1000 * 1000 / frameRate));</div>
<div class="line">    <a name="a88"></a><a class="code" href="namespacenn_1_1os.html#a96b335e87af44c60a0d6dca75f11c9d2">nn::os::SleepThread</a>(interval);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Perform echo back for 15 seconds.</span></div>
<div class="line"> </div>
<div class="line">    g_OutArgs.event = &amp;audioOutSystemEvent;</div>
<div class="line">    g_OutArgs.audioOut = &amp;audioOut;</div>
<div class="line">    g_OutArgs.isRunning = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classnn_1_1os_1_1_event.html">nn::os::Event</a> audioInShutdownEvent (<a name="a89"></a><a class="code" href="namespacenn_1_1os.html#a11ab71d44973a4135958c420e5682452a8b702480f5120eeeb01e7102227285da">nn::os::EventClearMode_ManualClear</a>);</div>
<div class="line">    g_InArgs.isRunning = <span class="keyword">true</span>;</div>
<div class="line">    g_InArgs.allocator = &amp;allocator;</div>
<div class="line">    g_InArgs.dataSize = dataSize;</div>
<div class="line">    g_InArgs.shutdownEvent = &amp;audioInShutdownEvent;</div>
<div class="line"> </div>
<div class="line">    <a name="a90"></a><a class="code" href="namespacenn_1_1os.html#a75f43e1d3c194c0d2173ef5d95785933">nn::os::CreateThread</a>(&amp;g_AudioInThread, AudioInThread, &amp;g_InArgs, g_AudioInThreadStack,</div>
<div class="line">                ThreadStackSize, <a name="a91"></a><a class="code" href="namespacenn_1_1os.html#a44ed3b4dddf9ebfb69bc33167369b816">nn::os::HighestThreadPriority</a>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a75f43e1d3c194c0d2173ef5d95785933">nn::os::CreateThread</a>(&amp;g_AudioOutThread, AudioOutThread, &amp;g_OutArgs, g_AudioOutThreadStack,</div>
<div class="line">                    ThreadStackSize, <a class="code" href="namespacenn_1_1os.html#a44ed3b4dddf9ebfb69bc33167369b816">nn::os::HighestThreadPriority</a>);</div>
<div class="line"> </div>
<div class="line">    <a name="a92"></a><a class="code" href="namespacenn_1_1os.html#a18eec7c4c4c298f7abaa9ef41d6de76b">nn::os::StartThread</a>(&amp;g_AudioInThread);</div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a18eec7c4c4c298f7abaa9ef41d6de76b">nn::os::StartThread</a>(&amp;g_AudioOutThread);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>(;;)</div>
<div class="line">    {</div>
<div class="line">        <a name="_a93"></a><a class="code" href="structnn_1_1util_1_1_bit_flag_set.html">nn::hid::NpadButtonSet</a> npadButtonCurrent = {};</div>
<div class="line">        <a class="code" href="structnn_1_1util_1_1_bit_flag_set.html">nn::hid::NpadButtonSet</a> npadButtonDown = {};</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Get the Npad input.</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a94"></a><a class="code" href="namespacenn_1_1hid.html#a50e56789aa106765d43935bb1838c797">nn::hid::GetNpadStyleSet</a>(<a class="code" href="structnn_1_1hid_1_1_npad_id.html#aa0b93745c1c6de72c1fd2174f35c8ed9">nn::hid::NpadId::No1</a>).Test&lt;nn::hid::NpadStyleFullKey&gt;())</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">static</span> <a name="_a95"></a><a class="code" href="structnn_1_1hid_1_1_npad_full_key_state.html">nn::hid::NpadFullKeyState</a> npadFullKeyState = {};</div>
<div class="line">            <a class="code" href="structnn_1_1hid_1_1_npad_full_key_state.html">nn::hid::NpadFullKeyState</a> state;</div>
<div class="line">            <a name="a96"></a><a class="code" href="namespacenn_1_1hid.html#a1ea1131389075ff5c5d5911dd6da9b8f">nn::hid::GetNpadState</a>(&amp;state, <a class="code" href="structnn_1_1hid_1_1_npad_id.html#aa0b93745c1c6de72c1fd2174f35c8ed9">nn::hid::NpadId::No1</a>);</div>
<div class="line">            npadButtonCurrent |= state.<a name="a97"></a><a class="code" href="structnn_1_1hid_1_1_npad_full_key_state.html#ab47273cb70afeff22b5a21a62db2abab">buttons</a>;</div>
<div class="line">            npadButtonDown |= state.<a class="code" href="structnn_1_1hid_1_1_npad_full_key_state.html#ab47273cb70afeff22b5a21a62db2abab">buttons</a> &amp; ~npadFullKeyState.<a class="code" href="structnn_1_1hid_1_1_npad_full_key_state.html#ab47273cb70afeff22b5a21a62db2abab">buttons</a>;</div>
<div class="line">            npadFullKeyState = state;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="namespacenn_1_1hid.html#a50e56789aa106765d43935bb1838c797">nn::hid::GetNpadStyleSet</a>(<a class="code" href="structnn_1_1hid_1_1_npad_id.html#afc19a9a80ac740645b567fc7e1dc36cf">nn::hid::NpadId::Handheld</a>).Test&lt;nn::hid::NpadStyleHandheld&gt;())</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">static</span> <a name="_a98"></a><a class="code" href="structnn_1_1hid_1_1_npad_handheld_state.html">nn::hid::NpadHandheldState</a> npadHandheldState = {};</div>
<div class="line">            <a class="code" href="structnn_1_1hid_1_1_npad_handheld_state.html">nn::hid::NpadHandheldState</a> state;</div>
<div class="line">            <a class="code" href="namespacenn_1_1hid.html#a1ea1131389075ff5c5d5911dd6da9b8f">nn::hid::GetNpadState</a>(&amp;state, <a class="code" href="structnn_1_1hid_1_1_npad_id.html#afc19a9a80ac740645b567fc7e1dc36cf">nn::hid::NpadId::Handheld</a>);</div>
<div class="line">            npadButtonCurrent |= state.<a name="a99"></a><a class="code" href="structnn_1_1hid_1_1_npad_handheld_state.html#a70f94ae42e5414c591583cb9a70877a3">buttons</a>;</div>
<div class="line">            npadButtonDown |= state.<a class="code" href="structnn_1_1hid_1_1_npad_handheld_state.html#a70f94ae42e5414c591583cb9a70877a3">buttons</a> &amp; ~npadHandheldState.<a class="code" href="structnn_1_1hid_1_1_npad_handheld_state.html#a70f94ae42e5414c591583cb9a70877a3">buttons</a>;</div>
<div class="line">            npadHandheldState = state;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Get the input from the DebugPad.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">static</span> <a name="_a100"></a><a class="code" href="structnn_1_1hid_1_1_debug_pad_state.html">nn::hid::DebugPadState</a> debugPadState = {};</div>
<div class="line">            <a name="_a101"></a><a class="code" href="structnn_1_1util_1_1_bit_flag_set.html">nn::hid::DebugPadButtonSet</a> debugPadButtonCurrent = {};</div>
<div class="line">            <a class="code" href="structnn_1_1util_1_1_bit_flag_set.html">nn::hid::DebugPadButtonSet</a> debugPadButtonDown = {};</div>
<div class="line">            <a class="code" href="structnn_1_1hid_1_1_debug_pad_state.html">nn::hid::DebugPadState</a> state;</div>
<div class="line">            <a name="a102"></a><a class="code" href="namespacenn_1_1hid.html#ad6819dc9ed7d781a23a0a44cd2a7f86c">nn::hid::GetDebugPadState</a>(&amp;state);</div>
<div class="line">            debugPadButtonCurrent |= state.<a name="a103"></a><a class="code" href="structnn_1_1hid_1_1_debug_pad_state.html#ab4522c3704007142e1e0619e5ed0f06e">buttons</a>;</div>
<div class="line">            debugPadButtonDown |= state.<a class="code" href="structnn_1_1hid_1_1_debug_pad_state.html#ab4522c3704007142e1e0619e5ed0f06e">buttons</a> &amp; ~debugPadState.<a class="code" href="structnn_1_1hid_1_1_debug_pad_state.html#ab4522c3704007142e1e0619e5ed0f06e">buttons</a>;</div>
<div class="line">            debugPadState = state;</div>
<div class="line">            nns::audio::ConvertDebugPadButtonsToNpadButtons(&amp;npadButtonCurrent, debugPadButtonCurrent);</div>
<div class="line">            nns::audio::ConvertDebugPadButtonsToNpadButtons(&amp;npadButtonDown, debugPadButtonDown);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(npadButtonDown.<a name="a104"></a><a class="code" href="structnn_1_1util_1_1_bit_flag_set.html#af92d51c7b0aca41999111cace76172c6">Test</a>&lt; ::<a name="_a105"></a><a class="code" href="structnn_1_1util_1_1_bit_flag_set_1_1_flag.html">nn::hid::NpadButton::Plus</a> &gt;())</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="namespacenn_1_1os.html#a96b335e87af44c60a0d6dca75f11c9d2">nn::os::SleepThread</a>(<a name="a106"></a><a class="code" href="classnn_1_1_time_span.html#a2441d3c84cc24b901342ce11f87cd39c">nn::TimeSpan::FromMilliSeconds</a>(5));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    g_OutArgs.isRunning = <span class="keyword">false</span>;</div>
<div class="line">    <a name="a107"></a><a class="code" href="namespacenn_1_1os.html#a8070c91be85c5ccb36b56e9ff3a75b26">nn::os::WaitThread</a>(&amp;g_AudioOutThread);</div>
<div class="line"> </div>
<div class="line">    g_InArgs.isRunning = <span class="keyword">false</span>;</div>
<div class="line">    audioInShutdownEvent.Signal();</div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a8070c91be85c5ccb36b56e9ff3a75b26">nn::os::WaitThread</a>(&amp;g_AudioInThread);</div>
<div class="line"> </div>
<div class="line">    <a name="a108"></a><a class="code" href="namespacenn_1_1os.html#a9dbfcfb82583a9e34431e8c11d2411dd">nn::os::DestroyThread</a>(&amp;g_AudioInThread);</div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a9dbfcfb82583a9e34431e8c11d2411dd">nn::os::DestroyThread</a>(&amp;g_AudioOutThread);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Stop recording and playback.</span></div>
<div class="line">    <a name="a109"></a><a class="code" href="namespacenn_1_1audio.html#ad908ac057d85fa7d4d4c4f047edc6c4d">nn::audio::StopAudioOut</a>(&amp;audioOut);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Close audio input and audio output.</span></div>
<div class="line">    <a name="a110"></a><a class="code" href="namespacenn_1_1audio.html#abecd28c6321841cde54d0d16a8800da4">nn::audio::CloseAudioOut</a>(&amp;audioOut);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacenn_1_1os.html#a3d924bc362ec80648323428be5182338">nn::os::DestroySystemEvent</a>(audioOutSystemEvent.<a class="code" href="classnn_1_1os_1_1_system_event.html#a27b971688da923a2eac49061327552fe">GetBase</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free memory.</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outBufferCount; ++i)</div>
<div class="line">    {</div>
<div class="line">        allocator.Free(outBuffer[i]);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">} <span class="comment">// NOLINT(readability/fn_size)</span></div>
<div class="ttc" id="aaudio_8h_html"><div class="ttname"><a href="audio_8h.html">audio.h</a></div><div class="ttdoc">Declarations for the audio library API.</div></div>
<div class="ttc" id="aclassnn_1_1_result_html_a80792d8ec8b6b9e9b34025100baa67ec"><div class="ttname"><a href="classnn_1_1_result.html#a80792d8ec8b6b9e9b34025100baa67ec">nn::Result::IsSuccess</a></div><div class="ttdeci">bool IsSuccess() const NN_NOEXCEPT</div><div class="ttdoc">Gets a bool value indicating success or failure.</div><div class="ttdef"><b>Definition:</b> nn_Result.h:50</div></div>
<div class="ttc" id="aclassnn_1_1_time_span_html"><div class="ttname"><a href="classnn_1_1_time_span.html">nn::TimeSpan</a></div><div class="ttdoc">This class represents a length of time.</div><div class="ttdef"><b>Definition:</b> nn_TimeSpan.h:456</div></div>
<div class="ttc" id="aclassnn_1_1_time_span_html_a2441d3c84cc24b901342ce11f87cd39c"><div class="ttname"><a href="classnn_1_1_time_span.html#a2441d3c84cc24b901342ce11f87cd39c">nn::TimeSpan::FromMilliSeconds</a></div><div class="ttdeci">static constexpr TimeSpan FromMilliSeconds(int64_t milliSeconds) NN_NOEXCEPT</div><div class="ttdoc">Generates a TimeSpan object from a milliseconds value.</div><div class="ttdef"><b>Definition:</b> nn_TimeSpan.h:550</div></div>
<div class="ttc" id="aclassnn_1_1_time_span_html_aa37aa3f4100a51ad1cc91710a481e6cd"><div class="ttname"><a href="classnn_1_1_time_span.html#aa37aa3f4100a51ad1cc91710a481e6cd">nn::TimeSpan::FromNanoSeconds</a></div><div class="ttdeci">static constexpr TimeSpan FromNanoSeconds(int64_t nanoSeconds) NN_NOEXCEPT</div><div class="ttdoc">Generates a TimeSpan object from a value specified in nanoseconds.</div><div class="ttdef"><b>Definition:</b> nn_TimeSpan.h:524</div></div>
<div class="ttc" id="aclassnn_1_1mem_1_1_standard_allocator_html"><div class="ttname"><a href="classnn_1_1mem_1_1_standard_allocator.html">nn::mem::StandardAllocator</a></div><div class="ttdoc">Class for managing memory.</div><div class="ttdef"><b>Definition:</b> mem_StandardAllocator.h:35</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_condition_variable_html"><div class="ttname"><a href="classnn_1_1os_1_1_condition_variable.html">nn::os::ConditionVariable</a></div><div class="ttdoc">Class for handling condition variables.</div><div class="ttdef"><b>Definition:</b> os_ConditionVariable.h:45</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_event_html"><div class="ttname"><a href="classnn_1_1os_1_1_event.html">nn::os::Event</a></div><div class="ttdoc">Class for handling events.</div><div class="ttdef"><b>Definition:</b> os_Event.h:42</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_mutex_html"><div class="ttname"><a href="classnn_1_1os_1_1_mutex.html">nn::os::Mutex</a></div><div class="ttdoc">Class for handling mutexes.</div><div class="ttdef"><b>Definition:</b> os_Mutex.h:47</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_system_event_html"><div class="ttname"><a href="classnn_1_1os_1_1_system_event.html">nn::os::SystemEvent</a></div><div class="ttdoc">Class for handling system events.</div><div class="ttdef"><b>Definition:</b> os_SystemEvent.h:46</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_system_event_html_a27b971688da923a2eac49061327552fe"><div class="ttname"><a href="classnn_1_1os_1_1_system_event.html#a27b971688da923a2eac49061327552fe">nn::os::SystemEvent::GetBase</a></div><div class="ttdeci">SystemEventType * GetBase() NN_NOEXCEPT</div><div class="ttdoc">Gets a pointer to this instance's SystemEventType object.</div><div class="ttdef"><b>Definition:</b> os_SystemEvent.h:389</div></div>
<div class="ttc" id="aclassnn_1_1os_1_1_system_event_html_a42a18d99d1cdef662db7b16151f80c46"><div class="ttname"><a href="classnn_1_1os_1_1_system_event.html#a42a18d99d1cdef662db7b16151f80c46">nn::os::SystemEvent::Clear</a></div><div class="ttdeci">void Clear() NN_NOEXCEPT</div><div class="ttdoc">Clears the system event to the nonsignaled state.</div><div class="ttdef"><b>Definition:</b> os_SystemEvent.h:310</div></div>
<div class="ttc" id="ahid___keyboard_key_8h_html"><div class="ttname"><a href="hid___keyboard_key_8h.html">hid_KeyboardKey.h</a></div><div class="ttdoc">API declarations for the keyboard keys.</div></div>
<div class="ttc" id="ahid___npad_8h_html"><div class="ttname"><a href="hid___npad_8h.html">hid_Npad.h</a></div><div class="ttdoc">Declarations of API resources for Npad.</div></div>
<div class="ttc" id="amem_8h_html"><div class="ttname"><a href="mem_8h.html">mem.h</a></div><div class="ttdoc">Header to include the dynamic memory allocation library for fast allocation and deallocation.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a0e9e4271b6f713c2f0fee3e3dcdc1684"><div class="ttname"><a href="namespacenn_1_1audio.html#a0e9e4271b6f713c2f0fee3e3dcdc1684">nn::audio::GetAudioInBufferDataSize</a></div><div class="ttdeci">size_t GetAudioInBufferDataSize(const AudioInBuffer *pAudioInBuffer) noexcept</div><div class="ttdoc">Gets the size of data to input in the audio input buffer.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a163daf352ea5548b5b9601db735f260c"><div class="ttname"><a href="namespacenn_1_1audio.html#a163daf352ea5548b5b9601db735f260c">nn::audio::GetAudioOutBufferDataSize</a></div><div class="ttdeci">size_t GetAudioOutBufferDataSize(const AudioOutBuffer *pAudioOutBuffer) noexcept</div><div class="ttdoc">Gets the size of data to play in the audio output buffer.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a183262306a7103d73852c3842af67e8a"><div class="ttname"><a href="namespacenn_1_1audio.html#a183262306a7103d73852c3842af67e8a">nn::audio::ListAudioIns</a></div><div class="ttdeci">int ListAudioIns(AudioInInfo *outAudioIns, int count) noexcept</div><div class="ttdoc">Gets a list of available audio inputs.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a20de4a3eb5e5c4fba0f3b45e0b9e24c8"><div class="ttname"><a href="namespacenn_1_1audio.html#a20de4a3eb5e5c4fba0f3b45e0b9e24c8">nn::audio::GetSampleByteSize</a></div><div class="ttdeci">size_t GetSampleByteSize(SampleFormat sampleFormat) noexcept</div><div class="ttdoc">Gets the size in bytes of an audio sample represented by the specified sample format.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a29049cc380b643521d79d058a62d9e93"><div class="ttname"><a href="namespacenn_1_1audio.html#a29049cc380b643521d79d058a62d9e93">nn::audio::StopAudioIn</a></div><div class="ttdeci">void StopAudioIn(AudioIn *pAudioIn) noexcept</div><div class="ttdoc">Stops recording a waveform from an audio input.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a2c217d690202ef43230d4409852f3c1d"><div class="ttname"><a href="namespacenn_1_1audio.html#a2c217d690202ef43230d4409852f3c1d">nn::audio::AppendAudioInBuffer</a></div><div class="ttdeci">bool AppendAudioInBuffer(AudioIn *pAudioIn, AudioInBuffer *pAudioInBuffer) noexcept</div><div class="ttdoc">Registers an audio input buffer.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a2edc363ab06840fc2eaf2acb551bf0c1"><div class="ttname"><a href="namespacenn_1_1audio.html#a2edc363ab06840fc2eaf2acb551bf0c1">nn::audio::SampleFormat</a></div><div class="ttdeci">SampleFormat</div><div class="ttdoc">Enumerates the sample formats.</div><div class="ttdef"><b>Definition:</b> audio_SampleFormat.h:31</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a36250ba99a54f2adbd9bd993f63fc4b4"><div class="ttname"><a href="namespacenn_1_1audio.html#a36250ba99a54f2adbd9bd993f63fc4b4">nn::audio::GetAudioOutSampleFormat</a></div><div class="ttdeci">SampleFormat GetAudioOutSampleFormat(const AudioOut *pAudioOut) noexcept</div><div class="ttdoc">Gets the sample format of an audio output.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a48e4f07c8ed98d958ec79532f5962b96"><div class="ttname"><a href="namespacenn_1_1audio.html#a48e4f07c8ed98d958ec79532f5962b96">nn::audio::GetAudioOutSampleRate</a></div><div class="ttdeci">int GetAudioOutSampleRate(const AudioOut *pAudioOut) noexcept</div><div class="ttdoc">Gets the sampling rate of an audio output.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a4fe3341bdd916299f38a8eaa2c8de534"><div class="ttname"><a href="namespacenn_1_1audio.html#a4fe3341bdd916299f38a8eaa2c8de534">nn::audio::GetReleasedAudioInBuffer</a></div><div class="ttdeci">AudioInBuffer * GetReleasedAudioInBuffer(AudioIn *pAudioIn) noexcept</div><div class="ttdoc">Gets an audio input buffer that has already been recorded to.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a53eb3602be04d214fd6973fa4b63e637"><div class="ttname"><a href="namespacenn_1_1audio.html#a53eb3602be04d214fd6973fa4b63e637">nn::audio::InitializeAudioOutParameter</a></div><div class="ttdeci">void InitializeAudioOutParameter(AudioOutParameter *pOutParameter) noexcept</div><div class="ttdoc">Initializes the audio output parameters.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a7601ac0b7d81fb3f867c8f63165cdab6"><div class="ttname"><a href="namespacenn_1_1audio.html#a7601ac0b7d81fb3f867c8f63165cdab6">nn::audio::GetAudioInSampleFormat</a></div><div class="ttdeci">SampleFormat GetAudioInSampleFormat(const AudioIn *pAudioIn) noexcept</div><div class="ttdoc">Gets the sample format of an audio input.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a7d4ddedf1f043b725b4e3a5236a05417"><div class="ttname"><a href="namespacenn_1_1audio.html#a7d4ddedf1f043b725b4e3a5236a05417">nn::audio::OpenDefaultAudioOut</a></div><div class="ttdeci">Result OpenDefaultAudioOut(AudioOut *pOutAudioOut, const AudioOutParameter &amp;parameter) noexcept</div><div class="ttdoc">Initializes the default audio output and gets an accessor.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_a9bf1c9d96a5761b3dca59f7f13155ad8"><div class="ttname"><a href="namespacenn_1_1audio.html#a9bf1c9d96a5761b3dca59f7f13155ad8">nn::audio::GetReleasedAudioOutBuffer</a></div><div class="ttdeci">AudioOutBuffer * GetReleasedAudioOutBuffer(AudioOut *pAudioOut) noexcept</div><div class="ttdoc">Gets an audio output buffer that has already been played.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_aa1ffe215f031b4b64e1cce6fe195b5c4"><div class="ttname"><a href="namespacenn_1_1audio.html#aa1ffe215f031b4b64e1cce6fe195b5c4">nn::audio::SetAudioOutBufferInfo</a></div><div class="ttdeci">void SetAudioOutBufferInfo(AudioOutBuffer *pOutAudioOutBuffer, void *buffer, size_t bufferSize, size_t dataSize) noexcept</div><div class="ttdoc">Sets information in an audio output buffer.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_aa522149d7a0b48763dd5c1eb32609505"><div class="ttname"><a href="namespacenn_1_1audio.html#aa522149d7a0b48763dd5c1eb32609505">nn::audio::StartAudioOut</a></div><div class="ttdeci">Result StartAudioOut(AudioOut *pAudioOut) noexcept</div><div class="ttdoc">Starts playing a waveform from an audio output.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_aa9ebc560c7c9cb913c9df8c40fceaeca"><div class="ttname"><a href="namespacenn_1_1audio.html#aa9ebc560c7c9cb913c9df8c40fceaeca">nn::audio::SetAudioInBufferInfo</a></div><div class="ttdeci">void SetAudioInBufferInfo(AudioInBuffer *pOutAudioInBuffer, void *buffer, size_t bufferSize, size_t dataSize) noexcept</div><div class="ttdoc">Sets information in an audio input buffer.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_aae5ea724a3c41100cce1fbd7b031b64e"><div class="ttname"><a href="namespacenn_1_1audio.html#aae5ea724a3c41100cce1fbd7b031b64e">nn::audio::GetAudioOutChannelCount</a></div><div class="ttdeci">int GetAudioOutChannelCount(const AudioOut *pAudioOut) noexcept</div><div class="ttdoc">Gets the number of channels of an audio output.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_aba56b33544577ad7773c54b6a44107bb"><div class="ttname"><a href="namespacenn_1_1audio.html#aba56b33544577ad7773c54b6a44107bb">nn::audio::GetAudioInSampleRate</a></div><div class="ttdeci">int GetAudioInSampleRate(const AudioIn *pAudioIn) noexcept</div><div class="ttdoc">Gets the sampling rate of an audio input.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_abecd28c6321841cde54d0d16a8800da4"><div class="ttname"><a href="namespacenn_1_1audio.html#abecd28c6321841cde54d0d16a8800da4">nn::audio::CloseAudioOut</a></div><div class="ttdeci">void CloseAudioOut(AudioOut *pAudioOut) noexcept</div><div class="ttdoc">Closes the audio output and destroys the accessor.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_ac60d0ae60bafcbf7b3baae780efcce77"><div class="ttname"><a href="namespacenn_1_1audio.html#ac60d0ae60bafcbf7b3baae780efcce77">nn::audio::GetAudioOutBufferDataPointer</a></div><div class="ttdeci">void * GetAudioOutBufferDataPointer(const AudioOutBuffer *pAudioOutBuffer) noexcept</div><div class="ttdoc">Gets a pointer to the data buffer in an audio output buffer.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_ac7b8cea2511b7c0621fbaab18e2eb368"><div class="ttname"><a href="namespacenn_1_1audio.html#ac7b8cea2511b7c0621fbaab18e2eb368">nn::audio::InitializeAudioInParameter</a></div><div class="ttdeci">void InitializeAudioInParameter(AudioInParameter *pOutParameter) noexcept</div><div class="ttdoc">Initializes the audio input parameters.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_ad908ac057d85fa7d4d4c4f047edc6c4d"><div class="ttname"><a href="namespacenn_1_1audio.html#ad908ac057d85fa7d4d4c4f047edc6c4d">nn::audio::StopAudioOut</a></div><div class="ttdeci">void StopAudioOut(AudioOut *pAudioOut) noexcept</div><div class="ttdoc">Stops playing a waveform from an audio output.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_adf6ae7da062359e04d32ec1ec51b84a0"><div class="ttname"><a href="namespacenn_1_1audio.html#adf6ae7da062359e04d32ec1ec51b84a0">nn::audio::AppendAudioOutBuffer</a></div><div class="ttdeci">bool AppendAudioOutBuffer(AudioOut *pAudioOut, AudioOutBuffer *pAudioOutBuffer) noexcept</div><div class="ttdoc">Registers an audio output buffer.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_ae09a8952d37766dd6ea7cec4e4d1618e"><div class="ttname"><a href="namespacenn_1_1audio.html#ae09a8952d37766dd6ea7cec4e4d1618e">nn::audio::GetAudioInChannelCount</a></div><div class="ttdeci">int GetAudioInChannelCount(const AudioIn *pAudioIn) noexcept</div><div class="ttdoc">Gets the number of channels of an audio input.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_ae5fe3dfc47ec857f420675315f4f468d"><div class="ttname"><a href="namespacenn_1_1audio.html#ae5fe3dfc47ec857f420675315f4f468d">nn::audio::GetAudioInBufferDataPointer</a></div><div class="ttdeci">void * GetAudioInBufferDataPointer(const AudioInBuffer *pAudioInBuffer) noexcept</div><div class="ttdoc">Gets a pointer to the data buffer in an audio input buffer.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_aea9b579f0edf49dfce4ea62938317b06"><div class="ttname"><a href="namespacenn_1_1audio.html#aea9b579f0edf49dfce4ea62938317b06">nn::audio::CloseAudioIn</a></div><div class="ttdeci">void CloseAudioIn(AudioIn *pAudioIn) noexcept</div><div class="ttdoc">Closes the audio input and destroys the accessor.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_af6ca7def0d62477aa4f20f27fd9c70c6"><div class="ttname"><a href="namespacenn_1_1audio.html#af6ca7def0d62477aa4f20f27fd9c70c6">nn::audio::OpenAudioIn</a></div><div class="ttdeci">Result OpenAudioIn(AudioIn *pOutAudioIn, const char *name, const AudioInParameter &amp;parameter) noexcept</div><div class="ttdoc">Initializes the audio input specified in name and gets an accessor.</div></div>
<div class="ttc" id="anamespacenn_1_1audio_html_af72d3c3851733f838d4c7e72a26b307d"><div class="ttname"><a href="namespacenn_1_1audio.html#af72d3c3851733f838d4c7e72a26b307d">nn::audio::StartAudioIn</a></div><div class="ttdeci">Result StartAudioIn(AudioIn *pAudioIn) noexcept</div><div class="ttdoc">Starts recording a waveform from an audio input.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a04c8b09a539bb16619f7036fc3b1973c"><div class="ttname"><a href="namespacenn_1_1cdr.html#a04c8b09a539bb16619f7036fc3b1973c">nn::cdr::Close</a></div><div class="ttdeci">CDR_DLL_DECL Error Close(void)</div><div class="ttdoc">Closes the core dump file, if a file is open.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a618cf30986f1f7c82657df03cdac58d1"><div class="ttname"><a href="namespacenn_1_1cdr.html#a618cf30986f1f7c82657df03cdac58d1">nn::cdr::Open</a></div><div class="ttdeci">CDR_DLL_DECL Error Open(const char *pDumpFilePath)</div><div class="ttdoc">Opens the specified core dump file.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a1ea1131389075ff5c5d5911dd6da9b8f"><div class="ttname"><a href="namespacenn_1_1hid.html#a1ea1131389075ff5c5d5911dd6da9b8f">nn::hid::GetNpadState</a></div><div class="ttdeci">void GetNpadState(NpadFullKeyState *pOutValue, const NpadIdType &amp;id) NN_NOEXCEPT</div><div class="ttdoc">Gets the input states for the NpadStyleFullKey play style modeled on the Npad Switch Pro Controller.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a50e56789aa106765d43935bb1838c797"><div class="ttname"><a href="namespacenn_1_1hid.html#a50e56789aa106765d43935bb1838c797">nn::hid::GetNpadStyleSet</a></div><div class="ttdeci">NpadStyleSet GetNpadStyleSet(const NpadIdType &amp;id) NN_NOEXCEPT</div><div class="ttdoc">Gets the currently enabled play styles for any Npad ID.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a52f910e37e347a944be54f6860a8ed11"><div class="ttname"><a href="namespacenn_1_1hid.html#a52f910e37e347a944be54f6860a8ed11">nn::hid::InitializeDebugPad</a></div><div class="ttdeci">void InitializeDebugPad() NN_NOEXCEPT</div><div class="ttdoc">Initializes DebugPad.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a54ad6953b9cef17b4d79171e819b0048"><div class="ttname"><a href="namespacenn_1_1hid.html#a54ad6953b9cef17b4d79171e819b0048">nn::hid::InitializeNpad</a></div><div class="ttdeci">void InitializeNpad() NN_NOEXCEPT</div><div class="ttdoc">Initializes an Npad.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a5923008962b52bf501f91b30013aedd6"><div class="ttname"><a href="namespacenn_1_1hid.html#a5923008962b52bf501f91b30013aedd6">nn::hid::NpadIdType</a></div><div class="ttdeci">uint32_t NpadIdType</div><div class="ttdoc">Type for representing Npad IDs.</div><div class="ttdef"><b>Definition:</b> hid_NpadCommonTypes.h:28</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_a82326d8c0d5f888fce443798bb829e97"><div class="ttname"><a href="namespacenn_1_1hid.html#a82326d8c0d5f888fce443798bb829e97">nn::hid::SetSupportedNpadIdType</a></div><div class="ttdeci">void SetSupportedNpadIdType(const NpadIdType *pIds, size_t count) NN_NOEXCEPT</div><div class="ttdoc">Configures the Npad ID to support with the application.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_ac04a55a989058f9d69c5c3e4e29c4480"><div class="ttname"><a href="namespacenn_1_1hid.html#ac04a55a989058f9d69c5c3e4e29c4480">nn::hid::SetSupportedNpadStyleSet</a></div><div class="ttdeci">void SetSupportedNpadStyleSet(NpadStyleSet style) NN_NOEXCEPT</div><div class="ttdoc">Configures the play style to enable on the Npad.</div></div>
<div class="ttc" id="anamespacenn_1_1hid_html_ad6819dc9ed7d781a23a0a44cd2a7f86c"><div class="ttname"><a href="namespacenn_1_1hid.html#ad6819dc9ed7d781a23a0a44cd2a7f86c">nn::hid::GetDebugPadState</a></div><div class="ttdeci">void GetDebugPadState(DebugPadState *pOutValue) NN_NOEXCEPT</div><div class="ttdoc">Gets the latest DebugPad input state.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a05af1a7e142f1ece42a53fe41085f53b"><div class="ttname"><a href="namespacenn_1_1os.html#a05af1a7e142f1ece42a53fe41085f53b">nn::os::SetMultiWaitHolderUserData</a></div><div class="ttdeci">void SetMultiWaitHolderUserData(MultiWaitHolderType *multiWaitHolder, uintptr_t userData) NN_NOEXCEPT</div><div class="ttdoc">Sets a user data value in the multiWaitHolder object.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a07c9c7bbc51249b69dc2361957fd650b"><div class="ttname"><a href="namespacenn_1_1os.html#a07c9c7bbc51249b69dc2361957fd650b">nn::os::UnlinkMultiWaitHolder</a></div><div class="ttdeci">void UnlinkMultiWaitHolder(MultiWaitHolderType *multiWaitHolder) NN_NOEXCEPT</div><div class="ttdoc">Unlinks the multiWaitHolder object from the multiWait header.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a11ab71d44973a4135958c420e5682452a8b702480f5120eeeb01e7102227285da"><div class="ttname"><a href="namespacenn_1_1os.html#a11ab71d44973a4135958c420e5682452a8b702480f5120eeeb01e7102227285da">nn::os::EventClearMode_ManualClear</a></div><div class="ttdeci">@ EventClearMode_ManualClear</div><div class="ttdoc">Manually cleared event.</div><div class="ttdef"><b>Definition:</b> os_EventCommon.h:32</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a18eec7c4c4c298f7abaa9ef41d6de76b"><div class="ttname"><a href="namespacenn_1_1os.html#a18eec7c4c4c298f7abaa9ef41d6de76b">nn::os::StartThread</a></div><div class="ttdeci">void StartThread(ThreadType *thread) NN_NOEXCEPT</div><div class="ttdoc">Starts execution on a thread.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a2de358e6bfa261b74c399b5b59c0da1d"><div class="ttname"><a href="namespacenn_1_1os.html#a2de358e6bfa261b74c399b5b59c0da1d">nn::os::FinalizeMultiWaitHolder</a></div><div class="ttdeci">void FinalizeMultiWaitHolder(MultiWaitHolderType *multiWaitHolder) NN_NOEXCEPT</div><div class="ttdoc">Finalizes a multiWaitHolder object.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a3d924bc362ec80648323428be5182338"><div class="ttname"><a href="namespacenn_1_1os.html#a3d924bc362ec80648323428be5182338">nn::os::DestroySystemEvent</a></div><div class="ttdeci">void DestroySystemEvent(SystemEventType *event) NN_NOEXCEPT</div><div class="ttdoc">Destroys a SystemEventType object.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a44ed3b4dddf9ebfb69bc33167369b816"><div class="ttname"><a href="namespacenn_1_1os.html#a44ed3b4dddf9ebfb69bc33167369b816">nn::os::HighestThreadPriority</a></div><div class="ttdeci">const int HighestThreadPriority</div><div class="ttdoc">Constant indicating the highest thread priority.</div><div class="ttdef"><b>Definition:</b> os_ThreadCommon.h:42</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a48e6662e7fdf9f78bcae79ba94d64a93"><div class="ttname"><a href="namespacenn_1_1os.html#a48e6662e7fdf9f78bcae79ba94d64a93">nn::os::InitializeMultiWait</a></div><div class="ttdeci">void InitializeMultiWait(MultiWaitType *multiWait) NN_NOEXCEPT</div><div class="ttdoc">Initializes the multiWait object header.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a4f8d998425d067cb5fec2604ae7845dc"><div class="ttname"><a href="namespacenn_1_1os.html#a4f8d998425d067cb5fec2604ae7845dc">nn::os::InitializeMultiWaitHolder</a></div><div class="ttdeci">void InitializeMultiWaitHolder(MultiWaitHolderType *multiWaitHolder, EventType *event) NN_NOEXCEPT</div><div class="ttdoc">Initializes a multiWaitHolder object and binds it to an event.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a60873f9b623e014948a9ea53a611da4c"><div class="ttname"><a href="namespacenn_1_1os.html#a60873f9b623e014948a9ea53a611da4c">nn::os::FinalizeMultiWait</a></div><div class="ttdeci">void FinalizeMultiWait(MultiWaitType *multiWait) NN_NOEXCEPT</div><div class="ttdoc">Finalizes the multiWait object header.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a75f43e1d3c194c0d2173ef5d95785933"><div class="ttname"><a href="namespacenn_1_1os.html#a75f43e1d3c194c0d2173ef5d95785933">nn::os::CreateThread</a></div><div class="ttdeci">nn::Result CreateThread(ThreadType *thread, ThreadFunction function, void *argument, void *stack, size_t stackSize, int priority, int idealCoreNumber) NN_NOEXCEPT</div><div class="ttdoc">Generates a thread.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a7cd9b25e14bee063959eb9e7f62a4aa8"><div class="ttname"><a href="namespacenn_1_1os.html#a7cd9b25e14bee063959eb9e7f62a4aa8">nn::os::LinkMultiWaitHolder</a></div><div class="ttdeci">void LinkMultiWaitHolder(MultiWaitType *multiWait, MultiWaitHolderType *multiWaitHolder) NN_NOEXCEPT</div><div class="ttdoc">Links a multiWaitHolder object to a multiWait object header.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a8070c91be85c5ccb36b56e9ff3a75b26"><div class="ttname"><a href="namespacenn_1_1os.html#a8070c91be85c5ccb36b56e9ff3a75b26">nn::os::WaitThread</a></div><div class="ttdeci">void WaitThread(ThreadType *thread) NN_NOEXCEPT</div><div class="ttdoc">Waits for the specified thread to stop.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a96b335e87af44c60a0d6dca75f11c9d2"><div class="ttname"><a href="namespacenn_1_1os.html#a96b335e87af44c60a0d6dca75f11c9d2">nn::os::SleepThread</a></div><div class="ttdeci">void SleepThread(TimeSpan time) NN_NOEXCEPT</div><div class="ttdoc">Puts the current thread to sleep for the specified amount of time.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a9dbfcfb82583a9e34431e8c11d2411dd"><div class="ttname"><a href="namespacenn_1_1os.html#a9dbfcfb82583a9e34431e8c11d2411dd">nn::os::DestroyThread</a></div><div class="ttdeci">void DestroyThread(ThreadType *thread) NN_NOEXCEPT</div><div class="ttdoc">Deletes a thread.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a9e8c73312415fc00c72808fcc00fea33"><div class="ttname"><a href="namespacenn_1_1os.html#a9e8c73312415fc00c72808fcc00fea33">nn::os::GetMultiWaitHolderUserData</a></div><div class="ttdeci">uintptr_t GetMultiWaitHolderUserData(const MultiWaitHolderType *multiWaitHolder) NN_NOEXCEPT</div><div class="ttdoc">Gets the user data set in a multiWaitHolder object.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_ab9b837eb53fa2c8a9610cec2b69666fd"><div class="ttname"><a href="namespacenn_1_1os.html#ab9b837eb53fa2c8a9610cec2b69666fd">nn::os::WaitAny</a></div><div class="ttdeci">MultiWaitHolderType * WaitAny(MultiWaitType *multiWait) NN_NOEXCEPT</div><div class="ttdoc">Waits for any of the multiWaitHolder objects in the multiWait list.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_abd77e6bf19be140867869cc759fa492c"><div class="ttname"><a href="namespacenn_1_1os.html#abd77e6bf19be140867869cc759fa492c">nn::os::GetHostArgv</a></div><div class="ttdeci">char ** GetHostArgv() NN_NOEXCEPT</div><div class="ttdoc">Gets the array of pointers (argc) to the strings for the host-specified command-line arguments.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_acf2fa6b7b7074a51d0b2de1664cc7bb5"><div class="ttname"><a href="namespacenn_1_1os.html#acf2fa6b7b7074a51d0b2de1664cc7bb5">nn::os::GetHostArgc</a></div><div class="ttdeci">int GetHostArgc() NN_NOEXCEPT</div><div class="ttdoc">Gets the number of host-specified command-line arguments (argc).</div></div>
<div class="ttc" id="anamespacenn_1_1settings_html_a1e96831e46ee03c734e5f81570c8df66"><div class="ttname"><a href="namespacenn_1_1settings.html#a1e96831e46ee03c734e5f81570c8df66">nn::settings::GetDebugPadKeyboardMap</a></div><div class="ttdeci">void GetDebugPadKeyboardMap(DebugPadKeyboardMap *outValue) noexcept</div><div class="ttdoc">Gets the keyboard assignments mapped to GamePad.</div></div>
<div class="ttc" id="anamespacenn_1_1settings_html_a587f72d281c2ea03b20e8388df404fc7"><div class="ttname"><a href="namespacenn_1_1settings.html#a587f72d281c2ea03b20e8388df404fc7">nn::settings::SetDebugPadKeyboardMap</a></div><div class="ttdeci">void SetDebugPadKeyboardMap(const DebugPadKeyboardMap &amp;value) noexcept</div><div class="ttdoc">Sets the keyboard assignments mapped to DebugPad.</div></div>
<div class="ttc" id="anamespacenn_1_1util_html_a275a3c89db5d0ab915559d8a85f9cbdd"><div class="ttname"><a href="namespacenn_1_1util.html#a275a3c89db5d0ab915559d8a85f9cbdd">nn::util::align_up</a></div><div class="ttdeci">constexpr T align_up(T x, size_t align) NN_NOEXCEPT</div><div class="ttdoc">Rounds up a value so that it fits the specified alignment.</div><div class="ttdef"><b>Definition:</b> util_BitUtil.h:111</div></div>
<div class="ttc" id="ann___abort_8h_html"><div class="ttname"><a href="nn___abort_8h.html">nn_Abort.h</a></div><div class="ttdoc">Declarations for API resources to abort execution when conditions are not satisfied.</div></div>
<div class="ttc" id="ann___abort_8h_html_a5c1a90d3a6474658ae0ac5dc5bcb14e4"><div class="ttname"><a href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a></div><div class="ttdeci">#define NN_ABORT_UNLESS(condition,...)</div><div class="ttdoc">Tests whether a condition has been satisfied and stops execution if it has not.</div><div class="ttdef"><b>Definition:</b> nn_Abort.h:38</div></div>
<div class="ttc" id="ann___assert_8h_html"><div class="ttname"><a href="nn___assert_8h.html">nn_Assert.h</a></div><div class="ttdoc">Declarations for API resources to test whether conditions are satisfied.</div></div>
<div class="ttc" id="ann___assert_8h_html_ade59d1d911907a16c0241f8fe3b31542"><div class="ttname"><a href="nn___assert_8h.html#ade59d1d911907a16c0241f8fe3b31542">NN_ASSERT</a></div><div class="ttdeci">#define NN_ASSERT(condition,...)</div><div class="ttdoc">Tests whether a condition is satisfied.</div><div class="ttdef"><b>Definition:</b> nn_Assert.h:124</div></div>
<div class="ttc" id="ann___macro_8h_html_a6ce9d4b07ab8bec971ac8875873615b5"><div class="ttname"><a href="nn___macro_8h.html#a6ce9d4b07ab8bec971ac8875873615b5">NN_ALIGNAS</a></div><div class="ttdeci">#define NN_ALIGNAS(alignment)</div><div class="ttdoc">Sets the byte alignment.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:162</div></div>
<div class="ttc" id="ann___macro_8h_html_af2d1673769927c5eae977d8dde3ce106"><div class="ttname"><a href="nn___macro_8h.html#af2d1673769927c5eae977d8dde3ce106">NN_UNUSED</a></div><div class="ttdeci">#define NN_UNUSED(variable)</div><div class="ttdoc">Suppresses compiler warnings on intentionally unused variables.</div><div class="ttdef"><b>Definition:</b> nn_Macro.h:610</div></div>
<div class="ttc" id="ann___time_span_8h_html"><div class="ttname"><a href="nn___time_span_8h.html">nn_TimeSpan.h</a></div><div class="ttdoc">TimeSpan class declarations.</div></div>
<div class="ttc" id="asettings___debug_pad_8h_html"><div class="ttname"><a href="settings___debug_pad_8h.html">settings_DebugPad.h</a></div><div class="ttdoc">API declarations for DebugPad emulation settings.</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_in_buffer_html"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_in_buffer.html">nn::audio::AudioInBuffer</a></div><div class="ttdoc">Structure representing an audio input buffer.</div><div class="ttdef"><b>Definition:</b> audio_AudioInTypes.h:64</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_in_html"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_in.html">nn::audio::AudioIn</a></div><div class="ttdoc">Structure for managing an audio input.</div><div class="ttdef"><b>Definition:</b> audio_AudioInTypes.h:130</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_in_info_html"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_in_info.html">nn::audio::AudioInInfo</a></div><div class="ttdoc">Structure representing audio input information.</div><div class="ttdef"><b>Definition:</b> audio_AudioInTypes.h:177</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_in_info_html_a58a081dbabb379617b681739e283c529"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_in_info.html#a58a081dbabb379617b681739e283c529">nn::audio::AudioInInfo::name</a></div><div class="ttdeci">char name[AudioIn::NameLength]</div><div class="ttdoc">Name of the audio output represented in UTF-8.</div><div class="ttdef"><b>Definition:</b> audio_AudioInTypes.h:178</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_in_parameter_html"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_in_parameter.html">nn::audio::AudioInParameter</a></div><div class="ttdoc">Parameter for audio input.</div><div class="ttdef"><b>Definition:</b> audio_AudioInTypes.h:41</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_out_buffer_html"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_out_buffer.html">nn::audio::AudioOutBuffer</a></div><div class="ttdoc">Structure representing an audio output buffer.</div><div class="ttdef"><b>Definition:</b> audio_AudioOutTypes.h:67</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_out_buffer_html_aa20555e970c0cf61d80914af41cf3a44"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_out_buffer.html#aa20555e970c0cf61d80914af41cf3a44">nn::audio::AudioOutBuffer::SizeGranularity</a></div><div class="ttdeci">static constexpr size_t SizeGranularity</div><div class="ttdoc">The size granularity required for AudioOutBuffer.</div><div class="ttdef"><b>Definition:</b> audio_AudioOutTypes.h:69</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_out_buffer_html_aee83fe382b830ee95f7ecd7431ba9f73"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_out_buffer.html#aee83fe382b830ee95f7ecd7431ba9f73">nn::audio::AudioOutBuffer::AddressAlignment</a></div><div class="ttdeci">static constexpr size_t AddressAlignment</div><div class="ttdoc">The alignment required for AudioOutBuffer.</div><div class="ttdef"><b>Definition:</b> audio_AudioOutTypes.h:68</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_out_html"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_out.html">nn::audio::AudioOut</a></div><div class="ttdoc">Structure for managing an audio output.</div><div class="ttdef"><b>Definition:</b> audio_AudioOutTypes.h:129</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_audio_out_parameter_html"><div class="ttname"><a href="structnn_1_1audio_1_1_audio_out_parameter.html">nn::audio::AudioOutParameter</a></div><div class="ttdoc">Parameter for audio output.</div><div class="ttdef"><b>Definition:</b> audio_AudioOutTypes.h:44</div></div>
<div class="ttc" id="astructnn_1_1hid_1_1_debug_pad_state_html"><div class="ttname"><a href="structnn_1_1hid_1_1_debug_pad_state.html">nn::hid::DebugPadState</a></div><div class="ttdoc">Structure representing the DebugPad input state.</div><div class="ttdef"><b>Definition:</b> hid_DebugPad.h:74</div></div>
<div class="ttc" id="astructnn_1_1hid_1_1_debug_pad_state_html_ab4522c3704007142e1e0619e5ed0f06e"><div class="ttname"><a href="structnn_1_1hid_1_1_debug_pad_state.html#ab4522c3704007142e1e0619e5ed0f06e">nn::hid::DebugPadState::buttons</a></div><div class="ttdeci">DebugPadButtonSet buttons</div><div class="ttdoc">DebugPad digital button state.</div><div class="ttdef"><b>Definition:</b> hid_DebugPad.h:77</div></div>
<div class="ttc" id="astructnn_1_1hid_1_1_npad_full_key_state_html"><div class="ttname"><a href="structnn_1_1hid_1_1_npad_full_key_state.html">nn::hid::NpadFullKeyState</a></div><div class="ttdoc">The structure representing the input states for the NpadStyleFullKey play style modeled on holding an...</div><div class="ttdef"><b>Definition:</b> hid_NpadFullKey.h:40</div></div>
<div class="ttc" id="astructnn_1_1hid_1_1_npad_full_key_state_html_ab47273cb70afeff22b5a21a62db2abab"><div class="ttname"><a href="structnn_1_1hid_1_1_npad_full_key_state.html#ab47273cb70afeff22b5a21a62db2abab">nn::hid::NpadFullKeyState::buttons</a></div><div class="ttdeci">NpadButtonSet buttons</div><div class="ttdoc">Npad digital button state.</div><div class="ttdef"><b>Definition:</b> hid_NpadFullKey.h:42</div></div>
<div class="ttc" id="astructnn_1_1hid_1_1_npad_handheld_state_html"><div class="ttname"><a href="structnn_1_1hid_1_1_npad_handheld_state.html">nn::hid::NpadHandheldState</a></div><div class="ttdoc">The structure representing the input states for the NpadStyleHandheld play style modeled on holding a...</div><div class="ttdef"><b>Definition:</b> hid_NpadHandheld.h:39</div></div>
<div class="ttc" id="astructnn_1_1hid_1_1_npad_handheld_state_html_a70f94ae42e5414c591583cb9a70877a3"><div class="ttname"><a href="structnn_1_1hid_1_1_npad_handheld_state.html#a70f94ae42e5414c591583cb9a70877a3">nn::hid::NpadHandheldState::buttons</a></div><div class="ttdeci">NpadButtonSet buttons</div><div class="ttdoc">Npad digital button state.</div><div class="ttdef"><b>Definition:</b> hid_NpadHandheld.h:41</div></div>
<div class="ttc" id="astructnn_1_1hid_1_1_npad_id_html_aa0b93745c1c6de72c1fd2174f35c8ed9"><div class="ttname"><a href="structnn_1_1hid_1_1_npad_id.html#aa0b93745c1c6de72c1fd2174f35c8ed9">nn::hid::NpadId::No1</a></div><div class="ttdeci">static const NpadIdType No1</div><div class="ttdoc">Npad for controller number 1.</div><div class="ttdef"><b>Definition:</b> hid_NpadCommonTypes.h:46</div></div>
<div class="ttc" id="astructnn_1_1hid_1_1_npad_id_html_afc19a9a80ac740645b567fc7e1dc36cf"><div class="ttname"><a href="structnn_1_1hid_1_1_npad_id.html#afc19a9a80ac740645b567fc7e1dc36cf">nn::hid::NpadId::Handheld</a></div><div class="ttdeci">static const NpadIdType Handheld</div><div class="ttdoc">Npad for a handheld controller.</div><div class="ttdef"><b>Definition:</b> hid_NpadCommonTypes.h:54</div></div>
<div class="ttc" id="astructnn_1_1os_1_1_multi_wait_holder_type_html"><div class="ttname"><a href="structnn_1_1os_1_1_multi_wait_holder_type.html">nn::os::MultiWaitHolderType</a></div><div class="ttdoc">This structure defines a multiwait object holder.</div><div class="ttdef"><b>Definition:</b> os_MultipleWaitTypes.h:117</div></div>
<div class="ttc" id="astructnn_1_1os_1_1_multi_wait_type_html"><div class="ttname"><a href="structnn_1_1os_1_1_multi_wait_type.html">nn::os::MultiWaitType</a></div><div class="ttdoc">This structure defines a multiwait object.</div><div class="ttdef"><b>Definition:</b> os_MultipleWaitTypes.h:57</div></div>
<div class="ttc" id="astructnn_1_1os_1_1_thread_type_html"><div class="ttname"><a href="structnn_1_1os_1_1_thread_type.html">nn::os::ThreadType</a></div><div class="ttdoc">This structure defines a thread object.</div><div class="ttdef"><b>Definition:</b> os_ThreadTypes.h:92</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html">nn::settings::DebugPadKeyboardMap</a></div><div class="ttdoc">Structure representing the mapping of the keyboard to DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:57</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_a0657e9987759d3369eee3afeac0cbd22"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a0657e9987759d3369eee3afeac0cbd22">nn::settings::DebugPadKeyboardMap::buttonL</a></div><div class="ttdeci">int32_t buttonL</div><div class="ttdoc">Keyboard key assigned to the L Button on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:62</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_a1df7216265c45816bcdac2b13534d895"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a1df7216265c45816bcdac2b13534d895">nn::settings::DebugPadKeyboardMap::buttonUp</a></div><div class="ttdeci">int32_t buttonUp</div><div class="ttdoc">Keyboard key assigned to Up on the +Control Pad on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:69</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_a21c82c5b3453501e14dd54caa551ec3b"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a21c82c5b3453501e14dd54caa551ec3b">nn::settings::DebugPadKeyboardMap::buttonZL</a></div><div class="ttdeci">int32_t buttonZL</div><div class="ttdoc">Keyboard key assigned to the ZL Button on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:64</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_a31b4f18eb874401cde83cfaaadf5e31a"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a31b4f18eb874401cde83cfaaadf5e31a">nn::settings::DebugPadKeyboardMap::buttonDown</a></div><div class="ttdeci">int32_t buttonDown</div><div class="ttdoc">Keyboard key assigned to Down on the +Control Pad on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:71</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_a7da4c30b07d176a47fcf5793fcf2aa09"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a7da4c30b07d176a47fcf5793fcf2aa09">nn::settings::DebugPadKeyboardMap::buttonX</a></div><div class="ttdeci">int32_t buttonX</div><div class="ttdoc">Keyboard key assigned to the X Button on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:60</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_a855fdaccf56bd08f6930e2cfa5a4911a"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#a855fdaccf56bd08f6930e2cfa5a4911a">nn::settings::DebugPadKeyboardMap::buttonA</a></div><div class="ttdeci">int32_t buttonA</div><div class="ttdoc">Keyboard key assigned to the A Button on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:58</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_aa281d2e4e1da30fec73c628a630ce668"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#aa281d2e4e1da30fec73c628a630ce668">nn::settings::DebugPadKeyboardMap::buttonStart</a></div><div class="ttdeci">int32_t buttonStart</div><div class="ttdoc">Keyboard key assigned to START on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:66</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_aa4fd4510c2a0d1ba4c5109c84e302692"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#aa4fd4510c2a0d1ba4c5109c84e302692">nn::settings::DebugPadKeyboardMap::buttonLeft</a></div><div class="ttdeci">int32_t buttonLeft</div><div class="ttdoc">Keyboard key assigned to Left on the +Control Pad on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:68</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_aa7e06839199547265a73743783278f01"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#aa7e06839199547265a73743783278f01">nn::settings::DebugPadKeyboardMap::buttonRight</a></div><div class="ttdeci">int32_t buttonRight</div><div class="ttdoc">Keyboard key assigned to Right on the +Control Pad on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:70</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_aaeab1b454664e959f1f3b3043bd85b9e"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#aaeab1b454664e959f1f3b3043bd85b9e">nn::settings::DebugPadKeyboardMap::buttonB</a></div><div class="ttdeci">int32_t buttonB</div><div class="ttdoc">Keyboard key assigned to the B Button on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:59</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_ad9915929ab80efc8ff1e1e0ddb0c4dd1"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#ad9915929ab80efc8ff1e1e0ddb0c4dd1">nn::settings::DebugPadKeyboardMap::buttonR</a></div><div class="ttdeci">int32_t buttonR</div><div class="ttdoc">Keyboard key assigned to the R Button on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:63</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_adfaed2c7da3a1e237e559b0ae6014c0e"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#adfaed2c7da3a1e237e559b0ae6014c0e">nn::settings::DebugPadKeyboardMap::buttonZR</a></div><div class="ttdeci">int32_t buttonZR</div><div class="ttdoc">Keyboard key assigned to the ZR Button on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:65</div></div>
<div class="ttc" id="astructnn_1_1settings_1_1_debug_pad_keyboard_map_html_adfbe65964d33d758e464390324a2b9b1"><div class="ttname"><a href="structnn_1_1settings_1_1_debug_pad_keyboard_map.html#adfbe65964d33d758e464390324a2b9b1">nn::settings::DebugPadKeyboardMap::buttonY</a></div><div class="ttdeci">int32_t buttonY</div><div class="ttdoc">Keyboard key assigned to the Y Button on DebugPad.</div><div class="ttdef"><b>Definition:</b> settings_DebugPad.h:61</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_bit_flag_set_1_1_flag_html"><div class="ttname"><a href="structnn_1_1util_1_1_bit_flag_set_1_1_flag.html">nn::util::BitFlagSet::Flag</a></div><div class="ttdoc">The type that defines a bit flag.</div><div class="ttdef"><b>Definition:</b> util_BitFlagSet.h:598</div></div>
<div class="ttc" id="astructnn_1_1util_1_1_bit_flag_set_html"><div class="ttname"><a href="structnn_1_1util_1_1_bit_flag_set.html">nn::util::BitFlagSet&lt; 64, NpadButton &gt;</a></div></div>
<div class="ttc" id="astructnn_1_1util_1_1_bit_flag_set_html_af92d51c7b0aca41999111cace76172c6"><div class="ttname"><a href="structnn_1_1util_1_1_bit_flag_set.html#af92d51c7b0aca41999111cace76172c6">nn::util::BitFlagSet::Test</a></div><div class="ttdeci">constexpr bool Test() const noexcept</div><div class="ttdoc">Gets the bit flag of the specified flag.</div><div class="ttdef"><b>Definition:</b> util_BitFlagSet.h:527</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
