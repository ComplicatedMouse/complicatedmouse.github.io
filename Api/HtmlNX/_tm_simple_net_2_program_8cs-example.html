<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TmSimpleNet/Program.cs | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TmSimpleNet/Program.cs</div>  </div>
</div><!--header-->
<div class="contents">
<p>For an explanation of the source code, see <a class="el" href="_page_sample_tm_simple_net.html">Simple Networking With Target Manager Sample</a> and <tt>TmSimpleNet/Program.cs</tt>.</p>
<div class="fragment"><div class="line"><span class="comment">// --------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">// &lt;copyright&gt;</span></div>
<div class="line"><span class="comment">// Copyright Nintendo.  All rights reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// These coded instructions, statements, and computer programs contain proprietary</span></div>
<div class="line"><span class="comment">// information of Nintendo and/or its licensed developers and are protected by</span></div>
<div class="line"><span class="comment">// national and international copyright laws. They may not be disclosed to third</span></div>
<div class="line"><span class="comment">// parties or copied or duplicated in any form, in whole or in part, without the</span></div>
<div class="line"><span class="comment">// prior written consent of Nintendo.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// The content herein is highly confidential and should be handled accordingly.</span></div>
<div class="line"><span class="comment">// &lt;/copyright&gt;</span></div>
<div class="line"><span class="comment">// --------------------------------------------------------------------------------</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using</span> System;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_tm_simple.html">TmSimple</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>Program</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">enum</span> SettingCommand</div>
<div class="line">        {</div>
<div class="line">            SettingCommand_Unknown = -1,</div>
<div class="line">            SettingCommand_Connect = 0,</div>
<div class="line">            SettingCommand_Disconnect = 1,</div>
<div class="line">            SettingCommand_DefaultTarget = 2,</div>
<div class="line">            SettingCommand_EditName = 3,</div>
<div class="line">            SettingCommand_SetWorkingDirectory = 4,</div>
<div class="line">            SettingCommand_PoweringOff = 5,</div>
<div class="line">            SettingCommand_SoftReset = 6,</div>
<div class="line">            SettingCommand_HardReset = 7,</div>
<div class="line">            SettingCommand_LogManagement = 8,</div>
<div class="line">            SettingCommand_PoweringOn = 9,</div>
<div class="line">            SettingCommand_OperationMode = 10,</div>
<div class="line">            SettingCommand_PressPowerButton = 11,</div>
<div class="line">            SettingCommand_Return,</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> readonly <span class="keywordtype">string</span>[] ConnectionTypeName =</div>
<div class="line">        {</div>
<div class="line">            <span class="stringliteral">&quot;Unknown&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Usb&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Ethernet&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Future&quot;</span>,</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> readonly <span class="keywordtype">string</span>[] HardwareTypeName =</div>
<div class="line">        {</div>
<div class="line">            <span class="stringliteral">&quot;Unknown&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Edev&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Sdev&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Sim&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Hdev&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Adev&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Sdev-D&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Edev-D&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Future&quot;</span>,</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> readonly <span class="keywordtype">string</span>[] TargetStatusName =</div>
<div class="line">        {</div>
<div class="line">            <span class="stringliteral">&quot;Unknown&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Disconnected&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Disconnecting&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Connected&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Connecting&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Asleep&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;PoweringOn&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;PoweringOff&quot;</span>,</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> readonly <span class="keywordtype">string</span>[] ProgramStateName =</div>
<div class="line">        {</div>
<div class="line">            <span class="stringliteral">&quot;NoProgram&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Loading&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Loaded&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Running&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Halted&quot;</span>,</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">void</span> ProgramExitMonitorThread()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;OnApplicationExitEvent Signaled&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">void</span> ProgramErrorMonitorThread()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;OnApplicationErrorEvent Signaled&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">void</span> DisplayHtcsPortmapping()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;OnHtcsPortMappingUpdate Signaled&quot;</span>);</div>
<div class="line">            <span class="keywordtype">string</span>[] addresses = Nintendo.Tm.TargetManager.GetHtcsAddresses();</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;---- htcs ports updated ----&quot;</span>);</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> count = 0; count &lt; addresses.Length; count++)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}: {1}&quot;</span>, count, addresses[count]);</div>
<div class="line">            }</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;---- htcs port list end ----&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">internal</span> <span class="keywordtype">int</span> GetInputNumber()</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">try</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">return</span> <span class="keywordtype">int</span>.Parse(Console.ReadLine());</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">catch</span></div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Invalid parameter. Try again.&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">string</span> GetTargetFairmwareVersion(Nintendo.Tm.Target target)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> target.GetFirmwareVersion();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (Nintendo.Tm.TmException e)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (e.GetErrorCode() == Nintendo.Tm.Error.TargetNotConnected)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">throw</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">string</span> PrintConnectionType(Nintendo.Tm.TargetConnectionType connectionType)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (0 &lt;= (<span class="keywordtype">int</span>)connectionType &amp;&amp; (<span class="keywordtype">int</span>)connectionType &lt; ConnectionTypeName.Length)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> ConnectionTypeName[(int)connectionType];</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">string</span> PrintHardwareType(Nintendo.Tm.TargetHardwareType hardwareType)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (0 &lt;= (<span class="keywordtype">int</span>)hardwareType &amp;&amp; (<span class="keywordtype">int</span>)hardwareType &lt; HardwareTypeName.Length)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> HardwareTypeName[(int)hardwareType];</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">string</span> PrintTargetStatus(Nintendo.Tm.TargetStatus status)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (0 &lt;= (<span class="keywordtype">int</span>)status &amp;&amp; (<span class="keywordtype">int</span>)status &lt; TargetStatusName.Length)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> TargetStatusName[(int)status];</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">string</span> PrintTargetIsSleeping(Nintendo.Tm.Target target)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> target.GetIsSleeping() ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (Nintendo.Tm.TmException e)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (e.GetErrorCode() == Nintendo.Tm.Error.TargetNotConnected)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">throw</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">string</span> PrintProgramState(Nintendo.Tm.TargetProgramState programState)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (0 &lt;= (<span class="keywordtype">int</span>)programState &amp;&amp; (<span class="keywordtype">int</span>)programState &lt; ProgramStateName.Length)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> ProgramStateName[(int)programState + 1];</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> ShowTargetInformation(Nintendo.Tm.Target target)</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tName: {0}&quot;</span>, target.GetName());</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tIPAddress: {0}&quot;</span>, target.GetIpAddress());</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tSerialNumber: {0}&quot;</span>, target.GetSerialNumber());</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tMAC Address: {0}&quot;</span>, target.GetMacAddress());</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tFirmware Version: {0}&quot;</span>, GetTargetFairmwareVersion(target));</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tStatus: {0}&quot;</span>, PrintTargetStatus(target.GetStatus()));</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tConnectionType: {0}&quot;</span>, PrintConnectionType(target.GetConnectionType()));</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tHardwareType: {0}&quot;</span>, PrintHardwareType(target.GetHardwareType()));</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tWorkingDirectory: {0}&quot;</span>, target.GetWorkingDirectory());</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tIsConnected: {0}&quot;</span>, target.GetIsConnected() ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tIsSleeping: {0}&quot;</span>, PrintTargetIsSleeping(target));</div>
<div class="line">            Nintendo.Tm.TargetManager.TryGetDefaultTarget(out Nintendo.Tm.Target defaultTarget);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tIsDefaultTarget: {0}&quot;</span>, defaultTarget.Equals(target) ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> ScanDiscoverableTargets()</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">int</span> WaitSec = 2;</div>
<div class="line">            Nintendo.Tm.TargetManager.StartDiscovery(WaitSec * 1000);</div>
<div class="line">            <span class="keywordflow">while</span> (Nintendo.Tm.TargetManager.GetDiscoveryState() != Nintendo.Tm.DiscoveryState.Complete)</div>
<div class="line">            {</div>
<div class="line">                System.Threading.Thread.Sleep(100);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> ShowDiscoveredTargets()</div>
<div class="line">        {</div>
<div class="line">            var targets = Nintendo.Tm.TargetManager.GetDiscoveryTargets();</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\n---- Show discovered targets ----&quot;</span>);</div>
<div class="line">            <span class="keywordflow">foreach</span> (var target <span class="keywordflow">in</span> targets)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}:&quot;</span>, Array.IndexOf(targets, target).ToString(<span class="stringliteral">&quot;00&quot;</span>));</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tName: {0}&quot;</span>, target.GetName());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tIPAddress: {0}&quot;</span>, target.GetIpAddress());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tSerialNumber: {0}&quot;</span>, target.GetSerialNumber());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tMAC Address: {0}&quot;</span>, target.GetMacAddress());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tConnectionType: {0}&quot;</span>, PrintConnectionType(target.GetConnectionType()));</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tHardwareType: {0}&quot;</span>, PrintHardwareType(target.GetHardwareType()));</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tCurrentUser: {0}&quot;</span>, target.GetUser());</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> ShowDiscoveredTargetsWithoutDetails(Nintendo.Tm.DiscoveryTarget[] targets)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">foreach</span> (var target <span class="keywordflow">in</span> targets)</div>
<div class="line">            {</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;{0}):&quot;</span>, Array.IndexOf(targets, target));</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;\tName: {0}&quot;</span>, target.GetName());</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;\tIPAddress: {0}&quot;</span>, target.GetIpAddress());</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;\tSerialNumber: {0}\n&quot;</span>, target.GetSerialNumber());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tCurrentUser: {0}&quot;</span>, target.GetUser());</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> ShowRegisteredTargets()</div>
<div class="line">        {</div>
<div class="line">            var targets = Nintendo.Tm.TargetManager.GetTargets();</div>
<div class="line">            Nintendo.Tm.TargetManager.TryGetDefaultTarget(out Nintendo.Tm.Target defaultTarget);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\n---- Show registered targets ----&quot;</span>);</div>
<div class="line">            <span class="keywordflow">foreach</span> (var target <span class="keywordflow">in</span> targets)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;{0}:{1}&quot;</span>, Array.IndexOf(targets, target).ToString(<span class="stringliteral">&quot;00&quot;</span>), (defaultTarget.Equals(target)) ? <span class="stringliteral">&quot;(Default Target)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tName: {0}&quot;</span>, target.GetName());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tIPAddress: {0}&quot;</span>, target.GetIpAddress());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tSerialNumber: {0}&quot;</span>, target.GetSerialNumber());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tMAC Address: {0}&quot;</span>, target.GetMacAddress());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tFirmware Version: {0}&quot;</span>, GetTargetFairmwareVersion(target));</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tStatus: {0}&quot;</span>, PrintTargetStatus(target.GetStatus()));</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tConnectionType: {0}&quot;</span>, PrintConnectionType(target.GetConnectionType()));</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tHardwareType: {0}&quot;</span>, PrintHardwareType(target.GetHardwareType()));</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tWorkingDirectory: {0}&quot;</span>, target.GetWorkingDirectory());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tIsConnected: {0}&quot;</span>, target.GetIsConnected() ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tIsSleeping: {0}&quot;</span>, PrintTargetIsSleeping(target));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">internal</span> <span class="keywordtype">void</span> ShowRegisteredTargetsWithoutDetails(Nintendo.Tm.Target[] targets)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">foreach</span>(var target <span class="keywordflow">in</span> targets)</div>
<div class="line">            {</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;{0}):&quot;</span>, Array.IndexOf(targets, target));</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;\tName: {0}&quot;</span>, target.GetName());</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;\tIPAddress: {0}&quot;</span>, target.GetIpAddress());</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;\tSerialNumber: {0}\n&quot;</span>, target.GetSerialNumber());</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> AddTargetWithIp()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Please input ip address(e.g. 127.0.0.1)&quot;</span>);</div>
<div class="line">            <span class="keywordtype">string</span> ipAddress = Console.ReadLine();</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Add target with IP...&quot;</span>);</div>
<div class="line">            Nintendo.Tm.TargetManager.AddTarget(ipAddress);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Success.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacenn_1_1tm.html#a433ee979733abf98d33e410835c0b653">AddTarget</a>()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Please input the option number to add:&quot;</span>);</div>
<div class="line">            <span class="comment">// StartDiscovery should be called in ShowDiscoveredTargets already, so just call GetDiscoveryTargetCount and so on.</span></div>
<div class="line">            var targets = Nintendo.Tm.TargetManager.GetDiscoveryTargets();</div>
<div class="line">            ShowDiscoveredTargetsWithoutDetails(targets);</div>
<div class="line">            Console.Write(<span class="stringliteral">&quot;{0}):\tAdd target with IP address\n&quot;</span>, targets.Length);</div>
<div class="line">            Console.Write(<span class="stringliteral">&quot;other):\tReturn to menu\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">int</span> selectedTarget = GetInputNumber();</div>
<div class="line">            <span class="keywordflow">if</span> (0 &lt;= selectedTarget &amp;&amp; selectedTarget &lt; targets.Length)</div>
<div class="line">            {</div>
<div class="line">                Nintendo.Tm.TargetManager.AddTarget(targets[selectedTarget]);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Added.&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (selectedTarget == targets.Length)</div>
<div class="line">            {</div>
<div class="line">                AddTargetWithIp();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacenn_1_1tm.html#a020a3edb4b36e2af471b23a069d00c5e">RemoveTarget</a>()</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// StartDiscovery should be called in ShowDiscoveredTargets already, so just call GetDiscoveryTargetCount and so on.</span></div>
<div class="line">            var targets = Nintendo.Tm.TargetManager.GetTargets();</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Please input the option number to remove:&quot;</span>);</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iTarget = 0; iTarget &lt; targets.Length; iTarget++)</div>
<div class="line">            {</div>
<div class="line">                var target = targets[iTarget];</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;{0}):&quot;</span>, iTarget);</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;\tName: {0}&quot;</span>, target.GetName());</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;\tIPAddress: {0}&quot;</span>, target.GetIpAddress());</div>
<div class="line">                Console.Write(<span class="stringliteral">&quot;\tSerialNumber: {0}\n&quot;</span>, target.GetSerialNumber());</div>
<div class="line">            }</div>
<div class="line">            Console.Write(<span class="stringliteral">&quot;{0}):\tRemove all targets\n&quot;</span>, targets.Length);</div>
<div class="line">            Console.Write(<span class="stringliteral">&quot;other):\tReturn to menu\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">int</span> selectedTarget = GetInputNumber();</div>
<div class="line">            <span class="keywordflow">if</span> (0 &lt;= selectedTarget &amp;&amp; selectedTarget &lt; targets.Length)</div>
<div class="line">            {</div>
<div class="line">                Nintendo.Tm.TargetManager.RemoveTarget(targets[selectedTarget]);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Target removed.&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (selectedTarget == targets.Length)</div>
<div class="line">            {</div>
<div class="line">                Nintendo.Tm.TargetManager.RemoveAllTargets();</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Removed all.&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">string</span> GetSampleNspPath()</div>
<div class="line">        {</div>
<div class="line">            var sdkRootPath = System.Environment.GetEnvironmentVariable(<span class="stringliteral">&quot;NINTENDO_SDK_ROOT&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> sdkRootPath + <span class="stringliteral">&quot;\\Resources\\Firmwares\\NX\\Sample\\Binaries\\GfxPrimitiveRenderer.nsp&quot;</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> TakeScreenShot(Nintendo.Tm.Target target)</div>
<div class="line">        {</div>
<div class="line">            var filePath = target.TakeScreenshot(<span class="keyword">null</span>, <span class="stringliteral">&quot;$(Target)-$(Serial)-$(Date)-$(Index).bmp&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;ScreenShot is saved. : {0}&quot;</span>, filePath);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> CreateProgramDump(Nintendo.Tm.Target target)</div>
<div class="line">        {</div>
<div class="line">            Nintendo.Tm.DumpType dumpType;</div>
<div class="line"> </div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Please select dump type&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;0:Full dump 1:Quick dump&quot;</span>);</div>
<div class="line">            var selectedDumpType = GetInputNumber();</div>
<div class="line">            <span class="keywordflow">switch</span> (selectedDumpType)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">case</span> 0:</div>
<div class="line">                    dumpType = Nintendo.Tm.DumpType.Full;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> 1:</div>
<div class="line">                    dumpType = Nintendo.Tm.DumpType.Quick;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;The input is out of range. Return to menu.&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">return</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            var tempPath = Environment.GetEnvironmentVariable(<span class="stringliteral">&quot;TEMP&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (tempPath == <span class="keyword">null</span>)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;EnvironmentVariable &#39;TEMP&#39; has not been set.&quot;</span>);</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            var dumpFilePath = tempPath + <span class="stringliteral">&quot;\\TmSimpleDump.nxdmp&quot;</span>;</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Create dump file {0}...&quot;</span>, dumpFilePath);</div>
<div class="line">            target.CreateProgramDump(dumpFilePath, dumpType);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">bool</span> SelectTarget(out Nintendo.Tm.Target target)</div>
<div class="line">        {</div>
<div class="line">            target = <span class="keyword">null</span>;</div>
<div class="line">            var targets = Nintendo.Tm.TargetManager.GetTargets();</div>
<div class="line">            <span class="keywordflow">if</span> (targets.Length == 0)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;No target is found. Skip RunProgram&quot;</span>);</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Please input the option number of the target to run:&quot;</span>);</div>
<div class="line">            ShowRegisteredTargetsWithoutDetails(targets);</div>
<div class="line">            Console.Write(<span class="stringliteral">&quot;other):\tReturn to menu\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            var selectedTarget = GetInputNumber();</div>
<div class="line">            var isValidSelect = 0 &lt;= selectedTarget &amp;&amp; selectedTarget &lt; targets.Length;</div>
<div class="line">            <span class="keywordflow">if</span> (isValidSelect)</div>
<div class="line">            {</div>
<div class="line">                target = targets[selectedTarget];</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> isValidSelect;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> RunProgram(Nintendo.Tm.Target target, <span class="keywordtype">string</span> appPath)</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Loading {0}...&quot;</span>, appPath);</div>
<div class="line">            target.LaunchProgram(appPath);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">while</span> (target.GetProgramState() != Nintendo.Tm.TargetProgramState.Running)</div>
<div class="line">                {</div>
<div class="line">                    System.Threading.Thread.Sleep(100);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Running program is {0}&quot;</span>, target.GetProgramName());</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Program state is {0}&quot;</span>, PrintProgramState(target.GetProgramState()));</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Application is running. Please select your command.&quot;</span>);</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;0:Take screenshot 1:Create dump file 2:Terminate target program&quot;</span>);</div>
<div class="line">                    var selectedCommand = GetInputNumber();</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">switch</span> (selectedCommand)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">case</span> 0:</div>
<div class="line">                            TakeScreenShot(target);</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> 1:</div>
<div class="line">                            CreateProgramDump(target);</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> 2:</div>
<div class="line">                            Console.WriteLine(<span class="stringliteral">&quot;Terminating the application... &quot;</span>);</div>
<div class="line">                            <span class="keywordflow">return</span>;</div>
<div class="line">                        <span class="keywordflow">default</span>:</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">finally</span></div>
<div class="line">            {</div>
<div class="line">                target.KillProgram();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> RunSampleProgram()</div>
<div class="line">        {</div>
<div class="line">            Nintendo.Tm.Target target;</div>
<div class="line">            <span class="keywordflow">if</span> (SelectTarget(out target))</div>
<div class="line">            {</div>
<div class="line">                target.Connect();</div>
<div class="line">                RunProgram(target, GetSampleNspPath());</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> RunAnyProgram()</div>
<div class="line">        {</div>
<div class="line">            Nintendo.Tm.Target target;</div>
<div class="line">            <span class="keywordflow">if</span> (SelectTarget(out target))</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Please enter the full path to the application program.&quot;</span>);</div>
<div class="line">                var appPath = Console.ReadLine();</div>
<div class="line">                RunProgram(target, appPath);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> ShowSettingMenu()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Please select your command.&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t0:Connect&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t1:Disconnect&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t2:Set to default target&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t3:Edit name&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t4:Edit working directory&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t5:Power off&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t6:Soft reset&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t7:Hard reset&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t8:Log management&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t9:Power on (SDEV only)&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t10:Change operation mode (SDEV only)&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\t11:Press Power Button (SDEV only)&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;\tother:Return to target list&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> LogManagement(Nintendo.Tm.Target target)</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Please select to do for the log...&quot;</span>);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;0:Show Log 1:Start Saving Txt Log 2:Stop Saving Txt Log 3:Start Saving Json Log 4:Stop Saving Json Log\n&quot;</span>);</div>
<div class="line">            <span class="keywordtype">string</span> logFilePath = Environment.GetEnvironmentVariable(<span class="stringliteral">&quot;TEMP&quot;</span>);</div>
<div class="line">            <span class="keywordflow">switch</span> (GetInputNumber())</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">case</span> 0:</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Show log...&quot;</span>);</div>
<div class="line">                    <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line">                    <span class="keywordtype">string</span> log = target.GetLog(ref flag);</div>
<div class="line">                    Console.WriteLine(log);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> 1:</div>
<div class="line">                    logFilePath += <span class="stringliteral">&quot;\\NintendoLog.txt&quot;</span>;</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Create log txt file {0}...&quot;</span>, logFilePath);</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Start saving txt log ...&quot;</span>);</div>
<div class="line">                    target.StartSavingLog(logFilePath, <span class="keyword">false</span>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> 2:</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Stop saving txt log ...&quot;</span>);</div>
<div class="line">                    target.StopSavingLog();</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> 3:</div>
<div class="line">                    logFilePath += <span class="stringliteral">&quot;\\NintendoLog.json&quot;</span>;</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Create log txt file {0}...&quot;</span>, logFilePath);</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Start saving json log ...&quot;</span>);</div>
<div class="line">                    target.StartSavingJsonLog(logFilePath, <span class="keyword">false</span>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> 4:</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Stop saving json log ...&quot;</span>);</div>
<div class="line">                    target.StopSavingJsonLog();</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> SettingCommandProcessor(SettingCommand selectedCommand, Nintendo.Tm.Target target)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">switch</span> (selectedCommand)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_Connect:</div>
<div class="line">                    Console.Write(<span class="stringliteral">&quot;Connecting...&quot;</span>);</div>
<div class="line">                    target.Connect();</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_Disconnect:</div>
<div class="line">                    Console.Write(<span class="stringliteral">&quot;Disconnecting...&quot;</span>);</div>
<div class="line">                    target.Disconnect();</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_DefaultTarget:</div>
<div class="line">                    Console.Write(<span class="stringliteral">&quot;Setting...&quot;</span>);</div>
<div class="line">                    Nintendo.Tm.TargetManager.SetDefaultTarget(target);</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_EditName:</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Please input target new name.&quot;</span>);</div>
<div class="line">                    <span class="keywordtype">string</span> name = Console.ReadLine();</div>
<div class="line">                    Console.Write(<span class="stringliteral">&quot;Setting new name...&quot;</span>);</div>
<div class="line">                    target.SetName(name);</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_SetWorkingDirectory:</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Please input target new working directory.&quot;</span>);</div>
<div class="line">                    <span class="keywordtype">string</span> workingDirectory = Console.ReadLine();</div>
<div class="line">                    Console.Write(<span class="stringliteral">&quot;Setting new working directory...&quot;</span>);</div>
<div class="line">                    target.SetWorkingDirectory(workingDirectory);</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_PoweringOff:</div>
<div class="line">                    Console.Write(<span class="stringliteral">&quot;Powering off...&quot;</span>);</div>
<div class="line">                    target.PowerOff();</div>
<div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_SoftReset:</div>
<div class="line">                    <span class="keywordflow">if</span> (target.GetIsConnected())</div>
<div class="line">                    {</div>
<div class="line">                        Console.Write(<span class="stringliteral">&quot;Soft resetting...&quot;</span>);</div>
<div class="line">                        target.ResetSoft();</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_HardReset:</div>
<div class="line">                    <span class="keywordflow">if</span> (target.GetIsConnected() || target.GetHardwareType() == Nintendo.Tm.TargetHardwareType.Sdev)</div>
<div class="line">                    {</div>
<div class="line">                        Console.Write(<span class="stringliteral">&quot;Hard resetting...&quot;</span>);</div>
<div class="line">                        target.ResetHard();</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_LogManagement:</div>
<div class="line">                    LogManagement(target);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_PoweringOn:</div>
<div class="line">                    <span class="keywordflow">if</span> (target.GetHardwareType() == Nintendo.Tm.TargetHardwareType.Sdev)</div>
<div class="line">                    {</div>
<div class="line">                        Console.Write(<span class="stringliteral">&quot;Powering On...&quot;</span>);</div>
<div class="line">                        target.PowerOn();</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Power on command is only permitted for SDEV targets.&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_OperationMode:</div>
<div class="line">                    <span class="keywordflow">if</span> (target.GetHardwareType() == Nintendo.Tm.TargetHardwareType.Sdev)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Please select operation mode...&quot;</span>);</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;0:Handheld mode 1:TV mode &quot;</span>);</div>
<div class="line">                        <span class="keywordflow">switch</span> (GetInputNumber())</div>
<div class="line">                        {</div>
<div class="line">                            <span class="keywordflow">case</span> 0:</div>
<div class="line">                                target.SetDockState(<span class="keyword">false</span>);</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                            <span class="keywordflow">case</span> 1:</div>
<div class="line">                                target.SetDockState(<span class="keyword">true</span>);</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                            <span class="keywordflow">default</span>:</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                        }</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Change operation mode command is only permitted for SDEV targets.&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SettingCommand.SettingCommand_PressPowerButton:</div>
<div class="line">                    <span class="keywordflow">if</span> (target.GetHardwareType() == Nintendo.Tm.TargetHardwareType.Sdev)</div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Please select the length of time to press...&quot;</span>);</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;0:one second 1:four seconds 2:eight seconds \n&quot;</span>);</div>
<div class="line">                        <span class="keywordflow">switch</span> (GetInputNumber())</div>
<div class="line">                        {</div>
<div class="line">                            <span class="keywordflow">case</span> 0:</div>
<div class="line">                                target.ShortPressPowerButton();</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                            <span class="keywordflow">case</span> 1:</div>
<div class="line">                                target.MiddlePressPowerButton();</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                            <span class="keywordflow">case</span> 2:</div>
<div class="line">                                target.LongPressPowerButton();</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                            <span class="keywordflow">default</span>:</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                        }</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Press power button command is only permitted for SDEV targets.&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    <span class="keywordflow">return</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> TargetSetting()</div>
<div class="line">        {</div>
<div class="line">            var targets = Nintendo.Tm.TargetManager.GetTargets();</div>
<div class="line">            <span class="keywordflow">if</span> (targets.Length == 0)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;No target is found. Skip TargetSetting&quot;</span>);</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">            }</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Please input option number of target to operate:&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            ShowRegisteredTargetsWithoutDetails(targets);</div>
<div class="line">            Console.Write(<span class="stringliteral">&quot;other):\tReturn to menu\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">int</span> selectedTarget = GetInputNumber();</div>
<div class="line">            <span class="keywordflow">if</span> (0 &lt;= selectedTarget &amp;&amp; selectedTarget &lt; targets.Length)</div>
<div class="line">            {</div>
<div class="line">                var target = targets[selectedTarget];</div>
<div class="line">                <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">                {</div>
<div class="line">                    ShowTargetInformation(target);</div>
<div class="line">                    ShowSettingMenu();</div>
<div class="line"> </div>
<div class="line">                    SettingCommand selectedCommand = (SettingCommand)Enum.ToObject(typeof(SettingCommand), GetInputNumber());</div>
<div class="line">                    <span class="keywordflow">if</span> (selectedCommand &lt; 0 || selectedCommand &gt;= SettingCommand.SettingCommand_Return)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                    }</div>
<div class="line">                    SettingCommandProcessor(selectedCommand, target);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> IncompleteDiscoveryScan()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Standby discovery scan...&quot;</span>);</div>
<div class="line">            Nintendo.Tm.DiscoveryState discoveryState;</div>
<div class="line">            discoveryState = Nintendo.Tm.TargetManager.GetDiscoveryState();</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Discovery State : {0}&quot;</span>, discoveryState.ToString());</div>
<div class="line">            Nintendo.Tm.TargetManager.StartDiscovery(2000);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Discovery scan processing...&quot;</span>);</div>
<div class="line">            discoveryState = Nintendo.Tm.TargetManager.GetDiscoveryState();</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Discovery State : {0}&quot;</span>, discoveryState.ToString());</div>
<div class="line">            Nintendo.Tm.TargetManager.AbortDiscovery();</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Discovery scan aborted.&quot;</span>);</div>
<div class="line">            discoveryState = Nintendo.Tm.TargetManager.GetDiscoveryState();</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Discovery State : {0}&quot;</span>, discoveryState.ToString());</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> Main(<span class="keywordtype">string</span>[] args)</div>
<div class="line">        {</div>
<div class="line">            Nintendo.Tm.TargetManager.OnApplicationExit += ProgramExitMonitorThread;</div>
<div class="line">            Nintendo.Tm.TargetManager.OnApplicationError += ProgramErrorMonitorThread;</div>
<div class="line">            Nintendo.Tm.TargetManager.OnHtcsPortMappingUpdate += DisplayHtcsPortmapping;</div>
<div class="line">            ScanDiscoverableTargets();</div>
<div class="line">            ShowDiscoveredTargets();</div>
<div class="line">            ShowRegisteredTargets();</div>
<div class="line">            <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Please select your command&quot;</span>);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\t0:Add Target 1:Remove Target 2:Run Sample Program 3:Run Any Program &quot;</span>);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\t4:Target Operation 5:Incomplete Discovery Scan 6:Rescan and View Target &quot;</span>);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;\tother:Exit&quot;</span>);</div>
<div class="line">                <span class="keywordtype">int</span> selectedCommand = GetInputNumber();</div>
<div class="line">                <span class="keywordflow">try</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">switch</span> (selectedCommand)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">case</span> 0:</div>
<div class="line">                            <a class="code" href="namespacenn_1_1tm.html#a433ee979733abf98d33e410835c0b653">AddTarget</a>();</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> 1:</div>
<div class="line">                            <a class="code" href="namespacenn_1_1tm.html#a020a3edb4b36e2af471b23a069d00c5e">RemoveTarget</a>();</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> 2:</div>
<div class="line">                            RunSampleProgram();</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> 3:</div>
<div class="line">                            RunAnyProgram();</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> 4:</div>
<div class="line">                            TargetSetting();</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> 5:</div>
<div class="line">                            IncompleteDiscoveryScan();</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> 6:</div>
<div class="line">                            ScanDiscoverableTargets();</div>
<div class="line">                            ShowDiscoveredTargets();</div>
<div class="line">                            ShowRegisteredTargets();</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">default</span>:</div>
<div class="line">                            <span class="keywordflow">return</span>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">catch</span> (Exception e)</div>
<div class="line">                {</div>
<div class="line">                    Console.WriteLine(e.ToString());</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="anamespace_tm_simple_html"><div class="ttname"><a href="namespace_tm_simple.html">TmSimple</a></div><div class="ttdoc">Namespace for the sample program of the Target Manager (tm) library (C#).</div><div class="ttdef"><b>Definition:</b> Program.cs:132</div></div>
<div class="ttc" id="anamespacenn_1_1tm_html_a020a3edb4b36e2af471b23a069d00c5e"><div class="ttname"><a href="namespacenn_1_1tm.html#a020a3edb4b36e2af471b23a069d00c5e">nn::tm::RemoveTarget</a></div><div class="ttdeci">Error RemoveTarget(TargetHandle targetHandle)</div><div class="ttdoc">Removes the target specified by the TargetHandle from Target Manager.</div></div>
<div class="ttc" id="anamespacenn_1_1tm_html_a433ee979733abf98d33e410835c0b653"><div class="ttname"><a href="namespacenn_1_1tm.html#a433ee979733abf98d33e410835c0b653">nn::tm::AddTarget</a></div><div class="ttdeci">Error AddTarget(TargetHandle *pOutTargetHandle, const TargetIpAddress *pIpAddress)</div><div class="ttdoc">Adds a target specified by the ip address to Target Manager.</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
