<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CdrSimple/CdrSimple.cpp | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CdrSimple/CdrSimple.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>For an explanation of the source code, see <a class="el" href="_page_sample_cdr_simple.html">CdrSimple</a> and <tt>CdrSimple/CdrSimple.cpp</tt>.</p>
<div class="fragment"><div class="line"><span class="comment">/*--------------------------------------------------------------------------------*</span></div>
<div class="line"><span class="comment">  Copyright Nintendo.  All rights reserved.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  These coded instructions, statements, and computer programs contain proprietary</span></div>
<div class="line"><span class="comment">  information of Nintendo and/or its licensed developers and are protected by</span></div>
<div class="line"><span class="comment">  national and international copyright laws. They may not be disclosed to third</span></div>
<div class="line"><span class="comment">  parties or copied or duplicated in any form, in whole or in part, without the</span></div>
<div class="line"><span class="comment">  prior written consent of Nintendo.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  The content herein is highly confidential and should be handled accordingly.</span></div>
<div class="line"><span class="comment"> *--------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Windows.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Shlwapi.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;C:\Program Files\Nintendo\Oasis\include\cdr.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define RETURN_IF_FAILURE(operation) \</span></div>
<div class="line"><span class="preprocessor">do { \</span></div>
<div class="line"><span class="preprocessor">    nn::cdr::Error MACRO_ERROR = operation; \</span></div>
<div class="line"><span class="preprocessor">    if (MACRO_ERROR != nn::cdr::Error_Ok) \</span></div>
<div class="line"><span class="preprocessor">    { \</span></div>
<div class="line"><span class="preprocessor">        printf(&quot;%s failed because of %d.\n&quot;</span>, #operation, MACRO_ERROR); \</div>
<div class="line">        return 1; \</div>
<div class="line">    } \</div>
<div class="line">} while (0)</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> LoadNxdmp()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> nxdmpPath[1024];</div>
<div class="line">    printf(<span class="stringliteral">&quot;Put full path of nxdmp file to load.\n&quot;</span>);</div>
<div class="line">    scanf_s(<span class="stringliteral">&quot;%1023s&quot;</span>, nxdmpPath, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(_countof(nxdmpPath)));</div>
<div class="line">    getchar();</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a0"></a><a class="code" href="namespacenn_1_1cdr.html#a618cf30986f1f7c82657df03cdac58d1">nn::cdr::Open</a>(nxdmpPath));</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> LoadNss()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> nssPath[1024];</div>
<div class="line">    printf(<span class="stringliteral">&quot;Put full path of directory which has related nss files.\n&quot;</span>);</div>
<div class="line">    scanf_s(<span class="stringliteral">&quot;%1023s&quot;</span>, nssPath, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(_countof(nssPath)));</div>
<div class="line">    getchar();</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a1"></a><a class="code" href="namespacenn_1_1cdr.html#a9e0be994822010691297af606768771f">nn::cdr::AddSymbolPath</a>(nssPath));</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> ShowThreadInformation(<span class="keyword">const</span> <a name="_a2"></a><a class="code" href="structnn_1_1cdr_1_1_thread.html">nn::cdr::Thread</a> &amp;thread)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;ThreadId: %lld, ThreadName: \&quot;%s\&quot;, Core: %hd, Priority: %d, Affinity Mask: 0x%08X, &quot;</span>, thread.<a name="a3"></a><a class="code" href="structnn_1_1cdr_1_1_thread.html#a9e732881aa1283ca08adcee3638d2661">id</a>, thread.<a name="a4"></a><a class="code" href="structnn_1_1cdr_1_1_thread.html#a17ffe0cd2a825ddb95a3b256e7e0c168">name</a>, thread.<a name="a5"></a><a class="code" href="structnn_1_1cdr_1_1_thread.html#a334118a93e1aee43c57b678245e78112">core</a>, thread.<a name="a6"></a><a class="code" href="structnn_1_1cdr_1_1_thread.html#ad6edc9590abd94c92c412a52e66194dd">priority</a>, thread.<a name="a7"></a><a class="code" href="structnn_1_1cdr_1_1_thread.html#ab2e2af97baa921245f2ccd6fd1ec0ffa">affinityMask</a>);</div>
<div class="line">    <span class="keywordflow">switch</span> (thread.<a name="a8"></a><a class="code" href="structnn_1_1cdr_1_1_thread.html#ad98c6b7e79ccea29a5a9d980d05d7f01">state</a>)</div>
<div class="line">    {</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a9"></a><a class="code" href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888fadc445315e6a0b6e154942567260c28be">nn::cdr::ThreadState_NotStarted</a>:</div>
<div class="line">        printf(<span class="stringliteral">&quot;ThreadState: NotStarted\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a10"></a><a class="code" href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888fa69bf65792b0f580208f45c16e1c5528d">nn::cdr::ThreadState_Running</a>:</div>
<div class="line">        printf(<span class="stringliteral">&quot;ThreadState: Running\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a11"></a><a class="code" href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888fa09ec5f5200aba2ee88fd82c3f6dfa87a">nn::cdr::ThreadState_Waiting</a>:</div>
<div class="line">        printf(<span class="stringliteral">&quot;ThreadState: Waiting\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a12"></a><a class="code" href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888faf0831a7e96333081f141725d0d25d735">nn::cdr::ThreadState_Suspended</a>:</div>
<div class="line">        printf(<span class="stringliteral">&quot;ThreadState: Suspended\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a13"></a><a class="code" href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888fa7293bfb5a10bb2d8908ee1ddb8601cd9">nn::cdr::ThreadState_Terminated</a>:</div>
<div class="line">        printf(<span class="stringliteral">&quot;ThreadState: Terminated\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        printf(<span class="stringliteral">&quot;ThreadState: Unknown\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> nCallStackEntries = 0;</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a14"></a><a class="code" href="namespacenn_1_1cdr.html#adb9fb38d2ccf376bd36d137b71d57f63">nn::cdr::GetCallStackEntryCount</a>(&amp;nCallStackEntries, thread.<a class="code" href="structnn_1_1cdr_1_1_thread.html#a9e732881aa1283ca08adcee3638d2661">id</a>));</div>
<div class="line"> </div>
<div class="line">    std::unique_ptr&lt;nn::cdr::CallStackEntry[]&gt; pEntries(<span class="keyword">new</span> <a name="_a15"></a><a class="code" href="structnn_1_1cdr_1_1_call_stack_entry.html">nn::cdr::CallStackEntry</a>[nCallStackEntries]);</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a16"></a><a class="code" href="namespacenn_1_1cdr.html#a4cc0450c3c869f88b7b4c4b4201104de">nn::cdr::GetCallStackEntries</a>(pEntries.get(), &amp;nCallStackEntries, nCallStackEntries, thread.<a class="code" href="structnn_1_1cdr_1_1_thread.html#a9e732881aa1283ca08adcee3638d2661">id</a>));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iEntry = 0; iEntry &lt; nCallStackEntries; ++iEntry)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!pEntries[iEntry].isSymbolsLoaded)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;# Warning: nss file for Module %d is not loaded. Some information would be missing or incorrect.\n&quot;</span>, pEntries[iEntry].moduleIndex);</div>
<div class="line">        }</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Call Stack[%d]:\n&quot;</span>, iEntry);</div>
<div class="line">        printf(<span class="stringliteral">&quot;    Function:    \&quot;%s\&quot;\n&quot;</span>, pEntries[iEntry].<span class="keyword">function</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;    IP:          0x%llx\n&quot;</span>, pEntries[iEntry].instructionAddress);</div>
<div class="line">        printf(<span class="stringliteral">&quot;    Line Number: %d\n&quot;</span>, pEntries[iEntry].lineNumber);</div>
<div class="line">        printf(<span class="stringliteral">&quot;    Module:      %d\n&quot;</span>, pEntries[iEntry].moduleIndex);</div>
<div class="line">        printf(<span class="stringliteral">&quot;    Source:      \&quot;%s\&quot;\n&quot;</span>, pEntries[iEntry].source);</div>
<div class="line"> </div>
<div class="line">        <a name="_a17"></a><a class="code" href="structnn_1_1cdr_1_1_file_path.html">nn::cdr::FilePath</a> filePath;</div>
<div class="line">        <span class="keywordtype">int</span> lineNumber = 0;</div>
<div class="line">        RETURN_IF_FAILURE(<a name="a18"></a><a class="code" href="namespacenn_1_1cdr.html#a14af1a0fc9d5f1bf4e663c5f45892df5">nn::cdr::GetSource</a>(&amp;filePath, &amp;lineNumber, pEntries[iEntry].instructionAddress));</div>
<div class="line">        printf(<span class="stringliteral">&quot;   GetSource() for the address 0x%llx: \&quot;%s\&quot; Line %d\n\n&quot;</span>, pEntries[iEntry].instructionAddress, filePath.<a name="a19"></a>filePath, lineNumber);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> ShowAllThreadInformation()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> nThreads = 0;</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a20"></a><a class="code" href="namespacenn_1_1cdr.html#aca9fb38eb68f694a85543172c49810ed">nn::cdr::GetThreadCount</a>(&amp;nThreads));</div>
<div class="line">    printf(<span class="stringliteral">&quot;==================== Threads ===================\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  Number of threads: %d\n&quot;</span>, nThreads);</div>
<div class="line"> </div>
<div class="line">    std::unique_ptr&lt;nn::cdr::Thread[]&gt; pThreads(<span class="keyword">new</span> <a class="code" href="structnn_1_1cdr_1_1_thread.html">nn::cdr::Thread</a>[nThreads]);</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a21"></a><a class="code" href="namespacenn_1_1cdr.html#ac9d4044ade2c2024638ae86d05bd31c2">nn::cdr::GetThreads</a>(pThreads.get(), &amp;nThreads, nThreads));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iThread = 0; iThread &lt; nThreads; ++iThread)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Thread[%d]:&quot;</span>, iThread);</div>
<div class="line">        ShowThreadInformation(pThreads[iThread]);</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> ShowModuleInformation()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> nModules = 0;</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a22"></a><a class="code" href="namespacenn_1_1cdr.html#a05970b5a27aeb46e95da3c038bed4901">nn::cdr::GetModuleCount</a>(&amp;nModules));</div>
<div class="line">    printf(<span class="stringliteral">&quot;==================== Modules ===================\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  Number of modules: %d\n&quot;</span>, nModules);</div>
<div class="line"> </div>
<div class="line">    std::unique_ptr&lt;nn::cdr::Module[]&gt; pModules(<span class="keyword">new</span> <a name="_a23"></a><a class="code" href="structnn_1_1cdr_1_1_module.html">nn::cdr::Module</a>[nModules]);</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a24"></a><a class="code" href="namespacenn_1_1cdr.html#a99e9ddae6ff961dfe97ac8d42f9a5227">nn::cdr::GetModules</a>(pModules.get(), &amp;nModules, nModules));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iMod = 0; iMod &lt; nModules; ++iMod)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;  Module[%d]:\n&quot;</span>, iMod);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Custom printing logic to handle the build ID format.</span></div>
<div class="line">        printf(<span class="stringliteral">&quot;   ID:          &quot;</span>);</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iDigit = 0; iDigit &lt; <span class="keyword">sizeof</span>(pModules[iMod].id); ++iDigit)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;%hhx&quot;</span>, pModules[iMod].<span class="keywordtype">id</span>[iDigit]);</div>
<div class="line">        }</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!pModules[iMod].isSymbolsLoaded)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;# Warning: nss file for Module %s is not loaded. Some information would be missing or incorrect.\n&quot;</span>, pModules[iMod].filePath);</div>
<div class="line">        }</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Name:        \&quot;%s\&quot;\n&quot;</span>, pModules[iMod].filePath);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   LoadAddress: 0x%llx\n&quot;</span>, pModules[iMod].loadAddress);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Size:        %lld\n\n&quot;</span>, pModules[iMod].size);</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> ShowExceptionInformation()</div>
<div class="line">{</div>
<div class="line">    <a name="_a25"></a><a class="code" href="structnn_1_1cdr_1_1_exception.html">nn::cdr::Exception</a> exception;</div>
<div class="line">    <a class="code" href="structnn_1_1cdr_1_1_thread.html">nn::cdr::Thread</a> thread;</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a26"></a><a class="code" href="namespacenn_1_1cdr.html#a309b1fc6c1b89c34e192ac00a134f118">nn::cdr::GetException</a>(&amp;exception));</div>
<div class="line">    printf(<span class="stringliteral">&quot;=================== Exception ==================\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Exception %d occured. Thread ID is %lld.\n&quot;</span>, exception.<a name="a27"></a>code, exception.<a name="a28"></a>threadId);</div>
<div class="line">    printf(<span class="stringliteral">&quot;%s\n\n&quot;</span>, exception.<a name="a29"></a>description);</div>
<div class="line">    <span class="keywordflow">if</span> (exception.threadId == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    RETURN_IF_FAILURE(<a name="a30"></a><a class="code" href="namespacenn_1_1cdr.html#a3c3cfb8d697c93e31c306d1eeb88bd32">nn::cdr::GetThread</a>(&amp;thread, exception.threadId));</div>
<div class="line">    printf(<span class="stringliteral">&quot;=== Information of thread which caused crash ===\n&quot;</span>);</div>
<div class="line">    ShowThreadInformation(thread);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="namespacenn_1_1cdr.html#a65c49e66ff4c51547bf0f549e625975c">ExportScreenshot</a>() {</div>
<div class="line">    printf(<span class="stringliteral">&quot;=================== ExportScreenshot ==================\n&quot;</span>);</div>
<div class="line">    <span class="comment">//Print the screenshot to the file path.</span></div>
<div class="line">    <span class="keywordtype">char</span> outputDir[512];</div>
<div class="line">    DWORD ret = GetEnvironmentVariableA(<span class="stringliteral">&quot;TEMP&quot;</span>, outputDir, <span class="keyword">sizeof</span>(outputDir));</div>
<div class="line">    _ASSERT(ret &lt; <span class="keyword">sizeof</span>(outputDir));</div>
<div class="line">    strcat_s(outputDir, <span class="stringliteral">&quot;\\ScreenShot.bmp&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot; ScreenShot file path: %s \n\n&quot;</span>, outputDir);</div>
<div class="line">    <span class="keywordflow">if</span> (PathFileExistsA(outputDir))</div>
<div class="line">    {</div>
<div class="line">        DeleteFileA(outputDir);</div>
<div class="line">    }</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a31"></a><a class="code" href="namespacenn_1_1cdr.html#a65c49e66ff4c51547bf0f549e625975c">nn::cdr::ExportScreenshot</a>(outputDir));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> ShowScreenShotData()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> width = 0;</div>
<div class="line">    <span class="keywordtype">int</span> height = 0;</div>
<div class="line">    printf(<span class="stringliteral">&quot;=================== ScreenShotdata ==================\n&quot;</span>);</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a32"></a><a class="code" href="namespacenn_1_1cdr.html#a1bc61b2403fcbc012e4ffbf15694944d">nn::cdr::GetScreenshotSize</a>(&amp;width, &amp;height));</div>
<div class="line">    printf(<span class="stringliteral">&quot; ScreenshotSize     width:[ %d ] height:[ %d ]\n&quot;</span>, width, height);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">size_t</span> imageBufferSize = width * abs(height) * 3;</div>
<div class="line">    std::unique_ptr&lt;unsigned char[]&gt; pImgBuffer(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[imageBufferSize]);</div>
<div class="line">    RETURN_IF_FAILURE(<a name="a33"></a><a class="code" href="namespacenn_1_1cdr.html#a63464f23afe7bd96e83b535f88367ee6">nn::cdr::GetScreenshotData</a>(pImgBuffer.get(), imageBufferSize));</div>
<div class="line">    printf(<span class="stringliteral">&quot; Top left pixel    :R[ %d ] G[ %d ] B[ %d ]\n&quot;</span>, pImgBuffer[2], pImgBuffer[1], pImgBuffer[0]);</div>
<div class="line">    printf(<span class="stringliteral">&quot; Bottom right pixel:R[ %d ] G[ %d ] B[ %d ]\n&quot;</span>, pImgBuffer[imageBufferSize - 1], pImgBuffer[imageBufferSize - 2], pImgBuffer[imageBufferSize - 3]);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (LoadNxdmp() != 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (LoadNss() != 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ShowAllThreadInformation();</div>
<div class="line">    ShowModuleInformation();</div>
<div class="line">    ShowExceptionInformation();</div>
<div class="line">    <a class="code" href="namespacenn_1_1cdr.html#a65c49e66ff4c51547bf0f549e625975c">ExportScreenshot</a>();</div>
<div class="line">    ShowScreenShotData();</div>
<div class="line"> </div>
<div class="line">    RETURN_IF_FAILURE(<a name="a34"></a><a class="code" href="namespacenn_1_1cdr.html#a04c8b09a539bb16619f7036fc3b1973c">nn::cdr::Close</a>());</div>
<div class="line">    getchar();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a04c8b09a539bb16619f7036fc3b1973c"><div class="ttname"><a href="namespacenn_1_1cdr.html#a04c8b09a539bb16619f7036fc3b1973c">nn::cdr::Close</a></div><div class="ttdeci">CDR_DLL_DECL Error Close(void)</div><div class="ttdoc">Closes the core dump file, if a file is open.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a05970b5a27aeb46e95da3c038bed4901"><div class="ttname"><a href="namespacenn_1_1cdr.html#a05970b5a27aeb46e95da3c038bed4901">nn::cdr::GetModuleCount</a></div><div class="ttdeci">CDR_DLL_DECL Error GetModuleCount(int32_t *pOutModuleCount)</div><div class="ttdoc">Gets the number of modules from the nxdmp file.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a14af1a0fc9d5f1bf4e663c5f45892df5"><div class="ttname"><a href="namespacenn_1_1cdr.html#a14af1a0fc9d5f1bf4e663c5f45892df5">nn::cdr::GetSource</a></div><div class="ttdeci">CDR_DLL_DECL Error GetSource(FilePath *pOutFilePath, int *pOutLineNumber, uint64_t address)</div><div class="ttdoc">Gets the file name and line number for the specified address.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a1bc61b2403fcbc012e4ffbf15694944d"><div class="ttname"><a href="namespacenn_1_1cdr.html#a1bc61b2403fcbc012e4ffbf15694944d">nn::cdr::GetScreenshotSize</a></div><div class="ttdeci">CDR_DLL_DECL Error GetScreenshotSize(int *width, int *height)</div><div class="ttdoc">Get size of screenshot image from nxdmp.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a309b1fc6c1b89c34e192ac00a134f118"><div class="ttname"><a href="namespacenn_1_1cdr.html#a309b1fc6c1b89c34e192ac00a134f118">nn::cdr::GetException</a></div><div class="ttdeci">CDR_DLL_DECL Error GetException(Exception *pOutException)</div><div class="ttdoc">Gets the exception code and description.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a3c3cfb8d697c93e31c306d1eeb88bd32"><div class="ttname"><a href="namespacenn_1_1cdr.html#a3c3cfb8d697c93e31c306d1eeb88bd32">nn::cdr::GetThread</a></div><div class="ttdeci">CDR_DLL_DECL Error GetThread(Thread *pOutThreadInfo, ThreadId threadId)</div><div class="ttdoc">Gets the thread information whose ThreadID is specified one.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a4cc0450c3c869f88b7b4c4b4201104de"><div class="ttname"><a href="namespacenn_1_1cdr.html#a4cc0450c3c869f88b7b4c4b4201104de">nn::cdr::GetCallStackEntries</a></div><div class="ttdeci">CDR_DLL_DECL Error GetCallStackEntries(CallStackEntry *pOutEntries, int32_t *pOutBufferSize, int32_t bufferSize, ThreadId threadId)</div><div class="ttdoc">Acquires an array of call stack entries.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a5b935f46760275a0b847c62739c0888fa09ec5f5200aba2ee88fd82c3f6dfa87a"><div class="ttname"><a href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888fa09ec5f5200aba2ee88fd82c3f6dfa87a">nn::cdr::ThreadState_Waiting</a></div><div class="ttdeci">@ ThreadState_Waiting</div><div class="ttdoc">Thread is waiting for a trigger to resume.</div><div class="ttdef"><b>Definition:</b> cdr.h:110</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a5b935f46760275a0b847c62739c0888fa69bf65792b0f580208f45c16e1c5528d"><div class="ttname"><a href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888fa69bf65792b0f580208f45c16e1c5528d">nn::cdr::ThreadState_Running</a></div><div class="ttdeci">@ ThreadState_Running</div><div class="ttdoc">Thread is running.</div><div class="ttdef"><b>Definition:</b> cdr.h:109</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a5b935f46760275a0b847c62739c0888fa7293bfb5a10bb2d8908ee1ddb8601cd9"><div class="ttname"><a href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888fa7293bfb5a10bb2d8908ee1ddb8601cd9">nn::cdr::ThreadState_Terminated</a></div><div class="ttdeci">@ ThreadState_Terminated</div><div class="ttdoc">Thread has been terminated.</div><div class="ttdef"><b>Definition:</b> cdr.h:112</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a5b935f46760275a0b847c62739c0888fadc445315e6a0b6e154942567260c28be"><div class="ttname"><a href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888fadc445315e6a0b6e154942567260c28be">nn::cdr::ThreadState_NotStarted</a></div><div class="ttdeci">@ ThreadState_NotStarted</div><div class="ttdoc">Thread is initialized and is not running.</div><div class="ttdef"><b>Definition:</b> cdr.h:108</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a5b935f46760275a0b847c62739c0888faf0831a7e96333081f141725d0d25d735"><div class="ttname"><a href="namespacenn_1_1cdr.html#a5b935f46760275a0b847c62739c0888faf0831a7e96333081f141725d0d25d735">nn::cdr::ThreadState_Suspended</a></div><div class="ttdeci">@ ThreadState_Suspended</div><div class="ttdoc">Thread is suspended by the debugger.</div><div class="ttdef"><b>Definition:</b> cdr.h:111</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a618cf30986f1f7c82657df03cdac58d1"><div class="ttname"><a href="namespacenn_1_1cdr.html#a618cf30986f1f7c82657df03cdac58d1">nn::cdr::Open</a></div><div class="ttdeci">CDR_DLL_DECL Error Open(const char *pDumpFilePath)</div><div class="ttdoc">Opens the specified core dump file.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a63464f23afe7bd96e83b535f88367ee6"><div class="ttname"><a href="namespacenn_1_1cdr.html#a63464f23afe7bd96e83b535f88367ee6">nn::cdr::GetScreenshotData</a></div><div class="ttdeci">CDR_DLL_DECL Error GetScreenshotData(void *pOutBuffer, size_t bufferSize)</div><div class="ttdoc">Get screenshot image data from nxdmp.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a65c49e66ff4c51547bf0f549e625975c"><div class="ttname"><a href="namespacenn_1_1cdr.html#a65c49e66ff4c51547bf0f549e625975c">nn::cdr::ExportScreenshot</a></div><div class="ttdeci">CDR_DLL_DECL Error ExportScreenshot(const char *filePath)</div><div class="ttdoc">Export screenshot image from nxdmp.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a99e9ddae6ff961dfe97ac8d42f9a5227"><div class="ttname"><a href="namespacenn_1_1cdr.html#a99e9ddae6ff961dfe97ac8d42f9a5227">nn::cdr::GetModules</a></div><div class="ttdeci">CDR_DLL_DECL Error GetModules(Module *pOutModuleInfos, int32_t *pOutBufferSize, int32_t bufferSize)</div><div class="ttdoc">Acquires an array of module information.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_a9e0be994822010691297af606768771f"><div class="ttname"><a href="namespacenn_1_1cdr.html#a9e0be994822010691297af606768771f">nn::cdr::AddSymbolPath</a></div><div class="ttdeci">CDR_DLL_DECL Error AddSymbolPath(const char *pPath)</div><div class="ttdoc">Adds the specified path to the list of known symbol paths.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_ac9d4044ade2c2024638ae86d05bd31c2"><div class="ttname"><a href="namespacenn_1_1cdr.html#ac9d4044ade2c2024638ae86d05bd31c2">nn::cdr::GetThreads</a></div><div class="ttdeci">CDR_DLL_DECL Error GetThreads(Thread *pOutThreadInfos, int32_t *pOutBufferSize, int32_t bufferSize)</div><div class="ttdoc">Acquires an array of thread information.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_aca9fb38eb68f694a85543172c49810ed"><div class="ttname"><a href="namespacenn_1_1cdr.html#aca9fb38eb68f694a85543172c49810ed">nn::cdr::GetThreadCount</a></div><div class="ttdeci">CDR_DLL_DECL Error GetThreadCount(int32_t *pOutThreadCount)</div><div class="ttdoc">Gets the number of threads from the nxdmp file.</div></div>
<div class="ttc" id="anamespacenn_1_1cdr_html_adb9fb38d2ccf376bd36d137b71d57f63"><div class="ttname"><a href="namespacenn_1_1cdr.html#adb9fb38d2ccf376bd36d137b71d57f63">nn::cdr::GetCallStackEntryCount</a></div><div class="ttdeci">CDR_DLL_DECL Error GetCallStackEntryCount(int32_t *pOutCallStackEntryCount, ThreadId threadId)</div><div class="ttdoc">Gets the number of call stack entries for the specified thread.</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_call_stack_entry_html"><div class="ttname"><a href="structnn_1_1cdr_1_1_call_stack_entry.html">nn::cdr::CallStackEntry</a></div><div class="ttdoc">Contains information for a call stack entry.</div><div class="ttdef"><b>Definition:</b> cdr.h:148</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_exception_html"><div class="ttname"><a href="structnn_1_1cdr_1_1_exception.html">nn::cdr::Exception</a></div><div class="ttdoc">A container for storing the exception code and description.</div><div class="ttdef"><b>Definition:</b> cdr.h:173</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_file_path_html"><div class="ttname"><a href="structnn_1_1cdr_1_1_file_path.html">nn::cdr::FilePath</a></div><div class="ttdoc">A container for storing a null-terminated, UTF-8 file path.</div><div class="ttdef"><b>Definition:</b> cdr.h:163</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_module_html"><div class="ttname"><a href="structnn_1_1cdr_1_1_module.html">nn::cdr::Module</a></div><div class="ttdoc">Contains module information.</div><div class="ttdef"><b>Definition:</b> cdr.h:133</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_thread_html"><div class="ttname"><a href="structnn_1_1cdr_1_1_thread.html">nn::cdr::Thread</a></div><div class="ttdoc">Contains thread information.</div><div class="ttdef"><b>Definition:</b> cdr.h:117</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_thread_html_a17ffe0cd2a825ddb95a3b256e7e0c168"><div class="ttname"><a href="structnn_1_1cdr_1_1_thread.html#a17ffe0cd2a825ddb95a3b256e7e0c168">nn::cdr::Thread::name</a></div><div class="ttdeci">char name[ThreadNameSize]</div><div class="ttdoc">Name of the thread.</div><div class="ttdef"><b>Definition:</b> cdr.h:125</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_thread_html_a334118a93e1aee43c57b678245e78112"><div class="ttname"><a href="structnn_1_1cdr_1_1_thread.html#a334118a93e1aee43c57b678245e78112">nn::cdr::Thread::core</a></div><div class="ttdeci">int8_t core</div><div class="ttdoc">Current core running the thread.</div><div class="ttdef"><b>Definition:</b> cdr.h:123</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_thread_html_a9e732881aa1283ca08adcee3638d2661"><div class="ttname"><a href="structnn_1_1cdr_1_1_thread.html#a9e732881aa1283ca08adcee3638d2661">nn::cdr::Thread::id</a></div><div class="ttdeci">ThreadId id</div><div class="ttdoc">The unique thread id for the target thread.</div><div class="ttdef"><b>Definition:</b> cdr.h:122</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_thread_html_ab2e2af97baa921245f2ccd6fd1ec0ffa"><div class="ttname"><a href="structnn_1_1cdr_1_1_thread.html#ab2e2af97baa921245f2ccd6fd1ec0ffa">nn::cdr::Thread::affinityMask</a></div><div class="ttdeci">int8_t affinityMask</div><div class="ttdoc">The bit vector that defines what processors it can run on.</div><div class="ttdef"><b>Definition:</b> cdr.h:127</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_thread_html_ad6edc9590abd94c92c412a52e66194dd"><div class="ttname"><a href="structnn_1_1cdr_1_1_thread.html#ad6edc9590abd94c92c412a52e66194dd">nn::cdr::Thread::priority</a></div><div class="ttdeci">int16_t priority</div><div class="ttdoc">Priority of when processor will evaluate thread.</div><div class="ttdef"><b>Definition:</b> cdr.h:126</div></div>
<div class="ttc" id="astructnn_1_1cdr_1_1_thread_html_ad98c6b7e79ccea29a5a9d980d05d7f01"><div class="ttname"><a href="structnn_1_1cdr_1_1_thread.html#ad98c6b7e79ccea29a5a9d980d05d7f01">nn::cdr::Thread::state</a></div><div class="ttdeci">ThreadState state</div><div class="ttdoc">The thread state.</div><div class="ttdef"><b>Definition:</b> cdr.h:128</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
