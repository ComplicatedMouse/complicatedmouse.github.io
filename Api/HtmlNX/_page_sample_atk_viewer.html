<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>In-Game Editing Sample | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_atk.html">Audio Toolkit Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">In-Game Editing Sample </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSampleAtkViewer_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSampleAtkViewer_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSampleAtkViewer_SectionNecessaryEnvironment">Required Environment</a></li>
<li class="level1"><a href="#PageSampleAtkViewer_SectionHowToOperate">How to Use</a></li>
<li class="level1"><a href="#PageSampleAtkViewer_SectionPrecaution">Important Information</a></li>
<li class="level1"><a href="#PageSampleAtkViewer_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSampleAtkViewer_SectionDetail">Description</a><ul><li class="level2"><a href="#PageSampleAtkViewer_SectionSampleProgram">Sample Program</a></li>
<li class="level2"><a href="#PageSampleAtkViewer_SectionSampleDetail">Sample Program Description</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This sample program shows how to use the in-game editing feature of the <code><a class="el" href="namespacenn_1_1atk.html" title="Namespace for the audio toolkit.">nn::atk</a></code> library.</p>
<h1><a class="anchor" id="PageSampleAtkViewer_SectionBrief"></a>
Overview</h1>
<p>This sample demonstrates the initialization procedure so you can connect a game application to SoundMaker and use the in-game editing features to preview changes made to parameters in the sound archive while the game is running.</p>
<h1><a class="anchor" id="PageSampleAtkViewer_SectionFileStructure"></a>
File Structure</h1>
<p>This sample program is located in <code><a class="el" href="dir_5a263d7dc51ee5faf266da30fcc8f89c.html">Samples/Sources/Applications/AtkViewer/ </a> </code>.</p>
<h1><a class="anchor" id="PageSampleAtkViewer_SectionNecessaryEnvironment"></a>
Required Environment</h1>
<p>Nothing specific. You must run <code>Tools/Audio/SoundMaker/SoundMaker.exe</code> to check out the in-game editing feature.</p>
<h1><a class="anchor" id="PageSampleAtkViewer_SectionHowToOperate"></a>
How to Use</h1>
<p>Operation instructions are displayed in the console. After you connect to this sample from SoundMaker, you can edit and tweak the contents of the sound archive while previewing the sample. For more information, see In-Game Editing in the SoundMaker documentation.</p>
<h1><a class="anchor" id="PageSampleAtkViewer_SectionPrecaution"></a>
Important Information</h1>
<p>A log is displayed on the screen and on the console during execution, and immediately after startup this log is used to display the operation guide.</p>
<p>Note that in the PC version, a window does not open and the log is displayed only on the console screen.</p>
<h1><a class="anchor" id="PageSampleAtkViewer_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>Build the sample program and then run it.</p>
<h1><a class="anchor" id="PageSampleAtkViewer_SectionDetail"></a>
Description</h1>
<h2><a class="anchor" id="PageSampleAtkViewer_SectionSampleProgram"></a>
Sample Program</h2>
<p>This sample program uses the following source code.</p>
<p><a class="el" href="_atk_viewer_8cpp.html" title="Sample program showing how to use the nn::atk library&#39;s in-game editing feature.">AtkViewer.cpp</a> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*--------------------------------------------------------------------------------*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">  Copyright Nintendo.  All rights reserved.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">  These coded instructions, statements, and computer programs contain proprietary</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">  information of Nintendo and/or its licensed developers and are protected by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">  national and international copyright laws. They may not be disclosed to third</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">  parties or copied or duplicated in any form, in whole or in part, without the</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">  prior written consent of Nintendo.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">  The content herein is highly confidential and should be handled accordingly.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *--------------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;Common.fsid&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &lt;nn/atk.h&gt;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="htcs_8h.html">nn/htcs.h</a>&gt;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &lt;nn/atk/viewer/atk_SoundEdit.h&gt;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &lt;nns/atk/atk_SampleCommon.h&gt;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &lt;nns/nns_Log.h&gt;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &lt;nn/TargetConfigs/build_Platform.h&gt;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#if defined(NN_BUILD_TARGET_PLATFORM_OS_WIN)</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="socket_8h.html">nn/socket.h</a>&gt;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">namespace</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> Title[] = <span class="stringliteral">&quot;AtkViewer&quot;</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> ArchiveRelativePath[] = <span class="stringliteral">&quot;Common.bfsar&quot;</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> SoundHeapSize = 4 * 1024 * 1024;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="classnn_1_1atk_1_1_sound_heap.html">nn::atk::SoundHeap</a>          g_SoundHeap;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="classnn_1_1atk_1_1_fs_sound_archive.html">nn::atk::FsSoundArchive</a>     g_SoundArchive;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classnn_1_1atk_1_1_sound_archive_player.html">nn::atk::SoundArchivePlayer</a> g_SoundArchivePlayer;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="classnn_1_1atk_1_1_sound_data_manager.html">nn::atk::SoundDataManager</a>   g_SoundDataManager;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="structnn_1_1audio_1_1_memory_pool_type.html">nn::audio::MemoryPoolType</a>   g_MemoryPool;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">void</span>* g_pMemoryForSoundSystem;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">void</span>* g_pMemoryForSoundHeap;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">void</span>* g_pMemoryForInfoBlock;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">void</span>* g_pMemoryForSoundDataManager;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">void</span>* g_pMemoryForSoundArchivePlayer;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordtype">void</span>* g_pMemoryForStreamBuffer;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="classnn_1_1atk_1_1_sound_handle.html">nn::atk::SoundHandle</a>        g_SoundHandle;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="classnn_1_1atk_1_1_sound_handle.html">nn::atk::SoundHandle</a>        g_SoundHandleHold;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#if defined(NN_ATK_CONFIG_ENABLE_DEV)</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="classnn_1_1atk_1_1viewer_1_1_sound_edit.html">nn::atk::viewer::SoundEdit</a> g_SoundEdit;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">void</span>* g_pMemoryForSoundEdit;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">void</span>* g_pMemoryForLabelData;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">bool</span> g_IsConnected;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// NN_ATK_CONFIG_ENABLE_DEV</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacenn_1_1htc.html#ae7d36d5610146607c2ebbc6b31dec9e3">Initialize</a>()</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    nns::atk::InitializeHeap();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    nns::atk::InitializeFileSystem();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    nns::atk::InitializeHidDevices();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">const</span> <a class="code" href="classnn_1_1_result.html">nn::Result</a> result = <a class="code" href="namespacenn_1_1fs.html#a2ea39d2487ac28bc767cd699eeeebe11">nn::fs::MountHostRoot</a>();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a>(result);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor">#if defined(NN_BUILD_TARGET_PLATFORM_OS_WIN)</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// For Windows applications, you must call nn::socket::Initialize() to use htc.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keyword">static</span> <a class="code" href="classnn_1_1socket_1_1_config_default_with_memory.html">nn::socket::ConfigDefaultWithMemory</a> s_SocketConfig;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="namespacenn_1_1socket.html#adacc3405184e8f28fb630745b9f43db0">nn::socket::Initialize</a>(s_SocketConfig);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="namespacenn_1_1htcs.html#a7eab72b8843a2a9ff763f52b78da680e">nn::htcs::Initialize</a>(nns::atk::Allocate, nns::atk::Free);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacenn_1_1htc.html#a8337c461b81d43d85571e7fa4e574c48">Finalize</a>()</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="namespacenn_1_1htcs.html#abf5eb36f3563222450920fad56fdaf61">nn::htcs::Finalize</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#if defined(NN_BUILD_TARGET_PLATFORM_OS_WIN)</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="namespacenn_1_1socket.html#a28a801f086aadf0b731a721567f3e4b2">nn::socket::Finalize</a>();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="namespacenn_1_1fs.html#ade5d6e6459dca7d8274564bcfc5de757">nn::fs::UnmountHostRoot</a>();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    nns::atk::FinalizeHidDevices();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    nns::atk::FinalizeFileSystem();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    nns::atk::FinalizeHeap();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keywordtype">void</span> InitializeAtk()</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">bool</span> isSuccess = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// Initialize SoundSystem.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="structnn_1_1atk_1_1_sound_system_1_1_sound_system_param.html">nn::atk::SoundSystem::SoundSystemParam</a> param;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    std::size_t memSizeForSoundSystem = <a class="code" href="classnn_1_1atk_1_1_sound_system.html#a67118a2bc91146f4fb6e4c8f550db8be">nn::atk::SoundSystem::GetRequiredMemSize</a>( param );</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    g_pMemoryForSoundSystem = nns::atk::Allocate( memSizeForSoundSystem, <a class="code" href="classnn_1_1atk_1_1_sound_system.html#a30ab524c42539c302be8e76a3c57e5fe">nn::atk::SoundSystem::WorkMemoryAlignSize</a> );</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    isSuccess = <a class="code" href="classnn_1_1atk_1_1_sound_system.html#a3dbeeceef71d2c2a527732d82d923671">nn::atk::SoundSystem::Initialize</a>(</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        param,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>( g_pMemoryForSoundSystem ),</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        memSizeForSoundSystem );</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>( isSuccess, <span class="stringliteral">&quot;cannot initialize SoundSystem&quot;</span> );</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// Initialize SoundHeap.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    g_pMemoryForSoundHeap = nns::atk::Allocate( SoundHeapSize );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    isSuccess = g_SoundHeap.Create( g_pMemoryForSoundHeap, SoundHeapSize );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>( isSuccess, <span class="stringliteral">&quot;cannot create SoundHeap&quot;</span> );</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// Initialize SoundArchive.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* archiveAbsolutePath = nns::atk::GetAbsolutePath(ArchiveRelativePath);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    isSuccess = g_SoundArchive.Open(archiveAbsolutePath);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>( isSuccess, <span class="stringliteral">&quot;cannot open SoundArchive(%s)\n&quot;</span>, archiveAbsolutePath );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// Load the parameter data for SoundArchive into memory.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    std::size_t infoBlockSize = g_SoundArchive.GetHeaderSize();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    g_pMemoryForInfoBlock = nns::atk::Allocate( infoBlockSize, <a class="code" href="classnn_1_1atk_1_1_fs_sound_archive.html#a8aed39dcd230826f39f1bfba791126c6">nn::atk::FsSoundArchive::BufferAlignSize</a> );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    isSuccess = g_SoundArchive.LoadHeader( g_pMemoryForInfoBlock, infoBlockSize );</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>( isSuccess, <span class="stringliteral">&quot;cannot load InfoBlock&quot;</span> );</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// Initialize SoundDataManager.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    std::size_t memSizeForSoundDataManager = g_SoundDataManager.GetRequiredMemSize( &amp;g_SoundArchive );</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    g_pMemoryForSoundDataManager = nns::atk::Allocate( memSizeForSoundDataManager, <a class="code" href="classnn_1_1atk_1_1_sound_data_manager.html#a2ae5b623c103452245affa706b6d48a9">nn::atk::SoundDataManager::BufferAlignSize</a> );</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    isSuccess = g_SoundDataManager.Initialize(</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        &amp;g_SoundArchive,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        g_pMemoryForSoundDataManager,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        memSizeForSoundDataManager );</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>( isSuccess, <span class="stringliteral">&quot;cannot initialize SoundDataManager&quot;</span> );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// Initialize the stream buffer for use with SoundArchivePlayer.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// This stream buffer must be allocated from the heap managed by the memory pool.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    std::size_t memSizeForStreamBuffer = g_SoundArchivePlayer.GetRequiredStreamBufferSize( &amp;g_SoundArchive );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    g_pMemoryForStreamBuffer = nns::atk::AllocateForMemoryPool(memSizeForStreamBuffer);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// Attach the specialized heap to the memory pool.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classnn_1_1atk_1_1_sound_system.html#a09de4d6f343fc5220cb5bad8be09c080">nn::atk::SoundSystem::AttachMemoryPool</a>(&amp;g_MemoryPool, nns::atk::GetPoolHeapAddress(), nns::atk::GetPoolHeapSize());</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// Initialize SoundArchivePlayer.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    std::size_t memSizeForSoundArchivePlayer = g_SoundArchivePlayer.GetRequiredMemSize( &amp;g_SoundArchive );</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    g_pMemoryForSoundArchivePlayer = nns::atk::Allocate( memSizeForSoundArchivePlayer, <a class="code" href="classnn_1_1atk_1_1_sound_archive_player.html#a9ae6957bb9012107e356845451a8ce84">nn::atk::SoundArchivePlayer::BufferAlignSize</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    isSuccess = g_SoundArchivePlayer.Initialize(</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        &amp;g_SoundArchive,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        &amp;g_SoundDataManager,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        g_pMemoryForSoundArchivePlayer, memSizeForSoundArchivePlayer,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        g_pMemoryForStreamBuffer, memSizeForStreamBuffer );</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>( isSuccess, <span class="stringliteral">&quot;cannot initialize SoundArchivePlayer&quot;</span> );</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="preprocessor">#if defined(NN_ATK_CONFIG_ENABLE_DEV)</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// Load the label string data for SoundArchive into memory.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    std::size_t memSizeForLabelString = g_SoundArchive.GetLabelStringDataSize();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    g_pMemoryForLabelData = nns::atk::Allocate( memSizeForLabelString, <a class="code" href="classnn_1_1atk_1_1_fs_sound_archive.html#a8aed39dcd230826f39f1bfba791126c6">nn::atk::FsSoundArchive::BufferAlignSize</a> );</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    g_SoundArchive.LoadLabelStringData( g_pMemoryForLabelData, memSizeForLabelString );</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// Initialize the in-game editing feature.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_option.html">nn::atk::viewer::SoundEdit::Option</a> option;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    std::size_t memSizeForSoundEdit = g_SoundEdit.GetRequiredMemorySize( option );</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    g_pMemoryForSoundEdit = nns::atk::Allocate( memSizeForSoundEdit );</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html">nn::atk::viewer::SoundEdit::InitializeArg</a> args;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    args.<a class="code" href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html#a5211dd225ff375be5fe66d5263d5163f">buffer</a>             = g_pMemoryForSoundEdit;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    args.<a class="code" href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html#ac0f75a1483f7da7334c610e55cd9cc1e">bufferSize</a>         = memSizeForSoundEdit;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    args.<a class="code" href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html#a5f5668160604b13a0b346100a733d28a">soundArchive</a>       = &amp;g_SoundArchive;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    args.<a class="code" href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html#a999b42f5c80352ca2a67a23223b97670">soundArchivePlayer</a> = &amp;g_SoundArchivePlayer;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    g_SoundEdit.<a class="code" href="classnn_1_1atk_1_1_sound_archive_player.html#aa2de65567087f698294d36e91fd9b9f9">Initialize</a>( args, option );</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// Begin in-game editing.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    g_IsConnected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    g_SoundEdit.Start();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="keywordtype">void</span> FinalizeAtk()</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#if defined(NN_ATK_CONFIG_ENABLE_DEV)</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    g_SoundEdit.Stop();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    g_SoundEdit.Finalize();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    nns::atk::Free( g_pMemoryForSoundEdit );</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    nns::atk::Free( g_pMemoryForLabelData );</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// NN_ATK_CONFIG_ENABLE_DEV</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    g_SoundArchivePlayer.Finalize();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// Detach the specialized heap from the memory pool.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="classnn_1_1atk_1_1_sound_system.html#a6140e3c94ee4ec89b3a3dd19707ff492">nn::atk::SoundSystem::DetachMemoryPool</a>(&amp;g_MemoryPool);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    g_SoundDataManager.Finalize();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    g_SoundArchive.Close();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    g_SoundHeap.Destroy();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classnn_1_1atk_1_1_sound_system.html#a886dcd68a20e0dbb8dd7e3fe312bb069">nn::atk::SoundSystem::Finalize</a>();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    nns::atk::FreeForMemoryPool( g_pMemoryForStreamBuffer );</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    nns::atk::Free( g_pMemoryForSoundArchivePlayer );</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    nns::atk::Free( g_pMemoryForSoundDataManager );</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    nns::atk::Free( g_pMemoryForInfoBlock );</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    nns::atk::Free( g_pMemoryForSoundHeap );</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    nns::atk::Free( g_pMemoryForSoundSystem );</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keywordtype">void</span> LoadData()</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordtype">bool</span> isSuccess = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    isSuccess = g_SoundDataManager.LoadData( SEQ_MARIOKART, &amp;g_SoundHeap );</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>( isSuccess, <span class="stringliteral">&quot;LoadData(SEQ_MARIOKART) failed.&quot;</span> );</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    isSuccess = g_SoundDataManager.LoadData( SE_YOSHI, &amp;g_SoundHeap );</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a>( isSuccess, <span class="stringliteral">&quot;LoadData(SE_YOSHI) failed.&quot;</span> );</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keywordtype">void</span> PlayWithStartSound(<a class="code" href="classnn_1_1atk_1_1_sound_archive.html#a37cf194dfc6867618c3d90711df0ec07">nn::atk::SoundArchive::ItemId</a> soundId, <span class="keyword">const</span> <span class="keywordtype">char</span>* debugLabelName)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    g_SoundHandle.Stop( 0 );</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">bool</span> isEdited = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#if defined(NN_ATK_CONFIG_ENABLE_DEV)</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    isEdited = g_SoundEdit.GetSoundArchiveEditor().GetItemCacheState(</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        g_SoundArchive.GetItemLabel(soundId)) == <a class="code" href="namespacenn_1_1atk_1_1viewer.html#a42b6ffb1fd6ad57a2cb17c7694872fd5a19cae655165b9fc4e752ff7f8a61ac31">nn::atk::viewer::CacheState_Cached</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordtype">bool</span> result = g_SoundArchivePlayer.StartSound( &amp;g_SoundHandle, soundId ).IsSuccess();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;StartSound(%s)%s ... (%d)\n&quot;</span>, debugLabelName, isEdited ? <span class="stringliteral">&quot; with edit&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, result);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keywordtype">void</span> PrintUsage()</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;----------------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;%s Sample\n&quot;</span>, Title);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;----------------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;[A]              StartSound SEQ  (SEQ_MARIOKART)\n&quot;</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;[X]              StartSound WSD  (SE_YOSHI)\n&quot;</span>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;[Y]              StartSound STRM (STRM_MARIOKART)\n&quot;</span>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;[B]              Stop Sound\n&quot;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;[L]              Print Usage\n&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;[+/Start][Space] Exit Application\n&quot;</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    NNS_LOG(<span class="stringliteral">&quot;---------------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="keywordtype">bool</span> UpdateAtk()</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">// StartSound / StopSound</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> ( nns::atk::IsTrigger&lt; ::nn::hid::DebugPadButton::A &gt;() )</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        PlayWithStartSound(SEQ_MARIOKART, <span class="stringliteral">&quot;SEQ_MARIOKART&quot;</span>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> ( nns::atk::IsTrigger&lt; ::nn::hid::DebugPadButton::X &gt;() )</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        PlayWithStartSound(SE_YOSHI, <span class="stringliteral">&quot;SE_YOSHI&quot;</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> ( nns::atk::IsTrigger&lt; ::nn::hid::DebugPadButton::Y &gt;() )</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        PlayWithStartSound(STRM_MARIOKART, <span class="stringliteral">&quot;STRM_MARIOKART&quot;</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span> ( nns::atk::IsTrigger&lt; ::nn::hid::DebugPadButton::B&gt;() )</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        g_SoundHandle.Stop( 0 );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// Print usage.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> ( nns::atk::IsTrigger&lt; ::nn::hid::DebugPadButton::L &gt;() )</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        PrintUsage();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// Exit.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> ( nns::atk::IsTrigger&lt; ::nn::hid::DebugPadButton::Start &gt;() )</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    g_SoundArchivePlayer.Update();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">#if defined(NN_ATK_CONFIG_ENABLE_DEV)</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    g_SoundEdit.Update();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> ( g_IsConnected != g_SoundEdit.IsConnected() )</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">if</span> ( g_IsConnected )</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            g_IsConnected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            NNS_LOG(<span class="stringliteral">&quot;disconnected.\n&quot;</span>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            g_IsConnected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            NNS_LOG(<span class="stringliteral">&quot;connected.\n&quot;</span>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// NN_ATK_CONFIG_ENABLE_DEV</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> nnMain()</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="namespacenn_1_1htc.html#ae7d36d5610146607c2ebbc6b31dec9e3">Initialize</a>();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    InitializeAtk();</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    LoadData();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    PrintUsage();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">for</span> ( ;; )</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        nns::atk::UpdateHidDevices();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">if</span> ( !UpdateAtk() )</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="comment">// Replacement for Vsync.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="namespacenn_1_1os.html#a96b335e87af44c60a0d6dca75f11c9d2">nn::os::SleepThread</a>(<a class="code" href="classnn_1_1_time_span.html#a2441d3c84cc24b901342ce11f87cd39c">nn::TimeSpan::FromMilliSeconds</a>(16));</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    FinalizeAtk();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="namespacenn_1_1htc.html#a8337c461b81d43d85571e7fa4e574c48">Finalize</a>();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="ttc" id="aclassnn_1_1_result_html"><div class="ttname"><a href="classnn_1_1_result.html">nn::Result</a></div><div class="ttdoc">Represents the generic result of an operation.</div><div class="ttdef"><b>Definition:</b> nn_Result.h:32</div></div>
<div class="ttc" id="aclassnn_1_1_time_span_html_a2441d3c84cc24b901342ce11f87cd39c"><div class="ttname"><a href="classnn_1_1_time_span.html#a2441d3c84cc24b901342ce11f87cd39c">nn::TimeSpan::FromMilliSeconds</a></div><div class="ttdeci">static constexpr TimeSpan FromMilliSeconds(int64_t milliSeconds) NN_NOEXCEPT</div><div class="ttdoc">Generates a TimeSpan object from a milliseconds value.</div><div class="ttdef"><b>Definition:</b> nn_TimeSpan.h:550</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_fs_sound_archive_html"><div class="ttname"><a href="classnn_1_1atk_1_1_fs_sound_archive.html">nn::atk::FsSoundArchive</a></div><div class="ttdoc">This class handles sound archives stored in the file system.</div><div class="ttdef"><b>Definition:</b> atk_FsSoundArchive.h:34</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_fs_sound_archive_html_a8aed39dcd230826f39f1bfba791126c6"><div class="ttname"><a href="classnn_1_1atk_1_1_fs_sound_archive.html#a8aed39dcd230826f39f1bfba791126c6">nn::atk::FsSoundArchive::BufferAlignSize</a></div><div class="ttdeci">static const int BufferAlignSize</div><div class="ttdoc">The buffer alignment size for each type of load location.</div><div class="ttdef"><b>Definition:</b> atk_FsSoundArchive.h:44</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_archive_html_a37cf194dfc6867618c3d90711df0ec07"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_archive.html#a37cf194dfc6867618c3d90711df0ec07">nn::atk::SoundArchive::ItemId</a></div><div class="ttdeci">uint32_t ItemId</div><div class="ttdoc">A type that represents item IDs in sound archives.</div><div class="ttdef"><b>Definition:</b> atk_SoundArchive.h:63</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_archive_player_html"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_archive_player.html">nn::atk::SoundArchivePlayer</a></div><div class="ttdoc">Plays back sounds in a sound archive.</div><div class="ttdef"><b>Definition:</b> atk_SoundArchivePlayer.h:89</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_archive_player_html_a9ae6957bb9012107e356845451a8ce84"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_archive_player.html#a9ae6957bb9012107e356845451a8ce84">nn::atk::SoundArchivePlayer::BufferAlignSize</a></div><div class="ttdeci">static const uint32_t BufferAlignSize</div><div class="ttdoc">Buffer aligned size.</div><div class="ttdef"><b>Definition:</b> atk_SoundArchivePlayer.h:211</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_archive_player_html_aa2de65567087f698294d36e91fd9b9f9"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_archive_player.html#aa2de65567087f698294d36e91fd9b9f9">nn::atk::SoundArchivePlayer::Initialize</a></div><div class="ttdeci">bool Initialize(const SoundArchive *pArchive, const SoundDataManager *pManager, void *pBuffer, size_t bufferSize, void *pStreamBuffer, size_t streamBufferSize, size_t userParamSizePerSound=0) NN_NOEXCEPT</div><div class="ttdoc">Initializes a sound archive player.</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_data_manager_html"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_data_manager.html">nn::atk::SoundDataManager</a></div><div class="ttdoc">A flag used to load sound archive data.</div><div class="ttdef"><b>Definition:</b> atk_SoundDataManager.h:58</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_data_manager_html_a2ae5b623c103452245affa706b6d48a9"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_data_manager.html#a2ae5b623c103452245affa706b6d48a9">nn::atk::SoundDataManager::BufferAlignSize</a></div><div class="ttdeci">static const uint32_t BufferAlignSize</div><div class="ttdoc">Buffer aligned size.</div><div class="ttdef"><b>Definition:</b> atk_SoundDataManager.h:63</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_handle_html"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_handle.html">nn::atk::SoundHandle</a></div><div class="ttdoc">A handle class that controls playback sounds.</div><div class="ttdef"><b>Definition:</b> atk_SoundHandle.h:111</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_heap_html"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_heap.html">nn::atk::SoundHeap</a></div><div class="ttdoc">The heap class for sound data.</div><div class="ttdef"><b>Definition:</b> atk_SoundHeap.h:42</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_system_html_a09de4d6f343fc5220cb5bad8be09c080"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_system.html#a09de4d6f343fc5220cb5bad8be09c080">nn::atk::SoundSystem::AttachMemoryPool</a></div><div class="ttdeci">static void AttachMemoryPool(nn::audio::MemoryPoolType *pMemoryPool, void *address, size_t size) NN_NOEXCEPT</div><div class="ttdoc">Attaches the specified buffer to the memory pool.</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_system_html_a30ab524c42539c302be8e76a3c57e5fe"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_system.html#a30ab524c42539c302be8e76a3c57e5fe">nn::atk::SoundSystem::WorkMemoryAlignSize</a></div><div class="ttdeci">static const uint32_t WorkMemoryAlignSize</div><div class="ttdoc">The working memory alignment size.</div><div class="ttdef"><b>Definition:</b> atk_SoundSystem.h:492</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_system_html_a3dbeeceef71d2c2a527732d82d923671"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_system.html#a3dbeeceef71d2c2a527732d82d923671">nn::atk::SoundSystem::Initialize</a></div><div class="ttdeci">static bool Initialize(const SoundSystemParam &amp;param, uintptr_t workMem, size_t workMemSize) NN_NOEXCEPT</div><div class="ttdoc">Initializes the sound library.</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_system_html_a6140e3c94ee4ec89b3a3dd19707ff492"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_system.html#a6140e3c94ee4ec89b3a3dd19707ff492">nn::atk::SoundSystem::DetachMemoryPool</a></div><div class="ttdeci">static void DetachMemoryPool(nn::audio::MemoryPoolType *pMemoryPool) NN_NOEXCEPT</div><div class="ttdoc">Detaches the specified buffer from the memory pool.</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_system_html_a67118a2bc91146f4fb6e4c8f550db8be"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_system.html#a67118a2bc91146f4fb6e4c8f550db8be">nn::atk::SoundSystem::GetRequiredMemSize</a></div><div class="ttdeci">static size_t GetRequiredMemSize(const SoundSystemParam &amp;param) NN_NOEXCEPT</div><div class="ttdoc">Gets the memory size required to initialize the sound library.</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1_sound_system_html_a886dcd68a20e0dbb8dd7e3fe312bb069"><div class="ttname"><a href="classnn_1_1atk_1_1_sound_system.html#a886dcd68a20e0dbb8dd7e3fe312bb069">nn::atk::SoundSystem::Finalize</a></div><div class="ttdeci">static void Finalize() NN_NOEXCEPT</div><div class="ttdoc">Finalizes the sound system.</div></div>
<div class="ttc" id="aclassnn_1_1atk_1_1viewer_1_1_sound_edit_html"><div class="ttname"><a href="classnn_1_1atk_1_1viewer_1_1_sound_edit.html">nn::atk::viewer::SoundEdit</a></div><div class="ttdoc">A class that provides features for in-game editing of sounds.</div><div class="ttdef"><b>Definition:</b> atk_SoundEdit.h:36</div></div>
<div class="ttc" id="aclassnn_1_1socket_1_1_config_default_with_memory_html"><div class="ttname"><a href="classnn_1_1socket_1_1_config_default_with_memory.html">nn::socket::ConfigDefaultWithMemory</a></div><div class="ttdoc">Class specifying a default configuration.</div><div class="ttdef"><b>Definition:</b> socket_Config.h:627</div></div>
<div class="ttc" id="ahtcs_8h_html"><div class="ttname"><a href="htcs_8h.html">htcs.h</a></div><div class="ttdoc">Declarations for API resources related to host-target socket communication.</div></div>
<div class="ttc" id="anamespacenn_1_1atk_1_1viewer_html_a42b6ffb1fd6ad57a2cb17c7694872fd5a19cae655165b9fc4e752ff7f8a61ac31"><div class="ttname"><a href="namespacenn_1_1atk_1_1viewer.html#a42b6ffb1fd6ad57a2cb17c7694872fd5a19cae655165b9fc4e752ff7f8a61ac31">nn::atk::viewer::CacheState_Cached</a></div><div class="ttdeci">@ CacheState_Cached</div><div class="ttdoc">Cached.</div><div class="ttdef"><b>Definition:</b> atk_Types.h:29</div></div>
<div class="ttc" id="anamespacenn_1_1fs_html_a2ea39d2487ac28bc767cd699eeeebe11"><div class="ttname"><a href="namespacenn_1_1fs.html#a2ea39d2487ac28bc767cd699eeeebe11">nn::fs::MountHostRoot</a></div><div class="ttdeci">Result MountHostRoot() NN_NOEXCEPT</div><div class="ttdoc">Mounts the file system of the host PC and enables operations using the same paths as in Windows.</div></div>
<div class="ttc" id="anamespacenn_1_1fs_html_ade5d6e6459dca7d8274564bcfc5de757"><div class="ttname"><a href="namespacenn_1_1fs.html#ade5d6e6459dca7d8274564bcfc5de757">nn::fs::UnmountHostRoot</a></div><div class="ttdeci">void UnmountHostRoot() NN_NOEXCEPT</div><div class="ttdoc">Unmounts a file system mounted with MountHostRoot() and frees the resources.</div></div>
<div class="ttc" id="anamespacenn_1_1htc_html_a8337c461b81d43d85571e7fa4e574c48"><div class="ttname"><a href="namespacenn_1_1htc.html#a8337c461b81d43d85571e7fa4e574c48">nn::htc::Finalize</a></div><div class="ttdeci">void Finalize() NN_NOEXCEPT</div><div class="ttdoc">Finalizes the htc library.</div></div>
<div class="ttc" id="anamespacenn_1_1htc_html_ae7d36d5610146607c2ebbc6b31dec9e3"><div class="ttname"><a href="namespacenn_1_1htc.html#ae7d36d5610146607c2ebbc6b31dec9e3">nn::htc::Initialize</a></div><div class="ttdeci">void Initialize() NN_NOEXCEPT</div><div class="ttdoc">Initializes the htc library.</div></div>
<div class="ttc" id="anamespacenn_1_1htcs_html_a7eab72b8843a2a9ff763f52b78da680e"><div class="ttname"><a href="namespacenn_1_1htcs.html#a7eab72b8843a2a9ff763f52b78da680e">nn::htcs::Initialize</a></div><div class="ttdeci">void Initialize(AllocateFunction alloc, DeallocateFunction dealloc) NN_NOEXCEPT</div><div class="ttdoc">Initializes the host-target socket communication.</div></div>
<div class="ttc" id="anamespacenn_1_1htcs_html_abf5eb36f3563222450920fad56fdaf61"><div class="ttname"><a href="namespacenn_1_1htcs.html#abf5eb36f3563222450920fad56fdaf61">nn::htcs::Finalize</a></div><div class="ttdeci">void Finalize() NN_NOEXCEPT</div><div class="ttdoc">Finalizes the host-target socket communication.</div></div>
<div class="ttc" id="anamespacenn_1_1os_html_a96b335e87af44c60a0d6dca75f11c9d2"><div class="ttname"><a href="namespacenn_1_1os.html#a96b335e87af44c60a0d6dca75f11c9d2">nn::os::SleepThread</a></div><div class="ttdeci">void SleepThread(TimeSpan time) NN_NOEXCEPT</div><div class="ttdoc">Puts the current thread to sleep for the specified amount of time.</div></div>
<div class="ttc" id="anamespacenn_1_1socket_html_a28a801f086aadf0b731a721567f3e4b2"><div class="ttname"><a href="namespacenn_1_1socket.html#a28a801f086aadf0b731a721567f3e4b2">nn::socket::Finalize</a></div><div class="ttdeci">Result Finalize() NN_NOEXCEPT</div><div class="ttdoc">Finalize socket library.</div></div>
<div class="ttc" id="anamespacenn_1_1socket_html_adacc3405184e8f28fb630745b9f43db0"><div class="ttname"><a href="namespacenn_1_1socket.html#adacc3405184e8f28fb630745b9f43db0">nn::socket::Initialize</a></div><div class="ttdeci">Result Initialize(const Config &amp;config) NN_NOEXCEPT</div><div class="ttdoc">Initialize socket library.</div></div>
<div class="ttc" id="ann___abort_8h_html_a1e657a678a588533a020c2e947df7772"><div class="ttname"><a href="nn___abort_8h.html#a1e657a678a588533a020c2e947df7772">NN_ABORT_UNLESS_RESULT_SUCCESS</a></div><div class="ttdeci">#define NN_ABORT_UNLESS_RESULT_SUCCESS(result)</div><div class="ttdoc">Tests whether the specified nn::Result is successful or not, and stops if it is not.</div><div class="ttdef"><b>Definition:</b> nn_Abort.h:188</div></div>
<div class="ttc" id="ann___abort_8h_html_a5c1a90d3a6474658ae0ac5dc5bcb14e4"><div class="ttname"><a href="nn___abort_8h.html#a5c1a90d3a6474658ae0ac5dc5bcb14e4">NN_ABORT_UNLESS</a></div><div class="ttdeci">#define NN_ABORT_UNLESS(condition,...)</div><div class="ttdoc">Tests whether a condition has been satisfied and stops execution if it has not.</div><div class="ttdef"><b>Definition:</b> nn_Abort.h:38</div></div>
<div class="ttc" id="asocket_8h_html"><div class="ttname"><a href="socket_8h.html">socket.h</a></div><div class="ttdoc">Top level header defining the socket library API.</div></div>
<div class="ttc" id="astructnn_1_1atk_1_1_sound_system_1_1_sound_system_param_html"><div class="ttname"><a href="structnn_1_1atk_1_1_sound_system_1_1_sound_system_param.html">nn::atk::SoundSystem::SoundSystemParam</a></div><div class="ttdoc">The structure used to initialize the sound system.</div><div class="ttdef"><b>Definition:</b> atk_SoundSystem.h:57</div></div>
<div class="ttc" id="astructnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg_html"><div class="ttname"><a href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html">nn::atk::viewer::SoundEdit::InitializeArg</a></div><div class="ttdoc">A structure storing parameters for initialization.</div><div class="ttdef"><b>Definition:</b> atk_SoundEdit.h:61</div></div>
<div class="ttc" id="astructnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg_html_a5211dd225ff375be5fe66d5263d5163f"><div class="ttname"><a href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html#a5211dd225ff375be5fe66d5263d5163f">nn::atk::viewer::SoundEdit::InitializeArg::buffer</a></div><div class="ttdeci">void * buffer</div><div class="ttdoc">Specifies the buffer used by the in-game editing library.</div><div class="ttdef"><b>Definition:</b> atk_SoundEdit.h:77</div></div>
<div class="ttc" id="astructnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg_html_a5f5668160604b13a0b346100a733d28a"><div class="ttname"><a href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html#a5f5668160604b13a0b346100a733d28a">nn::atk::viewer::SoundEdit::InitializeArg::soundArchive</a></div><div class="ttdeci">SoundArchive * soundArchive</div><div class="ttdoc">Specifies the associated sound archive.</div><div class="ttdef"><b>Definition:</b> atk_SoundEdit.h:79</div></div>
<div class="ttc" id="astructnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg_html_a999b42f5c80352ca2a67a23223b97670"><div class="ttname"><a href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html#a999b42f5c80352ca2a67a23223b97670">nn::atk::viewer::SoundEdit::InitializeArg::soundArchivePlayer</a></div><div class="ttdeci">SoundArchivePlayer * soundArchivePlayer</div><div class="ttdoc">Specifies the associated sound archive player.</div><div class="ttdef"><b>Definition:</b> atk_SoundEdit.h:80</div></div>
<div class="ttc" id="astructnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg_html_ac0f75a1483f7da7334c610e55cd9cc1e"><div class="ttname"><a href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_initialize_arg.html#ac0f75a1483f7da7334c610e55cd9cc1e">nn::atk::viewer::SoundEdit::InitializeArg::bufferSize</a></div><div class="ttdeci">size_t bufferSize</div><div class="ttdoc">Specifies the size of the buffer used by the in-game editing library.</div><div class="ttdef"><b>Definition:</b> atk_SoundEdit.h:78</div></div>
<div class="ttc" id="astructnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_option_html"><div class="ttname"><a href="structnn_1_1atk_1_1viewer_1_1_sound_edit_1_1_option.html">nn::atk::viewer::SoundEdit::Option</a></div><div class="ttdoc">A structure storing optional parameters for initialization.</div><div class="ttdef"><b>Definition:</b> atk_SoundEdit.h:99</div></div>
<div class="ttc" id="astructnn_1_1audio_1_1_memory_pool_type_html"><div class="ttname"><a href="structnn_1_1audio_1_1_memory_pool_type.html">nn::audio::MemoryPoolType</a></div><div class="ttdoc">Structure for representing memory regions used by an audio renderer.</div><div class="ttdef"><b>Definition:</b> audio_MemoryPoolTypes.h:70</div></div>
</div><!-- fragment --><h2><a class="anchor" id="PageSampleAtkViewer_SectionSampleDetail"></a>
Sample Program Description</h2>
<p>The processes for the <code>atk</code> library of this sample program use the following flow. Places where this sample differs from the AtkSimple sample are marked as "additional."</p>
<ul>
<li>Execute <code><a class="el" href="namespacenn_1_1fs.html#a2ea39d2487ac28bc767cd699eeeebe11" title="Mounts the file system of the host PC and enables operations using the same paths as in Windows.">nn::fs::MountHostRoot()</a></code> (additional).</li>
<li>Initialize the <code>atk</code> library (<code>InitializeAtk()</code>).<ul>
<li>Perform initializations in <code>AtkSimple</code>.</li>
<li>Load the label strings (additional).</li>
<li>Initialize the in-game editing library (additional).</li>
</ul>
</li>
<li>Main loop.<ul>
<li>Perform playback and stop processing in response to key input.</li>
<li>Update <code>SoundArchivePlayer</code>.</li>
<li>Update the in-game editing library (additional).</li>
</ul>
</li>
<li>Finalize the <code>atk</code> library (<code>FinalizeAtk()</code>).</li>
<li>Execute <code><a class="el" href="namespacenn_1_1fs.html#ade5d6e6459dca7d8274564bcfc5de757" title="Unmounts a file system mounted with MountHostRoot() and frees the resources.">nn::fs::UnmountHostRoot()</a></code> (additional).</li>
</ul>
<p>The in-game library edits as much data as the scope of the buffer passed by the application permits. The size of the buffer used to edit data can be customized using <code>SoundEdit::Option</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
