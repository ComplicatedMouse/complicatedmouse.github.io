<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ldn Library Sample Program | NintendoSDK API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<script type="text/javascript" src="searchapi.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   &#160;<span id="projectnumber">14.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">Sample Descriptions</a></li><li class="navelem"><a class="el" href="_page_sample_ldn.html">Local Communication Library Samples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ldn Library Sample Program </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#PageSampleLdnSimple_SectionBrief">Overview</a></li>
<li class="level1"><a href="#PageSampleLdnSimple_SectionFileStructure">File Structure</a></li>
<li class="level1"><a href="#PageSampleLdnSimple_SectionHowToOperate">How to Use</a></li>
<li class="level1"><a href="#PageSampleLdnSimple_SectionHowToExecute">Execution Procedure</a></li>
<li class="level1"><a href="#PageSampleLdnSimple_SectionOption">Options</a></li>
<li class="level1"><a href="#PageSampleLdnSimple_SectionPrecaution">Cautions</a></li>
<li class="level1"><a href="#PageSampleLdnSimple_SectionDetail">Description</a></li>
</ul>
</div>
<div class="textblock"><p>Sample program demonstrating how to use the <code>ldn</code> library.</p>
<h1><a class="anchor" id="PageSampleLdnSimple_SectionBrief"></a>
Overview</h1>
<p>This sample program demonstrates how to use the <code>ldn</code> library.</p>
<h1><a class="anchor" id="PageSampleLdnSimple_SectionFileStructure"></a>
File Structure</h1>
<p>This sample program is located in <code><a class="el" href="dir_416101e4f2d2834aa3999946dfe026f1.html">Samples/Sources/Applications/LdnSimple </a></code>.</p>
<h1><a class="anchor" id="PageSampleLdnSimple_SectionHowToOperate"></a>
How to Use</h1>
<p>When you start the sample program, a log message describes how to use it. Following the displayed instructions, use a Debug Pad or a wireless controller to control the sample.</p>
<h1><a class="anchor" id="PageSampleLdnSimple_SectionHowToExecute"></a>
Execution Procedure</h1>
<p>Build the sample program and then run it.</p>
<h1><a class="anchor" id="PageSampleLdnSimple_SectionOption"></a>
Options</h1>
<p>Specify the following options as command-line arguments to change how the sample program works.</p>
<ul>
<li><code>-c, &ndash;channel <em>CHANNEL</em></code><ul>
<li>Specify <code>1</code>, <code>6</code>, <code>11</code>, <code>36</code>, <code>40</code>, <code>44</code>, or <code>48</code> as the wireless channel.</li>
<li><code>By default, <a class="el" href="namespacenn_1_1ldn.html#aab9761c065620e355fbd0eb71c1aeced" title="Automatically selects a channel.">nn::ldn::AutoChannel</a></code> is used, which means that <code>1</code>, <code>6</code>, or <code>11</code> will be specified.</li>
</ul>
</li>
<li><code>-e, &ndash;encrypto</code><ul>
<li>Enables communication encryption.</li>
<li>By default, communication encryption is disabled.</li>
<li>However, communication encryption is always enabled on retail devices.</li>
</ul>
</li>
<li><code>-n, &ndash;node <em>NODE_COUNT_MAX</em></code><ul>
<li>Specify an integer from 1 to 8 as the maximum number of nodes that can be connected when the sample is started as an access point.</li>
<li>The default is <code><a class="el" href="namespacenn_1_1ldn.html#a6cfb7390d698143d5d62820a74f2a8b5" title="Maximum number of nodes that can connect to the local network.">nn::ldn::NodeCountMax</a></code> (=<code>8</code>), so up to seven stations can be connected.</li>
</ul>
</li>
<li><code>-p, &ndash;port <em>PORT_NUMBER</em></code><ul>
<li>Specify an integer from 0 to 65535 as the port number to use for UDP communications.</li>
<li>The default value is 12345.</li>
</ul>
</li>
<li><code>-r, &ndash;rate <em>PACKET_RATE</em></code><ul>
<li>Specify an integer from 1 to 255 as the packet transmission rate for UDP communications.</li>
<li>The default value is 30 packets/second.</li>
</ul>
</li>
<li><code>-s, &ndash;scene <em>SCENE_ID</em></code><ul>
<li>Specify an integer from 0 to 65535 as the scene identifier.</li>
<li>In this sample, access points with different scene identifiers are not displayed in the scan results.</li>
<li>The default value is <code>0</code>.</li>
</ul>
</li>
<li><code>-u, &ndash;user <em>USER_NAME</em></code><ul>
<li>Specify a user name of 10 or fewer ASCII characters.</li>
<li>The default value is "Anonymous."</li>
</ul>
</li>
<li><code>-v, &ndash;version <em>LOCAL_COMMUNICATION_VERSION</em></code><ul>
<li>Specify a value from 0 to 32767 as the local communication version.</li>
<li>Stations that are connected via an access point that has a different communication version cannot be connected.</li>
<li>The default value is <code>0</code>.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="PageSampleLdnSimple_SectionPrecaution"></a>
Cautions</h1>
<p>By default, this sample program uses the 2.4-GHz band for wireless communications. For that reason, do not use it in environments where there are a large number of other devices using the same frequency band for wireless communications. If you encounter wireless communication difficulties, you can try specifying a 5-GHz band as a command-line argument. To do this, specify the <code>-c</code> or <code>&ndash;channel</code> option with a value of <code>36</code>, <code>40</code>, <code>44</code>, or <code>48</code> when running the sample. When the wireless signal strength is poor, the following types of issues frequently occur.</p>
<ul>
<li>The target LDN network cannot be found.</li>
<li>Fail to connect to the LDN network.</li>
<li>UDP packet loss rates increase.</li>
</ul>
<h1><a class="anchor" id="PageSampleLdnSimple_SectionDetail"></a>
Description</h1>
<p>The <code>ldn</code> library provides features for connecting together multiple devices without going through a router or the Internet and allows the applications running on these devices to communicate with one another. Up to eight devices can connect and communicate with each other using the <code>ldn</code> library. The first device functions as an access point and constructs an LDN network. The other devices function as stations and can search for and connect to this LDN network.</p>
<p>You must have several devices prepared to run and use this sample program. First, run the sample program on one of the devices to assign it to the access point role. Then follow the instructions in the log message to build a network.</p>
<p>Next, run the sample program on the other devices, and follow the instructions in the log messages to search for nearby LDN networks. After the network search is complete, a list of the networks found will be displayed. Select and connect to the network you built earlier using the first device. If multiple networks are found, you can identify the correct network by checking the IP address or by specifying a user name with the <code>-u</code> or <code>&ndash;user</code> option when you first run the sample (which makes it easier to find the network you originally constructed).</p>
<p>The access point and stations that have joined the network can then begin communicating with one another using the <code>socket</code> library for UDP communications. All of the devices maintain their own independent frame counters, which are initialized to a value of <code>0</code> at the moment the devices join the network. Each station broadcasts and then increments its own counter value. Use the <code>-r</code> or <code>&ndash;rate</code> option to specify the packet transmission interval. As the sample runs, the last received counter values from each device and the packet loss rates at the various times those counter values were received will periodically be displayed as log messages. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
