<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Custom Actions | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Custom Actions -->
<div class="pagetitle" id="PageId_83955583">Custom Actions</div>
<div class="text_separate">
<h1 id="Anchor_83955583_h1_1">Custom Actions</h1>
<p>Custom actions provide a way to implement application-specific operations as the default processes on particles and emitters. <br />For example:</p>
<ul>
  <li>Particles die when they are hit in collisions.</li>
  <li>Particles appear in specified positions in the application.</li>
</ul>
<p>These are the kinds of features that can be implemented.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>
      <ul class="macro_toc">
        <li>
          <a href="#Anchor_83955583_h1_1">Custom Actions</a>
        </li>
        <ul>
          <li>
            <a href="#Anchor_83955583_h2_1">Overview</a>
          </li>
          <ul>
            <li>
              <a href="#Anchor_83955583_h3_1">Limitations When Using Custom Actions</a>
            </li>
          </ul>
          <li>
            <a href="#Anchor_83955583_h2_2">Custom Action Implementation Examples</a>
          </li>
          <li>
            <a href="#Anchor_83955583_h2_3">Preparations to Edit and Save Parameters for a Custom Action in EffectMaker</a>
          </li>
          <ul>
            <li>
              <a href="#Anchor_83955583_h3_2">Creating a User Data Definition File</a>
            </li>
            <li>
              <a href="#Anchor_83955583_h3_3">Creating a Custom Action Setting File</a>
            </li>
            <li>
              <a href="#Anchor_83955583_h3_4">Adding to the Project Configuration File</a>
            </li>
          </ul>
          <li>
            <a href="#Anchor_83955583_h2_4">Preparations for Using the Custom Action in the Effect Runtime</a>
          </li>
          <ul>
            <li>
              <a href="#Anchor_83955583_h3_5">Implementing a Callback Function</a>
            </li>
            <li>
              <a href="#Anchor_83955583_h3_6">Setting the Callback Function in the Effect Runtime</a>
            </li>
          </ul>
          <li>
            <a href="#Anchor_83955583_h2_5">Notes</a>
          </li>
          <ul>
            <li>
              <a href="#Anchor_83955583_h3_7">Migrating From Old UDD Files</a>
            </li>
          </ul>
        </ul>
      </ul>
    </p>
    <p>
      <span class="status_macro_base status_macro_Blue">Blue</span>
    </p>
    <table style="margin-left: 1.5em;" class="table">
      <tbody>
        <tr>
          <th>
            <a href="../Pages/Page_83956157.html">Callback Function</a>
          </th>
          <td>
            <p>The specification for callback functions called from the effect runtime. <br />Includes descriptions of how to set callback functions, such as for the effect runtime.</p>These callback function specifications are also used for custom shaders.</td>
        </tr>
        <tr>
          <th>
            <a href="../Pages/Page_107778324.html">User Data Definitions</a>
          </th>
          <td>
            <p>The specification for user data definitions used for custom actions. <br />The user data definitions contain application-specific parameter structures and information for editing and saving UIs in EffectMaker.</p>
            <p>These user data definitions specifications are also used for custom shaders and custom data.</p>
          </td>
        </tr>
        <tr>
          <th>
            <a href="../Pages/Page_246242951.html">Custom Action Implementation Example</a>
          </th>
          <td>Presents an example implementation of a custom action.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<h2 id="Anchor_83955583_h2_1">Overview</h2>
<p>Up to eight callback function sets can be registered for a single custom action, and you can use the EffectMaker UI to select which callback function set each emitter will use. <br />In addition, you can create a custom UI for setting a separate parameter structure using <a href="../Pages/Page_107778324.html">user data definitions</a> for each callback function set, and use EffectMaker to edit, save intermediate files, and convert to binary. These parameters converted to binary are accessible from inside the callback functions implemented in the application.</p>
<p> </p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955583/83081220.png" width="593" height="366" class="embedded-image" />
  </span>
</p>
<h3 id="Anchor_83955583_h3_1">Limitations When Using Custom Actions</h3>
<p>CPU emitters must be used when using custom actions. Custom actions cannot be used when using GPU emitters.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>When a custom action is added in EffectMaker, the emitter is automatically switched to a CPU emitter.</p>
  </div>
</div>
<h2 id="Anchor_83955583_h2_2">Custom Action Implementation Examples</h2>
<p>An example of an embedded custom action is presented on the <a href="../Pages/Page_246242951.html">Custom Action Implementation Example</a> page.</p>
<h2 id="Anchor_83955583_h2_3">Preparations to Edit and Save Parameters for a Custom Action in EffectMaker</h2>
<p>The following preparations are required to edit, save, and convert custom action parameters to binary in EffectMaker.</p>
<ol>
  <li>Create a user data definition file.</li>
  <li>Create a custom action setting file.</li>
  <li>Add these files to the project configuration file.</li>
</ol>
<p>An example of an embedded custom action is presented on the <a href="../Pages/Page_246242951.html">Custom Action Implementation Example</a> page, so refer to that page for the actual data.</p>
<h3 id="Anchor_83955583_h3_2">Creating a User Data Definition File</h3>
<p>Create a user data definitions file so EffectMaker can recognize and display the parameter definitions and custom UIs you want to create. For more information about user data definitions files, see <a href="../Pages/Page_107778324.html">User Data Definitions</a>.</p>
<p>Include the following block at the beginning of the created extended emitter parameter structure, set the <code>UserDataDefinition</code> element's <code>Kind</code> attribute to <code>CustomAction</code>, and declare it as an extended emitter parameter.</p>
<h3 id="Anchor_83955583_h3_3">Creating a Custom Action Setting File</h3>
<p>Create a custom action settings file to load the created user data definitions file into EffectMaker. This custom action settings file is used to configure the EffectMaker settings.</p>
<h3 id="Anchor_83955583_h3_4">
  <span style="color: rgb(117,117,117);">Adding to the Project Configuration File</span>
</h3>
<p>To use custom actions in EffectMaker, you must add a description of the path to the created custom action settings file to the project configuration file. For more information, see <a href="../Pages/Page_83955992.html">Project Configuration File</a>. <br />If you specify the path of the custom action settings file in the EffectMaker options, you can check the operation of the custom action UI in EffectMaker without using the project configuration file.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Start EffectMaker, create a new emitter set, and then add the custom action to the emitter by right-clicking the emitter and selecting <strong>Add custom action</strong>.</p>
  </div>
</div>
<h2 id="Anchor_83955583_h2_4">Preparations for Using the Custom Action in the Effect Runtime</h2>
<p>The following preparations are required in order to edit, save, and convert custom action parameters to binary in EffectMaker.</p>
<ol>
  <li>Implement a callback function.</li>
  <li>Add the callback function to the effect runtime.</li>
</ol>
<p>An example of an embedded custom action is presented on the <a href="../Pages/Page_246242951.html">Custom Action Implementation Example</a> page, so refer to that page for the actual data.</p>
<h3 id="Anchor_83955583_h3_5">Implementing a Callback Function</h3>
<p>Describe a callback function in the application to use when the custom action is set.</p>
<h3 id="Anchor_83955583_h3_6">Setting the Callback Function in the Effect Runtime</h3>
<p>By registering the callback function in the effect system, the callback will be called automatically in the effect runtime.</p>
<h2 id="Anchor_83955583_h2_5">Notes</h2>
<h3 id="Anchor_83955583_h3_7">Migrating From Old UDD Files</h3>
<p>For more information about migrating from a UDD file used for a custom action in NintendoSDK 0.9.0 and prior versions, see <a href="../Pages/Page_246242548.html">Migrating From Old UDD Files</a>.</p>
<p> </p>
<p> </p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
