<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Changes for Developers | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Changes for Developers -->
<div class="pagetitle" id="PageId_99804825">Changes for Developers</div>
<div class="text_separate">
<h1 id="Anchor_99804825_h1_1">
  <span class="sv-ti-title-text"> Changes to Graphics</span>
</h1>
<p>This section describes the changes made to NintendoWare Graphics in NintendoSDK 0.8.0.<br />NintendoWare Graphics refers to the following modules.</p>
<ul>
  <li>
    <span class="ApiLink_nn__g3d">nn::g3d</span>
  </li>
  <li>
    <span class="ApiLink_nn__ui2d">nn::ui2d</span>
  </li>
  <li>
    <span class="ApiLink_nn__font">nn::font</span>
  </li>
  <li>
    <span class="ApiLink_nn__vfx">nn::vfx</span>
  </li>
</ul>
<h2 id="Anchor_99804825_h2_1">Contents</h2>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_99804825_h2_1">Contents</a>
    </li>
    <li>
      <a href="#Anchor_99804825_h2_2">Changes to Descriptor Slot Specifications</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_99804825_h3_1">nn::g3d</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_2">nn::font / nn::ui2d / nn::vfx</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_3">Functions for Registering to the Descriptor Pool</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_4">Functions for Unregistering From the Descriptor Pool</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_99804825_h2_3">Change to Handling of ui2d Constant Buffers</a>
    </li>
    <li>
      <a href="#Anchor_99804825_h2_4">Changes Made in NintendoSDK 0.7.0</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_99804825_h3_5">Namespace Transition</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_6">Change in the Low-Layer Graphics Library</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_7">Texture Resources</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_8">Implementations Using the nn::gfx Library</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_9">Tools</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_10">The Viewers</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_11">Renamed APIs and Member Functions</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_12">Changes to the Various Modules</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_13">Changes to nn::g3d</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_14">Changes to nn::vfx</a>
      </li>
      <li>
        <a href="#Anchor_99804825_h3_15">Changes to nn::ui2d and nn::font</a>
      </li>
    </ul>
  </ul>
</p>
<p> </p>
<h2 id="Anchor_99804825_h2_2">Changes to Descriptor Slot Specifications</h2>
<p> </p>
<h3 id="Anchor_99804825_h3_1">nn::g3d</h3>
<p>No changes in NintendoSDK 0.8.0.</p>
<p> </p>
<h3 id="Anchor_99804825_h3_2">nn::font / nn::ui2d / nn::vfx</h3>
<p>In NintendoSDK 0.8.0, member functions have been prepared for descriptor pool registering and unregistering of texture and sampler objects created inside the <code><span class="ApiLink_nn__font">nn::font</span></code>, <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code>, and <code><span class="ApiLink_nn__vfx">nn::vfx</span></code> modules. Users must now explicitly call these functions, so you must support the changes in your applications.</p>
<p>The following example uses <code>font</code>.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>// Callback that registers a texture to the descriptor pool.
bool RegisterTextureForDescriptorPool( nn::gfx::DescriptorSlot* dstSlot, const nn::gfx::TextureView&amp; textureView )
{
&nbsp;&nbsp;&nbsp;&nbsp;・・・・
}
// Callback that unregisters a texture from the descriptor pool.
bool UnregisterTextureFromDescriptorPool( nn::gfx::DescriptorSlot* dstSlot, const nn::gfx::TextureView&amp; textureView )
{
&nbsp;&nbsp;&nbsp;&nbsp;・・・・
}
// Callback that registers a sampler to the descriptor pool.
bool RegisterSamplerForDescriptorPool( nn::gfx::DescriptorSlot* dstSlot, const nn::gfx::Sampler* sampler )
{
&nbsp;&nbsp;&nbsp;&nbsp;・・・・
}
// Callback that unregisters a sampler from the descriptor pool.
bool UnregisterSamplerFromDescriptorPool( nn::gfx::DescriptorSlot* dstSlot, const nn::gfx::Sampler* sampler )
{
&nbsp;&nbsp;&nbsp;&nbsp;・・・・
}

nn::font::RectDrawer rectDrawer;
nn::font::ResFont resFont;

// Initializes RectDrawer.
rectDrawer.Initialize( &amp;gfxDevice, rectDrawerWorkBuf, CharMax );

// Registers a sampler created inside RectDrawer to the descriptor pool.
rectDrawer.RegisterSamplerToDescriptorPool( RegisterSamplerForDescriptorPool );

// Sets the font resource.
resFont.SetResource( &amp;gfxDevice, pFontResource );

// Registers a texture contained in the configured resource to the descriptor pool.
resFont.RegisterTextureViewToDescriptorPool( RegisterTextureForDescriptorPool );


// Unregisters the registered texture contained in the font resource from the descriptor pool.
resFont.UnregisterTextureViewFromDescriptorPool( UnregisterTextureFromDescriptorPool );

// Unregisters a sampler created inside RectDrawer from the descriptor pool.
rectDrawer.UnregisterSamplerFromDescriptorPool( UnregisterSamplerFromDescriptorPool );</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>In summary, objects must be registered to the descriptor pool when graphics resources are created inside a module, and they must be unregistered when they are freed.</p>
<h3 id="Anchor_99804825_h3_3">Functions for Registering to the Descriptor Pool</h3>
<table class="table">
  <tbody>
    <tr>
      <th>Module</th>
      <th>Member Function　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　</th>
      <th>Timing of Call</th>
    </tr>
    <tr>
      <td>
        <span class="ApiLink_nn__font">nn::font</span>
      </td>
      <td>
        <p>
          <span class="ApiLink_nn__font__RectDrawer__RegisterSamplerToDescriptorPool">nn::font::RectDrawer::RegisterSamplerToDescriptorPool</span>
        </p>
      </td>
      <td>
        <p>After the call to <code><span class="ApiLink_nn__font__RectDrawer__Initialize">nn::font::RectDrawer::Initialize</span>()</code>.</p>
      </td>
    </tr>
    <tr>
      <td> </td>
      <td>
        <p>
          <span class="ApiLink_nn__font__ResFont__RegisterTextureViewToDescriptorPool">nn::font::ResFont::RegisterTextureViewToDescriptorPool</span>
        </p>
      </td>
      <td>
        <p>After the call to <code><span class="ApiLink_nn__font__ResFont__SetResource">nn::font::ResFont::SetResource</span>()</code>.</p>
      </td>
    </tr>
    <tr>
      <td>
        <span class="ApiLink_nn__ui2d">nn::ui2d</span>
      </td>
      <td>
        <span class="ApiLink_nn__ui2d__ResourceAccessor__RegisterTextureViewToDescriptorPool">nn::ui2d::ResourceAccessor::RegisterTextureViewToDescriptorPool</span>
      </td>
      <td>After the layout set from <code>ResourceAccessor</code> has been built and <code>CreateGroupAnimator()</code> has ended.<br />(To initialize the texture slot used with the texture pattern animation.)</td>
    </tr>
    <tr>
      <td> </td>
      <td>
        <span class="ApiLink_nn__ui2d__GraphicsResourc__RegisterCommonSamplerSlot">nn::ui2d::GraphicsResourc::RegisterCommonSamplerSlot</span>
      </td>
      <td>After the call to <code><span class="ApiLink_nn__ui2d__GraphicsResourc__Setup">nn::ui2d::GraphicsResourc::Setup</span>()</code>.</td>
    </tr>
    <tr>
      <td>
        <span class="ApiLink_nn__vfx">nn::vfx</span>
      </td>
      <td>
        <p>
          <span class="ApiLink_nn__vfx__System__RegisterTextureViewToDescriptorPool">nn::vfx::System::RegisterTextureViewToDescriptorPool</span>
        </p>
      </td>
      <td>After creating <code><span class="ApiLink_nn__vfx__System">nn::vfx::System</span></code>.</td>
    </tr>
    <tr>
      <td> </td>
      <td>
        <span class="ApiLink_nn__vfx__System__RegisterSamplerToDescriptorPool">nn::vfx::System::RegisterSamplerToDescriptorPool</span>
      </td>
      <td>After creating <code><span class="ApiLink_nn__vfx__System">nn::vfx::System</span></code>.</td>
    </tr>
    <tr>
      <td> </td>
      <td>
        <span class="ApiLink_nn__vfx__Resource__RegisterTextureViewToDescriptorPool">nn::vfx::Resource::RegisterTextureViewToDescriptorPool</span>
      </td>
      <td>After the call to <code><span class="ApiLink_nn__vfx__System__EntryResource">nn::vfx::System::EntryResource</span></code>.</td>
    </tr>
  </tbody>
</table>
<p class="auto-cursor-target">
  <br />
</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>If several register member functions are called, the texture slot stored inside the module is overwritten.</p>
  </div>
</div>
<h3 id="Anchor_99804825_h3_4">Functions for Unregistering From the Descriptor Pool</h3>
<table class="table">
  <tbody>
    <tr>
      <th>Module</th>
      <th>Member Function　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　</th>
      <th>Timing of Call</th>
    </tr>
    <tr>
      <td>
        <span class="ApiLink_nn__font">nn::font</span>
      </td>
      <td>
        <p>
          <span class="ApiLink_nn__font__ResFont__UnregisterTextureViewFromDescriptorPool">nn::font::ResFont::UnregisterTextureViewFromDescriptorPool</span>
        </p>
      </td>
      <td>
        <p>Before the call to <code><span class="ApiLink_nn__font__ResFont__Finalize">nn::font::ResFont::Finalize</span></code>.</p>
      </td>
    </tr>
    <tr>
      <td> </td>
      <td>
        <p>
          <span class="ApiLink_nn__font__TextureCache__UnregisterTextureViewFromDescriptorPool">nn::font::TextureCache::UnregisterTextureViewFromDescriptorPool</span>
        </p>
      </td>
      <td>
        <p>Before the call to <code><span class="ApiLink_nn__font__TextureCache__Finalize">nn::font::TextureCache::Finalize</span></code>.</p>
      </td>
    </tr>
    <tr>
      <td> </td>
      <td>
        <span class="ApiLink_nn__font__RectDrawer">nn::font::RectDrawer</span> ::UnregisterSamplerFromDescriptorPool</td>
      <td>
        <p>Before the call to <code><span class="ApiLink_nn__font__RectDrawer__Finalize">nn::font::RectDrawer::Finalize</span></code>.</p>
      </td>
    </tr>
    <tr>
      <td>
        <span class="ApiLink_nn__ui2d">nn::ui2d</span>
      </td>
      <td>
        <span class="ApiLink_nn__ui2d__ResourceAccessor__UnregisterTextureViewFromDescriptorPool">nn::ui2d::ResourceAccessor::UnregisterTextureViewFromDescriptorPool</span>
      </td>
      <td>Before the call to <code><span class="ApiLink_nn__ui2d__ResourceAccessor__Finalize">nn::ui2d::ResourceAccessor::Finalize</span>()</code>.</td>
    </tr>
    <tr>
      <td> </td>
      <td>
        <span class="ApiLink_nn__ui2d__GraphicsResourc__UnregisterCommonSamplerSlot">nn::ui2d::GraphicsResourc::UnregisterCommonSamplerSlot</span>
      </td>
      <td>Before the call to <code><span class="ApiLink_nn__ui2d__GraphicsResourc__Finalize">nn::ui2d::GraphicsResourc::Finalize</span>()</code>.</td>
    </tr>
    <tr>
      <td>
        <span class="ApiLink_nn__vfx">nn::vfx</span>
      </td>
      <td>
        <p>
          <span class="ApiLink_nn__vfx__System__UnregisterTextureViewFromDescriptorPool">nn::vfx::System::UnregisterTextureViewFromDescriptorPool</span>
        </p>
      </td>
      <td>Before freeing <code><span class="ApiLink_nn__vfx__System">nn::vfx::System</span></code>.</td>
    </tr>
    <tr>
      <td> </td>
      <td>
        <span class="ApiLink_nn__vfx__System__UnregisterSamplerFromDescriptorPool">nn::vfx::System::UnregisterSamplerFromDescriptorPool</span>
      </td>
      <td>Before freeing <code><span class="ApiLink_nn__vfx__System">nn::vfx::System</span></code>.</td>
    </tr>
    <tr>
      <td> </td>
      <td>
        <span class="ApiLink_nn__vfx__Resource__UnregisterTextureViewFromDescriptorPool">nn::vfx::Resource::UnregisterTextureViewFromDescriptorPool</span>
      </td>
      <td>Before the call to <code><span class="ApiLink_nn__vfx__System__ClearResource">nn::vfx::System::ClearResource</span></code>.</td>
    </tr>
  </tbody>
</table>
<p class="auto-cursor-target">
  <br />
</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>These unregistration member functions do not need to be called if unregistration from the descriptor pool is not being managed by the user.</p>
  </div>
</div>
<h2 id="Anchor_99804825_h2_3">Change to Handling of ui2d Constant Buffers</h2>
<p>To boost performance and memory efficiency, the constant buffers used by the layout library have been collected together in <code><span class="ApiLink_nn__ui2d__GraphicsResource">nn::ui2d::GraphicsResource</span></code>.</p>
<p>Because of this change, users now must explicitly pass the sizes of the constant buffers used by their applications to <code><span class="ApiLink_nn__ui2d__GraphicsResource">nn::ui2d::GraphicsResource</span></code> at initialization time.</p>
<p>In addition, a process must be called to prepare for the update of constant buffers before they are updated in <code><span class="ApiLink_nn__ui2d__Layout__CalculateMtx">nn::ui2d::Layout::CalculateMtx</span></code>, and a finalization process to complete the update must be called after they are updated.</p>
<p>
  <span class="with-breadcrumbs">For more information, see the <code>Ui2dSimple</code> sample demo.</span>
</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Currently, processes for the constant buffer are not locked. When <code><span class="ApiLink_nn__ui2d__Layout__CalculateMtx">nn::ui2d::Layout::CalculateMtx</span></code> is called simultaneously from multiple threads, the constant buffer will not update correctly.</p>
    <p>If you want to update the constant buffer from multiple threads, you can avoid problems by using <code><span class="ApiLink_nn__ui2d__GraphicsResource__Setup">nn::ui2d::GraphicsResource::Setup</span></code> to create as many constant buffers as there are threads, and then have each thread perform its operations on the index for its constant buffer.</p>
    <p>This problem is expected to be resolved in the future by changing to user-based management of the constant buffers.</p>
  </div>
</div>
<h2 id="Anchor_99804825_h2_4">Changes Made in NintendoSDK 0.7.0</h2>
<p>This section describes the changes made to NintendoWare Graphics in NintendoSDK 0.7.0.</p>
<h3 id="Anchor_99804825_h3_5">Namespace Transition</h3>
<p>In NintendoSDK 0.7.0, the earlier NintendoWare Graphics modules were migrated from the <code>nw</code> namespace to the <code>nn</code> namespace.<br />In step with this namespace transition, the namespace names were reviewed and integrated.</p>
<table class="table">
  <tbody>
    <tr>
      <th class="highlight-blue">New Graphics Module</th>
      <th class="highlight-blue">Earlier Graphics Module</th>
      <th class="highlight-blue"> </th>
    </tr>
    <tr>
      <td style="text-align: left;">
        <span class="ApiLink_nn__g3d">nn::g3d</span>
      </td>
      <td style="text-align: left;">nw::g3d</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left;">
        <span class="ApiLink_nn__g3d__viewer">nn::g3d::viewer</span>
      </td>
      <td>nw::g3d::edit</td>
      <td>Not included in 0.7.0. Will be included in a future version.</td>
    </tr>
    <tr>
      <td style="text-align: left;">
        <span class="ApiLink_nn__ui2d">nn::ui2d</span>
      </td>
      <td style="text-align: left;">
        <code>nw::lyt</code> or <code>nw::ctrl</code></td>
      <td>
        <code>nw::lyt</code> and <code>nw::ctrl</code> are integrated into <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code>.</td>
    </tr>
    <tr>
      <td style="text-align: left;">
        <span class="ApiLink_nn__ui2d__viewer">nn::ui2d::viewer</span>
      </td>
      <td>nw::vwrlyt</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left;">
        <span class="ApiLink_nn__font">nn::font</span>
      </td>
      <td>
        <code>nw::sys::font</code> or <code>nw::scfont</code></td>
      <td>
        <code>nw::sys::font</code> and <code>nw::scfont</code> are integrated into <code><span class="ApiLink_nn__font">nn::font</span></code>.</td>
    </tr>
    <tr>
      <td style="text-align: left;">
        <span class="ApiLink_nn__fontll">nn::fontll</span>
      </td>
      <td>scffnd</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left;">
        <span class="ApiLink_nn__vfx">nn::vfx</span>
      </td>
      <td style="text-align: left;">nw::eft</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left;">
        <span class="ApiLink_nn__vfx__viewer">nn::vfx::viewer</span>
      </td>
      <td style="text-align: left;">nw::eftvw</td>
      <td> </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_99804825_h3_6">Change in the Low-Layer Graphics Library</h3>
<p>Previously, the NintendoWare graphics modules <code><span class="ApiLink_nn__g3d">nn::g3d</span></code>, <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code>, and <code><span class="ApiLink_nn__vfx">nn::vfx</span></code> used OpenGL as their low-layer graphics library. This has been changed in NintendoSDK 0.7.0., which uses the <code><span class="ApiLink_nn__gfx">nn::gfx</span></code> library.</p>
<p>With this change, the structure now looks like this.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_100736639/99854131.png" width="500" class="embedded-image" />
  </span>
</p>
<p>The various modules were transitioned from the earlier <code>nw</code> namespace, and specifications were changed that involve users rewriting their code.</p>
<p> </p>
<h4 id="Anchor_99804825_h4_1">Graphics Devices</h4>
<p>The <code><span class="ApiLink_nn__gfx">nn::gfx</span></code> library requires an <code><span class="ApiLink_nn__gfx__Device">nn::gfx::Device</span></code> object for initializing textures, samplers, and other graphics objects. The specification has been changed accordingly in the <code><span class="ApiLink_nn__g3d">nn::g3d</span></code>, <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code>, and <code><span class="ApiLink_nn__vfx">nn::vfx</span></code> runtimes so that member functions that initialize resources request an <code><span class="ApiLink_nn__gfx__Device">nn::gfx::Device</span></code> object when the system is initialized.</p>
<p> </p>
<h4 id="Anchor_99804825_h4_2">Graphics Commands</h4>
<p>In the <code><span class="ApiLink_nn__gfx">nn::gfx</span></code> library specification, graphics commands are issued by using the <code><span class="ApiLink_nn__gfx__Command">nn::gfx::Command</span></code> class, so the API specifications have been changed so that the <code><span class="ApiLink_nn__g3d">nn::g3d</span></code> or <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code> or <code><span class="ApiLink_nn__vfx">nn::vfx</span></code> member functions that issue draw commands now take the <code><span class="ApiLink_nn__gfx__Command">nn::gfx::Command</span></code> class as an argument.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="gutter">1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
14<br />
15<br />
16</td>
      <td class="code">
        <div class="codeblock"><pre><span class="c1">// Initializes the command buffer.
</span><span class="nn">nn::gfx::</span><span class="n">CommandBuffer</span> <span class="n">gfxCommandBuffer</span> <span class="p">;</span>
<span class="n">gfxCommandBuffer</span><span class="p">.</span><span class="n">Initialize</span><span class="p">(</span> <span class="p">...</span> <span class="p">);</span>

<span class="n">gfxCommandBuffer</span><span class="p">.</span><span class="n">Begin</span><span class="p">();</span>
<span class="p">{</span>
&nbsp;&nbsp;<span class="c1">// Issues nn::vfx module draw commands
</span>&nbsp;&nbsp;<span class="n">vfxSystem</span><span class="o">-&gt;</span><span class="n">SwapBuffer</span><span class="p">();</span>
&nbsp;&nbsp;<span class="n">vfxSystem</span><span class="o">-&gt;</span><span class="n">SetViewParam</span><span class="p">(</span> <span class="o">&amp;</span><span class="n">view</span> <span class="p">);</span>
&nbsp;&nbsp;<span class="c1">// Passes the nn::gfx::CommandBuffer object issuing the draw command to the parameter.
</span>&nbsp;&nbsp;<span class="n">vfxSystem</span><span class="o">-&gt;</span><span class="n">Draw</span><span class="p">(</span> <span class="o">&amp;</span><span class="n">gfxCommandBuffer</span> <span class="p">);</span>
<span class="p">}</span>
<span class="n">gfxCommandBuffer</span><span class="p">.</span><span class="n">End</span><span class="p">();</span>

<span class="c1">// Runs the written graphics commands.
</span><span class="n">gfxQueue</span><span class="p">.</span><span class="n">ExecuteCommand</span><span class="p">(</span> <span class="n">g_pCurrentCommandBuffer</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">g_Fence</span> <span class="p">);</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<h4 id="Anchor_99804825_h4_3">Descriptor Pool</h4>
<p>Texture objects and sampler objects can be used after registering them to the descriptor pool and getting a descriptor slot. Only one descriptor pool is prepared for the application. When working with objects generated in the <code>font</code> or <code>ui2d</code> or <code>vfx</code> runtimes, you must use a callback function to notify the application about the objects, register them to the descriptor pool in the application, and get a descriptor slot.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_100736639/99854130.png" width="500" class="embedded-image" />
  </span>
</p>
<p>The number of textures and samplers that can be used for rendering a single object increases enormously by using a descriptor pool, but there is a limit to the number of graphics objects that can be registered to the pool. In addition, only one descriptor pool can be prepared for NintendoWare, the application, and the operating system.</p>
<table class="table">
  <tbody>
    <tr>
      <td>Texture objects</td>
      <td>2^20  (1048576 objects)</td>
    </tr>
    <tr>
      <td>Sampler objects</td>
      <td>2^12 (4096 objects)</td>
    </tr>
  </tbody>
</table>
<p class="auto-cursor-target">
  <br />
</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="gutter">1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
14<br />
15<br />
16<br />
17<br />
18<br />
19<br />
20<br />
21<br />
22<br />
23<br />
24<br />
25<br />
26<br />
27<br />
28<br />
29<br />
30<br />
31<br />
32<br />
33<br />
34<br />
35<br />
36<br />
37<br />
38<br />
39<br />
40<br />
41<br />
42<br />
43<br />
44</td>
      <td class="code">
        <div class="codeblock"><pre><span class="c1">// Example of a callback function for registering texture objects to the descriptor pool.
</span><span class="kt">bool</span> <span class="nf">AllocateSlotForTexture</span><span class="p">(</span> <span class="nn">nn::gfx::</span><span class="n">DescriptorSlot</span><span class="o">*</span> <span class="n">dstSlot</span><span class="p">,</span> <span class="k">const</span> <span class="nn">nn::gfx::</span><span class="n">TextureView</span><span class="o">&amp;</span> <span class="n">textureView</span> <span class="p">)</span>
<span class="p">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">// Secures an empty descriptor index.
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="kt">int</span> <span class="n">emptyTextureSlot</span> <span class="o">=</span> <span class="n">GetEmptyTextureDescriptorSlot</span><span class="p">();</span>

&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">textureDescriptorPool</span><span class="p">.</span><span class="n">BeginUpdate</span><span class="p">();</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">textureDescriptorPool</span><span class="p">.</span><span class="n">SetTextureView</span><span class="p">(</span> <span class="n">emptyTextureSlot</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">textureView</span><span class="p">);</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">textureDescriptorPool</span><span class="p">.</span><span class="n">EndUpdate</span><span class="p">();</span>

&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">// Gets a descriptor slot from the descriptor index.
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">textureDescriptorPool</span><span class="p">.</span><span class="n">GetDescriptorSlot</span><span class="p">(</span> <span class="n">dstSlot</span><span class="p">,</span> <span class="n">emptyTextureSlot</span> <span class="p">);</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Example of a callback function for registering sampler objects to the descriptor pool.
</span><span class="kt">bool</span> <span class="nf">AllocateSlotForSampler</span><span class="p">(</span><span class="nn">nn::gfx::</span><span class="n">DescriptorSlot</span><span class="o">*</span> <span class="n">dstSlot</span><span class="p">,</span> <span class="k">const</span> <span class="nn">nn::gfx::</span><span class="n">Sampler</span><span class="o">&amp;</span> <span class="n">sampler</span><span class="p">)</span>
<span class="p">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">// Secures an empty descriptor index.
</span>　&nbsp;&nbsp;<span class="kt">int</span> <span class="n">emptySamplerSlot</span> <span class="o">=</span> <span class="n">GetEmptySamplerDescriptorSlot</span><span class="p">();</span>

&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">samplerDescriptorPool</span><span class="p">.</span><span class="n">BeginUpdate</span><span class="p">();</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">g_samplerDescriptorPool</span><span class="p">.</span><span class="n">SetSampler</span><span class="p">(</span> <span class="n">emptySamplerSlot</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sampler</span> <span class="p">);</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">samplerDescriptorPool</span><span class="p">.</span><span class="n">EndUpdate</span><span class="p">();</span>

&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">// Gets a descriptor slot from the descriptor index.
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">samplerDescriptorPool</span><span class="p">.</span><span class="n">GetDescriptorSlot</span><span class="p">(</span> <span class="n">dstSlot</span><span class="p">,</span> <span class="n">emptySamplerSlot</span> <span class="p">);</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Registers the texture and sampler to the descriptor pool by using a callback.
</span>
<span class="c1">// nn::font example.
</span><span class="nn">nn::font::ResFontBase::</span><span class="n">RegisterTextureViewToDescriptorPool</span><span class="p">(</span> <span class="n">AllocateSlotForTexture</span> <span class="p">);</span>
<span class="nn">nn::font::RectDrawer::</span><span class="n">RegisterSamplerToDescriptorPool</span><span class="p">(</span> <span class="n">AllocateSlotForSampler</span> <span class="p">);</span>

<span class="c1">// nn::vfx example.
</span><span class="nn">nn::vfx::System::</span><span class="n">RegisterTextureViewToDescriptorPool</span><span class="p">(</span> <span class="n">AllocateSlotForTexture</span> <span class="p">);</span>
<span class="nn">nn::vfx::System::</span><span class="n">RegisterSamplerToDescriptorPool</span><span class="p">(</span> <span class="n">AllocateSlotForSampler</span> <span class="p">);</span>
<span class="nn">nn::vfx::Resource::</span><span class="n">RegisterTextureViewToDescriptorPool</span><span class="p">(</span> <span class="n">AllocateSlotForSampler</span> <span class="p">);</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p class="auto-cursor-target">
  <br />
</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The specification for handling descriptor pools was changed in NintendoSDK 0.8.0. The preceding code sample complies with the NintendoSDK 0.8.0 specifications.</p>
  </div>
</div>
<h3 id="Anchor_99804825_h3_7">Texture Resources</h3>
<p>The texture files used in the <code>g3d</code> and <code>vfx</code> modules use <code>gtx</code> texture resources. <code>gtx</code> texture resources are compatible with the NW4F texture format, so you can use the texture resources created until now. However, beginning with NintendoSDK 0.7.0, the <code>vtx</code> module, which until NintendoSDK 0.6.0 could use tiling textures, must convert them to linear textures to use them on the Windows platform.<br />The <code>ui2d</code> module can use TGA textures just as it could before.</p>
<h3 id="Anchor_99804825_h3_8">Implementations Using the nn::gfx Library</h3>
<p>The following table summarizes the features of the <code><span class="ApiLink_nn__gfx">nn::gfx</span></code> library supported by the NintendoWare Graphics modules.</p>
<p>Additional features will be supported in the future to optimize operations on the platforms that are supported.</p>
<table class="table">
  <tbody>
    <tr>
      <th>Features</th>
      <th>Usage</th>
    </tr>
    <tr>
      <td>Memory Pool</td>
      <td>Uses</td>
    </tr>
    <tr>
      <td>Texture descriptor pool</td>
      <td>Uses</td>
    </tr>
    <tr>
      <td>Sampler descriptor pool</td>
      <td>Uses</td>
    </tr>
    <tr>
      <td>Constant buffer descriptor pool</td>
      <td>Does not use</td>
    </tr>
    <tr>
      <td>Pipeline mode</td>
      <td>Does not use</td>
    </tr>
    <tr>
      <td>Root signature mode</td>
      <td>Does not use</td>
    </tr>
  </tbody>
</table>
<p> </p>
<h3 id="Anchor_99804825_h3_9">Tools</h3>
<p>The new NintendoWare Graphics uses 3DEditor, LayoutEditor, and EffectMaker tools just like in the past to create and edit graphics objects.<br /><br /></p>
<h4 id="Anchor_99804825_h4_4">3DEditor</h4>
<p>As of 0.7.0, there are no changes to how this tool is used, but there may be changes when <code><span class="ApiLink_nn__g3d__viewer">nn::g3d::viewer</span></code> is added in a future version.</p>
<h4 id="Anchor_99804825_h4_5">LayoutEditor</h4>
<p>The tool is basically used the same way as before.<br />However, behavior can be switched in minor ways, depending on the platform.</p>
<h4 id="Anchor_99804825_h4_6">EffectMaker</h4>
<p>In the upper part of EffectMaker there is a combo box for selecting the platform for creating and editing.</p>
<table class="table">
  <tbody>
    <tr>
      <th>Platform Name</th>
      <th> </th>
    </tr>
    <tr>
      <td>Windows</td>
      <td>Select this when creating and editing effect data for <code><span class="ApiLink_nn__vfx">nn::vfx</span></code>.</td>
    </tr>
    <tr>
      <td>WindowsNw4f</td>
      <td>Select this when creating and editing effect data for <code>nw::eft2</code>.</td>
    </tr>
  </tbody>
</table>
<p> </p>
<h3 id="Anchor_99804825_h3_10">The Viewers</h3>
<p>LayoutViewer and EffectViewer provided in NintendoWare have been replaced with implementations using the <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code> runtime and the <code><span class="ApiLink_nn__vfx">nn::vfx</span></code> runtime. In line with this, the executable files for the viewers released in NintendoSDK 0.7.0 differ from those in NintendoSDK 0.6.0.</p>
<table class="table">
  <tbody>
    <tr>
      <th>Executable Filename</th>
      <th>Description</th>
    </tr>
    <tr>
      <td>
        <strong>\Tools\Graphics\EffectViewer\Win32\EffectViewer.exe</strong>
      </td>
      <td>A 32-bit build of the viewer for communicating with EffectMaker and playing effect data, implemented using <code><span class="ApiLink_nn__vfx">nn::vfx</span></code>.</td>
    </tr>
    <tr>
      <td>
        <strong>Tools\Graphics\LayoutViewer\Win32\lytviewerGfx.exe</strong>
      </td>
      <td>A 32-bit build of the viewer for communicating with LayoutEditor and playing layout data, implemented using <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code>.</td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>NintendoSDK 0.7.0 and later versions require you to start <code>TargetManager</code> to link the editor and the viewer. For more information, see <a href="../Pages/Page_94763641.html">NintendoWare News</a>.</p>
<h3 id="Anchor_99804825_h3_11">Renamed APIs and Member Functions</h3>
<p>Various APIs and member functions have been renamed to make NintendoSDK more consistent.</p>
<p> </p>
<h3 id="Anchor_99804825_h3_12">Changes to the Various Modules</h3>
<p>This section describes changes that are unique to the individual modules of New NintendoWare Graphics.</p>
<h3 id="Anchor_99804825_h3_13">Changes to nn::g3d</h3>
<h4 id="Anchor_99804825_h4_7">Render States</h4>
<p>The <code>nw::g3d</code> module has a class that provides features similar to the <code>ResRenderInfo</code> class and the <code>ResRenderState</code> class. For this reason, the <code>ResRenderState</code> class has been eliminated, and its roles have been inherited by the <code>ResRenderInfo</code> class. Because of this change, when models that were used with <code>nw::g3d</code> are converted for <code><span class="ApiLink_nn__g3d">nn::g3d</span></code>, the render state information that was configured using 3DEditor is not automatically included in the model data. Information that is essential for render states must be written as rendering information annotation (<code>renderinfo</code>) in the shader, set appropriately using 3DEditor, and obtained by using the <code>ResRenderInfo</code> class.</p>
<h4 id="Anchor_99804825_h4_8">Animations</h4>
<p>Changes were made to the support of classes handled by various animations and runtimes. The following table summarizes these changes.</p>
<table class="table">
  <tbody>
    <tr>
      <th>Animation</th>
      <th>Classes</th>
    </tr>
    <tr>
      <td>Skeletal animation</td>
      <td>
        <p>ResSkeletalAnim</p>
        <p>SkeletalAnimObj</p>
      </td>
    </tr>
    <tr>
      <td>Shape animation</td>
      <td>
        <p>ResShapeAnim</p>
        <p>ShapeAnimObj</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>Shader parameter animation</p>
        <p>Color animation</p>
        <p>Texture SRT animation</p>
        <p>Texture Pattern Animation</p>
        <p>Material Visibility Animation</p>
      </td>
      <td>
        <p>ResMaterialAnim</p>
        <p>MaterialAnimObj</p>
      </td>
    </tr>
    <tr>
      <td>Bone Visibility Animation</td>
      <td>
        <p>ResBoneVisibilityAnim</p>
        <p>BoneVisibilityAnimObj</p>
      </td>
    </tr>
    <tr>
      <td>Scene animation</td>
      <td>
        <p>ResSceneAnim</p>
        <p>SceneAnimObj</p>
      </td>
    </tr>
  </tbody>
</table>
<p>With these changes, <code>nw::g3d</code> no longer allows the same animation names (filenames) to be used for shader parameter animations, color animations, texture SRT animations, texture pattern animations, and material visibility animations. You must remember this point when converting animation data used in <code>nw::g3d</code> into a form for <code><span class="ApiLink_nn__g3d">nn::g3d</span></code>, and change the names of animation files where necessary. </p>
<h4 id="Anchor_99804825_h4_9">Textures</h4>
<p>Texture data is no longer included in the model data. You must handle the texture data as a separate resource from the model data and bind it to the model by using the <code>BindTexture</code> function. You can create the texture data using TextureConverter.</p>
<p> </p>
<h3 id="Anchor_99804825_h3_14">Changes to nn::vfx</h3>
<p>This section describes changes unique to the transition from <code>nw::eft2</code> to <code><span class="ApiLink_nn__vfx">nn::vfx</span></code>.<br />Also refer to <a href="../Pages/Page_83955666.html">Embedding the Effect Runtime　</a>, which was also rewritten to be based on the <code><span class="ApiLink_nn__vfx">nn::vfx</span></code> namespace.</p>
<h4 id="Anchor_99804825_h4_10">Texture Resources</h4>
<p>To use NW4F format textures in the <code>vfx</code> module, you must convert tiling textures into linear textures.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="gutter">1<br />
2</td>
      <td class="code">
        <div class="codeblock"><pre><span class="c1">// Converts tiling textures to linear textures.
</span><span class="n">NintendoSDK</span><span class="err">\</span><span class="n">Tools</span><span class="err">\</span><span class="n">Graphics</span><span class="err">\</span><span class="n">GraphicsTools</span><span class="err">\</span><span class="n">TextureConverter</span><span class="p">.</span><span class="n">exe</span> <span class="n">texture_tiling</span><span class="p">.</span><span class="n">ftxb</span> <span class="o">-</span><span class="n">o</span> <span class="n">texture_linear</span><span class="p">.</span><span class="n">ftxb</span> <span class="o">-</span><span class="n">p</span> <span class="n">Win32</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_99804825_h4_11">Effect Binary Output Options</h4>
<p>Changes were made to the way command-line options are specified when the binary is output from EffectMaker for <code><span class="ApiLink_nn__vfx">nn::vfx</span></code>.<br />For more information, see <a href="../Pages/Page_83955581.html">Binary  Converter</a>.</p>
<p>
  <br />
</p>
<h3 id="Anchor_99804825_h3_15">Changes to nn::ui2d and nn::font</h3>
<h4 id="Anchor_99804825_h4_12">
  <span class="with-breadcrumbs">Font Resources</span>
</h4>
<p>
  <span class="with-breadcrumbs">You must remake the font binary because the format for fonts has changed.<br /></span>
</p>
<h4 id="Anchor_99804825_h4_13">
  <span class="with-breadcrumbs">Initialization of Runtime Library</span>
</h4>
<p>
  <span class="with-breadcrumbs">Shader resources are embedded in the runtime, so you no longer need to load them from outside and pass them.</span>
</p>
<p>
  <span class="with-breadcrumbs">You do need to prepare samplers in the application and pass them to the runtime. For more information, see the Ui2dSimple sample demo.</span>
</p>
<h4 id="Anchor_99804825_h4_14">
  <span class="with-breadcrumbs">Other<br /></span>
</h4>
<p>
  <span class="with-breadcrumbs">Alpha Test is not supported. Whether support is added in the future is something yet to be determined.</span>
</p>
<p>
  <span class="with-breadcrumbs">You must call <code><span class="ApiLink_nn__fontll__ScalableFontEngineHelper__Decode">nn::fontll::ScalableFontEngineHelper::Decode</span></code> before you use scalable font files.</span>
</p>
<h5 id="Anchor_99804825_h5_1">LayoutConverter</h5>
<p>This tool can output binary in the new format for <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code> and in the earlier format for <code>nw::lyt</code>.<br />Specify the appropriate value for the following option.</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <div class="tablesorter-header-inner">Command-Line Options</div>
      </th>
      <th>
        <div class="tablesorter-header-inner">Description</div>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-p [platform]</td>
      <td>
        <ul>
          <li>Specify <strong>win32ui2d</strong> for <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code>.</li>
          <li> Specify <strong>win32</strong> for <code>nw::lyt</code>.</li>
          <li>If you do not specify anything, the binary is output for <code>nw::lyt</code>.</li>
          <li>Example:  <code>-p=win32ui2d</code></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_99804825_h4_15">
  <span class="with-breadcrumbs">FontConverterConsole</span>
</h4>
<p>This tool can output binary in the new format for <code><span class="ApiLink_nn__font">nn::font</span></code> and in the earlier format for <code>nw::font</code>.<br />Specify the appropriate value for the following option. (The GUI version of FontConverter outputs the binary for <code><span class="ApiLink_nn__font">nn::font</span></code>.)</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <div class="tablesorter-header-inner">Command-Line Options</div>
      </th>
      <th>
        <div class="tablesorter-header-inner">Description</div>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p>-nobntx</p>
      </td>
      <td>
        <ul>
          <li>If you specify this option, the binary is output for <code>nw::font</code>.</li>
          <li>If you do not specify anything, the binary is output for <code><span class="ApiLink_nn__font">nn::font</span></code>.</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_99804825_h4_16">
  <span class="with-breadcrumbs">LayoutEditor</span>
</h4>
<p>
  <span class="with-breadcrumbs">The notation for command-line options has changed.</span>
</p>
<p>(The notation for the input file path has not changed.)</p>
<div>
  <div class="syntaxhighlighter nogutter plain">
    <p> </p>
    <table class="table">
      <tbody>
        <tr>
          <td>
            <div class="container" title="Hint: double-click to select code">
              <div class="line number1 index0 alt2">
                <code class="plain plain">LayoutEditor.exe ...path of input file... [option]</code>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Options</strong>
    </p>
  </div>
</div>
<table class="table">
  <thead>
    <tr>
      <th>
        <div class="tablesorter-header-inner">Earlier Options</div>
      </th>
      <th>
        <div class="tablesorter-header-inner">New Options</div>
      </th>
      <th>
        <div class="tablesorter-header-inner">Processing Description</div>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-scf</td>
      <td>--current-frame</td>
      <td>Specifies the current frame.</td>
    </tr>
    <tr>
      <td>-ssc</td>
      <td>--save-screen-capture</td>
      <td>Saves a screenshot.</td>
    </tr>
    <tr>
      <td>-scs</td>
      <td>--capture-size</td>
      <td>Specifies the screenshot size.</td>
    </tr>
    <tr>
      <td> </td>
      <td>--capture-file-path</td>
      <td>Specifies the file path for the screenshot.</td>
    </tr>
    <tr>
      <td>-exp</td>
      <td>-o, --output</td>
      <td>Specifies the output file path for the intermediate files.</td>
    </tr>
    <tr>
      <td>-cil</td>
      <td>--close-if-loaded</td>
      <td>Closes any loaded files.</td>
    </tr>
    <tr>
      <td>-spr</td>
      <td>--parts-root-path</td>
      <td>Specifies the root path for Parts.</td>
    </tr>
  </tbody>
</table>
<p>
  <code>--ssc</code> was divided into two options: one to set the flag to save a screenshot (<code>--save-screen-capture</code>), and another to specify the file path (<code>--capture-file-path</code>).</p>
<h4 id="Anchor_99804825_h4_17">
  <span class="with-breadcrumbs">Sample Demo</span>
</h4>
<p>
  <span class="with-breadcrumbs">The following sample demos have been added: <code>Ui2dSimple</code>, <code>Ui2dUserShader</code>, <code>FontSimple</code>,  <code>FontWordWrapping</code>, and <code>ScalableFontSimple</code>.</span>
</p>
<h4 id="Anchor_99804825_h4_18">
  <span class="with-breadcrumbs">Added Scripts to Reconvert Shaders in nn::ui2d and nn:font</span>
</h4>
<p>
  <span class="with-breadcrumbs">Scripts have been added so users can reconvert shaders that have been embedded in <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code> and <code>nn:font</code>.<br />If problems occur with embedded shaders, you can use these scripts to reconvert them.</span>
</p>
<p>
  <span class="with-breadcrumbs">
    <strong>Note:</strong> Users normally do not need to reconvert shaders because the package comes bundled with preconverted embedded shaders.</span>
</p>
<p>
  <span class="with-breadcrumbs">The shader conversion scripts are located in the following locations.</span>
</p>
<ul>
  <li>
    <code>Tools/Graphics/ShaderConvertScripts/BuildUi2dShaders.Win32.bat</code> (for <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code>).</li>
  <li>
    <code>Tools/Graphics/ShaderConvertScripts/BuildNnFontShaders.Win32.bat</code> (for <code>nn:font</code>).</li>
</ul>
<p>Double-click the batch file to reconvert the shaders.<br />You must rebuild the <code><span class="ApiLink_nn__ui2d">nn::ui2d</span></code> and <code><span class="ApiLink_nn__font">nn::font</span></code> runtime libraries to apply these reconverted embedded shaders in the runtime libraries.<br /></p>
<p> </p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__g3d', '../../../Api/HtmlNX/namespacenn_1_1g3d.html' )
SetUrl( 'ApiLink_nn__ui2d', '../../../Api/HtmlNX/namespacenn_1_1ui2d.html' )
SetUrl( 'ApiLink_nn__font', '../../../Api/HtmlNX/namespacenn_1_1font.html' )
SetUrl( 'ApiLink_nn__vfx', '../../../Api/HtmlNX/namespacenn_1_1vfx.html' )
SetUrl( 'ApiLink_nn__font__RectDrawer__RegisterSamplerToDescriptorPool', '../../../Api/HtmlNX/classnn_1_1font_1_1_rect_drawer.html#a2b2a693ea12416940b4f948d90cb35b8' )
SetUrl( 'ApiLink_nn__font__RectDrawer__Initialize', '../../../Api/HtmlNX/classnn_1_1font_1_1_rect_drawer.html#a9583fcd58c7e2cd856dff98cfb65d6f4' )
SetUrl( 'ApiLink_nn__font__ResFont__RegisterTextureViewToDescriptorPool', '../../../Api/HtmlNX/classnn_1_1font_1_1_res_font_base.html#a9875091bb1e3b2c70ec1beece9121640' )
SetUrl( 'ApiLink_nn__font__ResFont__SetResource', '../../../Api/HtmlNX/classnn_1_1font_1_1_res_font.html#ad12a6d532e5d298927cc5fc5839bf737' )
SetUrl( 'ApiLink_nn__ui2d__ResourceAccessor__RegisterTextureViewToDescriptorPool', '../../../Api/HtmlNX/classnn_1_1ui2d_1_1_resource_accessor.html#ac404c5cfd5f6782c38d12717cc1b0dc3' )
// ApiLink_nn__ui2d__GraphicsResourc__RegisterCommonSamplerSlot
// ApiLink_nn__ui2d__GraphicsResourc__Setup
SetUrl( 'ApiLink_nn__vfx__System__RegisterTextureViewToDescriptorPool', '../../../Api/HtmlNX/classnn_1_1vfx_1_1_system.html#a0be128da473e61ba4b3061203e270a2f' )
SetUrl( 'ApiLink_nn__vfx__System', '../../../Api/HtmlNX/classnn_1_1vfx_1_1_system.html' )
SetUrl( 'ApiLink_nn__vfx__System__RegisterSamplerToDescriptorPool', '../../../Api/HtmlNX/classnn_1_1vfx_1_1_system.html#ab1fe894e64d50540ac3baeafc15953cb' )
SetUrl( 'ApiLink_nn__vfx__Resource__RegisterTextureViewToDescriptorPool', '../../../Api/HtmlNX/classnn_1_1vfx_1_1_resource.html#aac7a8ee685184f435f019079bd11c6cf' )
SetUrl( 'ApiLink_nn__vfx__System__EntryResource', '../../../Api/HtmlNX/classnn_1_1vfx_1_1_system.html#a0418cc91c6dceab635cb5117b6aaf5e2' )
SetUrl( 'ApiLink_nn__font__ResFont__UnregisterTextureViewFromDescriptorPool', '../../../Api/HtmlNX/classnn_1_1font_1_1_res_font_base.html#af962fa7d8a1f51dfd8fea4c02c4802f4' )
SetUrl( 'ApiLink_nn__font__ResFont__Finalize', '../../../Api/HtmlNX/classnn_1_1font_1_1_res_font.html#a014049eb4e5a05607e1ced12c459f502' )
SetUrl( 'ApiLink_nn__font__TextureCache__UnregisterTextureViewFromDescriptorPool', '../../../Api/HtmlNX/classnn_1_1font_1_1_texture_cache.html#a1e287617bd5eb9425fb4c11191e7c478' )
SetUrl( 'ApiLink_nn__font__TextureCache__Finalize', '../../../Api/HtmlNX/classnn_1_1font_1_1_texture_cache.html#a4b319c6d9716c27fc48c56204cc101da' )
SetUrl( 'ApiLink_nn__font__RectDrawer', '../../../Api/HtmlNX/classnn_1_1font_1_1_rect_drawer.html' )
SetUrl( 'ApiLink_nn__font__RectDrawer__Finalize', '../../../Api/HtmlNX/classnn_1_1font_1_1_rect_drawer.html#ababb8dc2432bb310842dfe2d32fddc44' )
SetUrl( 'ApiLink_nn__ui2d__ResourceAccessor__UnregisterTextureViewFromDescriptorPool', '../../../Api/HtmlNX/classnn_1_1ui2d_1_1_resource_accessor.html#a7ed435daa287702d94769b8f91ddb176' )
SetUrl( 'ApiLink_nn__ui2d__ResourceAccessor__Finalize', '../../../Api/HtmlNX/classnn_1_1ui2d_1_1_resource_accessor.html#a98b6b75b2bddbd946f89f2d0dd83e20c' )
// ApiLink_nn__ui2d__GraphicsResourc__UnregisterCommonSamplerSlot
// ApiLink_nn__ui2d__GraphicsResourc__Finalize
SetUrl( 'ApiLink_nn__vfx__System__UnregisterTextureViewFromDescriptorPool', '../../../Api/HtmlNX/classnn_1_1vfx_1_1_system.html#a0efe36d160a2b13f47baeac03fa648db' )
SetUrl( 'ApiLink_nn__vfx__System__UnregisterSamplerFromDescriptorPool', '../../../Api/HtmlNX/classnn_1_1vfx_1_1_system.html#ae4ec6d63b2d7de944a2b8d366aee429f' )
SetUrl( 'ApiLink_nn__vfx__Resource__UnregisterTextureViewFromDescriptorPool', '../../../Api/HtmlNX/classnn_1_1vfx_1_1_resource.html#ad5cd4bb222df1c0f48f63157e18667ac' )
SetUrl( 'ApiLink_nn__vfx__System__ClearResource', '../../../Api/HtmlNX/classnn_1_1vfx_1_1_system.html#a56530a0ef48f390b4d344cf1d1a393b0' )
SetUrl( 'ApiLink_nn__ui2d__GraphicsResource', '../../../Api/HtmlNX/classnn_1_1ui2d_1_1_graphics_resource.html' )
// ApiLink_nn__ui2d__Layout__CalculateMtx
SetUrl( 'ApiLink_nn__ui2d__GraphicsResource__Setup', '../../../Api/HtmlNX/classnn_1_1ui2d_1_1_graphics_resource.html#abf174973a19b5e84a0bfa17e733a4f05' )
SetUrl( 'ApiLink_nn__g3d__viewer', '../../../Api/HtmlNX/namespacenn_1_1g3d_1_1viewer.html' )
SetUrl( 'ApiLink_nn__ui2d__viewer', '../../../Api/HtmlNX/namespacenn_1_1ui2d_1_1viewer.html' )
SetUrl( 'ApiLink_nn__fontll', '../../../Api/HtmlNX/namespacenn_1_1fontll.html' )
SetUrl( 'ApiLink_nn__vfx__viewer', '../../../Api/HtmlNX/namespacenn_1_1vfx_1_1viewer.html' )
SetUrl( 'ApiLink_nn__gfx', '../../../Api/HtmlNX/namespacenn_1_1gfx.html' )
SetUrl( 'ApiLink_nn__gfx__Device', '../../../Api/HtmlNX/namespacenn_1_1gfx.html#a911efa3d8dce04d59a39b97d97079cd7' )
// ApiLink_nn__gfx__Command
SetUrl( 'ApiLink_nn__fontll__ScalableFontEngineHelper__Decode', '../../../Api/HtmlNX/classnn_1_1fontll_1_1_scalable_font_engine_helper.html#aec10ff3677f0074f9ef25f25396f1f89' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
