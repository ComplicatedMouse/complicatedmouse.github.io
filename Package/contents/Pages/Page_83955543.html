<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Preprocessor Directive | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Preprocessor Directive -->
<div class="pagetitle" id="PageId_83955543">Preprocessor Directive</div>
<div class="text_separate">
<h1 id="Anchor_83955543_h1_1">Preprocessor Directive</h1>
<h2 id="Anchor_83955543_h2_1">Overview</h2>
<p>Preprocessor directives can be used for all text sequences. They support text coding.</p>
<p>For example, one preprocessor directive is called <code>#define</code>. This directive is used in the following fashion.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define LENGTH 24 </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> By inserting this line of code in a text sequence, you can write <code>LENGTH</code> in place of the number 24 in lines of code that follow. If there are many locations in code that use this value, it can be changed throughout the code simply by editing the value 24 in the <code>#define</code> line. This is extremely useful when selecting a value by trial and error.</p>
<h2 id="Anchor_83955543_h2_2">Preprocessor Directive</h2>
<p>The following table lists the available preprocessor directives.</p>
<p>Table 7-1. Preprocessor Directives</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <p>Preprocessor Directive</p>
      </th>
      <th>
        <p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p>#define</p>
      </td>
      <td>
        <p>Defines substitution macros</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>#undef</p>
      </td>
      <td>
        <p>Disables a substitution macro definition</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>#include</p>
      </td>
      <td>
        <p>Includes other files</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>#if</p>
      </td>
      <td>
        <p>Evaluates a true-false condition</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>#ifdef</p>
      </td>
      <td>
        <p>Evaluates whether a macro is defined</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>#ifndef</p>
      </td>
      <td>
        <p>Evaluates whether a macro is undefined</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>#else</p>
      </td>
      <td>
        <p>#else marks the beginning of the code that will execute when the false condition is met for #if, #ifdef, #ifndef, or #elif.</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>#endif</p>
      </td>
      <td>
        <p>This directive indicates the end of a code segment beginning with #if, #ifdef, #ifndef, or #elif.</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>#elif</p>
      </td>
      <td>
        <p>#elif evaluates the condition for the false returned from #if, #ifdef, or #ifndef.</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The short descriptions in the table may be somewhat hard to understand, but you should be able to understand quickly by reading through the examples that follow.</p>
<h2 id="Anchor_83955543_h2_3">#define</h2>
<p>Defines substitution macros. The syntax is as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define macro_name substitution_string </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>If a string matching the macro name appears on any lines that follow, that string is replaced by the substitution string. Only complete macro names matches are replaced. Partial matches will not be replaced. Macro names are also case-sensitive.</p>
<p>Just as with label names, macro names must start with an alphabetic character, while the rest of the name can consist of alphanumeric characters and underscores (_). Usually, lowercase alphabetic characters are not used.</p>
<p>The replacement string can be specified freely, but it must match the syntax of the location where the macro is used. For example, a macro used in a location where a numeric value is written must be defined using a replacement string that represents a numeric value. The order of replacement can be abbreviated. It is omitted where a macro needs to be defined only for use in <code>#ifdef</code>.</p>
<p>Although an error results if the same macro name is defined more than once, you can redefine a macro name if it is first disabled using <code>#undef</code>.</p>
<h3 id="Anchor_83955543_h3_1">Examples of Using #define</h3>
<p class="Code"> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define LENGTH 24
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, LENGTH
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, LENGTH
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, LENGTH
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The preceding code does the same thing as the following code.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The following code also has the same meaning because the replacement string can be specified freely.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define VEL_LEN 127, 24
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cn4 VEL_LEN
&nbsp;&nbsp;&nbsp;&nbsp;dn4 VEL_LEN
&nbsp;&nbsp;&nbsp;&nbsp;en4 VEL_LEN
fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The following example combines a macro definition with <code>#ifdef</code>.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define ENABLE_FLAG
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
#ifdef ENABLE_FLAG
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
#endif
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The line between <code>#ifdef</code> and <code>#endif</code> is executed only if <code>ENABLE_FLAG</code> is defined. If the line <code>#define ENABLE_FLAG</code> is deleted, the line <code>en4 127, 24</code> is ignored.</p>
<h2 id="Anchor_83955543_h2_4">#undef</h2>
<p>This directive disables a substitution macro definition. The syntax is as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#undef macro_name </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>This directive disables a macro defined using <code>#define</code>, causing it to be undefined. The directive does nothing if a macro that has not been defined is specified.</p>
<p>This macro is used to redefine a macro or in combination with <code>#ifdef/#ifndef</code>.</p>
<h3 id="Anchor_83955543_h3_2">Example of Using #undef</h3>
<p class="Code"> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define LENGTH 24
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, LENGTH
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, LENGTH
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, LENGTH
&nbsp;
#undef LENGTH
#define LENGTH 12
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, LENGTH
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, LENGTH
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, LENGTH
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>If <code>#undef</code> is used in this way, the same macro name can be defined twice.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define ENABLE_FLAG
#undef ENABLE_FLAG
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
#ifdef ENABLE_FLAG
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
#endif
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The line between <code>#ifdef</code> and <code>#endif</code> is executed only if <code>ENABLE_FLAG</code> is defined. Here, the line <code>en4 127, 24</code> is disabled because the macro has been disabled using <code>#undef</code>.</p>
<h2 id="Anchor_83955543_h2_5">#include</h2>
<p>This directive includes another file. The syntax is as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#include &quot;filename&quot;
&nbsp;
#include &lt;filename&gt; </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The file specified by <code>filename</code> is embedded at the current position. Use <code>#include</code> to collect items common to several files into one file, or to divide a file when you want several people to edit it.</p>
<p>Both relative and absolute paths can be used for the filename. If the filename is specified using a relative path, the directory used as the base differs depending on which of the two types of available syntax is used. If the <code>#include &quot;filename&quot;</code> syntax is used, the directory is a relative path from the current file. If the <code>#include &lt;filename&gt;</code> syntax is used, the directory is a relative path from the sound project file to be converted.</p>
<h3 id="Anchor_83955543_h3_3">
  <a name="Anchor_83955543_INCLUDE_Example"></a>Example of Using #include</h3>
<p>When a bank file is converted, lines of code such as the following are output to a Program Number List File with extension of <code>*.finl</code>.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define PRG_PIANO 0
#define PRG_ORGAN 1
#define PRG_GUITAR 2 </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>Including this file at the start of a text sequence allows labels to be used with program changes.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#include &quot;../bnk/se.finl&quot;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;prg PRG_ORGAN
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<h2 id="Anchor_83955543_h2_6">#if</h2>
<p>This directive is used to evaluate true-false conditions. The basic syntax is as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#if evaluation_expression
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(code enabled when true)
&nbsp;
#endif </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>If the result of the evaluation expression is true, the following lines of code up to the next <code>#endif</code> are enabled. Otherwise, those same lines of code are disabled. The enabled or disabled interval is until #endif.</p>
<p>You can specify a numeric value as the expression to evaluate. When the numeric values are specified, the code is disabled if the value is zero and enabled if the value is nonzero.</p>
<h3 id="Anchor_83955543_h3_4">Example of Using #if</h3>
<p>Lines of code can be disabled as follows and used in place of comments.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#if 0
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;fin
#endif </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>Writing code this way makes it easy to enable these lines later.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#if 1
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;fin
#endif </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The following is also an allowed usage.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define VERSION 2
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
#if VERSION &gt;= 2
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
#endif
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>This feature allows lines of code to be enabled or disabled based on the evaluation of a particular expression. In this example, the line <code>en4 127, 24</code> is enabled because the result of evaluation is true.</p>
<h2 id="Anchor_83955543_h2_7">#ifdef / #ifndef</h2>
<p>This directive evaluates whether a macro is defined or undefined. The syntax is as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#ifdef macro_name
&nbsp;
#ifndef macro_name </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>Specify the macro name instead of an evaluation expression to determine whether the macro name is defined. The result of <code>#ifdef</code> is true if the macro is defined, while the result of <code>#ifndef</code> is true if the macro is undefined. All other operations are identical to <code>#if</code>.</p>
<h3 id="Anchor_83955543_h3_5">Examples of Using #ifdef/#ifndef</h3>
<p class="Code"> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define ENABLE_FLAG
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
#ifdef ENABLE_FLAG
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
#endif
#ifndef ENABLE_FLAG
&nbsp;&nbsp;&nbsp;&nbsp;fn4 127, 24
#endif
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>In this example, the line <code>en4 127, 24</code> is enabled because <code>ENABLE_FLAG</code> is defined, while the line <code>fn4 127, 24</code> is disabled. On the other hand,</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define ENABLE_FLAG
#undef ENABLE_FLAG
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
#ifdef ENABLE_FLAG
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
#endif
#ifndef ENABLE_FLAG
&nbsp;&nbsp;&nbsp;&nbsp;fn4 127, 24
#endif
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>Conversely, if <code>#undef</code> is inserted as follows.The line fn4 127, 24 is enabled because <code>ENABLE_FLAG</code> is undefined.</p>
<h2 id="Anchor_83955543_h2_8">#else</h2>
<p>
  <code>#else</code> marks the beginning of the code that will execute when the false condition is met for <code>#if</code>, <code>#ifdef</code>, <code>#ifndef</code>, or <code>#elif</code>. The basic syntax is as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#if ...
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;(code enabled when true)
&nbsp;
#else
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;(code enabled when false)
&nbsp;
#endif </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The code segment between <code>#else</code> and <code>#endif</code> is enabled if the evaluation result of the <code>#if</code> or <code>#ifdef</code> is false. Conversely, the code segment between <code>#else</code> and <code>#endif</code> is disabled if the evaluation result is true.</p>
<h3 id="Anchor_83955543_h3_6">Example of Using #else</h3>
<p>Writing code as follows allows two versions of code to easily be switched.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#if 1
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;fin
#else
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;gn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;fin
#endif </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>In this example, the code segment between <code>#if</code> and <code>#else</code> is enabled, but you can instead enable the code segment between <code>#else</code> and <code>#endif</code> simply by changing <code>#if 1</code> to <code>#if 0</code>.</p>
<h2 id="Anchor_83955543_h2_9">#endif</h2>
<p>This directive indicates the end of a code segment beginning with <code>#if</code>, <code>#ifdef</code>, <code>#ifndef</code>, or <code>#elif</code>. The basic syntax is as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#if evaluation_expression
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;(code enabled when true)
&nbsp;
#endif </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>For details, see the descriptions of <code>#if</code>, <code>#ifdef</code>, <code>#ifndef</code>, and <code>#elif</code>.</p>
<h2 id="Anchor_83955543_h2_10">#elif</h2>
<p>
  <code>#elif</code> evaluates the condition for the false returned from <code>#if</code>, <code>#ifdef</code>, or <code>#ifndef</code>. The basic syntax is as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#if evaluation_expression_1
&nbsp;
#elif evaluation_expression_2
&nbsp;
#endif </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>See the following section, as an example may be easier to understand than a verbal description.</p>
<h3 id="Anchor_83955543_h3_7">Examples of Using #elif</h3>
<p class="Code"> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define VERSION 2
&nbsp;
#if VERSION == 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
#else
&nbsp;&nbsp;&nbsp;&nbsp;#if VERSION == 2
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;#else
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
&nbsp;&nbsp;&nbsp;&nbsp;#endif
#endif
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>These statements can be written more succinctly using <code>#elif</code>, as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>#define VERSION 2
&nbsp;
#if VERSION == 1
&nbsp;&nbsp;&nbsp;&nbsp;cn4 127, 24
#elif VERSION == 2
&nbsp;&nbsp;&nbsp;&nbsp;dn4 127, 24
#else
&nbsp;&nbsp;&nbsp;&nbsp;en4 127, 24
#endif
&nbsp;&nbsp;&nbsp;&nbsp;fin </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p />
<p> </p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
