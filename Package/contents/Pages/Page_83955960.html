<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Player Heap | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Player Heap -->
<div class="pagetitle" id="PageId_83955960">Player Heap</div>
<div class="text_separate">
<h1 id="Anchor_83955960_h1_1">Player Heap</h1>
<p>This section provides an overview of the player heap, and describes how to use it.</p>
<h2 id="Anchor_83955960_h2_1">About the Player Heap</h2>
<p>In the NintendoWare audio development environment, the Atk library manages memory using conventional sound heaps.<br />To create a sound heap, you must first collect the required sound data for a scene into a unit called a <em>group</em>.<br />For example, assume that dozens of tracks of BGM sequence data can be played in a scene. In this case, you must include all sequence data in a group that in turn requires a large amount of memory.<br />You can minimize the amount of memory consumed in cases like this by using a player heap.</p>
<p>In contrast to manually loading sound data when you use a sound heap, with a player heap you can automatically load sounds when playback is set to start and then automatically release them at the point playback ends.<br />You can use a released heap to load the sound data to play next.</p>
<p>The following example shows the difference between using a sound heap and using a player heap.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955960/124258917.gif" class="embedded-image" />
  </span> </p>
<p>You can play all sequences as long as the size of the player heap is large enough to load the sequence data that has the largest data size out of all the BGM sequence data that can be played for the scene.</p>
<h2 id="Anchor_83955960_h2_2">Using Player Heaps</h2>
<p>Player heap settings are made for a Player.<br />Specify the size of the player heap by using the player heap item on the Player List.</p>
<p>If you try to play a sequence sound by using a Player for which a player heap has been set, the sequence data is automatically loaded into the player heap.<br />Including sequence data in a group eliminates the need to load data into the sound heap ahead of time.</p>
<p>If sequence data is already loaded into the sound heap even though a player heap has been configured, the data in the sound heap is used and data is not loaded into the player heap.</p>
<h2 id="Anchor_83955960_h2_3">Notes About the Player Heap</h2>
<h3 id="Anchor_83955960_h3_1">Types of Data That Can Be Loaded</h3>
<p>In addition to sequence data, all sound data can be loaded into the player heap.</p>
<h3 id="Anchor_83955960_h3_2">Consumed Memory Size</h3>
<p>The number of memory regions that are allocated for the player heap is provided by the sound limit.<br />For example, if the sound limit is three, memory equal to three times the size specified for the player heap is consumed.<br />The memory regions used for the player heap are allocated as static regions at the time of initialization.</p>
<h3 id="Anchor_83955960_h3_3">Playback Start Delay</h3>
<p>Data is loaded when playback starts when you use a player heap.<br />A delay occurs in the start of sound playback because playback of the sound does not actually start until after data has been loaded.</p>
<p>If you want sounds to start immediately at the start of playback, you can prepare for playback by implementing a <code>Prepare</code> process in the program so data is loaded in the player heap ahead of time.</p>
<p> </p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
