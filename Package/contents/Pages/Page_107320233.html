<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>AuthoringTool | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- AuthoringTool -->
<div class="pagetitle" id="PageId_107320233">AuthoringTool</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_107320233_h1_1">Overview</a>
    </li>
    <li>
      <a href="#Anchor_107320233_h1_2">Location</a>
    </li>
    <li>
      <a href="#Anchor_107320233_h1_3">How to Use</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_107320233_h2_1">Showing Help</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_2">Common Options</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_3">Creating an NCA File</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_4">Creating an NSP File </a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_5">Creating a Patch NSP File</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_6">Creating NSP Files for Secure Startup</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_7">Displaying NCA and NSP File Content</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_8">Extracting NCA and NSP Files</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_9">Revising the NCA and NSP File Entry</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_10">Revise Application Control Data for NSP Files</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_11">Displaying the Information in the NSP File</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_12">Checking whether the NSP file can be submitted.</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_13">Checking Data Integrity in NSP Files</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_14">Creating the NSPD File</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_15">Creating Metadata to Place in NSPD</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_16">Verifying NMETA Files</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_17">Comparing NSP Files</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_18">Displaying the Patch NSP File Difference Information</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_19">Displaying Information About Data Making Up a Large Proportion of Patches</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_20">Merging NSP Files Into One</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_21">Splitting NSP Files</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_22">Creating NSP Files for On-Card Add-On Content</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_23">Creating an NSP File for the Production of a Multi-Application Card</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_24">Creating the Multi-Program Application NSP File</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_25">Extract the NSAVE file.</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_26">Compress the Save Data</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_27">Converting a Main Program NSP File to a Subprogram</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_107320233_h1_4">Notes</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_107320233_h2_28">Writing a Filter Description File</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_29">Specifying Icons Included in the NSP File</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_30">Specifying NRO Files Contained in NSP Program Information</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_31">Behavior When There Are Invalid Command-Line Arguments</a>
      </li>
      <li>
        <a href="#Anchor_107320233_h2_32">Supporting Long Paths in Resource Data</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_107320233_h1_1">Overview</h1>
<p>AuthoringTool is a command-line tool to create files that can be installed and run on NX development hardware based on the built program and resource data.</p>
<h1 id="Anchor_107320233_h1_2">Location</h1>
<p>This tool is packaged with NintendoSDK AuthoringToolKit and is available at the following location.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>Tools/CommandLineTools/AuthoringTool/AuthoringTool.exe</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>This tool depends on the following DLLs in these directories. When running the tool, locate the following DLL files in the same location as the EXE file.</p>
<ul>
  <li>ApplicationControlPropertyModel.dll</li>
  <li>AuthoringTool.Resources.dll</li>
  <li>en\AuthoringTool.Resources.resources.dll</li>
  <li>ContentArchiveLibrary.dll</li>
  <li>CryptoLibrary.dll</li>
  <li>ETicketLibrary.dll</li>
  <li>FileSystemMetaLibrary.dll</li>
  <li>Lz4Library.dll</li>
  <li>UnpublishableErrorLibrary.dll (included with UnpublishableErrorKit)</li>
  <li>YamlDotNet.dll</li>
  <li>YamlDotNet.Dynamic.dll</li>
</ul>
<h1 id="Anchor_107320233_h1_3">How to Use</h1>
<p>This page describes how to use the features of the AuthoringTool.</p>
<div class="warn_new">
  <div class="warn_new_left">Warning</div>
  <div class="warn_new_right">
    <p>The features for displaying the contents of, extracting, and revising entries in NCA and NSP files cannot be used with the NCA and NSP files included in the SDK package.</p>
  </div>
</div>
<div class="warn_new">
  <div class="warn_new_left">Warning</div>
  <div class="warn_new_right">
    <p>An error occurs if the resource data root directory contains a file or directory name that starts with an exclamation point (!). This bug may be fixed in a future update.</p>
  </div>
</div>
<h2 id="Anchor_107320233_h2_1">Showing Help</h2>
<p>Use the <code>help</code> subcommand.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$./Tools/CommandLineTools/AuthoringTool/AuthoringTool.exe <span class="nb">help</span>
AuthoringTool.exe: Authoring Tool <span class="k">for</span> Nintendo SDK
Usage: AuthoringTool.exe &lt;subcommand&gt; <span class="o">[</span>options<span class="o">]</span> <span class="o">[</span>args<span class="o">]</span>

Available subcommands:
&nbsp;&nbsp;createfs                     Create new file system archive.
&nbsp;&nbsp;createnca                    Create new Nintendo Content Archive.
&nbsp;&nbsp;creatensp                    Create new Nintendo Submission Package.
&nbsp;&nbsp;createnspmeta                Create only meta files <span class="k">for</span> Nintendo Submission Package.
&nbsp;&nbsp;createnspd                   Create new Nintendo Submission Package Directory.
&nbsp;&nbsp;makepatch                    Create patch file from <span class="m">2</span> Nintendo Submission Packages.
&nbsp;&nbsp;makesecure                   Make a secure NSP file from a normal NSP file.
&nbsp;&nbsp;bundleup                     Create multi-application card indicator nsp file.
&nbsp;&nbsp;mergeapplication             Merge indexed application NSP files into a multi-program application NSP file.
&nbsp;&nbsp;convertaoc                   Convert a downloadable content NSP file to the one that is available on the game card.
&nbsp;&nbsp;extract                      Extract files from a Nintendo Submission Package or Nintendo Content Archive.
&nbsp;&nbsp;extractnsave                 Extract files from archive in NSAVE format.
&nbsp;&nbsp;compressnsave                Compress save data in NSAVE format.
&nbsp;&nbsp;replace                      Replace a file in a Nintendo Submission Package or Nintendo Content Archive.
&nbsp;&nbsp;replacenspmeta               Replace a file in a Nintendo Submission Package from an NMETA file.
&nbsp;&nbsp;list                         List information about the files included in an archive file.
&nbsp;&nbsp;comparensp                   Compare NSP files.
&nbsp;&nbsp;diffpatch                    Show different files between patches.
&nbsp;&nbsp;getproperty                  Show property of Nintendo Submission Package.
&nbsp;&nbsp;get-unpublishable-error      Show unpublishable error of Nintendo Submission Package.
&nbsp;&nbsp;validatemeta                 Validate meta file.
&nbsp;&nbsp;showversion                  Output tool version to standard output.
&nbsp;&nbsp;mergensp                     Merge multiple downloadable content nsp files, or a compacted application nsp file and a patch nsp file, into one nsp file.
&nbsp;&nbsp;splitnsp                     Split one nsp file into multiple downloadable content nsp files, or a compacted application nsp file and a patch nsp file.
&nbsp;&nbsp;analyze-patch                Analyze patch Nintendo Submission Package.
&nbsp;&nbsp;convert-to-subprogram       Convert the main program to a subprogram.
&nbsp;&nbsp;<span class="nb">help</span>                         Describe the usage of this program or its subcommands.
Options:
&nbsp;&nbsp;-v, --verbose                Show detail log.
&nbsp;&nbsp;--utf8                       Show message with UTF-8.

Type <span class="s1">'AuthoringTool.exe help &lt;subcommand&gt;'</span> <span class="k">for</span> <span class="nb">help</span> on a specific subcommand.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_2">Common Options</h2>
<p>All subcommands can use the following options.</p>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>-v, --verbose</th>
      <td>Displays a log during processing.</td>
    </tr>
    <tr>
      <td class="highlight-grey">
        <strong>--utf8</strong>
      </td>
      <td>Display messages (such as log messages) in UTF-8.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_3">Creating an NCA File</h2>
<p>Use the <code>createnca</code> subcommand.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> createnca
createnca: Create new nintendo content archive from .adf or specified directory and .nmeta and .desc file.
Usage: AuthoringTool.exe createnca <span class="o">[</span>-o &lt;outputPath&gt;<span class="o">]</span> <span class="o">[</span>--save-adf<span class="o">]</span> <span class="o">[</span>--only-adf<span class="o">]</span> <span class="o">[</span>--filter &lt;fdfPath&gt;<span class="o">]</span> --meta &lt;metaFilePath&gt; --desc &lt;descFilePath&gt; --program &lt;codePath&gt; <span class="o">[</span>&lt;dataPath&gt;<span class="o">]</span> <span class="o">[</span>--compression <span class="o">[</span>--compression-type &lt;type&gt;<span class="o">]</span> <span class="o">[</span>--compression-level &lt;value&gt;<span class="o">]</span> <span class="o">[</span>--compression-file-config &lt;config&gt;<span class="o">]]</span> 
Usage: AuthoringTool.exe createnca <span class="o">[</span>-o &lt;outputPath&gt;<span class="o">]</span> <span class="o">[</span>--save-adf<span class="o">]</span> <span class="o">[</span>--only-adf<span class="o">]</span> <span class="o">[</span>--filter &lt;fdfPath&gt;<span class="o">]</span> --meta &lt;metaFilePath&gt; --control &lt;controlPath&gt; <span class="o">[</span>--compression <span class="o">[</span>--compression-type &lt;type&gt;<span class="o">]</span> <span class="o">[</span>--compression-level &lt;value&gt;<span class="o">]</span> <span class="o">[</span>--compression-file-config &lt;config&gt;<span class="o">]]</span> </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_1">Argument List</h3>
<p>No position arguments.</p>
<h3 id="Anchor_107320233_h3_2">Options</h3>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>To create an NCA file from an ADF file created using the createnca command, run the following command: AuthoringTool.exe createnca [-o &lt;outputPath&gt;] &lt;inputAdfPath&gt;.<br />All options other than -o are ignored. Be careful when using the ADF file format, because this file format may be changed without notice.</p>
  </div>
</div>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 95.1728%;">
  <colgroup> <col style="width: 12.464%;" /> <col style="width: 87.536%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>The output path. When a directory is specified, an <code>output.nca</code> file is added to that directory.</p>
        <p>If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the <code>output.nca</code> file is created directly under the execution path.</p>
      </td>
    </tr>
    <tr>
      <th>--save-adf</th>
      <td>Do not delete the intermediate files (ADF files) when creating an NCA file.<br />This makes it possible to check the contents of the files included in the NCA file. Currently, there is no feature for using the intermediate files, but we plan to provide an entry layout editing feature in the future.</td>
    </tr>
    <tr>
      <th>--only-adf</th>
      <td>During NCA file creation, generate only the intermediate files (ADF files) and stop the process before the NCA file is finished. Use this approach to quickly check the contents of the intermediate files.</td>
    </tr>
    <tr>
      <th>--filter</th>
      <td>
        <p>Specifies a filter script for filtering out resource data files. For more information, see Writing a Filter Description File later in this document.<br />If this option is not specified, all of the directories and files in the directory specified for <code>dataPath</code> are stored in the NCA file.</p>
        <p>You can specify a filter description file within the NMETA file. For more information, see <a href="../Pages/Page_166503043.html">Writing the NMETA File</a>.</p>
      </td>
    </tr>
    <tr>
      <th>--meta</th>
      <td>Specifies the path to the NMETA file. This option is required.</td>
    </tr>
    <tr>
      <th>--desc</th>
      <td>
        <p>Specifies the <code>.desc</code> file path. This option is required when using the <code>--program</code> option.</p>
        <p>DESC files can be used when checking a submission, so reference them directly from the package instead of separately copying or renaming each package file.</p>
      </td>
    </tr>
    <tr>
      <th>--program</th>
      <td>Creates the NCA file as a program. Specify directories in <code>codePath</code> and <code>dataPath</code>.<p>Stores the code data and resource data in the specified directory. Leave out <code>dataPath</code> if you don&rsquo;t want to include any resource data.</p></td>
    </tr>
    <tr>
      <th>--compression</th>
      <td rowspan="4">
        <div class="content-wrapper">
          <p>Option related to the resource data compression feature. For more information, see <a href="../Pages/Page_1156823536.html">Resource Data (ROM) Compression</a>.</p>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>Available in AuthoringToolKit 13.2.0 and later.</p>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <th>--compression-type</th>
    </tr>
    <tr>
      <th>--compression-level</th>
    </tr>
    <tr>
      <th>--compression-file-config</th>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_3">Usage Examples</h3>
<ul>
  <li>Creating an NCA File From Code Data and Resource Data Generated by NX-VSI</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe createnca -o sample.nca --meta <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.aarch64.lp64.nmeta --desc <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.desc --program C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/code C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/data</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_4">
  <span style="color: rgb(117,117,117);">Creating an NSP File</span>
  <a name="Anchor_107320233_creatensp"></a> </h2>
<p>Use the <code>creatensp</code> subcommand.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> creatensp
creatensp: Create new Nintendo Submission Package from .adf or specified directory and .nmeta and .desc file.
Usage: AuthoringTool.exe creatensp <span class="o">[</span>-o &lt;outputPath&gt;<span class="o">]</span> &lt;inputAdfPath&gt;
Usage: AuthoringTool.exe creatensp <span class="o">[</span>-o &lt;outputPath&gt;<span class="o">]</span> <span class="o">[</span>--save-adf<span class="o">]</span> <span class="o">[</span>--only-adf<span class="o">]</span> <span class="o">[</span>--filter &lt;fdfPath&gt;<span class="o">]</span> --meta &lt;metaFilePath&gt; --type &lt;contentMetaType&gt; <span class="o">[</span>--desc &lt;descFilePath&gt; --program &lt;codePath&gt; <span class="o">[</span>&lt;dataPath&gt;<span class="o">]]</span>  <span class="o">[</span>--control &lt;controlPath&gt;<span class="o">]</span> <span class="o">[</span>--nro &lt;nroDirectoryPath&gt;<span class="o">]</span> <span class="o">[</span>--error-unpublishable <span class="o">[</span>--xml<span class="o">]]</span>  <span class="o">[</span>--no-check-dir-warning<span class="o">]</span> <span class="o">[</span>--compression <span class="o">[</span>--compression-type &lt;type&gt;<span class="o">]</span> <span class="o">[</span>--compression-level &lt;value&gt;<span class="o">]</span> <span class="o">[</span>--compression-file-config &lt;config&gt;<span class="o">]]</span> </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>Directories that do not contain files in the resource data (empty directories or directories that become empty due to filtering out) are not included in the NSP file.</p>
  </div>
</div>
<h3 id="Anchor_107320233_h3_4">Argument List</h3>
<p>No position arguments.</p>
<h3 id="Anchor_107320233_h3_5">Options</h3>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>To create an NSP file from an ADF file created using the creatensp command, run the following command: AuthoringTool.exe creatensp [-o &lt;outputPath&gt;] &lt;inputAdfPath&gt;.<br />All options other than -o are ignored. Be careful when using the ADF file format, because this file format may be changed without notice.</p>
  </div>
</div>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 97.7257%;">
  <colgroup> <col style="width: 11.9936%;" /> <col style="width: 88.0064%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>The output path. When a directory is specified, an <code>output.nsp</code> file is added to that directory.</p>
        <p>If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the <code>output.nsp</code> file is created directly under the execution path.</p>
      </td>
    </tr>
    <tr>
      <th>--save-adf</th>
      <td>Do not delete the intermediate files (ADF files) when creating an NSP file.<br />This makes it possible to check the contents of the files included in the NSP file. Currently, there is no feature for using the intermediate files, but we plan to provide an entry layout editing feature in the future.</td>
    </tr>
    <tr>
      <th>--only-adf</th>
      <td>During NSP file creation, generate only the intermediate files (ADF files) and stop the process before the NSP file is finished. Use this approach to quickly check the contents of the intermediate files.</td>
    </tr>
    <tr>
      <th>--filter</th>
      <td>
        <p>Specifies a filter script for filtering out resource data files. For more information, see Writing a Filter Description File later in this document.<br />If this option is not specified, all of the directories and files in the directory specified for <code>dataPath</code> are stored in the NCA file.</p>
        <p>You can specify a filter description file within the NMETA file. For more information, see <a href="../Pages/Page_166503043.html">Writing the NMETA File</a>.</p>
      </td>
    </tr>
    <tr>
      <th>--meta</th>
      <td>Specifies the path to the NMETA file. This option is required.</td>
    </tr>
    <tr>
      <th>--desc</th>
      <td>
        <p>Specifies the <code>.desc</code> file path. This option is required when using the <code>--program</code> option.</p>
        <p>DESC files can be used when checking a submission, so reference them directly from the package instead of separately copying or renaming each package file.</p>
      </td>
    </tr>
    <tr>
      <th>--type</th>
      <td>Specifies the application type. Currently you can specify <code>Application</code> or <code>SystemProgram</code>. Specify <code>Application</code> for standard applications.</td>
    </tr>
    <tr>
      <th>--program</th>
      <td>Specifies the program. If directories are specified in <code>codePath</code> and <code>dataPath</code>, an NCA file is created as a program and stored. Leave out <code>dataPath</code> if you don&rsquo;t want to include any resource data in the program.<br />If a file is specified in <code><em>codePath</em></code>, that file is interpreted as a program NCA file and stored as is, and the content specified in <code><em>dataPath</em></code> is ignored.<br />At this time, the specified NCA file must be the same file that was created specifying the same files that were provided to <code>--meta</code> and <code>--desc</code>.</td>
    </tr>
    <tr>
      <th>--nro</th>
      <td>
        <p>Specifies the directory that contains the NRO files.</p>
        <p>For more information, see <a href="#Anchor_107320233_nro">here</a>.</p>
      </td>
    </tr>
    <tr>
      <th>--error-unpublishable</th>
      <td>
        <div class="content-wrapper">
          <p>An error occurs if NSP files do not satisfy the conditions for submission to Nintendo.</p>
          <p>For more information about the conditions for submission, see the ROM Check Errors in the Uploading Master ROMs section of the Master ROM Submission Guidelines.</p>
          <p>For more information, see <a href="#Anchor_107320233_get-unpublishable-error">here</a>.</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>--no-check-dir-warning</th>
      <td>
        <div class="content-wrapper">
          <p>Suppresses the warning message that is displayed when there are directories that do not contain files in the resource data (empty directories or directories that become empty due to filtering out).</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>--xml</th>
      <td>The <code>--error-unpublishable</code> results are exported in an XML format.</td>
    </tr>
    <tr>
      <th>--compression</th>
      <td rowspan="4">
        <div class="content-wrapper">
          <p>Option related to the resource data compression feature. For more information, see <a href="../Pages/Page_1156823536.html">Resource Data (ROM) Compression</a>.</p>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>Available in AuthoringToolKit 13.2.0 and later.</p>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <th>--compression-type</th>
    </tr>
    <tr>
      <th>--compression-level</th>
    </tr>
    <tr>
      <th>--compression-file-config</th>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_6">Usage Examples</h3>
<ul>
  <li>Creating an NSP File From Code Data and NX-VSI Resource Data</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe creatensp -o sample.nsp --meta <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.aarch64.lp64.nmeta --type Application --desc <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.desc --program C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/code C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/data --nro C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/data/nro</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_5">Creating a Patch NSP File</h2>
<ul>
  <li>For more information, see the section about the <code>makepatch</code> command in <a href="../Pages/Page_185135488.html">Building and Running a Patch</a>.</li>
</ul>
<h2 id="Anchor_107320233_h2_6">Creating NSP Files for Secure Startup<a name="Anchor_107320233_makesecure"></a></h2>
<p>Creates an NSP file for secure startup based on the NSP file created via the <code>creatensp</code> command.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> makesecure
makesecure: Make a secure NSP file from a normal NSP file.
Usage: AuthoringTool.exe makesecure &lt;inputNspPath&gt; --passphrase &lt;passphrase&gt; --desc &lt;descFilePath&gt; <span class="o">[</span>--old-passphrase &lt;passphrase&gt;<span class="o">]</span> <span class="o">[</span>-o &lt;outputDirPath&gt;<span class="o">]</span> <span class="o">[</span>--original-secure &lt;originalNspPath&gt;<span class="o">]</span> <span class="o">[</span>--dummy &lt;dummyTitle&gt;<span class="o">]</span>

Options:
&nbsp;&nbsp;-o &lt;outputDirectory&gt;                 Output directory path. If omitted, use the current directory.
&nbsp;&nbsp;--passphrase &lt;passphrase&gt;            Passphrase required when starting the application. Cannot be omitted.
&nbsp;&nbsp;--desc &lt;descFilePath&gt;                .desc file path or directory path that contains .desc files. This option cannot be omitted <span class="k">if</span> the target NSP <span class="nb">type</span> is application or patch.
&nbsp;&nbsp;--old-passphrase &lt;passphrase&gt;        Passphrase before the change.
&nbsp;&nbsp;--original-secure &lt;originalNspPath&gt;  Original secure nsp file path to input. This cannot be omitted <span class="k">if</span> the target nsp <span class="nb">type</span> is patch.
&nbsp;&nbsp;--dummy &lt;dummyTitle&gt;                 Dummy application info is applied to title name, publisher name and icon. Only title name can be specified and it will be <span class="s2">&quot;Dummy Application&quot;</span> <span class="k">if</span> &lt;dummyTitle&gt; is omitted.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <ul>
      <li>AuthoringToolKit 9.6.x and earlier, or AuthoringToolKit 10.4.0 and earlier<ul><li>You must use the same major version of AuthoringTool as the SDK used to build the original input NSP file.</li></ul></li>
      <li>AuthoringToolKit 9.7.0 and later, or AuthoringToolKit 10.6.0 and later<ul><li>You can now create NSP files for secure startup of multi-program applications. <br /></li><li>You can now create NSP files for secure startup of patches and downloadable content.</li></ul></li>
      <li>AuthoringToolKit 10.9.5 and later, AuthoringToolKit 11.4.4 and later, and AuthoringToolKit 12.3.0 and later<ul><li>You can now create NSP files for secure startup of unmerged patches and compacted applications.</li><li>Does not support NSP files that merge a patch and a compacted application.</li></ul></li>
      <li>AuthoringToolKit 13.2.0 and later:<br /><ul><li><span style="color: rgb(23,43,77);">The ROM identification hash does not change between the original NSP file and the secure startup NSP file. This change means that you can combine the secure startup NSP files for patches and compacted applications.</span></li></ul></li>
      <li>AuthoringToolKit 13.3.2 and later, or AuthoringToolKit 14.1.0 and later<ul><li>You can now create merged NSP files for secure startup of patches and compacted applications.</li></ul></li>
    </ul>
  </div>
</div>
<h3 id="Anchor_107320233_h3_7">Argument List</h3>
<table class="relative-table wrapped" style="width: 96.2881%;">
  <colgroup> <col style="width: 15.6847%;" /> <col style="width: 84.2762%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath&gt;</th>
      <td>
        <p>Specifies the path of the NSP file that is the source for the NSP file for secure startup.</p>
        <p>You can specify the NSP file for an application (including a multi-program application), a patch, or downloadable content.</p>
        <p>The target NSP file must have been created by a major SDK version prior to running AuthoringTool.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_8">Options</h3>
<table class="relative-table wrapped" style="width: 96.0405%;">
  <colgroup> <col style="width: 12.0378%;" /> <col style="width: 87.8605%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>The output path. If the directory is specified, the file is saved with the filename <code><em>***</em>_secure.nsp</code> under that directory (<code><em>***</em></code> is the NSP filename at the input source).</p>
        <p>If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the file is saved with the filename <code><em>***</em>_secure.nsp</code> directly under the execution path.</p>
      </td>
    </tr>
    <tr>
      <th>--passphrase</th>
      <td>
        <p>Specifies the passphrase required when starting the application. This option is required.</p>
        <p>The passphrase must be at least 8 and no more than 128 characters, and the usable characters are ASCII <span class="error">[0x20-0x7e]</span>.</p>
        <p>If a patch NSP file is specified with <code>&lt;inputNspPath&gt;</code>, specifies the passphrase that was set for the NSP file for secure startup of the initial application specified by the <code>--original-secure</code> option, described below. </p>
      </td>
    </tr>
    <tr>
      <th>--desc</th>
      <td>
        <p>Specifies the path of the DESC file or the directory containing the DESC file.<br />For multi-program applications, specify the directory containing all DESC files used at creation.</p>
        <p>DESC files can be used when checking a submission, so reference them directly from the package instead of separately copying or renaming each package file.</p>
        <p>This option is required if an application NSP or a patch NSP has been specified for <code>&lt;inputNspPath&gt;</code>.</p>
      </td>
    </tr>
    <tr>
      <th>--old-passphrase</th>
      <td>When changing the passphrase, specify the passphrase before the change.</td>
    </tr>
    <tr>
      <th>--original-secure</th>
      <td>
        <div class="content-wrapper">
          <p>The initial application. The specified NSP must be an NSP for secure startup.</p>
          <p>This option is required if a patch NSP has been specified for <code><span style="color: rgb(23,43,77);">&lt;inputNspPath&gt;</span></code>.</p>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>Available in AuthoringToolKit 9.7.0 and later, or AuthoringToolKit 10.6.0 and later.</p>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <th>--dummy</th>
      <td>
        <div class="content-wrapper">
          <p>Hides the application's title name, publisher name, and icon.</p>
          <p>Set alphanumeric characters for the argument to change the title to any name. (Maximum of 127 characters for the title name.)</p>
          <p>If nothing is specified for the argument, the title name is shown as <strong>Dummy Application</strong>.</p>
          <p>The publisher name is shown as <strong>Unknown</strong> regardless of the argument.</p>
          <p>This icon is changed to what is shown for the title name. (Maximum of 21 characters.)</p>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>Available in AuthoringToolKit 9.7.0 and later, or AuthoringToolKit 10.6.0 and later.</p>
            </div>
          </div>
          <div class="note_new">
            <div class="note_new_left">Note</div>
            <div class="note_new_right">
              <p>When specifying a patch, downloadable content, or multi-program application with <span style="color: rgb(23,43,77);"><code>&lt;inputNspPath&gt;</code></span>, using the <code>&ndash;dummy</code> option results in termination with an error. <br />For multi-program applications, the <code>dummy</code> option is planned for availability in a future update.</p>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_9">Usage Examples</h3>
<h4 id="Anchor_107320233_h4_1">Creating an NSP File for Secure Startup From a Regular NSP File</h4>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe makesecure application.nsp --desc <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.desc --passphrase <span class="s2">&quot;securensp&quot;</span> </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_107320233_h4_2">Changing the Passphrase for NSP Files for Secure Startup</h4>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe makesecure application_secure.nsp --desc <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.desc --passphrase <span class="s2">&quot;new securensp&quot;</span> --old-passphrase <span class="s2">&quot;securensp&quot;</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_107320233_h4_3">Creating a Patch NSP File for Secure Startup From a Regular Patch NSP File</h4>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe makesecure patch.nsp --desc <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.desc --passphrase <span class="s2">&quot;securensp&quot;</span> --original-secure original_secure_application.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_7">Displaying NCA and NSP File Content</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> list
list: List information about the files included in an archive file.
Usage: AuthoringTool.exe list &lt;inputPath&gt;
Options:
&nbsp;&nbsp;--targetregex &lt;targetEntryPath&gt;      Regular expression to filter the result.
&nbsp;&nbsp;--original &lt;originalPath&gt;            Original application nsp path. This is required <span class="k">if</span> &lt;inputPath&gt; is a patch.
&nbsp;&nbsp;--patched-only                       List information <span class="k">for</span> patched file only. This is must be used with --original option.
&nbsp;&nbsp;--patched-only-in-detail             List information <span class="k">for</span> patched file only and list fragment information additionally. This is must be used with --original option.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_10">Argument List</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 15.6847%;" /> <col style="width: 84.2762%;" /> </colgroup>
  <tbody>
    <tr>
      <th>
        <span style="color: rgb(23,43,77);">&lt;inputPath&gt;</span>
      </th>
      <td>Specifies the path to the NSP or NCA file that is the input target.<br /><span style="color: rgb(23,43,77);">You cannot specify the NSP file for a compacted application. Specify the patch that is created at compaction time here, and use the <code>--original</code> option to specify the NSP file for the compacted application itself.</span></td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_11">Options</h3>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 97.2701%;">
  <colgroup> <col style="width: 13.0519%;" /> <col style="width: 86.88%;" /> </colgroup>
  <tbody>
    <tr>
      <th>--targetregex</th>
      <td>Specify this option to display only specific entry paths filtered using regular expressions. Use .NET Framework syntax for the regular expressions.</td>
    </tr>
    <tr>
      <th>--original</th>
      <td>Specifies the path to the NSP file of the original application that is being patched. This option is required for displaying the content of the patch NSP file.</td>
    </tr>
    <tr>
      <th>--patched-only</th>
      <td>Use this option to display only those files that contain (some) patched data. Files not in the patch NSP file are unaffected.</td>
    </tr>
    <tr>
      <th>--patched-only-in-detail</th>
      <td>
        <p>Use this option to display only those files that contain (some) patched data, together with the fragmentation information. Files deleted from the original NSP file are displayed separately.</p>
        <p>Files not in the patch NSP file are unaffected. A description of how to view the fragmentation information is presented later in this document. </p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_12">Usage Examples</h3>
<h4 id="Anchor_107320233_h4_4">Displaying the Content of an NSP File</h4>
<p>The NCA list appears at first for NSP files. <br />A dashed line follows this list, and below that line the entries directly under NSP and the internal NCA entities are shown.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe list sample.nsp
0dd78551118bb813a9d83f94970e9c9c.nca            <span class="o">(</span><span class="m">4881408</span> byte<span class="o">)</span>
496ec8b0c1a19f67fc0837504341c3ad.nca            <span class="o">(</span><span class="m">143872</span> byte<span class="o">)</span>
d89574cfcce592879af0e41c785736dd.cnmt.nca       <span class="o">(</span><span class="m">4096</span> byte<span class="o">)</span>
d89574cfcce592879af0e41c785736dd.cnmt.xml       <span class="o">(</span><span class="m">1021</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.programinfo.xml        <span class="o">(</span><span class="m">12001</span> byte<span class="o">)</span>
496ec8b0c1a19f67fc0837504341c3ad.raw.AmericanEnglish.jpg        <span class="o">(</span><span class="m">172759</span> byte<span class="o">)</span>
496ec8b0c1a19f67fc0837504341c3ad.nx.AmericanEnglish.jpg <span class="o">(</span><span class="m">41328</span> byte<span class="o">)</span>
496ec8b0c1a19f67fc0837504341c3ad.nacp.xml       <span class="o">(</span><span class="m">1476</span> byte<span class="o">)</span>
cardspec.xml                                    <span class="o">(</span><span class="m">193</span> byte<span class="o">)</span>
---------------------------------------------
0dd78551118bb813a9d83f94970e9c9c.nca/fs0/main   <span class="o">(</span><span class="m">110833</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.nca/fs0/main.npdm      <span class="o">(</span><span class="m">1476</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.nca/fs0/rtld           <span class="o">(</span><span class="m">13304</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.nca/fs0/sdk            <span class="o">(</span><span class="m">3507613</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.nca/fs0/subsdk0        <span class="o">(</span><span class="m">913534</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.nca/fs0/subsdk1        <span class="o">(</span><span class="m">91876</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.nca/fs1/SampleShader.bnsh      <span class="o">(</span><span class="m">21232</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.nca/fs1/SampleTexture.bntx     <span class="o">(</span><span class="m">53360</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.nca/fs2/NintendoLogo.png       <span class="o">(</span><span class="m">20489</span> byte<span class="o">)</span>
0dd78551118bb813a9d83f94970e9c9c.nca/fs2/StartupMovie.gif       <span class="o">(</span><span class="m">51019</span> byte<span class="o">)</span>
496ec8b0c1a19f67fc0837504341c3ad.nca/fs0/control.nacp   <span class="o">(</span><span class="m">16384</span> byte<span class="o">)</span>
496ec8b0c1a19f67fc0837504341c3ad.nca/fs0/icon_AmericanEnglish.dat       <span class="o">(</span><span class="m">41328</span> byte<span class="o">)</span>
d89574cfcce592879af0e41c785736dd.cnmt.nca/fs0/Application_01004b9000490000.cnmt         <span class="o">(</span><span class="m">192</span> byte<span class="o">)</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h4 style="list-style-type: none; background-image: none;" id="Anchor_107320233_h4_5">Show only those files in the NSP file with the <code>.xml</code> filename extension.</h4>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe list sample.nsp --targetregex <span class="s2">&quot;.*\.xml</span>$<span class="s2">&quot;</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_107320233_h4_6">Show the files patched by the patch NSP file.</h4>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe list --original sample.nsp sample_patch.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_107320233_h4_7">Show only the files included in the patch NSP file, together with fragmentation information.</h4>
<ul>
  <li>The fragmentation information is displayed below each file.</li>
  <li>
    <code>(offset, size) =</code> represents the range of the contiguous region in the file. <code>offset</code> is the offset in the file, and <code>size</code> is the length of the range. Both are in units of bytes.</li>
  <li>
    <code>[Original]</code> is the range in the original application, and it is followed by <code>[Patch]</code>, which is the range in the patch application.<br /><ul><li>In the preceding example, the file <code>SampleTextureAdded.bntx</code> is shown as a size of 39,584 bytes from an offset of 0 in the original application, and as a size of 13,776 bytes from an offset of <code>39584</code> in the patch.</li></ul></li>
  <li>When there are files deleted from the original application, after &quot;Listing removed files from original...&quot; is displayed, the filenames and sizes are displayed.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe list --patched-only-in-detail --original sample.nsp sample_patch.nsp
6d2058978656b6dd4f25d28e376ea531.nca            (4857344 byte)
0c3a5ecdfae2c511a8f35798174c77c5.nca            (143872 byte)
f8f041a8db10eca862ed98e688b70b5f.cnmt.nca       (4096 byte)
f8f041a8db10eca862ed98e688b70b5f.cnmt.xml       (1890 byte)
6d2058978656b6dd4f25d28e376ea531.programinfo.xml        (12062 byte)
0c3a5ecdfae2c511a8f35798174c77c5.raw.AmericanEnglish.jpg        (172759 byte)
0c3a5ecdfae2c511a8f35798174c77c5.nx.AmericanEnglish.jpg (41328 byte)
0c3a5ecdfae2c511a8f35798174c77c5.nacp.xml       (1476 byte)
01004b90004908000000000000000000.tik            (704 byte)
01004b90004908000000000000000000.cert           (1792 byte)
cardspec.xml                                    (193 byte)
---------------------------------------------
6d2058978656b6dd4f25d28e376ea531.nca/fs0/main   (110833 byte)
6d2058978656b6dd4f25d28e376ea531.nca/fs0/main.npdm      (1476 byte)
6d2058978656b6dd4f25d28e376ea531.nca/fs0/rtld           (13304 byte)
6d2058978656b6dd4f25d28e376ea531.nca/fs0/sdk            (3507613 byte)
6d2058978656b6dd4f25d28e376ea531.nca/fs0/subsdk0        (913534 byte)
6d2058978656b6dd4f25d28e376ea531.nca/fs0/subsdk1        (91876 byte)
6d2058978656b6dd4f25d28e376ea531.nca/fs1/SampleTexture.bntx     (53360 byte)
[Original]
(offset, size) = (0, 43792)
[Patch]
(offset, size) = (43792, 9568)
6d2058978656b6dd4f25d28e376ea531.nca/fs1/SampleTextureAdded.bntx        (53360 byte)
[Original]
(offset, size) = (0, 39584)
[Patch]
(offset, size) = (39584, 13776)
Listing removed files from original...
fs1/SampleShader.bnsh      (21232 byte)
Done.
0c3a5ecdfae2c511a8f35798174c77c5.nca/fs0/control.nacp   (16384 byte)
0c3a5ecdfae2c511a8f35798174c77c5.nca/fs0/icon_AmericanEnglish.dat       (41328 byte)
f8f041a8db10eca862ed98e688b70b5f.cnmt.nca/fs0/Patch_01004b9000490800.cnmt       (356 byte)</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>When the <code>--patched-only</code> or <code>--patched-only-in-detail</code> option has been specified, files are checked at the data unit level to determine whether data is included in the patch, and even if a file contains only some patched data, that filename appears. Because of how patch <a href="../Pages/Page_185135554.html">binary matching</a> is designed, the followings kinds of counterintuitive behavior might be observed.</p>
    <ul>
      <li>Files that do not contain data changed from the original application are displayed (because data in the unchanged file is included in the patch due to block matching).</li>
      <li>Data for files newly added to the revised application is not displayed (because the newly added file data exactly matches the data in a different file in the original application).</li>
    </ul>
    <p>In AuthoringTool, you can use the <code>diffpatch</code> command to check accurate diff information between the application and the patch on a per-file basis.</p>
  </div>
</div>
<h2 id="Anchor_107320233_h2_8">Extracting NCA and NSP Files</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> extract
extract: Extract files from a Nintendo Submission Package file or Nintendo Content Archive file.
Usage: AuthoringTool.exe extract <span class="o">[</span>-o &lt;outputDirectory&gt;<span class="o">]</span> <span class="o">[</span>--target &lt;targetPath&gt;<span class="o">]</span> &lt;inputPath&gt;
Options:
&nbsp;&nbsp;-o &lt;outputDirectory&gt;                 Output directory path. If the directory path is not specified, use the current directory.
&nbsp;&nbsp;--target &lt;targetEntryPath&gt;           Path of the target entry to be extracted. If omitted, extract all entries
&nbsp;&nbsp;--targetregex &lt;targetEntryPath&gt;      Regular expression <span class="k">for</span> target entries to be extracted. If omitted, extract all entries
&nbsp;&nbsp;--original &lt;originalNspNcaPath&gt;      Original application nsp path. This is required <span class="k">if</span> &lt;inputPath&gt; is a patch.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_13">Argument List</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 15.6847%;" /> <col style="width: 84.2762%;" /> </colgroup>
  <tbody>
    <tr>
      <th>
        <span style="color: rgb(23,43,77);">&lt;inputPath&gt;</span>
      </th>
      <td>Specifies the path to the NSP or NCA file that is the input target.<br /><span style="color: rgb(23,43,77);">You cannot specify the NSP file for a compacted application. Specify the patch that is created at compaction time here, and use the <code>--original</code> option to specify the NSP file for the compacted application itself.</span></td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_14">Options</h3>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 96.0405%;">
  <colgroup> <col style="width: 12.0378%;" /> <col style="width: 87.8605%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>The output path. If the directory specified in the path does not exist, it is created automatically.</td>
    </tr>
    <tr>
      <th>--target</th>
      <td>Specified when extracting only a specific entry. Entry notation is supported in a format displayed using the list command.<br />It cannot be used in combination with the <code>--targetregex</code> option.</td>
    </tr>
    <tr>
      <th>--targetregex</th>
      <td>Specify this argument when filtering and extracting only specify path entries using regular expressions. It cannot be used in combination with the <code>&ndash;target</code> option.<br />Use .NET Framework syntax for the regular expressions.</td>
    </tr>
    <tr>
      <th>--original</th>
      <td>Specifies the path to the NSP file of the original application that is being patched. This setting is required for expanding the files that are patched by the patch NSP file.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_15">Usage Examples</h3>
<ul>
  <li>Extract the file <code>SampleShader.bnsh</code> from <code>sample.nsp</code> to the <code>extract_dir</code> directory.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe extract sample.nsp --target ad89c98613c1b86c3e356f055b84bfb0.nca/fs1/SampleShader.bnsh -o extract_dir</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>Extract all files with the .<code>xml</code> extension from <code>sample.nsp</code> to the <code>extract_dir</code> directory.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe extract sample.nsp --targetregex <span class="s2">&quot;.*\.xml</span>$<span class="s2">&quot;</span> -o extract_dir</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>Extracts all files in <code>sample.nsp</code> that were patched by the <code>sample_patch.nsp</code> patch to the <code>extract_dir</code> directory.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe extract --original sample.nsp  -o extract_dir sample_patch.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_9">Revising the NCA and NSP File Entry</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> replace
replace: Replace files from a Nintendo Submission Package or Nintendo Content Archive file.
Usage: AuthoringTool.exe replace <span class="o">[</span>-o &lt;outputDirectory&gt;<span class="o">]</span> <span class="o">[</span>--desc &lt;descFilePath&gt;<span class="o">]</span> &lt;inputNspOrNcaPath&gt; &lt;targetEntryPath&gt; &lt;inputEntryFilePath&gt; <span class="o">[</span>--nro &lt;nroDirectoryPath&gt;<span class="o">]</span> <span class="o">[</span>--error-unpublishable <span class="o">[</span>--xml<span class="o">]]</span>  <span class="o">[</span>--compression <span class="o">[</span>--compression-type &lt;type&gt;<span class="o">]</span> <span class="o">[</span>--compression-level &lt;value&gt;<span class="o">]</span> <span class="o">[</span>--compression-file-config &lt;config&gt;<span class="o">]]</span> 
Usage: AuthoringTool.exe replace <span class="o">[</span>-o &lt;outputDirectory&gt;<span class="o">]</span> <span class="o">[</span>--desc &lt;descFilePath&gt;<span class="o">]</span> &lt;inputNspOrNcaPath&gt; &lt;replaceRuleListFilePath&gt; <span class="o">[</span>--nro &lt;nroDirectoryPath&gt;<span class="o">]</span> <span class="o">[</span>--error-unpublishable <span class="o">[</span>--xml<span class="o">]]</span>  <span class="o">[</span>--compression <span class="o">[</span>--compression-type &lt;type&gt;<span class="o">]</span> <span class="o">[</span>--compression-level &lt;value&gt;<span class="o">]</span> <span class="o">[</span>--compression-file-config &lt;config&gt;<span class="o">]]</span> 

Options:
&nbsp;&nbsp;-o &lt;outputDirectory&gt;                 Output directory path. If the directory path is not specified, use the current directory.
&nbsp;&nbsp;--desc &lt;descFilePath&gt;                Location of .desc file to input. This cannot be omitted when replacing a program content.
&nbsp;&nbsp;--nro &lt;nroDirectoryPath&gt;             Location of directory which includes .nro files to be contained.
&nbsp;&nbsp;--error-unpublishable <span class="o">[</span>--xml<span class="o">]</span>        Throw an exception <span class="k">if</span> the Nintendo Submission Package does not meet the conditions <span class="k">for</span> publication.

Compression Options:
&nbsp;&nbsp;--compression                       Enable data compression.
&nbsp;&nbsp;--compression-type &lt;type&gt;           Specify compression type. Available as &lt;type&gt;: None, Lz4
&nbsp;&nbsp;--compression-level &lt;value&gt;         Specify compression level.
&nbsp;&nbsp;--compression-file-config &lt;config&gt;  Specify compression file config.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_16">Argument List</h3>
<table class="wrapped relative-table" style="width: 97.2701%;">
  <colgroup> <col style="width: 13.3923%;" /> <col style="width: 86.5396%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspOrNcaPath&gt;</th>
      <td>Specifies the path to the NSP or NCA file that is the input target.</td>
    </tr>
    <tr>
      <th>&lt;targetEntryPath&gt;</th>
      <td>
        <p>Specifies the entry path within the NSP or NCA file that is the revision target. Entry notation is supported in a format displayed using the list command.</p>
        <p>Multiple entries can be specified using the &quot;|&quot; character as a divider. We recommend surrounding the &quot;|&quot; character with quotation marks so that it is not misinterpreted as a pipe.</p>
      </td>
    </tr>
    <tr>
      <th>&lt;inputEntryFilePath&gt;</th>
      <td>
        <p>Specifies the path to the file that is the post-revision entry content. The replace command revises the archive by overwriting this file for the existing entry.</p>
        <p>While it is possible using the divider character &quot;|&quot; to specify multiple target paths in the same way as <code>&lt;targetEntryPath&gt;</code>, you must specify the same number of entries as was specified with <code>&lt;targetEntryPath&gt;</code>.</p>
        <p>The filename for input does not need to be the original entry name.</p>
      </td>
    </tr>
    <tr>
      <th>&lt;replaceRuleListFilePath&gt;</th>
      <td>
        <p>Specifies the path to the text file that describes <code>&lt;targetEntryPath&gt;</code> and <code>&lt;inputEntryFilePath&gt;</code> in the predetermined format.<br />Format: Use a line with &quot;&lt;targetEntryPath&gt; (tab divider) &lt;inputEntryFilePath&gt;&quot; to describe each entry (description over multiple lines is permitted).</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_17">Options</h3>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 97.5864%;">
  <colgroup> <col style="width: 12.3576%;" /> <col style="width: 87.6424%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>The output path. If the directory is specified, the <code><em>***</em>_replaced.nsp(nca)</code> file is created under that directory (<em>***</em> is the input source NCA or NSP filename).<br />If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the <code><em>***</em>_replaced.nsp(nca)</code> file is created directly under the execution path.</td>
    </tr>
    <tr>
      <th>--desc</th>
      <td>
        <p>Specifies the <code>.desc</code> file path. This option is required if you use the <code>createnca/creatensp --program</code> option to edit a created archive.</p>
        <p>DESC files can be used when checking a submission, so reference them directly from the package instead of separately copying or renaming each package file.</p>
      </td>
    </tr>
    <tr>
      <th>--nro</th>
      <td>
        <p>Specifies the directory that contains the NRO files. This option is ignored when the input target is an NCA file.</p>
        <p>For more information, see <a href="#Anchor_107320233_nro">here</a>.</p>
      </td>
    </tr>
    <tr>
      <th>--error-unpublishable</th>
      <td>
        <p>An error occurs if NSP files do not satisfy the conditions for submission to Nintendo.</p>
        <p>For more information about the conditions for submission, see the ROM Check Errors in the Uploading Master ROMs section of the Master ROM Submission Guidelines.</p>
        <p>For more information, see <a href="#Anchor_107320233_get-unpublishable-error">here</a>.</p>
      </td>
    </tr>
    <tr>
      <th>--xml</th>
      <td>The <code>--error-unpublishable</code> results are exported in an XML format.</td>
    </tr>
    <tr>
      <th>--compression</th>
      <td rowspan="4">
        <div class="content-wrapper">
          <p>Option related to the resource data compression feature. For more information, see <a href="../Pages/Page_1156823536.html">Resource Data (ROM) Compression</a>.</p>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>Available in AuthoringToolKit 13.2.0 and later.</p>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <th>--compression-type</th>
    </tr>
    <tr>
      <th>--compression-level</th>
    </tr>
    <tr>
      <th>--compression-file-config</th>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_18">Usage Examples</h3>
<ul>
  <li>Revising SampleShader.bnsh of sample.nsp</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe replace sample.nsp ad89c98613c1b86c3e356f055b84bfb0.nca/fs1/SampleShader.bnsh SampleShader_modified.bnsh -o extract_dir --nro C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/data/nro</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>Revising SampleShader.bnsh and SampleTexture.bntx in sample.nsp</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe replace sample.nsp <span class="s2">&quot;ad89c98613c1b86c3e356f055b84bfb0.nca/fs1/SampleShader.bnsh|ad89c98613c1b86c3e356f055b84bfb0.nca/fs1/SampleTexture.bntx&quot;</span> <span class="s2">&quot;SampleShader_modified.bnsh|SampleTexture_modified.bntx&quot;</span> -o extract_dir --nro C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/data/nro</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>Revising SampleShader.bnsh and SampleTexture.bntx in sample.nsp by Specifying a List File</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe replace sample.nsp replace_list.txt -o extract_dir --nro C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/data/nro</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li style="list-style-type: none; background-image: none;">
    <ul>
      <li>Content of replace_list.txt</li>
    </ul>
  </li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>ad89c98613c1b86c3e356f055b84bfb0.nca/fs1/SampleShader.bnsh    SampleShader_modified.bnsh
ad89c98613c1b86c3e356f055b84bfb0.nca/fs1/SampleTexture.bntx   SampleTexture_modified.bntx</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_10">Revise Application Control Data for NSP Files<a name="Anchor_107320233_replacenspmeta"></a></h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> replacenspmeta
replacenspmeta: Replace a file in a Nintendo Submission Package from an NMETA file.
Usage: AuthoringTool.exe replacenspmeta &lt;inputNspPath&gt; <span class="o">[</span>-o &lt;outputDirectory&gt;<span class="o">]</span> <span class="o">[</span>--desc &lt;descFilePath&gt;<span class="o">]</span> --meta &lt;metaFilePath&gt;

Options:
&nbsp;&nbsp;-o &lt;outputDirectory&gt;                 Output directory path. If omitted, use the current directory.
&nbsp;&nbsp;--desc &lt;descFilePath&gt;                Location of .desc file to input. This cannot be omitted when replacing a program content.
&nbsp;&nbsp;--meta &lt;metaFilePath&gt;                Location of .nmeta file to use as input.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>
      <span style="color: rgb(23,43,77);">You cannot modify the application control data in the NSP file for patches and multi-program applications.</span>
      <br />If you want to modify the application control data for a multi-program application, you must first modify the application control data for each program and then use the <code>mergeapplicaiton</code> command to create the multi-program application.</p>
  </div>
</div>
<h3 id="Anchor_107320233_h3_19">
  <span style="color: rgb(117,117,117);">Argument List</span>
</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 11.9391%;" /> <col style="width: 88.0999%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath&gt;</th>
      <td>The path to the NSP file that is the input target.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_20">Options</h3>
<table class="wrapped relative-table" style="margin-left: 20.0px; width: 96.2881%;">
  <colgroup> <col style="width: 7.02302%;" /> <col style="width: 92.938%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>The output path.<br />If the directory is specified, the <code><em>***</em>_replaced.nsp</code> file is created under that directory. (<em>***</em> is the input source NSP filename.)<br />If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the <code>***_replaced.nsp</code> file is created directly under the execution path.</td>
    </tr>
    <tr>
      <th>--desc</th>
      <td>
        <p>Specifies the <code>.desc</code> file path.<br />This option is required if you use the <code>creatensp --program</code> option to edit a created archive.</p>
        <p>DESC files can be used when checking a submission, so reference them directly from the package instead of separately copying or renaming each package file.</p>
      </td>
    </tr>
    <tr>
      <th>--meta</th>
      <td>
        <div class="content-wrapper">
          <p>Specifies the path to the NMETA file. This option is required.</p>
          <p>Uses the specified NMETA file to revise the application control data in the NSP file.</p>
          <div class="note_new">
            <div class="note_new_left">Note</div>
            <div class="note_new_right">
              <p>You can revise the <code>Application</code> element items described in <a href="../Pages/Page_166503043.html">Writing the NMETA File</a> &gt; Application Settings.</p>
              <p>Settings for items other than those in the <code>Application</code> element, such as those described in Core Settings and CardSpec Settings, cannot be revised<br /></p>
            </div>
          </div>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>In AuthoringToolKit 10.6.0 and later, you can revise the application control data even if the <code>Core</code> element is not included in the NMETA file.</p>
              <p>In addition, you can revise the application control data using the <code>*.nacp.xml</code> file extracted from the NSP file with the <code>extract</code> subcommand.</p>
              <p>If you use the <code>*.nacp.xml</code> file, delete the <code>RawIconHash</code> and <code>NxIconHash</code> elements from inside the <code>Icon</code> element, and use the <code>IconPath</code> element to specify an absolute path to the icon image.</p>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_21">Usage Examples</h3>
<ul>
  <li>
    <p>Revise application control data for <code>sample.nsp</code>.</p>
    <table class="codeblock">
      <tbody>
        <tr>
          <td class="code">
            <div class="codeblock"><pre>$ AuthoringTool.exe replacenspmeta sample.nsp -o extract_dir --meta <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.aarch64.lp64.nmeta</pre></div>
          </td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>
<h2 id="Anchor_107320233_h2_11">Displaying the Information in the NSP File</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> getproperty
getproperty: Output property of input Nintendo Submission Package file to standard output.
Usage: AuthoringTool.exe getproperty &lt;inputNspPath&gt;

Options:
&nbsp;&nbsp;--xml    Output property as xml format. If omitted, use the YAML format.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_22">
  <span style="color: rgb(117,117,117);">Argument List</span>
</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 11.9391%;" /> <col style="width: 88.0999%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath&gt;</th>
      <td>Specifies the path to the NSP or NCA file that is the input target.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_23">Options</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 6.16465%;" /> <col style="width: 93.7963%;" /> </colgroup>
  <tbody>
    <tr>
      <th>--xml</th>
      <td>Displays the information in XML format.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_24">Usage Examples</h3>
<ul>
  <li>Displaying the information in the application NSP file <br /></li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe getproperty sample.nsp
ContentMetaProperties:
&nbsp;&nbsp;Property:
&nbsp;&nbsp;&nbsp;&nbsp;ApplicationId: 0x01004b9000490000
&nbsp;&nbsp;&nbsp;&nbsp;Type: Application
&nbsp;&nbsp;&nbsp;&nbsp;ReleaseVersion: 0
&nbsp;&nbsp;&nbsp;&nbsp;Digest: 37d6428b9f347651df25d8a7fbc0eb8cea6f988a6422049576030d1cb124b1a8
&nbsp;&nbsp;&nbsp;&nbsp;SizeInfo:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DownLoad:                            9437184
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MinimumSaveData:                     7340032
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EachUserAccountSaveData:             7340032
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ApplicationAreaUsedOnCard:           5722112
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ApplicationAreaAvailableOnCard:    595591168</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>Basic Information contains the following elements. Elements other than <code>ApplicationId</code> and <code>Type</code> are displayed in AuthoringToolKit 10.0.0 and later.</p>
    <table class="wrapped">
      <colgroup> <col /> <col /> <col /> </colgroup>
      <tbody>
        <tr>
          <th>Item</th>
          <th>Description</th>
          <th>Notes</th>
        </tr>
        <tr>
          <th>ApplicationId</th>
          <td>Application ID</td>
          <td>
            <br />
          </td>
        </tr>
        <tr>
          <th>Type</th>
          <td>NSP file type (Application, Patch, AddOnContent)</td>
          <td>
            <br />
          </td>
        </tr>
        <tr>
          <th>Index</th>
          <td>Index of downloadable content</td>
          <td>Displayed only for downloadable content.</td>
        </tr>
        <tr>
          <th>ReleaseVersion</th>
          <td>Release Version</td>
          <td>
            <br />
          </td>
        </tr>
        <tr>
          <th>Digest</th>
          <td>ROM identification hash</td>
          <td>
            <br />
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>
      <code>SizeInfo</code> has the following elements.</p>
    <table class="wrapped">
      <colgroup> <col /> <col /> <col /> </colgroup>
      <tbody>
        <tr>
          <th> Item</th>
          <th>Description</th>
          <th>Notes</th>
        </tr>
        <tr>
          <th>DownLoad</th>
          <td>The number of bytes required to download the application, patch, or downloadable content with the specified ID from Nintendo eShop and install it on the system.</td>
          <td>
            <br />
          </td>
        </tr>
        <tr>
          <th>MinimumSaveData</th>
          <td>The number of bytes required to start the application (or the patched application if the target is a patch NSP file) with the specified ID and create one account's worth of save data.</td>
          <td>Only shown for applications and patches.</td>
        </tr>
        <tr>
          <th>EachUserAccountSaveData</th>
          <td>The number of bytes required to create one account's worth of save data for the application (or the patched application if the target is a patch NSP file) with the specified ID.</td>
          <td>Only shown for applications and patches.</td>
        </tr>
        <tr>
          <th>ApplicationAreaUsedOnCard</th>
          <td>The number of bytes of application storage area required to write the application (or on-card patch if the target is a patch NSP file) with the specified ID to an NX game card.</td>
          <td>If the target NSP file is a patch, this is the number of bytes of application storage area required to make an NX game card with an on-card patch. Only shown for applications and patches.</td>
        </tr>
        <tr>
          <th>
            <p>ApplicationAreaAvailableOnCard</p>
          </th>
          <td>The number of bytes of application storage area available on the NX game card as set in the application (or in the on-card patch if the target is a patch NSP file) with the specified ID.</td>
          <td>Only shown for applications and patches.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<h2 id="Anchor_107320233_h2_12">Checking whether the NSP file can be submitted.<a name="Anchor_107320233_get-unpublishable-error"></a></h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> get-unpublishable-error
get-unpublishable-error: Output an unpublishable error of the input Nintendo Submission Package file to standard output.
Usage: AuthoringTool.exe get-unpublishable-error &lt;inputNspPath&gt;

Options:
&nbsp;&nbsp;--xml    Use the XML format <span class="k">for</span> the unpublishable error output. If omitted, use text format.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_25">Argument List</h3>
<table class="relative-table wrapped" style="width: 96.2881%;">
  <colgroup> <col style="width: 11.9391%;" /> <col style="width: 88.0999%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath&gt;</th>
      <td>The path to the NSP file that is the input target.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_26">Options</h3>
<table class="relative-table wrapped" style="width: 96.2881%;">
  <colgroup> <col style="width: 5.77448%;" /> <col style="width: 94.1865%;" /> </colgroup>
  <tbody>
    <tr>
      <th>--xml</th>
      <td>Displays the information in XML format.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_27">Usage Examples</h3>
<ul>
  <li>Displaying the Information in an NSP File</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe get-unpublishable-error gfxSimple.nsp
UnpublishableError:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[Error] (Issue 11-006) Use of dev API
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The following development use function is used in the NSP file.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nn::os::IsMemoryLocked(unsigned long, unsigned long)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[Warning] (Issue 11-003) Feature requiring usage request - Bundle_Private_Unity_Generic
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The NSP file uses the following function that requires special approval from Nintendo.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nn::os::ResumeThread(nn::os::ThreadType*)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To use Bundle_Private_Unity_Generic, submit a usage request.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[Note] (Issue 11-801) Use of API
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The user exception handler does not work in the retail product.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nn::os::EnableUserExceptionHandlerOnDebugging(bool)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The ROM includes a debug function.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nn::hid::GetDebugPadState(nn::hid::DebugPadState*)</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>Use this before uploading the NSP file to the Nintendo Developer Portal, to check for items that would generate an unpublishable error and for items that must be corrected.<br />Depending on the situation in the NSP file, the following kinds of check results can be displayed.</p>
    <table class="wrapped relative-table" style="width: 96.7824%;">
      <colgroup> <col style="width: 7.00525%;" /> <col style="width: 28.3394%;" /> <col style="width: 64.5598%;" /> </colgroup>
      <tbody>
        <tr>
          <th>Type</th>
          <th>Description</th>
          <th>Resolution</th>
        </tr>
        <tr>
          <th class="highlight-grey">Error</th>
          <td>An item that must be corrected to submit the NSP file.</td>
          <td>Correct the described problem in the NSP file.</td>
        </tr>
        <tr>
          <th class="highlight-grey">Warning</th>
          <td>An item that Nintendo will need to check after the NSP file has been uploaded.</td>
          <td>Either correct the described problem in the NSP file or upload the file and then follow the instructions in the Nintendo Developer Portal.</td>
        </tr>
        <tr>
          <th class="highlight-grey">Note</th>
          <td>An item that needs to be corrected, but will not prevent the submission of the NSP file.</td>
          <td>Make every effort to correct the described problem.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p> Many of the options to check when uploading an NSP file to Nintendo Developer Portal are checked as a result of this feature, but not all options are checked.<br />Errors can occur after uploading even when this feature determines that an NSP file is problem free because there are options that are only checked during an upload.</p>
  </div>
</div>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>If an API that is not supposed to be used is detected, dead-strip may be deactivated. Verify that Project Properties &gt; Linker &gt; General &gt; Dead Strip is set to Enabled.</p>
  </div>
</div>
<h2 id="Anchor_107320233_h2_13">
  <span style="color: rgb(117,117,117);">Checking Data Integrity in NSP Files</span>
</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>&nbsp;$ AuthoringTool.exe <span class="nb">help</span> checkintegrity
checkintegrity: Check integrity of Nintendo Submission Packages.
Usage: AuthoringTool.exe checkintegrity <span class="o">[</span>--original &lt;originalNspPath&gt;<span class="o">]</span> &lt;inputNspPath&gt;

Options:
&nbsp;&nbsp;--original &lt;originalNspPath&gt; Original application nsp path. It is required <span class="k">if</span> &lt;inputNspPath&gt; is a patch when the --simple option is not specified.
&nbsp;&nbsp;--simple                     Perform a simple <span class="nb">hash</span> check. <span class="o">(</span>The integrity of the file system is not checked.<span class="o">)</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The <code>checkintegrity</code> command is available starting with the following versions.</p>
    <ul>
      <li>AuthoringToolKit 6.5.0</li>
      <li>AuthoringToolKit 7.2.0</li>
    </ul>
  </div>
</div>
<h3 id="Anchor_107320233_h3_28">Argument List</h3>
<table class="relative-table wrapped" style="width: 96.2881%;">
  <colgroup> <col style="width: 11.9391%;" /> <col style="width: 88.0999%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath&gt;</th>
      <td>The path to the NSP file that is the input target.<br /><span style="color: rgb(23,43,77);">You cannot specify the NSP file for a compacted application. Specify the patch that is created at compaction time here, and use the <code>--original</code> option to specify the NSP file for the compacted application itself.</span></td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_29">Options</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 8.81779%;" /> <col style="width: 91.1432%;" /> </colgroup>
  <tbody>
    <tr>
      <th>--original</th>
      <td>Specifies the path to the NSP file of the original application that is being patched. This option is necessary when performing a patch NSP file check without the following <code>--simple</code> option.</td>
    </tr>
    <tr>
      <th>--simple</th>
      <td>Omits the integrity check of the contained file system and performs only a simple hash check.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_30">Usage Examples</h3>
<ul>
  <li>
    <p>Performing the NSP data integrity check while showing progress:</p>
    <table class="codeblock">
      <tbody>
        <tr>
          <td class="code">
            <div class="codeblock"><pre>$ AuthoringTool.exe checkintegrity -v sample.nsp
[Progress] Checking Integrity ...
[Progress] 0 / 3098585088 (bytes) ... 0 %
[Progress] 67108864 / 3098585088 (bytes) ... 2 %
...
[Progress] 3036676096 / 3098585088 (bytes) ... 98 %
[Progress] e0b76207ba5a3f30e0b070f928c75aba.nca done.
[Progress] 646c95d8d32fb194c5c709786654345a.nca done.
[Progress] 232516c98b2faeb7cc652b3e6ee14a52.nca done.
[Progress] ee7923cdf3db1203e0a9bd76cad1c941.cnmt.nca done.
[Progress] 3098585088 / 3098585088 (bytes) ... 100 %
[Progress] Complete.</pre></div>
          </td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>Example run results when the NSP file is corrupted:</p>
    <table class="codeblock">
      <tbody>
        <tr>
          <td class="code">
            <div class="codeblock"><pre>$ AuthoringTool.exe checkintegrity sample.nsp
[Progress] Checking Integrity ...
[Error] Failed to Initialize RomFsFileSystem 0x00206002.

$ AuthoringTool.exe checkintegrity sample.nsp --simple
Detected a file hash mismatch.</pre></div>
          </td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>
<h2 id="Anchor_107320233_h2_14">
  <span style="color: rgb(117,117,117);">Creating the NSPD File</span>
</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>&nbsp;$ AuthoringTool.exe <span class="nb">help</span> createnspd
createnspd: Create new Nintendo Submission Package Directory.
Usage: AuthoringTool.exe createnspd <span class="o">[</span>-o &lt;outputDirectory&gt;<span class="o">]</span> <span class="o">[</span>--filter &lt;fdfPath&gt;<span class="o">]</span> <span class="o">[</span>--forcibly-copy-with-filtering<span class="o">]</span> <span class="o">[</span>--forcibly-copy-code<span class="o">]</span> <span class="o">[</span>--forcibly-copy-data<span class="o">]</span> <span class="o">[</span>--forcibly-copy-control<span class="o">]</span> <span class="o">[</span>--forcibly-copy-html-document<span class="o">]</span> <span class="o">[</span>--forcibly-copy-accessible-urls<span class="o">]</span> <span class="o">[</span>--forcibly-copy-legal-information<span class="o">]</span> --meta &lt;metaF ilePath&gt; --type &lt;contentMetaType&gt; <span class="o">[</span>--error-unpublishable <span class="o">[</span>--xml<span class="o">]]</span> 

Options:
&nbsp;&nbsp;-o &lt;outputDirectory&gt;                 Output directory path. The end of directory name should be <span class="s2">&quot;.nspd&quot;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If omitted, use ./output.nspd.
&nbsp;&nbsp;--filter &lt;fdfPath&gt;                                 Filter files to be included into .nspd. &lt;fdfPath&gt; expects a path <span class="k">for</span> a filter description file <span class="o">(</span>.fdf<span class="o">)</span>.
&nbsp;&nbsp;--forcibly-copy-with-filtering                     Copy file instead of creating hard link. This option is validated, only when specified .fdf
&nbsp;&nbsp;--forcibly-copy-code                               Copy the code files instead of creating junction.
&nbsp;&nbsp;--forcibly-copy-data                               Copy the data files instead of creating junction.
&nbsp;&nbsp;--forcibly-copy-control                            Copy the control files instead of creating junction.
&nbsp;&nbsp;--forcibly-copy-html-document                      Copy the html document files instead of creating junction.
&nbsp;&nbsp;--forcibly-copy-accessible-urls                    Copy the accessible website document files instead of creating junction.
&nbsp;&nbsp;--forcibly-copy-legal-information                  Copy the legal information document files instead of creating junction.
&nbsp;&nbsp;--meta &lt;metaFilePath&gt;                              Location of the .nmeta file.
&nbsp;&nbsp;--type &lt;contentMetaType&gt;                           Content Meta Type to create package.
&nbsp;&nbsp;--desc &lt;descFilePath&gt;                              Location of .desc file to input.
&nbsp;&nbsp;--program &lt;codePath&gt; <span class="o">[</span>&lt;dataPath&gt;<span class="o">]</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Location of directory that includes files to be contained
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as code in executable content, along with the data region.
&nbsp;&nbsp;--code &lt;codePath&gt;                                  Location of directory path that includes files to be contained in executable content as code.
&nbsp;&nbsp;--data &lt;dataPath&gt;                                  Location of directory path that includes files to be contained in data content.
&nbsp;&nbsp;--control &lt;controlPath&gt;                            Location of directory path which includes files to be contained
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to in a control data content.
&nbsp;&nbsp;--error-unpublishable <span class="o">[</span>--xml<span class="o">]</span>                      Throw an exception <span class="k">if</span> the Nintendo Submission Package Directory does not meet the conditions <span class="k">for</span> publication.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_31">Argument List</h3>
<p>No position arguments.</p>
<h3 id="Anchor_107320233_h3_32">Options</h3>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 97.2701%;">
  <colgroup> <col style="width: 17.9889%;" /> <col style="width: 81.943%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>Specifies the path to the NSPD directory for output.</p>
        <p>The directory name must end with &quot;<code>.nspd</code>&quot;.</p>
        <p>If no directory is specified, the output is saved in a directory named <code>output.nspd</code>.</p>
      </td>
    </tr>
    <tr>
      <th>--filter</th>
      <td>
        <div class="content-wrapper">
          <p>Specifies a filter script for filtering out resource data files. For more information, see Writing a Filter Description File later in this document.</p>
          <p>You can specify a filter description file within the NMETA file. For more information, see <a href="../Pages/Page_166503043.html">Writing the NMETA File</a>.</p>
          <p>
            <br />
          </p>
          <p>The hard links for the various files within the <code>dataPath</code> directory, specified using either the <code>--program</code> or <code>--data</code> option, are created within the <code>data</code> directory for the NSPD when this option is specified or when a filter description file is specified with the NMETA file.<br /></p>
          <div class="note_new">
            <div class="note_new_left">Note</div>
            <div class="note_new_right">
              <p>The creation of hard links fails when the directory specified using <code>--dataPath</code> and the target NSPD directory are on a separate volume.</p>
              <p>Specify the <code>--forcibly-copy-with-filtering</code> option to forcibly copy the files.</p>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <th>--forcibly-copy-with-filtering</th>
      <td>
        <div class="content-wrapper">
          <p>This option is valid only when the <code>--filter</code> option is specified or when a filter description file is specified using the NMETA file.</p>
          <p>Each file is copied instead of creating hard links in the <code>data</code> directory for the NSPD, for each file within the directory specified using <code><em>dataPath</em></code>.</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>--forcibly-copy-code</th>
      <td>
        <div class="content-wrapper">
          <p>A copy of the directory content is made instead of creating a link to the <code>code</code> directory.</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>--forcibly-copy-data</th>
      <td>
        <div class="content-wrapper">
          <p>A copy of the directory content is made instead of creating a link to the <code>data</code> directory.</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>--forcibly-copy-control</th>
      <td>
        <div class="content-wrapper">
          <p>A copy of the directory content is made instead of creating a link to the <code>control</code> directory.</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>--forcibly-copy-html-document</th>
      <td>
        <div class="content-wrapper">
          <p>A copy of the directory content is made instead of creating a link to the <code>htmlDocument</code> directory.</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>--forcibly-copy-accessible-urls</th>
      <td>
        <div class="content-wrapper">
          <p>A copy of the directory content is made instead of creating a link to the <code>accessible-urls</code> directory.</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>--forcibly-copy-legal-information</th>
      <td>
        <div class="content-wrapper">
          <p>A copy of the directory content is made instead of creating a link to the <code>legal-information</code> directory.</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>--meta</th>
      <td>Specifies the path to the NMETA file. This option is required.</td>
    </tr>
    <tr>
      <th>--type</th>
      <td>Specifies the application type. Currently you can specify <code>Application</code> or <code>SystemProgram</code>. Specify <code>Application</code> for standard applications. This option is required.</td>
    </tr>
    <tr>
      <th>--desc</th>
      <td>
        <div class="content-wrapper">
          <p>Specifies the <code>.desc</code> file path.<br />Depending on the content of the DESC file, you may need to specify this option if you are modifying an archive that was created using the <code>creatensp</code> command with the <code>--program</code> option.</p>
          <p>DESC files can be used when checking a submission, so reference them directly from the package instead of separately copying or renaming each package file.</p>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>This option is available in AuthoringTool Kit 11.4.0 and later.</p>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <th>--program</th>
      <td>
        <p>Links the specified directory to the <code>code</code> and <code>data</code> directories in the NSPD directory.</p>
        <p>Cannot be specified more than one time with the <code>--code</code> and <code>--data</code> options.</p>
        <p>This option or <code>--code</code> must be specified.</p>
      </td>
    </tr>
    <tr>
      <th>--code</th>
      <td>
        <p>Links the specified directory to the <code>code</code> directory in the NSPD directory.</p>
        <p>Cannot be specified more than one time with the <code>--program</code> option.<br />This option or <code>--code</code> must be specified.</p>
      </td>
    </tr>
    <tr>
      <th>--data</th>
      <td>
        <p>Links the specified directory to the <code>data</code> directory in the NSPD directory.</p>
        <p>Cannot be specified more than one time with the <code>--program</code> option.</p>
      </td>
    </tr>
    <tr>
      <th>--control</th>
      <td>
        <p>Links the specified directory to the <code>control</code> directory in the NSPD directory.</p>
        <p>If this is not specified, a directory is create inside the NSPD directory.</p>
      </td>
    </tr>
    <tr>
      <th>--error-unpublishable</th>
      <td>
        <p>An error occurs if the NSPD directory does not satisfy the conditions for submission to Nintendo.</p>
        <p>For more information about the conditions for submission, see the ROM Check Errors in the Uploading Master ROMs section of the Master ROM Submission Guidelines.</p>
        <p>For more information, see <a href="#Anchor_107320233_get-unpublishable-error">here</a>.</p>
      </td>
    </tr>
    <tr>
      <th>--xml</th>
      <td>The <code>--error-unpublishable</code> results are exported in an XML format.</td>
    </tr>
  </tbody>
</table>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>Do not specify the output destination directory in the linked directory specified by the option.</p>
  </div>
</div>
<h3 id="Anchor_107320233_h3_33">Usage Examples</h3>
<ul>
  <li>
    <p>Creating the Directory Named sample.nspd</p>
    <table class="codeblock">
      <tbody>
        <tr>
          <td class="code">
            <div class="codeblock"><pre>$ AuthoringTool.exe createnspd -o sample.nspd --meta <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.aarch64.lp64.nmeta --type Application --code C:/Application/Binaries/NX64/NX_Debug/code</pre></div>
          </td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>
<h2 id="Anchor_107320233_h2_15">Creating Metadata to Place in NSPD</h2>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>If the NSPD directory was created using the AuthoringTool <code>createnspd</code> command, it already has metadata.<br />The <code>createnspmeta</code> command updates the NSPD file with the changes to the NMETA file, but we recommend using it to ensure that there are no changes to the program.</p>
    <p>Some NMETA file changes, including HTML documentation, are not included in versions earlier than AuthoringToolKit 7.3.0. Use the <code>createnspd</code> command instead.</p>
    <p>To apply partial changes of NMETA files to the NSPD directory, you must simultaneously change the main.npdm file generated with MakeMeta.<br />This means changing the program, so when you make such an NMETA file change, regenerate the NSPD directory with the <code>createnspd</code> command.</p>
  </div>
</div>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> createnspmeta
createnspmeta: Create only meta files <span class="k">for</span> Nintendo Submission Package.
Usage: AuthoringTool.exe createnspmeta <span class="o">[</span>-o &lt;outputDirectory&gt;<span class="o">]</span> --meta &lt;metaFilePath&gt; --type &lt;contentMetaType&gt; <span class="o">[</span>--error-unpublishable <span class="o">[</span>--xml<span class="o">]]</span> 

Options:
&nbsp;&nbsp;-o &lt;outputDirectory&gt;                 Output directory path. If omitted, use ./output.nspd.
&nbsp;&nbsp;--meta &lt;metaFilePath&gt;           Location of the NMETA file.
&nbsp;&nbsp;--type &lt;contentMetaType&gt;        The content metatype to use to create the package.
&nbsp;&nbsp;--error-unpublishable <span class="o">[</span>--xml<span class="o">]</span>   Throw an exception <span class="k">if</span> the Nintendo Submission Package Directory does not meet the conditions <span class="k">for</span> publication.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_34">Argument List</h3>
<p>No position arguments.</p>
<h3 id="Anchor_107320233_h3_35">Options</h3>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 97.2701%;">
  <colgroup> <col style="width: 10.7252%;" /> <col style="width: 89.2067%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>The output path. When a directory is specified, an <code>output.nspd</code> directory is created under that directory.</p>
        <p>If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the <code>output.nspd</code> directory is created directly under the execution path.</p>
      </td>
    </tr>
    <tr>
      <th>--meta</th>
      <td>Specifies the path to the NMETA file. This option is required.</td>
    </tr>
    <tr>
      <th>--type</th>
      <td>Specifies the application type. Currently you can specify <code>Application</code> or <code>SystemProgram</code>. Specify <code>Application</code> for standard applications.</td>
    </tr>
    <tr>
      <th>--error-unpublishable</th>
      <td>
        <div class="content-wrapper">
          <p>An error occurs if the NSPD directory does not satisfy the conditions for submission to Nintendo.</p>
          <p>For more information about the conditions for submission, see the ROM Check Errors in the Uploading Master ROMs section of the Master ROM Submission Guidelines.</p>
          <p>For more information, see <a href="#Anchor_107320233_get-unpublishable-error">here</a>.</p>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>Available in AuthoringToolKit 7.3.0 and later.</p>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_36">Usage Examples</h3>
<ul>
  <li>Exporting Metadata to sample.nspd</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe createnspmeta -o sample.nspd --meta <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.aarch64.lp64.nmeta --type Application</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_16">Verifying NMETA Files</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> validatemeta
Usage: AuthoringTool.exe validatemeta --meta &lt;metaFilePath&gt; --type &lt;contentMetaType&gt;

Options:
&nbsp;&nbsp;--meta &lt;metaFilePath&gt;                          Location of the .nmeta file.
&nbsp;&nbsp;--type &lt;contentMetaType&gt;                       Content Meta Type to create package with the meta file.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_37">Argument List</h3>
<p>No position arguments.</p>
<h3 id="Anchor_107320233_h3_38">Options</h3>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 96.2881%;">
  <colgroup> <col style="width: 7.10105%;" /> <col style="width: 92.8599%;" /> </colgroup>
  <tbody>
    <tr>
      <th>--meta</th>
      <td>Specifies the path to the NMETA file. This option is required.</td>
    </tr>
    <tr>
      <th>--type</th>
      <td>
        <p>Specifies the type of application that uses the specified NMETA file.</p>
        <p>The following strings can be specified.</p>
        <ul>
          <li>Application</li>
          <li>AddOnContent</li>
          <li>Patch</li>
          <li>SystemProgram</li>
          <li>SystemUpdate</li>
          <li>
            <code>SystemData</code>
          </li>
          <li>Delta (Possible to not be used in the future.)</li>
        </ul>
        <p>This option is required.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_39">Usage Examples</h3>
<ul>
  <li>Verifying NMETA Files for Applications</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe validatemeta --meta <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.aarch64.lp64.nmeta --type Application</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_17">Comparing NSP Files</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> comparensp
comparensp: Compare NSP files.
Usage: AuthoringTool.exe comparensp &lt;NspPath1&gt; &lt;NspPath2&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The <code>comparensp</code> command is available in AuthoringToolKit 9.2.0 and later.<br />It is fine if the NSP files being compared were created with an earlier version of AuthoringTool.</p>
  </div>
</div>
<table class="relative-table wrapped" style="width: 1152.0px;">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;NspPath1&gt;</th>
      <td rowspan="2">Specify the paths of two NSP files to compare.</td>
    </tr>
    <tr>
      <th>&lt;NspPath2&gt;</th>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_40">Argument List</h3>
<h3 id="Anchor_107320233_h3_41">Options</h3>
<p>There are no options.</p>
<h3 id="Anchor_107320233_h3_42">Usage Examples</h3>
<ul>
  <li>Comparing NSP files with no differences</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe comparensp sample1.nsp sample2.nsp
Files are identical.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>Comparing NSP files with different NMETA data</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe comparensp sample1.nsp sample2.nsp
The following elements are different.
Element: ContentMeta/Content<span class="o">(</span><span class="nv">Type</span> <span class="o">=</span> Control<span class="o">)</span>
Element: ContentMeta/Content<span class="o">(</span><span class="nv">Type</span> <span class="o">=</span> Meta<span class="o">)</span>
Element: ContentMeta/Digest
Element: Application/DisplayVersion</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>The preceding output results are for a case where the <code>DisplayVersion</code> element of the NMETA files are different. The results have the following meanings.</p>
    <ul>
      <li>Element: ContentMeta/Content(Type = Control)<ul><li>Indicates that there is a difference between the <code>Application</code> elements of the NMETA files.</li></ul></li>
      <li>Element: ContentMeta/Content(Type = meta)</li>
      <li>Element: ContentMeta/Digest<ul><li>Indicates that there is a difference between one or more content files included in the NSP files.</li></ul></li>
      <li>Element: Application/DisplayVersion<ul><li>Indicates that there is a difference between the <code>Application/DisplayVersion</code> elements in the NMETA files.</li></ul></li>
    </ul>
  </div>
</div>
<ul>
  <li>Comparing NSP files with different HTML documentation or software legal information</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe comparensp sample1.nsp sample2.nsp
The following elements are different.
Element: ContentMeta/Content<span class="o">(</span><span class="nv">Type</span> <span class="o">=</span> HtmlDocument<span class="o">)</span>
Element: ContentMeta/Content<span class="o">(</span><span class="nv">Type</span> <span class="o">=</span> LegalInformation<span class="o">)</span>
Element: ContentMeta/Content<span class="o">(</span><span class="nv">Type</span> <span class="o">=</span> Meta<span class="o">)</span>
Element: ContentMeta/Digest
Element: SoftwareLegalInformation/OutputDateTime
Element: HtmlDocument/AccessibleUrls/Url</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>The preceding output results are for a case where there are differences between the HTML documentation or software legal information specified in the NMETA files. The results have the following meanings.</p>
    <ul>
      <li>Element: ContentMeta/Content(Type = Html)<br /><ul><li>Indicates that there is a difference between the <code>Application/HtmlDocumentPath</code> or <code>Application/AccessibleUrlsFilePath</code> elements of the NMETA files.</li></ul></li>
      <li>Element: ContentMeta/Content(Type = LegalInformation)<br /><ul><li>Indicates that there is a difference between the <code>Application/LegalInformationFilePath</code> elements of the NMETA files.</li></ul></li>
      <li>Element: SoftwareLegalInformation/OutputDateTime<br /><ul><li>Indicates that there is a difference between the <code>SoftwareLegalInformation/OutputDateTime</code> elements in the software legal information specified in the NMETA files.</li></ul></li>
      <li>Element: HtmlDocument/AccessibleUrls/Url<ul><li>Indicates that there is a difference between the accessible URL lists specified in the NMETA files.</li></ul></li>
    </ul>
  </div>
</div>
<ul>
  <li>Comparing NSP files containing different programs or data</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe comparensp sample1.nsp sample2.nsp
The following elements are different.
Element: ContentMeta/Content<span class="o">(</span><span class="nv">Type</span> <span class="o">=</span> Program<span class="o">)</span>
Element: ContentMeta/Content<span class="o">(</span><span class="nv">Type</span> <span class="o">=</span> Data<span class="o">)</span>
Element: ContentMeta/Content<span class="o">(</span><span class="nv">Type</span> <span class="o">=</span> Meta<span class="o">)</span>
Element: ContentMeta/Digest</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>The preceding output results are for a case where there are differences between the included programs or data. The results have the following meanings.</p>
    <ul>
      <li>Element: ContentMeta/Content(Type = Program)<br /><ul><li>Indicates that there is a difference between the included programs.</li></ul></li>
      <li>Element: ContentMeta/Content(Type = Data)<br /><ul><li>Indicates that there is a difference between the included data.</li></ul></li>
    </ul>
  </div>
</div>
<h2 id="Anchor_107320233_h2_18">Displaying the Patch NSP File Difference Information</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe <span class="nb">help</span> diffpatch
diffpatch: Show different files between patches or between the patch and the application.
Usage: AuthoringTool.exe diffpatch &lt;originalNspPath&gt; <span class="o">[</span>&lt;previousPatchNspPath&gt;<span class="o">]</span> &lt;patchNspPath&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The feature for displaying difference information between the original application and a patch is available in AuthoringToolKit 6.3.0 and later.<br />It is fine if the NSP files being compared were created with an earlier version of AuthoringTool.</p>
  </div>
</div>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 17.4015%;" /> <col style="width: 82.5595%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;originalNspPath&gt;</th>
      <td>Specifies the path to the original application NSP file where the patch that the difference information is displayed for will be applied.</td>
    </tr>
    <tr>
      <th>&lt;previousPatchNspPath&gt;</th>
      <td>Specifies the path to the previous patch NSP file to be used for the comparison. <br />(AuthoringToolKit 6.3.0 and later) If omitted, the differences between the original application and the patch are displayed.</td>
    </tr>
    <tr>
      <th>&lt;patchNspPath&gt;</th>
      <td>Specifies the path to the target patch NSP file to be used for the comparison.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_43">Argument List</h3>
<h3 id="Anchor_107320233_h3_44">Options</h3>
<p>There are no options.</p>
<h3 id="Anchor_107320233_h3_45">Usage Examples</h3>
<ul>
  <li>This example displays the differences between the first patch (<code>sample_v1_patch.nsp</code>) and the second patch (<code>sample_v2_patch.nsp</code>) of <code>sample.nsp</code>.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe diffpatch sample.nsp sample_v1_patch.nsp sample_v2_patch.nsp
! 157933e46d19226339f7da0e8f7b8118.nca/fs0/main         <span class="o">(</span><span class="m">114859</span> byte<span class="o">)</span>
+ 157933e46d19226339f7da0e8f7b8118.nca/fs1/data01.bin   <span class="o">(</span>3,145,784 bytes<span class="o">)</span>
- 157933e46d19226339f7da0e8f7b8118.nca/fs1/data02.bin   <span class="o">(</span>19,802 bytes<span class="o">)</span>
! 157933e46d19226339f7da0e8f7b8118.nca/fs1/data03.bin   <span class="o">(</span><span class="m">64797</span> -&gt; <span class="m">65581</span> byte<span class="o">)</span>
! f570f0fd8b748ef3f40542fed287e52a.cnmt.nca/fs0/Patch_010000000000b9c9.cnmt     <span class="o">(</span><span class="m">356</span> -&gt; <span class="m">612</span> byte<span class="o">)</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li style="list-style-type: none; background-image: none;">
    <ul>
      <li>Lines that start with <strong>!</strong> represent files whose content differs between the two patches.<ul><li>If the file size has changed, the sizes before and after the change are both displayed.</li></ul></li>
      <li>Lines that start with <strong>+</strong> represent files that did not exist in the previous patch and were added in the target patch.</li>
      <li>Lines that start with <strong>-</strong> represent files that existed in the previous patch and were deleted in the target patch.</li>
      <li>Files that are identical between the two compared patches are not displayed.</li>
    </ul>
  </li>
  <li>This example displays the individual file differences between the original application (<code>sample.nsp</code>) and the second patch of <code>sample.nsp</code> (<code>sample_v2_patch.nsp</code>).</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe diffpatch sample.nsp sample_v2_patch.nsp
! 157933e46d19226339f7da0e8f7b8118.nca/fs0/main         <span class="o">(</span><span class="m">114859</span> byte<span class="o">)</span>
+ 157933e46d19226339f7da0e8f7b8118.nca/fs1/data01.bin   <span class="o">(</span><span class="m">3145784</span> byte<span class="o">)</span>
! 157933e46d19226339f7da0e8f7b8118.nca/fs1/data03.bin   <span class="o">(</span><span class="m">64797</span> -&gt; <span class="m">65581</span> byte<span class="o">)</span>
! f570f0fd8b748ef3f40542fed287e52a.cnmt.nca/fs0/Patch_010000000000b9c9.cnmt     <span class="o">(</span><span class="m">356</span> -&gt; <span class="m">612</span> byte<span class="o">)</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_19">Displaying Information About Data Making Up a Large Proportion of Patches</h2>
<ul>
  <li>
    <span style="color: rgb(33,33,33); letter-spacing: 0.0px;">See the <a href="../Pages/Page_894619842.html">analyze-patch</a> command.</span>
  </li>
</ul>
<h2 id="Anchor_107320233_h2_20">
  <span style="color: rgb(117,117,117);">Merging NSP Files Into One</span>
</h2>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The <code>mergensp</code> command is available in AuthoringToolKit 10.0.0 and later.</p>
    <ul>
      <li>In AuthoringToolKit 10.0.0 and later, you can merge multiple pieces of DLC content.</li>
      <li>In the following AuthoringToolKit versions, you can merge patches and compacted applications. For more information, see <a href="../Pages/Page_1058413945.html">Application Compaction</a>.<ul><li>AuthoringToolKit 10.9.5 and later</li><li>AuthoringToolKit 11.4.4 and later</li><li>AuthoringToolKit 12.3.0 and later</li></ul></li>
    </ul>
  </div>
</div>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre><span class="nv">$AuthoringTool</span>.exe mergensp -h
mergensp: Merge <span class="s2">&quot;multiple add-on content nsp files&quot;</span> or <span class="s2">&quot;a compacted application nsp file and a patch nsp file&quot;</span> into one nsp file.
Usage: AuthoringTool.exe mergensp <span class="o">[</span>-o &lt;outputPath&gt;<span class="o">]</span> &lt;inputNspPath&gt;...

Options:
&nbsp;&nbsp;-o &lt;outputPath&gt;              Output file or directory path. If the directory path is specified, use &lt;outputPath&gt;/output.nsp.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If omitted, use ./output.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_46">Argument List</h3>
<table class="relative-table wrapped" style="width: 1329.0px;">
  <colgroup> <col style="width: 0.0px;" /> <col style="width: 0.0px;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath#&gt;</th>
      <td>Specifies the paths to the NSP files for the pieces of downloadable content, or the patch and the compacted application, that will be merged.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_47">Options</h3>
<table class="relative-table wrapped" style="width: 1744.0px;">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>The output path. You can specify either a file or directory.</p>
        <p>When a file is specified, the file is exported to the specified path.</p>
        <p>When a directory is specified, an <code>output.nsp</code> file is saved to the specified directory.<br />If the output destination is not specified, an <code>output.nsp</code> file is created directly under the execution path.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_48">Usage Examples</h3>
<ul>
  <li>Merge the <code>AddOnSample1.nsp</code> and <code>AddOnSample2.nsp</code> downloadable content as <code>AddOnSample.nsp</code>.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe mergensp AddOnSample1.nsp AddOnSample2.nsp -o AddOnSample.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>Merge the <code>patch-v3.nsp</code> patch and the <code>patch-v3.compacted_application.nsp</code> compacted application to create <code>merged-v3.nsp</code>.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe mergensp -o merged-v3.nsp patch-v3.compacted_application.nsp patch-v3.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_21">Splitting NSP Files<a name="Anchor_107320233_splitnsp"></a></h2>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The <code>splitnsp</code> command is available in AuthoringToolKit 10.0.0 and later.</p>
    <ul>
      <li>In AuthoringToolKit 10.0.0 and later, you can split an NSP file that merges multiple pieces of DLC content.</li>
      <li>In the following AuthoringToolKit versions, you can split NSP files that merge patches and compacted applications.<ul><li>AuthoringToolKit 10.9.5 and later</li><li>AuthoringToolKit 11.4.5 and later</li><li>AuthoringToolKit 12.3.4 and later</li><li>AuthoringToolKit 13.0.0 and later</li></ul></li>
    </ul>
  </div>
</div>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe splitnsp -h
splitnsp: Split one nsp file into multiple downloadable content nsp files, or a compacted application nsp file and a patch nsp file.
Usage: AuthoringTool.exe splitnsp <span class="o">[</span>-o &lt;outputDirectory&gt;<span class="o">]</span> &lt;inputNspPath&gt;

Options:
&nbsp;&nbsp;-o &lt;outputDirectory&gt;           Directory path to output. If omitted, use the current directory.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_49">Argument List</h3>
<table class="relative-table wrapped" style="width: 1329.0px;">
  <colgroup> <col style="width: 0.0px;" /> <col style="width: 0.0px;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath&gt;</th>
      <td>Specifies the path of the downloadable content NSP file.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_50">Options</h3>
<table class="relative-table wrapped" style="width: 1744.0px;">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>Specifies the path of the output destination directory.</p>
        <p>If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the file is created directly under the execution path.</p>
        <p>
          <span style="color: rgb(23,43,77);">When splitting an NSP file that was created by merging multiple pieces of downloadable content, the filename format is <code>&lt;ApplicaitionId&gt;_idx&lt;Index&gt;_v&lt;ReleaseVersion&gt;.nsp</code>.</span>
        </p>
        <p>When splitting an NSP file named <code>input.nsp</code>, which merges a patch and a compacted application, the filename formats is as follows.</p>
        <ul>
          <li>
            <span style="color: rgb(23,43,77);">
              <code>input.compacted_application.nsp</code>
            </span>
          </li>
          <li>
            <span style="color: rgb(23,43,77);">
              <code>input.patch_v&lt;ReleaseVersion&gt;.nsp</code>
            </span>
          </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_51">Usage Examples</h3>
<ul>
  <li>Split <code>AddOnSample.nsp</code> by index, and save the files in <code>outDirectory</code> under the execution path.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe splitnsp AddOnSample.nsp -o outDirectory</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>Split <code>merged-v3.nsp</code> into a patch and a compacted application and save the files in <code>outDirectory</code> under the execution path.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe splitnsp merged-v3.nsp -o outDirectory</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_22">
  <span style="color: rgb(117,117,117);">Creating NSP Files for On-Card Add-On Content</span>
  <a name="Anchor_107320233_convertaoc"></a>
</h2>
<p class="auto-cursor-target">
  <br />
</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe convertaoc -h
convertaoc: Convert a downloadable content NSP file to the one that is available on the game card.
Usage: AuthoringTool.exe convertaoc <span class="o">[</span>-o &lt;outputDirectory&gt;<span class="o">]</span> --base &lt;inputBaseAppNspPath&gt; <span class="o">[</span>--cardsize &lt;size&gt; --cardclockrate &lt;clockrate&gt;<span class="o">]</span> &lt;inputAocNspPath1&gt; <span class="o">[</span>&lt;inputAocNspPath2&gt; ...<span class="o">]</span>

Options:
&nbsp;&nbsp;-o &lt;outputPath&gt;              Output file or directory path. If the directory path is specified, use &lt;outputPath&gt;/output.nsp.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If omitted, use ./output.nsp
&nbsp;&nbsp;--base                  Location of base Application or Patch nsp, which should be packaged together on OnCardAoc.
&nbsp;&nbsp;--cardsize              Card size. If omitted, it is <span class="nb">set</span> automatically so all contents can be put on card.
&nbsp;&nbsp;--cardclockrate         Card clock rate. If omitted, it is <span class="nb">set</span> automatically according to card size.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_52">
  <span style="color: rgb(117,117,117);">Argument List</span>
</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 15.1385%;" /> <col style="width: 84.9005%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputAocNspPath#&gt;</th>
      <td>
        <p>Specifies the path of the downloadable content NSP file.</p>
        <p>The maximum number of pieces of downloadable content that can be included in an NSP specified for on-card add-on content is 128.</p>
        <p>For more information, see <a href="../Pages/Page_298160983.html">On-Card Add-On Content</a></p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_53">Options</h3>
<table class="relative-table wrapped" style="width: 96.2881%;">
  <colgroup> <col style="width: 12.7975%;" /> <col style="width: 87.1635%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>The output path. When a directory is specified, an <code>output.nsp</code> file is added to that directory.</p>
        <p>If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the <code>output.nsp</code> file is created directly under the execution path.</p>
      </td>
    </tr>
    <tr>
      <th>--base</th>
      <td>
        <p>Specifies the path of the NSP file for the patch (or the application if there is no patch) that is expected to be written to the NX card along with the on-card add-on content. This option is required.</p>
      </td>
    </tr>
    <tr>
      <th>--cardsize</th>
      <td>
        <p>Specifies the size of the NX card used when producing cards that include on-card add-on content.</p>
        <p>For more information about the values that can be specified, see <a href="../Pages/Page_177655843.html">NX Development Card</a>.<br />If no value is specified, the minimum required size for the application, patch, or downloadable content is set automatically.</p>
      </td>
    </tr>
    <tr>
      <th>--cardclockrate</th>
      <td>
        <p>Specifies the operating frequency of the NX card used when producing cards that include on-card add-on content.</p>
        <p>For more information about the values that can be specified, see <a href="../Pages/Page_177655843.html">NX Development Card</a>.<br />If no value is specified, the operating frequency is automatically set to the maximum clock rate that can be selected for the size that has been set for the card.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_54">Usage Examples</h3>
<ul>
  <li>Enter the downloadable content (<code>sampleAocA.nsp</code>, <code>sampleAocB.nsp</code>) and the patch that handles it (<code>samplePatch.nsp</code>), and create the NSP file for on-card add-on content.<ul><li>This example explicitly specifies a card capacity of 16 GB and an operating frequency of 25 MHz.</li></ul></li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe convertaoc --cardsize <span class="m">16</span> --cardclockrate <span class="m">25</span> --base samplePatch.nsp sampleAocA.nsp sampleAocB.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>Use the <code>splitnsp</code> command to create on-card add-on content that includes only certain indexes from an existing downloadable content NSP file.</p>
    <ul>
      <li>Split the downloadable content (<code>sampleAoc.nsp</code>) into NSP files for each index.<ul><li>The output file is named using the following format: <span style="color: rgb(23,43,77);">&lt;ApplicationId&gt;_idx&lt;Index&gt;_v&lt;ReleaseVersion&gt;.nsp</span>. Use commands such as <code>list</code> and <code>extract</code> to verify the content before adding it into <code>convertaoc</code>.</li></ul></li>
    </ul>
    <table class="codeblock">
      <tbody>
        <tr>
          <td class="code">
            <div class="codeblock"><pre>$ AuthoringTool.exe splitnsp sampleAoc.nsp</pre></div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<h2 id="Anchor_107320233_h2_23">Creating an NSP File for the Production of a Multi-Application Card<a name="Anchor_107320233_bundleup"></a></h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe bundleup -h
bundleup: Create multi-application card indicator nsp file.
Usage: AuthoringTool.exe bundleup <span class="o">[</span>-o &lt;outputFilePath&gt;<span class="o">]</span> <span class="o">[</span>--cardsize &lt;size&gt; --cardclockrate &lt;clockrate&gt;<span class="o">]</span> --id &lt;MultiApplicationCardId&gt; &lt;inputNspPath1&gt; &lt;inputNspPath2&gt; <span class="o">[</span>&lt;inputNspPath3&gt; ...<span class="o">]</span>

Options:
&nbsp;&nbsp;-o &lt;outputPath&gt;              Output file or directory path. If the directory path is specified, use &lt;outputPath&gt;/output.nsp.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If omitted, use ./output.nsp
&nbsp;&nbsp;--id &lt;MultiApplicationCardId&gt;  ID published <span class="k">for</span> this multi-application card.
&nbsp;&nbsp;--cardsize                     Specify card size. If omitted, it is <span class="nb">set</span> automatically so all contents can be put on card.
&nbsp;&nbsp;--cardclockrate                Specify card clock rate. If omitted, it is <span class="nb">set</span> automatically according to card size.
&nbsp;&nbsp;--nsp-list-file                File path of the text file that lists NSP files. If specified, inputNspPaths are ignored.
&nbsp;&nbsp;--error-unpublishable <span class="o">[</span>--xml<span class="o">]</span>  Throw an exception <span class="k">if</span> the Nintendo Submission Package does not meet the conditions <span class="k">for</span> publication.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_55">
  <span style="color: rgb(117,117,117);">Argument List</span>
</h3>
<table class="wrapped relative-table" style="width: 96.724%;">
  <colgroup> <col style="width: 9.4162%;" /> <col style="width: 90.5667%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath#&gt;</th>
      <td>
        <div class="content-wrapper">
          <div class="note_new">
            <div class="note_new_left">Note</div>
            <div class="note_new_right">
              <p>We do not recommend using this argument to specify the input NSP files because it can easily lead to mistakes when <a href="../Pages/Page_166051528.html">testing to create a multi-application card</a>.</p>
              <p>Use the <code>--nsp-list-file</code> option instead.</p>
            </div>
          </div>
          <p>Specifies the path of the NSP files included on the multi-application card. You can specify NSP files for applications, patches, and downloadable content.<br />The order in which the application NSP files are specified, affects the order in which the application icons are displayed in the system menu when the multi-application card is inserted in the system.</p>
          <p>The order in which the NSP files for patches and downloadable content are specified is irrelevant, and has no effect on the output.</p>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>In AuthoringToolKit 8.2.0 and later, you can also include downloadable content in multi-application cards.<br />If downloadable content is included in the multi-application card, you cannot specify on-card downloadable content converted with the <code>covertaoc</code> command. Specify the unconverted downloadable content. </p>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_56">Options</h3>
<table class="relative-table wrapped" style="margin-left: 1.5em; width: 96.2881%;">
  <colgroup> <col style="width: 12.4073%;" /> <col style="width: 87.5536%;" /> </colgroup>
  <tbody>
    <tr>
      <th>--id</th>
      <td>Specifies the ID used to identify the multi-application card. This option is required.</td>
    </tr>
    <tr>
      <th>--cardsize</th>
      <td>
        <p>Specifies the size for the NX game card used for production of the multi-application card.<br />For more information about the values that can be specified, see <a href="../Pages/Page_177655843.html">NX Development Card</a>.<br />If no value is specified, the size is automatically set to the minimum size required to fit all of the entered applications and patches.</p>
      </td>
    </tr>
    <tr>
      <th>--cardclockrate</th>
      <td>
        <p>Specifies the operating frequency for the NX game card used for production of the multi-application card.</p>
        <p> For more information about the values that can be specified, see <a href="../Pages/Page_177655843.html">NX Development Card</a>. <br />If no value is specified, the operating frequency is automatically set to the maximum clock rate that can be selected for the size that has been set for the card.</p>
      </td>
    </tr>
    <tr>
      <th>--nsp-list-file</th>
      <td>
        <p>Specifies the text file that enumerates the NSP files included in the multi-application card.</p>
        <p>For more information about the format of text files, see <a href="../Pages/Page_298165757.html">Multi-Application Cards</a>here.</p>
      </td>
    </tr>
    <tr>
      <th>--error-unpublishable</th>
      <td>
        <p>An error occurs if NSP files do not satisfy the conditions for submission to Nintendo.</p>
        <p>For more information about the conditions for submission, see the ROM Check Errors in the Uploading Master ROMs section of the Master ROM Submission Guidelines.</p>
        <p />
        <p>For more information, see <a href="#Anchor_107320233_get-unpublishable-error">here</a>.</p>
      </td>
    </tr>
    <tr>
      <th>--xml</th>
      <td>The <code>--error-unpublishable</code> results are exported in an XML format.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_57">Usage Examples</h3>
<ul>
  <li>In this example, NSP files are created to produce a multi-application card that contains three applications (<code>sampleA.nsp</code>, <code>sampleB.nsp</code>, and <code>sampleC.nsp</code>), and patches for two of those applications (<code>sampleA_v1_patch.nsp</code> and <code>sampleB_v3_patch.nsp</code>).<br /><ul><li>The ID used to identify the multi-application card is issued ahead of time, and is <code>0x010000000000c000</code> in this example.</li><li>This example explicitly specifies a card capacity of 16 GB and an operating frequency of 25 MHz.</li></ul></li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>C:\sampleA.nsp
C:\sampleB.nsp
C:\sampleC.nsp
C:\sampleA_v1_patch.nsp
C:\sampleB_v3_patch.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe bundleup --id 0x010000000000c000 --cardsize <span class="m">16</span> --cardclockrate <span class="m">25</span> --nsp-list-file C:<span class="se">\m</span>ulti-application-card-file-list.txt</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_24">Creating the Multi-Program Application NSP File</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe mergeapplication -h
mergeapplication: Merge indexed application NSP files into a multi-program application NSP file.
Usage: AuthoringTool.exe mergeapplication <span class="o">[</span>-o &lt;outputFilePath&gt;<span class="o">]</span> <span class="o">[</span>--nsp-list-file &lt;textFilePath&gt;<span class="o">]</span> &lt;inputNspPath1&gt; &lt;inputNspPath2&gt; <span class="o">[</span>&lt;inputNspPath3&gt; ...<span class="o">]</span>

Options:
&nbsp;&nbsp;-o &lt;outputPath&gt;              Output file or directory path. If the directory path is specified, use &lt;outputPath&gt;/output.nsp.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If omitted, use ./output.nsp
&nbsp;&nbsp;--cardsize                     Specify card size. If omitted, it is <span class="nb">set</span> automatically so all contents can be put on card.
&nbsp;&nbsp;--cardclockrate                Specify card clock rate. If omitted, it is <span class="nb">set</span> automatically according to card size.
&nbsp;&nbsp;--nsp-list-file                File path of the text file that lists NSP files. If specified, inputNspPaths are ignored.
&nbsp;&nbsp;--error-unpublishable <span class="o">[</span>--xml<span class="o">]</span>  Throw an exception <span class="k">if</span> the specified NSP files <span class="k">do</span> not satisfy the conditions <span class="k">for</span> submission to Nintendo.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The <code>mergeapplication</code> command is available in AuthoringToolKit 7.0.0 and later.</p>
  </div>
</div>
<h3 id="Anchor_107320233_h3_58">Argument List</h3>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 96.2881%;">
  <colgroup> <col style="width: 12.8755%;" /> <col style="width: 87.1635%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath#&gt;</th>
      <td>
        <div class="content-wrapper">
          <p>Specifies the paths for the separate program NSP files to include in the multi-program application.</p>
          <p>The order in which the patch NSP files are specified is irrelevant, and has no effect on the output.</p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_59">Options</h3>
<table class="relative-table wrapped" style="width: 96.2881%;">
  <colgroup> <col style="width: 12.0172%;" /> <col style="width: 87.9438%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>The output path. When a directory is specified, an <code>output.nsp</code> file is added to that directory.</p>
        <p>If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the <code>output.nsp</code> file is created directly under the execution path.</p>
      </td>
    </tr>
    <tr>
      <th>--cardsize</th>
      <td>
        <p>Specifies the NX card size used for production of multi-program applications.<br />For more information about the values that can be specified, see <a href="../Pages/Page_177655843.html">NX Development Card</a>.<br />The minimum size needed to include the entered separate programs is automatically configured when no value is specified.</p>
      </td>
    </tr>
    <tr>
      <th>--cardclockrate</th>
      <td>
        <p>Specifies the operating frequency for the NX card used for production of multi-program applications.</p>
        <p>For more information about the values that can be specified, see <a href="../Pages/Page_177655843.html">NX Development Card</a>.<br />If no value is specified, the operating frequency is automatically set to the maximum clock rate that can be selected for the size that has been set for the card.</p>
      </td>
    </tr>
    <tr>
      <th>--nsp-list-file</th>
      <td>
        <p>Specifies the text files that list the separate program NSP files to include in the multi-program application.</p>
        <p>The format for the text files is the same as the format for multi-application cards. See <a href="../Pages/Page_298165757.html">Multi-Application Cards</a>.</p>
      </td>
    </tr>
    <tr>
      <th>--error-unpublishable</th>
      <td>
        <p>An error occurs if NSP files do not satisfy the conditions for submission to Nintendo.</p>
        <p>For more information about the conditions for submission, see the ROM Check Errors in the Uploading Master ROMs section of the Master ROM Submission Guidelines.</p>
        <p />
        <p>For more information, see <a href="#Anchor_107320233_get-unpublishable-error">here</a>.</p>
      </td>
    </tr>
    <tr>
      <th>--xml</th>
      <td>The <code>--error-unpublishable</code> results are exported in an XML format.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_60">Usage Examples</h3>
<p>Creating the Multi-Program Application NSP File That Includes Three Separate Programs (main.nsp, subA.nsp, and subB.nsp)</p>
<ul>
  <li>This example explicitly specifies a card capacity of 16 GB and an operating frequency of 25 MHz.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>C:\main.nsp
C:\subA.nsp
C:\subB.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe mergeapplication --cardsize <span class="m">16</span> --cardclockrate <span class="m">25</span> --nsp-list-file C:<span class="se">\m</span>ulti-program-application-file-list.txt</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_25">Extract the NSAVE file.</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe extractnsave -h
extractnsave: Extract files from a Nintendo save data file.
Usage: AuthoringTool.exe extractnsave <span class="o">[</span>-o &lt;outputDirectory&gt;<span class="o">]</span> &lt;inputNsavePath&gt;

Options:
&nbsp;&nbsp;-o &lt;outputDirectory&gt;           Directory path to output. If omitted, use the current directory.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The <code>extractnsave</code> command is available in AuthoringToolKit 7.3.0 and later.</p>
  </div>
</div>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>The output destination for the directory and file (&quot;FS entry&quot;) created by decompressing the NSAVE file varies depending on the length of the expected full path after decompression (&quot;expected full path&quot;).</p>
    <p>&quot;Expected full path&quot; refers to the following.</p>
    <div style="border-width: 1px;" class="preformatted panel">
      <div class="preformattedContent panelContent">
        <pre>&lt;SpecifiedRootDirectory&gt;/               : Root directory output destination specified with the -o option.
    &lt;yyyymmddhhmmss&gt;_&lt;ApplicationId&gt;/   : Date and time processed with the extractnsave command and application ID associated with the NSAVE file.
        &lt;DirectoryOrFilePath&gt;           : Path that includes the storage location within the NX main unit (the path specified within the application) and the path to the storage location for when compressing the NSAVE file.</pre>
      </div>
    </div>
    <p> <strong>If expected full path is less than 260 characters</strong> </p>
    <ul>
      <li> It is extracted to the expected full path. <br /></li>
    </ul>
    <p>
      <strong>If expected full path is 260 characters or more</strong>
    </p>
    <ul>
      <li>Behavior in versions earlier than AuthoringToolKit 9.3.0:<ul><li>An error occurs when saving the FS entry.</li></ul></li>
      <li>Behavior in AuthoringToolKit 9.3.0 and later: <br /><ul><li><p class="auto-cursor-target">It is extracted in the following format.</p><div style="border-width: 1px;" class="preformatted panel"><div class="preformattedContent panelContent"><pre>&lt;SpecifiedRootDirectory&gt;/ 
    &lt;yyyymmddhhmmss&gt;_&lt;ApplicationId&gt;/
        longPath/
            longPath.csv     : File containing the expected full paths for the corresponding FS entries.
            ExtractedFiles/  : Stores only the files in the corresponding FS entries. If a file with the same name exists, or the expected full path is longer than 260 characters, the file name is changed as follows.
                                 - longFileName_&lt;number&gt;.&lt;extension&gt;</pre></div></div></li></ul></li>
    </ul>
    <ul>
      <li style="list-style-type: none; background-image: none;">
        <ul>
          <li class="auto-cursor-target">Directories and files decompressed in this format can be compressed into NSAVE files using <code>compressnsave</code> as follows.<ul><li class="auto-cursor-target">If the <code>&lt;<em>yyyymmddhhmmss</em>&gt;_&lt;<em>ApplicationId</em>&gt;</code> directory is targeted for compression, an NSAVE file can be created prior to decompression.</li></ul></li>
        </ul>
      </li>
    </ul>
  </div>
</div>
<h3 id="Anchor_107320233_h3_61">Argument List</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 13.2657%;" /> <col style="width: 86.6953%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNsavePath&gt;</th>
      <td>
        <p>Specifies the path where the NSAVE file is stored.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_62">Options</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 4.05774%;" /> <col style="width: 95.9032%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>The output path.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_63">Usage Examples</h3>
<ul>
  <li>Extracts the NSAVE file to the specified directory.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe extractnsave C:<span class="se">\w</span>ork<span class="se">\2</span>0180101005521_01004b9000490000.nsave -o C:<span class="se">\w</span>ork</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_26">Compress the Save Data</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe compressnsave -h
compressnsave: Compress save data in NSAVE format.
Usage: AuthoringTool.exe compressnsave &lt;inputDirectoryPath&gt; <span class="o">[</span>-o &lt;outoutDirectoryPath&gt;<span class="o">]</span>

Options:
&nbsp;&nbsp;-o &lt;outoutDirectoryPath&gt;  Directory path to output. If omitted, use the current directory.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The <code>compressnsave</code> command is available in AuthoringToolKit 7.3.0 and later.</p>
  </div>
</div>
<h3 id="Anchor_107320233_h3_64">Argument List</h3>
<table class="relative-table wrapped" style="width: 96.2881%;">
  <colgroup> <col style="width: 15.2165%;" /> <col style="width: 84.8225%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputDirectoryPath&gt;</th>
      <td>Specifies the directory to compress.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_65">Options</h3>
<table class="wrapped relative-table" style="width: 96.2881%;">
  <colgroup> <col style="width: 4.13578%;" /> <col style="width: 95.9032%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>Specifies the output destination directory.</p>
        <p>The name of the file to be exported is the name of the directory to compress.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_66">Usage Examples</h3>
<ul>
  <li>Compress the save data to the specified directory.</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe compressnsave C:<span class="se">\w</span>ork<span class="se">\2</span>0180101005521_01004b9000490000 -o C:<span class="se">\w</span>ork</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_27">Converting a Main Program NSP File to a Subprogram<a name="Anchor_107320233_convert_to_sub_program"></a></h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe convert-to-subprogram -h
convert-to-subprogram: Convert main program to subprogram by specifying programindex.
Usage: AuthoringTool.exe convert-to-subprogram &lt;inputNspPath&gt; --programindex &lt;programIndex&gt; --desc &lt;descFilePath&gt; --npdm &lt;npdmFilePath&gt;

Options:
&nbsp;&nbsp;-o &lt;outputDirectory&gt;           Directory path to output. If omitted, use the current directory.
&nbsp;&nbsp;--programindex &lt;programIndex&gt;  ProgramIndex applied to the converted nsp file. <span class="o">[</span><span class="m">1</span> to 15<span class="o">]</span>
&nbsp;&nbsp;--desc &lt;descFilePath&gt;          .desc file path to input
&nbsp;&nbsp;--npdm &lt;npdmFilePath&gt;          .npdm file path to input</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The <code>convert-to-subprogram</code> command is available in AuthoringToolKit 10.9.0 and later, or in AuthoringToolKit 11.4.0 and later.<br />Even NSP files created with past versions of AuthoringTool can be converted.</p>
  </div>
</div>
<h3 id="Anchor_107320233_h3_67">Argument List</h3>
<table class="relative-table wrapped" style="width: 96.3247%;">
  <colgroup> <col style="width: 15.2707%;" /> <col style="width: 84.7293%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;inputNspPath&gt;</th>
      <td>
        <p>Specifies the path of the NSP file to convert to a subprogram.</p>
        <p>You can enter the path for application-type NSP files (excluding multi-program applications).<br />You cannot specify a subprogram.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_68">Options</h3>
<table class="relative-table wrapped" style="width: 96.2806%;">
  <colgroup> <col style="width: 13.181%;" /> <col style="width: 86.819%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>
        <p>The output path. If a directory has been specified, the file is saved with the name <code>***_subprogram.nsp</code> to that directory. (<code>***</code> is the input source NSP filename.)</p>
        <p>If the directory specified in the path does not exist, it is created automatically. If nothing is specified, the file is saved with the name <code>***_subprogram.nsp</code> directly below the execution path.</p>
      </td>
    </tr>
    <tr>
      <th>--programindex</th>
      <td>
        <p>Specifies the post-conversion <code>ProgramIndex</code>. This option is required.</p>
        <p>For <code>ProgramIndex</code>, you must specify a value in the range from 1 to 15.</p>
      </td>
    </tr>
    <tr>
      <th>--desc</th>
      <td>
        <p>Specifies the path to the DESC file that was used when the entered NSP file was created. This option is required.</p>
        <p>DESC files can be used when checking a submission, so reference them directly from the package instead of separately copying or renaming each package file.</p>
      </td>
    </tr>
    <tr>
      <th>--npdm</th>
      <td>
        <p>Specifies the NPDM file of the ProgramIndex of the subprogram. This option is required.</p>
        <p>The file generated by <code>MakeMeta.exe</code> is used for this NPDM file. For more information, see the following usage example. <br /></p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_69">Usage Examples</h3>
<ul>
  <li>Convert the main program NSP file to the subprogram with the Program Index 1.<br /><ol><li>Edit the NMETA file used to create the main program, and set <code>NintendSdkMeta/Core/ProgramIndex</code> to 1.</li><li>Run <code>MakeMeta.exe</code> and create an NPDM file from the NMETA file created in step 1.</li><li>Run the <code>convert-to-subprogram</code> command in AuthoringTool. Specify the NPDM file created in 2.</li></ol></li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ MakeMeta.exe --meta application.nmeta -o application.npdm --desc <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.desc
$ AuthoringTool.exe convert-to-subprogram application.nsp -o C:<span class="se">\o</span>utput --programindex <span class="m">1</span> --desc <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.desc --npdm application.npdm</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h1 id="Anchor_107320233_h1_4">Notes</h1>
<h2 id="Anchor_107320233_h2_28">Writing a Filter Description File</h2>
<p>A filter description file is a user-created text file used to filter out which resource data files are included in an application.<br />Use the .fdf extension for your filter description file.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Use the <code>--only-adf</code> option to determine whether your filter is working as intended.</p>
  </div>
</div>
<h3 id="Anchor_107320233_h3_70">Specifications</h3>
<p>Filter description files can include the following types of filtering rules.</p>
<ul>
  <li>Exclusion rules</li>
  <li>Exception rules</li>
  <li>Filtering target entry specification rules</li>
</ul>
<p>When specifying any paths for entries (directories or files) targeted by these rules, use <strong>relative paths from the resource data directory</strong>.<br />Also, .NET Framework-style regular expressions are supported.</p>
<h4 id="Anchor_107320233_h4_8">Exclusion Rules</h4>
<p>Entries that match the specified regular expressions are not included as resource data.</p>
<h4 id="Anchor_107320233_h4_9">Exception Rules</h4>
<p>Entries that match the specified regular expressions are removed from any previously matching exclusion rules.<br />If several exclusion rules and exception rules apply to the same entry, the rule that is specified last takes precedence.</p>
<h4 id="Anchor_107320233_h4_10">Filtering Target Entry Specification Rules</h4>
<p>The specified entries are always included in resource data. <strong>Regular expressions cannot be used in these rules.</strong> <br />When rules of this type are specified, entries other than those explicitly specified in the rule are no longer compared against any subsequent exclusion rules or exception rules, and are not included in the resource data.<br />You can specify as many rules of this type as you like, but no exclusion rules or exception rules can be specified before them.</p>
<p>If a directory path is specified, all files in that directory are matched by the rule.</p>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>When selecting a large number of entries to include in resource data from among the even larger number of entries in a resource data directory, for example, using a large number of independent exclusion rules and exception rules that match a large number of entries may cause the filtering process to take a long time to run.<br />In this case, you can instead use filtering target entry specification rules to select the resource data, which may in some cases allow the filtering process to run faster.</p>
  </div>
</div>
<h3 id="Anchor_107320233_h3_71">
  <span style="color: rgb(117,117,117);">Line Conventions</span>
</h3>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>
        <p>Process</p>
      </th>
      <th>Notation Used in This Document</th>
      <th>Example</th>
    </tr>
    <tr>
      <td>Comment lines</td>
      <td>Comment lines start with a semicolon (;).</td>
      <td>
        <pre>; comment line</pre>
      </td>
    </tr>
    <tr>
      <td>New exclusion rule</td>
      <td>Start a new exclusion rule with a hyphen (-), and wrap the regular expression to match in quotation marks (&quot;).</td>
      <td>
        <pre>-&quot;^.svn&quot;</pre>
      </td>
    </tr>
    <tr>
      <td>New exception rule</td>
      <td>Start a new exception rule with a plus sign (+), and wrap the regular expression to match in quotation marks (&quot;).</td>
      <td>
        <pre>+&quot;\.dat$&quot;</pre>
      </td>
    </tr>
    <tr>
      <td>New filtering target entry specification rule</td>
      <td>
        <p>Start a new rule with *+ (asterisk followed by plus symbol), followed by the path of the file or folder to specify in quotation marks (&quot;).</p>
      </td>
      <td>
        <p>*+&quot;folderA/folderB&quot;</p>
        <p>*+&quot;folderA/C.bin&quot;</p>
      </td>
    </tr>
    <tr>
      <td>Include another filter description file</td>
      <td>Write <code>#include</code>, followed by a space, followed in quotation marks (&quot;) by the path of the filter description file to include (relative path from the file including the other file, or absolute path).</td>
      <td>
        <pre>#include &quot;filter.fdf&quot;</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_72">Inline Syntax</h3>
<p>In filter description files, environment variables wrapped in <code>@&lt;</code> and <code>&gt;</code> are replaced with the corresponding environment variable.<br />You can use any user-specified environment variables in addition to <code>AUTHORING_TOOL_WORK_DIR</code>, which specifies the path of the current working directory of the tool.</p>
<h3 id="Anchor_107320233_h3_73">Example Notation</h3>
<h4 id="Anchor_107320233_h4_11">Example 1</h4>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="gutter">1<br />
2<br />
3<br />
4<br />
5<br />
6</td>
      <td class="code">
        <div class="codeblock"><pre>; comment
-&quot;\.log$&quot;
-&quot;^folderA&quot;
+&quot;^folderA/.*\.dat$&quot;
-&quot;^@&lt;PROJECT_PATH&gt;/debug&quot;
#include &quot;filter2.fdf&quot; </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The preceding examples are processed as follows.</p>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 64.6245%;">
  <colgroup> <col style="width: 6.92071%;" /> <col style="width: 92.9597%;" /> </colgroup>
  <tbody>
    <tr>
      <th>Line Number</th>
      <th>Description</th>
    </tr>
    <tr>
      <td>
        <p>1</p>
      </td>
      <td>Treated as a comment line &ndash; ignored.</td>
    </tr>
    <tr>
      <td>2</td>
      <td>
        <p>Adds an exclusion rule for entries that end with the <code>.log</code> filename extension.</p>
      </td>
    </tr>
    <tr>
      <td>3</td>
      <td>Adds an exclusion rule for entries in <code>folderA</code>.</td>
    </tr>
    <tr>
      <td>4</td>
      <td>
        <p>Adds an exception rule for entries that are in <code>folderA</code> and end with the <code>.dat</code> filename extension.</p>
      </td>
    </tr>
    <tr>
      <td>5</td>
      <td>Adds an exclusion rule, with <code>@&lt;PROJECT_PATH&gt;</code> replaced with the contents of the <code>PROJECT_PATH</code> environment variable in the regular expression.</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Includes an additional filter description file named <code>filter2.fdf</code>.</td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_107320233_h4_12">Example 2</h4>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="gutter">1<br />
2<br />
3<br />
4<br />
5</td>
      <td class="code">
        <div class="codeblock"><pre>; comment
*+&quot;folderA/folderB&quot;
*+&quot;folderA/C.bin&quot;
-&quot;.*test.*&quot;
+&quot;.*test_A.*&quot;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The preceding examples are processed as follows.</p>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 95.6924%;">
  <colgroup> <col style="width: 5.02164%;" /> <col style="width: 95.0072%;" /> </colgroup>
  <tbody>
    <tr>
      <th>Line Number</th>
      <th>Description</th>
    </tr>
    <tr>
      <td>
        <p>1</p>
      </td>
      <td>Treated as a comment line &ndash; ignored.</td>
    </tr>
    <tr>
      <td>2</td>
      <td>
        <p>Adds files in the <code>folderA/folderB</code> directory as filtering target entries.</p>
      </td>
    </tr>
    <tr>
      <td>3</td>
      <td>Adds <code>folderA/C.bin</code> as an entry.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>
        <p>(<strong>Note:</strong> Line 4 includes an exclusion rule, and as a result no filtering target entry specification rules can be specified after that line. Also, no entries other than those specified on lines 2 and 3 will be included in the resource data.)</p>
      </td>
    </tr>
    <tr>
      <td>4</td>
      <td>
        <p>Removes any entries whose paths contain &ldquo;test&rdquo; from the entries added on lines 2 and 3.</p>
      </td>
    </tr>
    <tr>
      <td>5</td>
      <td>Adds an exception rule to re-include any entries whose paths contain &ldquo;test_A&rdquo; from among the entries added on lines 2 and 3.</td>
    </tr>
  </tbody>
</table>
<div class="tip">
  <div class="tip_left">Info</div>
  <div class="tip_right">
    <p>Example 2 as written usually yields faster processing times than an equivalent filter written as follows, for example.</p>
    <table class="codeblock">
      <tbody>
        <tr>
          <td class="gutter">1<br />
2<br />
3<br />
4<br />
5<br />
6</td>
          <td class="code">
            <div class="codeblock"><pre>; comment
-&quot;.*&quot;
+&quot;^folderA/folderB.*&quot;
+&quot;^folderA/C.bin$&quot;
-&quot;.*test.*&quot;
+&quot;^folderA/folderB/.*test_A.*&quot;</pre></div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<h2 id="Anchor_107320233_h2_29">Specifying Icons Included in the NSP File<a name="Anchor_107320233_icon"></a></h2>
<p>For more information, see <a href="../Pages/Page_166040464.html">Icons in Application Images</a>.</p>
<h2 id="Anchor_107320233_h2_30">Specifying NRO Files Contained in NSP Program Information<a name="Anchor_107320233_nro"></a></h2>
<h3 id="Anchor_107320233_h3_74">Parameter Format</h3>
<p>As shown in the following example, specify the directory where the NRO files contained in the program information are located.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>--nro &lt;nroDirectoryPath&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_107320233_h3_75">--nro Option</h3>
<p>The <code>--nro</code> option specifies the NRO files contained in the program information within the NSP file.<br />Include the information for NRO files located in the specified directory in the program information within the NSP file.</p>
<h2 id="Anchor_107320233_h2_31">Behavior When There Are Invalid Command-Line Arguments</h2>
<h3 id="Anchor_107320233_h3_76">Settings</h3>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Available in AuthoringToolKit 11.1.0 and later.</p>
  </div>
</div>
<p>You can change the behavior when there are invalid command-line arguments by changing the value of <code>StrictCheckOfCommandLineArguments</code> in the <code>AuthoringTool.exe.config</code> file that is located at the same hierarchical level as the executable file.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre><span class="nt">&lt;appSettings&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;add</span> <span class="na">key=</span><span class="s">&quot;StrictCheckOfCommandLineArguments&quot;</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/appSettings&gt;</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<table class="relative-table wrapped" style="width: 81.2752%;">
  <colgroup> <col style="width: 28.5194%;" /> <col style="width: 71.5302%;" /> </colgroup>
  <tbody>
    <tr>
      <th>value=&quot;false&quot; (default)</th>
      <td>If there is an invalid command-line argument, a warning message is displayed but the application continues.</td>
    </tr>
    <tr>
      <th>value=&quot;true&quot;</th>
      <td>
        <p>If there is an invalid command-line argument, an error is displayed and the application stops.</p>
      </td>
    </tr>
  </tbody>
</table>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>Some checks of command-line arguments that resulted in errors in AuthoringToolKit 11.1.0 and earlier versions are not subject to control by this feature.</p>
  </div>
</div>
<h3 id="Anchor_107320233_h3_77">Examples of Invalid Command-Line Arguments</h3>
<p>These examples show the execution where <code>value=&quot;true&quot;</code> and invalid command-line arguments have been specified.</p>
<ul>
  <li>Specifying an undefined option (In this example, the nonexistent option &quot;<code>--unknown</code>&quot; is specified as an option of the <code>createnca</code> subcommand.)</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe createnca  --unknown -o sample.nca --meta <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.aarch64.lp64.nmeta --desc <span class="nv">$NINTENDO_SDK_ROOT</span>/Resources/SpecFiles/Application.desc --program C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/code C:/Application/Binaries/NX64/NX_Debug/application.nspd/program0.ncd/data
<span class="o">[</span>Error<span class="o">]</span> --unknown option is not supported.
...</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>Disagreement in the number of positional arguments (In this example, two positional arguments have been specified for the <code>extract</code> subcommand, but there is only supposed to be one.)</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe extract sample.nsp toomany.nsp
<span class="o">[</span>Error<span class="o">]</span> too many arguments.
...</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_107320233_h2_32">Supporting Long Paths in Resource Data</h2>
<p>Long paths in Windows are supported in AuthoringToolKit 12.1.0 and later.<br />If you have Windows long path support enabled, the system can handle resource data with paths that are 768 bytes or less and exceed 260 characters.<br />Starting from Windows 10 (1607), you can enable long path support by using Regedit in Windows to change LongPathsEnabled from 0 to 1 in HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\FileSystem. For more information, see Windows specifications.</p>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
