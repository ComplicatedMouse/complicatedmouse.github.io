<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>3D News | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 3D News -->
<div class="pagetitle" id="PageId_826745781">3D News</div>
<div class="text_separate">
<p>
  <strong>This section introduces new features added to the 3D module.</strong>
</p>
<p>
  <strong> <ul class="macro_toc"><li><a href="#Anchor_826745781_h1_1">3DEditor</a></li><ul><li><a href="#Anchor_826745781_h2_1">Added &quot;Always reference value using child material&quot; to the Child Material Restrictions.</a></li></ul><li><a href="#Anchor_826745781_h1_2">Photoshop Plug-In</a></li><li><a href="#Anchor_826745781_h1_3">Maya Plug-In</a></li><ul><li><a href="#Anchor_826745781_h2_2">Added a feature for suppressing export of the &lt;material_array&gt; element in FMD files.</a></li><li><a href="#Anchor_826745781_h2_3">You can now export any type of surface material.</a></li><li><a href="#Anchor_826745781_h2_4">Addded support for textures connected via the aiNormalMap node.</a></li><li><a href="#Anchor_826745781_h2_5">Environment variables used for getting information in Pre-Export/Post-Export Scripts are now deleted when exporting ends.</a></li></ul><li><a href="#Anchor_826745781_h1_4">3D Command-Line Tools</a></li><li><a href="#Anchor_826745781_h1_5">Runtime</a></li></ul> <br /> </strong>
</p>
<h1 id="Anchor_826745781_h1_1">3DEditor</h1>
<!--Remove-->
<h2 id="Anchor_826745781_h2_1">Added &quot;Always reference value using child material&quot; to the Child Material Restrictions.</h2>
<p>
  <span style="color: rgb(23,43,77);">This child material's <strong>Value Reference</strong> is forcibly treated as <strong>Reference the value of the parent material</strong>. Neither <strong>Value Reference</strong> nor <strong>Child Material Restrictions</strong> can be configured for the child material.</span>
  <br />When multiple parent materials are being referenced, the priority for which value to use differs from the priority for <strong>Fix using the parent material value</strong>.</p>
<p>
  <span style="color: rgb(23,43,77);">The name of the setting is <code>ValuePolicyToRefer</code>.</span>
  <br />
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_826745781/838090923.png" height="209" class="embedded-image" />
  </span>
</p>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>
        <span style="color: rgb(23,43,77);">Points that are the same as Fix using the parent material value</span>
      </th>
      <td>
        <ul class="alternate">
          <li>In 3DEditor, a UI is not shown for child materials.</li>
        </ul>
        <ul class="alternate">
          <li>The child material's value reference setting is forcibly set to <strong>Reference the value of the parent material</strong>.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <th>Points that differ from Fix using the parent material value</th>
      <td>
        <ul class="alternate">
          <li>In <strong>Fix using the parent material value</strong>, the value is fixed to the value of the parent for which the restriction was imposed.</li>
          <li>In <strong>Always reference value using child material</strong>, the value of the parent for which the restriction was imposed is not forcibly used to resolve to the value. Rather, the value that is used is the value that is resolved using the reference setting of the parent material (<strong>Refer or Override</strong>), just like when resolving an unrestricted reference.</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information, see the following pages.</p>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>
        <p class="with-breadcrumbs">
          <a href="../Pages/Page_193048085.html">Material Property Window: Material Reference Page</a>
        </p>
      </th>
      <td>Describes the property window for setting and checking the parent material.</td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_83955594.html#Anchor_83955594_MaterialReferenceMenu">Material Referencing Settings</a>
      </th>
      <td>
        <p>Describes the shader parameter values, child material restrictions, and restrictions on child material values.</p>
      </td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_193043301.html">Material Referencing</a>
      </th>
      <td>Describes the material referencing feature and how to embed it.</td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_223837557.html">Parent Material Reference Path</a>
      </th>
      <td>Describes situations where multiple parent material reference paths are configured.</td>
    </tr>
  </tbody>
</table>
<h1 id="Anchor_826745781_h1_2">Photoshop Plug-In</h1>
<!--Remove-->
<h1 id="Anchor_826745781_h1_3">Maya Plug-In</h1>
<!--Remove-->
<h2 id="Anchor_826745781_h2_2">Added a feature for suppressing export of the &lt;material_array&gt; element in FMD files.</h2>
<p>Specify the following in the config file to suppress export of the <code>&lt;material_array&gt;</code> element in FMD files.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>export_material_array=&quot;false&quot;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <br /> This feature is used for referencing an existing material intermediate (FMT) file.<br />The <code>&lt;original_material_array&gt;</code> element of the FMD file and elements related to material for animation intermediate files are always exported regardless of this setting.</p>
<p>The following figure compares the results when the <code>material_array</code> element of the Robot sample model is exported with <code>true</code> and <code>false</code> settings.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>export_material_array Setting</th>
      <th>Export Result</th>
    </tr>
    <tr>
      <th>
        <pre>true</pre>
      </th>
      <td>
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper ">
              <img src="../Attachments/Attach_826745781/829840173.png" height="150" class="embedded-image" />
            </span>
          </p>
        </div>
      </td>
    </tr>
    <tr>
      <th>
        <pre>false</pre>
      </th>
      <td>
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper ">
              <img src="../Attachments/Attach_826745781/829845424.png" height="150" class="embedded-image" />
            </span>
          </p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information, see the following pages.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>
        <p>
          <a href="../Pages/Page_83956186.html#Anchor_83956186_export_material_array">export_material_array</a>
        </p>
      </th>
      <td>Describes <code>export_material_array</code> in the config settings.</td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_83956186.html#Anchor_83956186_config_file">Config File</a>
      </th>
      <td>Describes the <code>Export.ini</code> config file.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_826745781_h2_3">You can now export any type of surface material.</h2>
<p>
  <span style="color: rgb(23,43,77);">A feature has been added to the Maya plug-in for exporting any type of surface material.</span>
  <br />
  <span style="color: rgb(23,43,77);">Surface materials of any type are supported by specifying information about the attributes to export in the config file.</span>
</p>
<p>
  <a name="Anchor_826745781_aiStandardSurface"></a>
</p>
<p>The following example shows how to export the Arnold Ai Standard Surface (the <code>aiStandardSurface</code> node).<br /><br /></p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>material_attr_info_aiStandardSurface=&quot;baseColor=albedo,_a,as_diffuse; opacity=opacity; emissionColor=emission; normalCamera=normal; specularColor=specular; metalness=metal,_m&quot;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The images shows what is exported.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_826745781/832320762.png" height="400" class="embedded-image" />
  </span>
</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information, see the following pages.</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_83955689.html#Anchor_83955689_extended_materials">Extended Material</a>
      </th>
      <td>Describes the format for extended materials.</td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_83956186.html#Anchor_83956186_config_file">Config File</a>
      </th>
      <td>Describes the <code>Export.ini</code> config file.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_826745781_h2_4">Addded support for textures connected via the aiNormalMap node.</h2>
<p>
  <span style="color: rgb(23,43,77);">The Maya plug-in now supports textures that are connected to materials via the <code>aiNormalMap</code> node.</span>
</p>
<p>In the following example, the <code>aiNormalMap</code> node is connected to <code>aiStandardSurface</code>.<br />(<code>aiStandardSurface</code> can be exported if <a href="#Anchor_826745781_aiStandardSurface">3D News</a>its node is set to export<span style="color: rgb(23,43,77);"> in <code>Export.ini.)</code></span></p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_826745781/841988770.png" width="420" class="embedded-image" />
  </span>
</p>
<p>
  <br />
</p>
<p>After you export the texture, you can confirm in 3DEditor that it has been set in the sampler.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_826745781/841988771.png" height="250" class="embedded-image" />
  </span>
</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information, see the following pages.</p>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_83955689.html#Anchor_83955689_extended_materials">Extended Material</a>
      </th>
      <td>Describes the format for extended materials.</td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_83956186.html#Anchor_83956186_config_file">Config File</a>
      </th>
      <td>Describes the <code>Export.ini</code> config file.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_826745781_h2_5">Environment variables used for getting information in Pre-Export/Post-Export Scripts are now deleted when exporting ends.</h2>
<p>This change can sometimes avoid the problem of exceeding the maximum number of characters that can be used for environment variables when you are using Maya Export.<br />(When other tools are started from Maya, environment variables are deleted so large numbers of them are not inherited.)</p>
<p>The following figure shows an example of the script editor before and after deleting environment variables.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_826745781/841997103.png" height="400" class="embedded-image" />
  </span>
</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information, see the following pages.</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>
        <p class="with-breadcrumbs">
          <a href="../Pages/Page_83955629.html">Export Plug-In</a>
        </p>
      </th>
      <td>Describes the use and features of the Export plug-in.</td>
    </tr>
    <tr>
      <th>
        <p>
          <a href="../Pages/Page_83956186.html#Anchor_83956186_h2_10">Script Options</a>
        </p>
      </th>
      <td>
        <p class="with-breadcrumbs">Describes scripts (MEL) run before and after exporting.</p>
      </td>
    </tr>
  </tbody>
</table>
<div class="newsCategory">
  <h1 id="Anchor_826745781_h1_4">3D Command-Line Tools</h1>
  <!--Remove-->
</div>
<p>
  <br />
</p>
<p>
  <br />
</p>
<div class="newsCategory">
  <h1 id="Anchor_826745781_h1_5">Runtime</h1>
  <!--Remove-->
</div>
<macro>
  <script>
for (let categ of document.getElementsByClassName("newsCategory")){
    let h2 = categ.getElementsByTagName("h2");
	if (h2.length == 0){
        categ.style.display("none");
	}
}
</script>
</macro>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
