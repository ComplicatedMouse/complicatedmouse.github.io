<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Combining Flames With a 3D Model | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Combining Flames With a 3D Model -->
<div class="pagetitle" id="PageId_83955611">Combining Flames With a 3D Model</div>
<div class="text_separate">
<h1 id="Anchor_83955611_h1_1">Combining Flames With a 3D Model</h1>
<p>This section describes how to combine an animated 3D model with an effect.<br /> <span class="status_macro_base status_macro_Blue">Related Links</span> The example uses the flame effect completed in <a href="../Pages/Page_83955632.html">Embellishing the Flames</a>.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/108658961.gif" class="embedded-image" />
  </span>
</p>
<p>This tutorial uses examples for the following features.</p>
<table class="table">
  <tbody>
    <tr>
      <th>
        <a href="#Anchor_83955611_automove">Auto-Translate</a>
      </th>
      <td>Auto-Translate moves a registered model with a simple, rotational animation.<br />Use the viewer to check how the effect looks when the model moves.</td>
    </tr>
    <tr>
      <th>
        <a href="#Anchor_83955611_modellink">Linking Model and Effect</a>
      </th>
      <td>
        <p>Linking the effect to a registered 3D model shows how they work together in the viewer.</p>
        <p>This allows you to create the effect while checking the coloring and size of game characters and background models in the viewer.</p>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>This completed data is in the following location.<br /> <code>\Samples\Sources\Resources\Vfx\Eset\Fire_05.eset</code><br /></p>
  </div>
</div>
<h2 id="Anchor_83955611_h2_1">Preparing to Create the Effect</h2>
<p>First, prepare to create the effect by starting EffectMaker and EffectViewer.</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information about starting EffectMaker and EffectViewer, see <a href="../Pages/Page_83956096.html">Workflow</a>.</p>
<h3 id="Anchor_83955611_h3_1">Loading the Emitter Set</h3>
<p>Use the following procedure to load the effect completed with <strong>Embellishing the Flames</strong> into EffectMaker.</p>
<table class="table">
  <tbody>
    <tr>
      <th>1</th>
      <td>From the main menu, select <strong>File</strong> &gt; <strong>Open</strong> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079802.png" class="embedded-image" /></span>).</td>
    </tr>
    <tr>
      <th>2</th>
      <td>When a window opens, select and open the emitter set file (ESET file) from the following location.<br /> <code>\Samples\Sources\Resources\Vfx\Eset\Fire_05.eset</code></td>
    </tr>
    <tr>
      <th>3.</th>
      <td>The <code>Eset\Fire_05</code> file (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079868.png" class="embedded-image" /></span>) opens in the workspace.</td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information, see the following pages.</p>
<table class="table">
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_93356878.html">Workspace</a>
      </th>
      <td>
        <p>Describes the workspace to display nodes comprising effects in a hierarchical structure.</p>
      </td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_92116275.html">Property Window</a>
      </th>
      <td>Describes the Property window, which is composed of a workspace for operations on nodes and for previewing, and a UI for configuring node features.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83955611_h3_2">Verifying in the Viewer</h3>
<p>Confirm that the loaded flame effect has been transferred to the viewer as shown in the following figure.<br />You can now edit the effect while observing the changes in the viewer.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/83080783.gif" class="embedded-image" />
  </span>
</p>
<h2 id="Anchor_83955611_h2_2">Registering the Model</h2>
<p>Register the 3D model that will be linked to the flame effect in EffectMaker so it can be checked on the viewer.</p>
<h3 id="Anchor_83955611_h3_3">Selecting the Basic Settings Tab in Unconfigured Model</h3>
<p>In the workspace, select <strong>Unconfigured model</strong> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" alt="モデル設定ノード" title="モデル設定ノード" class="embedded-image" /></span>), found directly in the viewer (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83080269.png" alt="ビューアノード" title="ビューアノード" class="embedded-image" /></span>).<br />Confirm that the <strong>Basic Settings</strong> tab is selected in the <strong>Property</strong> window.<br />The settings for model files and model animation are shown.<br /> </p>
<h3 id="Anchor_83955611_h3_4">Configuring the Basic Settings Tab</h3>
<p>Register a 3D model using the following items (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520163.png" width="40" class="embedded-image" /></span>) in Models (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span>).</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">Item</th>
      <th style="text-align: center;">Settings Path</th>
      <th style="text-align: center;">3D Model</th>
      <th style="text-align: center;">Description</th>
    </tr>
    <tr>
      <td style="text-align: center;">
        <strong>Specify File <br /> </strong>
      </td>
      <td>
        <strong> \Samples\Sources\Resources\Vfx<br />\Eset\Models\Torch.fmdb</strong>
      </td>
      <td>
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_83956195/108658967.png" width="60" class="embedded-image" />
        </span>
      </td>
      <td>
        <p>Click the load button (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83080046.png" class="embedded-image" /></span>) and select the model file from the window that opens.</p>
        <p>If registered correctly, <code>Torch.fmdb</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" alt="モデル設定ノード" title="モデル設定ノード" class="embedded-image" /></span>) is displayed in the text box (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/92253562.png" class="embedded-image" /></span>). <strong> <br /> </strong></p>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <a name="Anchor_83955611_automove"></a>
</p>
<h2 id="Anchor_83955611_h2_3">Animating the Model Using Auto-Translate</h2>
<p> EffectMaker has a feature called Auto-Translate that moves a registered model with a simple, rotational animation.<br />Use this feature to check in the viewer how the effect looks when the model moves.</p>
<h3 id="Anchor_83955611_h3_5">Selecting the Auto-Translate Tab in the Model Node</h3>
<p>In the <strong>Property</strong> window, select the <strong>Auto-Translate</strong> tab.</p>
<h3 id="Anchor_83955611_h3_6">Configuring the Auto-Translate Settings</h3>
<p>Set the following items (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520163.png" width="40" class="embedded-image" /></span>) in Auto-Translate (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span>).</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">Item</th>
      <th style="text-align: center;">Value</th>
      <th style="text-align: center;">Description</th>
    </tr>
    <tr>
      <td>
        <strong>Auto-translate type<br /> </strong>
      </td>
      <td>
        <strong>Translate XZ plane</strong>
      </td>
      <td>
        <p>
          <code>Torch.fmdb</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" alt="モデル設定ノード" title="モデル設定ノード" class="embedded-image" /></span>) moves in a circle in the XZ plane in the viewer.</p>
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">
        <strong>XZ translation radius</strong>
      </td>
      <td style="text-align: center;">
        <strong>20</strong>
      </td>
      <td>Configures the radius of a circle root on the XZ plane surface to 20, which is two grid units.<br />Configuring to a larger value because the <code>torch.fmdb</code> file (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" class="embedded-image" /></span>) rotates at the Z roll speed.</td>
    </tr>
    <tr>
      <td>
        <strong>Z roll speed</strong>
      </td>
      <td style="text-align: center;">
        <strong>1</strong>
      </td>
      <td>Setting this option to a nonzero value rotates <code>Torch.fmdb</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" alt="モデル設定ノード" title="モデル設定ノード" class="embedded-image" /></span>) around an axis in the direction of the motion.<br />In this case, set the value to <code>1</code> to rotate slowly at a rate of one degree per frame.</td>
    </tr>
  </tbody>
</table>
<p>The following image shows how the viewer looks at this point.<br />The registered model of the wooden stick (<code>Torch.fmdb</code>) appears in the center of the screen.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/108658959.gif" class="embedded-image" />
  </span>
</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information, see the following pages.</p>
<table class="table">
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_83955918.html">Model Settings / Auto-Translate</a>
      </th>
      <td>Describes the <strong>Auto-Translate</strong> feature, which allows you to check how effects look on the viewer when the registered model is moved.</td>
    </tr>
  </tbody>
</table>
<p>
  <a name="Anchor_83955611_modellink"></a>
</p>
<h2 id="Anchor_83955611_h2_4">Linking Model and Effect</h2>
<p>Link the flame effect to the <code>ParticleL</code> bone node at the tip of the registered model (<code>Torch.fmdb</code>) to display the effect at that position.</p>
<h3 id="Anchor_83955611_h3_7">Selecting the SRT Transform Tab in Preview</h3>
<p>In the workspace, in the hierarchy below <code>Fire_05</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span>), select <code>Fire_05</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079792.png" class="embedded-image" /></span>) to preview.<br />In the <strong>Property</strong> window, select the <strong>SRT Transform</strong> tab.<br />The value of the setting displays temporarily in the viewer for confirmation purposes.</p>
<h3 id="Anchor_83955611_h3_8">Configuring the Model Links Setting</h3>
<p>Link the registered model with all emitters (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079867.png" class="embedded-image" /></span>) in the emitter set (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span>).<br />Set the following items (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520163.png" width="40" class="embedded-image" /></span>) in Model Links (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span>).</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">Item</th>
      <th style="text-align: center;">Value</th>
      <th style="text-align: center;">Description</th>
    </tr>
    <tr>
      <td>
        <strong>Model to Constrain</strong>
      </td>
      <td>
        <strong>Torch</strong>
      </td>
      <td>Select the model <code>Torch.fmdb</code>.</td>
    </tr>
    <tr>
      <td>
        <strong>Bone to Constrain</strong>
      </td>
      <td>
        <strong>ParticleL</strong>
      </td>
      <td>Select <code>ParticleL</code> as the bone node to link the flame effect to.<br /><code>ParticleL</code> is the node at the tip of <code>Torch.fmdb</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" alt="モデル設定ノード" title="モデル設定ノード" class="embedded-image" /></span>).</td>
    </tr>
  </tbody>
</table>
<p>The viewer shows the fire effect <code>Fire_05</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span>) emitted from the tip of <code>Torch.fmdb</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" alt="モデル設定ノード" title="モデル設定ノード" class="embedded-image" /></span>).</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information, see the following pages.</p>
<table class="table">
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_97619517.html">Model to Constrain</a>
      </th>
      <td>Description of the <strong>Model to Constrain</strong> feature for selecting which model to link from among the model files registered in the <strong>Model Settings</strong> node.</td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_97619525.html">Bone to Constrain</a>
      </th>
      <td>Description of the <strong>Bone to Constrain</strong> feature, which allows you to select which bone you want to emit the effect from the linked model selected in <strong>Model to Constrain</strong>.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955611_h2_5">Changing the Effect's Particle Follow Type</h2>
<p>Adjust the emitter's <strong>Follow Type</strong> setting so the particles look more natural in the <code>Fire_05</code> effect (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span>) linked to the model <code>Torch.fmdb</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" alt="モデル設定ノード" title="モデル設定ノード" class="embedded-image" /></span>).</p>
<h3 id="Anchor_83955611_h3_9">Setting Particle Follow Type</h3>
<p>In the workspace, directly below <code>Fire_05</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span>), click <code>Smoke</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079867.png" class="embedded-image" /></span>) to select it.<br />Hold down the SHIFT key and click <code>Main</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079867.png" class="embedded-image" /></span>) to select it.<br />All emitters in the hierarchy under <code>Fire_05</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span>) can now be batch-edited.<br />Confirm that the <strong>Basic Settings</strong> tab in the <strong>Property</strong> window has been selected.</p>
<p>Set the following items (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520163.png" width="40" class="embedded-image" /></span>) in <strong>Basic Settings</strong> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span>).</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">Item</th>
      <th style="text-align: center;">Value</th>
      <th style="text-align: center;">Description</th>
    </tr>
    <tr>
      <td>
        <strong>Particle Follow Type</strong>
      </td>
      <td>
        <strong>Follow only emitter position</strong>
      </td>
      <td>None of the particles of <code>Fire_05</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span>) track the rotational movement of their emitters but they do track the translation movement.<br /> As a result, they do not track the rotational movement of <code>Torch.fmdb</code> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" alt="モデル設定ノード" title="モデル設定ノード" class="embedded-image" /></span>) either.</td>
    </tr>
  </tbody>
</table>
<p>The following chart describes the difference of rendering by the effect of selected <strong>Particle follow type</strong> on the emitter rotation and translation.</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">Perfectly follow emitter SRT</th>
      <th style="text-align: center;">Do not follow emitter</th>
      <th style="text-align: center;">Follow only emitter position</th>
    </tr>
    <tr>
      <td style="text-align: center;">
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_83955557/108658962.gif" width="300" class="embedded-image" />
        </span>
      </td>
      <td style="text-align: center;">
        <p>
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955557/108658960.gif" width="300" class="embedded-image" />
          </span>
        </p>
      </td>
      <td>
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_83955557/108658961.gif" width="300" class="embedded-image" />
        </span>
      </td>
    </tr>
    <tr>
      <td>Particles track all movements of their emitters.<br />All particles rotate as a whole, looking unnatural.</td>
      <td>
        <p>Particles do not track any movement of their emitters.</p>The particle interval becomes wider, which looks slightly unnatural.</td>
      <td>Particles only track translation movements of their emitters.<br />This setting looks the most natural for this effect.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955611_h2_6">Completed Image</h2>
<p>The following is a completed image of a burning torch, made by combining the <code>Torch.fmdb</code> 3D model (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079787.png" alt="モデル設定ノード" title="モデル設定ノード" class="embedded-image" /></span>) and the <code>Fire_05</code> effect (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span>).</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/108658961.gif" class="embedded-image" />
  </span>
</p>
<p> </p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
