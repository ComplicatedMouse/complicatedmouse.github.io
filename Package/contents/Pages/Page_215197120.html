<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>News for Developers | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- News for Developers -->
<div class="pagetitle" id="PageId_215197120">News for Developers</div>
<div class="text_separate">
<h1 id="Anchor_215197120_h1_1">News for Developers</h1>
<p>This document describes the changes for developers in NintendoSDK 3.0.0.</p>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_215197120_h1_1">News for Developers</a>
    </li>
    <li>
      <a href="#Anchor_215197120_h1_2">nn::g3d News ()</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_215197120_h2_1">Updated the binary resource file format.</a>
      </li>
      <li>
        <a href="#Anchor_215197120_h2_2">Forsyth is now the default primitive optimization mode.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_215197120_h1_3">nn::vfx News ()</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_215197120_h2_3">Updated Intermediate File Version</a>
      </li>
      <li>
        <a href="#Anchor_215197120_h2_4">About Child Emitter Bug Fixes</a>
      </li>
      <li>
        <a href="#Anchor_215197120_h2_5">Y-Axis Billboard: Added Support Features</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_215197120_h1_4">nn::ui2d News ()</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_215197120_h2_6">Made improvements to skip the shader settings when the same shader and same variation are used continuously.</a>
      </li>
      <li>
        <a href="#Anchor_215197120_h2_7">Made improvements to cache the results of GetGpuAddress in gfx.</a>
      </li>
      <li>
        <a href="#Anchor_215197120_h2_8">Fixed a bug where panes created in the program by the default constructor would not be displayed.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_215197120_h1_5">nn::font News ()</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_215197120_h2_9">Fixed a bug where there was sometimes a memory overrun in the RectDrawer work memory.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_215197120_h1_6">nn::atk News ()</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_215197120_h2_10">Changed the name of nn::atk::StreamDataInfo.</a>
      </li>
      <li>
        <a href="#Anchor_215197120_h2_11">Added a function to get sound resource information before preparation is complete.</a>
      </li>
      <li>
        <a href="#Anchor_215197120_h2_12">Adding Opus Stream Playback That Uses the Hardware Accelerator</a>
      </li>
      <li>
        <a href="#Anchor_215197120_h2_13">Revised the Programming Guide.</a>
      </li>
    </ul>
  </ul>
</p>
<p> </p>
<h1 id="Anchor_215197120_h1_2">nn::g3d News (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_215197120/215216082.png" class="embedded-image" /></span>)</h1>
<h2 id="Anchor_215197120_h2_1">Updated the binary resource file format.</h2>
<p>The binary formats for BFRES files and BFSHA files were adjusted to maintain compatibility with future binary resource files as much as possible.  This change causes the compatibility binary files created in previous versions of the 3D binary converter and 3D shader converter to be no longer compatible, so resources must be reconverted.</p>
<h2 id="Anchor_215197120_h2_2">Forsyth is now the default primitive optimization mode.</h2>
<p>Changed the default value for the <code>--mode</code> option of the primitive optimization feature in <a href="../Pages/Page_83955705.html">Intermediate File Optimizer</a> from Normal to Forsyth. Optimizations run with the <code>--mode</code> option omitted will now produce different results. In addition, the evaluation methods for processed vertex count for Normal, Force, and BruteForce have also been changed to the same evaluation method used for Forsyth. As a result, optimizations running in the Normal, Force, or BruteForce modes will also produce different results. For more information about the evaluation methods for processed vertex count, see the section about primitive optimization in the intermediate file optimizer.</p>
<p>The default primitive optimization mode in the Maya plug-in has also been changed to Forsyth to be consistent with this change.</p>
<h1 id="Anchor_215197120_h1_3">nn::vfx News (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_215197120/215216083.png" class="embedded-image" /></span>)</h1>
<h2 id="Anchor_215197120_h2_3">Updated Intermediate File Version</h2>
<p>The intermediate file version was updated in accordance with <a href="../Pages/Page_204971009.html">Child Emitter Bug Fixes</a>. <br />The new intermediate file version is <strong>1.0.0.7</strong>.</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span>
</p>
<table class="table">
  <tbody>
    <tr>
      <th>
        <span class="with-breadcrumbs">
          <a href="../Pages/Page_83955581.html">Binary Converter</a>
        </span>
      </th>
      <td>There is a description of the intermediate file update in the Update the Intermediate Files section.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_215197120_h2_4">About Child Emitter Bug Fixes</h2>
<p>This version fixes two bugs related to child emitters.</p>
<ul>
  <li>Fixed a bug where the particle follow type of the child emitter did not work.</li>
  <li>Fixed a bug related to the emitter transform of child emitters.</li>
</ul>
<p>Detailed revision content is described in the linked document. <br />In addition, because of this fix, in some cases compatibility cannot be maintained with previously compatible particle behaviors. As a result, effects that use child emitters may have a different appearance when playing back old data. If this occurs, fix the data.<br /><br /></p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span>
</p>
<table class="table">
  <tbody>
    <tr>
      <th>
        <span class="with-breadcrumbs">
          <a href="../Pages/Page_204971009.html">Child Emitter Bug Fixes</a>
        </span>
      </th>
      <td>
        <p>This document describes the child emitter bug fixes that were implemented in this version.</p>
        <p>We recommend you read the entire document.</p>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_215197120_h2_5">Y-Axis Billboard: Added Support Features</h2>
<p>You can now implement this feature by just calling a specific method in the callback function when implementing a y-axis billboard that uses a custom action.</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span>
</p>
<table class="table">
  <tbody>
    <tr>
      <th>
        <span class="with-breadcrumbs">
          <a href="../Pages/Page_124941626.html">Implementing the Emitter Billboard</a>
        </span>
      </th>
      <td>Y-axis billboard: Describes implementation information.</td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The emitter billboard is a feature for using small numbers of particles to implement <br />effects such as fireworks by making the emitters form a billboard in the direction of the camera.</p>
    <table class="table">
      <tbody>
        <tr>
          <th style="text-align: center;">Emitter Billboard</th>
          <th style="text-align: center;">Emitter Y-Axis Billboard</th>
        </tr>
        <tr>
          <td style="text-align: center;">
            <p>
              <span class="embedded-file-wrapper ">
                <img src="../Attachments/Attach_215197120/215217408.gif" width="270" class="embedded-image" />
              </span>
            </p>
            <p>(Click to play.)</p>
          </td>
          <td style="text-align: center;">
            <p>
              <span class="embedded-file-wrapper ">
                <img src="../Attachments/Attach_215197120/215217409.gif" width="270" class="embedded-image" />
              </span>
            </p>
            <p>(Click to play.)</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<h1 id="Anchor_215197120_h1_4">nn::ui2d News (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_215197120/216210421.png" class="embedded-image" /></span>)</h1>
<h2 id="Anchor_215197120_h2_6">Made improvements to skip the shader settings when the same shader and same variation are used continuously.</h2>
<p>Reduced the CPU and GPU load by skipping the shader settings when the same shader and same variation draw objects continuously.</p>
<p>As a result, you can speed up processing even more by reordering the pane trees so that picture panes with the same blending are in a continuous block.</p>
<p>This functionality has been improved to the point where, when drawing layout data containing 150 instances of a picture pane with the same blend on a specific platform, the 0.20 milliseconds per frame of GPU load that was previously required is now 0.12 milliseconds.</p>
<h2 id="Anchor_215197120_h2_7">Made improvements to cache the results of GetGpuAddress in gfx.</h2>
<p>The <code>gfx</code> <code>GetGpuAddress</code> function is called frequently, so its results are now cached to reduce CPU load.</p>
<p>This functionality has been improved to the point where, when drawing layout data containing 320 panes on a specific platform, the 1.28 milliseconds per frame of CPU load that was previously required is now 1.25 milliseconds.</p>
<h2 id="Anchor_215197120_h2_8">Fixed a bug where panes created in the program by the default constructor would not be displayed.</h2>
<p>Fixed a bug where text box panes, picture panes, and window panes generated in the program by the default constructor would not be displayed on the screen.</p>
<h1 id="Anchor_215197120_h1_5">nn::font News (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_215197120/216210422.png" class="embedded-image" /></span>)</h1>
<h2 id="Anchor_215197120_h2_9">Fixed a bug where there was sometimes a memory overrun in the RectDrawer work memory.</h2>
<p>Fixed a bug where an overrun would occur if you passed memory that did not meet the correct alignment restrictions when calculations for working memory size were erroneous in <code><span class="ApiLink_nn__font__RectDrawer__Initialize">nn::font::RectDrawer::Initialize</span>()</code>.</p>
<p>Changed specifications to require alignment restrictions for the work buffer in the new version. An assertion failure now occurs when memory with an incorrect alignment is configured. Enable the acquisition of the necessary alignment value using <code><span class="ApiLink_nn__font__RectDrawer__GetWorkBufferAlignment">nn::font::RectDrawer::GetWorkBufferAlignment</span>()</code>.</p>
<p>The bug occurs when adjusting an alignment of 1,524 bytes or greater. A memory attribute violation occurred after either having memory corruption or unintentionally overwriting the memory attribute. This bug existed prior to version 0.16 of the NintendoSDK. However, we project that few instances surfaced.</p>
<h1 id="Anchor_215197120_h1_6">nn::atk News (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_215197120/215216088.png" class="embedded-image" /></span>)</h1>
<h2 id="Anchor_215197120_h2_10">Changed the name of nn::atk::StreamDataInfo.</h2>
<p>Changed the <code><span class="ApiLink_nn__atk__StreamDataInfo">nn::atk::StreamDataInfo</span></code> structure name for consistency with <code><span class="ApiLink_nn__atk__WaveSoundDataInfo">nn::atk::WaveSoundDataInfo</span></code>. The following features have been deprecated due to this change.</p>
<ul>
  <li>
    <code>
      <span class="ApiLink_nn__atk__StreamDataInfo">nn::atk::StreamDataInfo</span>
    </code> structure</li>
  <li>
    <code>
      <span class="ApiLink_nn__atk__StreamSoundHandle__ReadStreamDataInfo">nn::atk::StreamSoundHandle::ReadStreamDataInfo</span>
    </code> function</li>
</ul>
<p>The following structure and function were added to provide the same features, so please replace them.</p>
<ul>
  <li>
    <code>
      <span class="ApiLink_nn__atk__StreamSoundDataInfo">nn::atk::StreamSoundDataInfo</span>
    </code> structure</li>
  <li>
    <code>
      <span class="ApiLink_nn__atk__StreamSoundHandle__ReadStreamSoundDataInfo">nn::atk::StreamSoundHandle::ReadStreamSoundDataInfo</span>
    </code> function</li>
</ul>
<h2 id="Anchor_215197120_h2_11">Added a function to get sound resource information before preparation is complete.</h2>
<p>Added the following functions to get the resource information for wave sound and stream sound.</p>
<ul>
  <li>
    <code>
      <span class="ApiLink_nn__atk__SoundArchivePlayer__ReadWaveSoundDataInfo">nn::atk::SoundArchivePlayer::ReadWaveSoundDataInfo</span>
    </code>
  </li>
  <li>
    <code>
      <span class="ApiLink_nn__atk__SoundArchivePlayer__ReadStreamSoundDataInfo">nn::atk::SoundArchivePlayer::ReadStreamSoundDataInfo</span>
    </code>
  </li>
  <li>
    <code>
      <span class="ApiLink_nn__atk__SoundArchivePlayer__ReadStreamSoundRegionDataInfo">nn::atk::SoundArchivePlayer::ReadStreamSoundRegionDataInfo</span>
    </code>
  </li>
</ul>
<p>
  <code>
    <span class="ApiLink_nn__atk__SoundArchivePlayer__ReadWaveSoundDataInfo">nn::atk::SoundArchivePlayer::ReadWaveSoundDataInfo</span>
  </code> can be used to get information even before preparation is complete so long as the loading has finished, unlike the existing <code><span class="ApiLink_nn__atk__WaveSoundHandle__ReadWaveSoundDataInfo">nn::atk::WaveSoundHandle::ReadWaveSoundDataInfo</span></code> function.</p>
<p>
  <code>
    <span class="ApiLink_nn__atk__SoundArchivePlayer__ReadStreamSoundDataInfo">nn::atk::SoundArchivePlayer::ReadStreamSoundDataInfo</span>
  </code> can be used to get information even if the sound is not being played back, unlike the existing <code><span class="ApiLink_nn__atk__StreamSoundHandle__ReadStreamSoundDataInfo">nn::atk::StreamSoundHandle::ReadStreamSoundDataInfo</span></code> function. However, note that getting information will fail during stream sound playback.</p>
<p>Use <code><span class="ApiLink_nn__atk__SoundArchivePlayer__ReadStreamSoundRegionDataInfo">nn::atk::SoundArchivePlayer::ReadStreamSoundRegionDataInfo</span></code> to get the region information. Specifically, the function can be used to get the starting sample position, ending sample position, and region number from the region name specified for the stream sound. However, note that getting information will fail during stream sound playback.</p>
<p>For more information about each feature, see the API reference.</p>
<h2 id="Anchor_215197120_h2_12">Adding Opus Stream Playback That Uses the Hardware Accelerator</h2>
<p>Added support for playback of Opus stream sound that uses the hardware accelerator.</p>
<p>When initializing the HardwareOpusDecoder, a hardware accelerator, you can change the decoding using  <code><span class="ApiLink_nn__atk__SoundStartable__StartInfo">nn::atk::SoundStartable::StartInfo</span></code> during playback to use this feature.</p>
<p>For more information, see the Opus Playback section in <a href="../Pages/Page_200573824.html">Programming Guide &gt; Stream Sounds</a> or the AtkStreamSound sample and following API reference.</p>
<ul>
  <li>
    <code>
      <span class="ApiLink_nn__atk__InitializeHardwareOpusDecoder">nn::atk::InitializeHardwareOpusDecoder</span>
    </code>
  </li>
  <li>
    <code>
      <span class="ApiLink_nn__atk__SoundStartable__StartInfo__streamSoundMetaInfo">nn::atk::SoundStartable::StartInfo::streamSoundMetaInfo</span>.decodeMode</code>
    <ul>
      <li>
        <code>
          <span class="ApiLink_nn__atk__SoundArchive__StreamSoundInfo__decodeMode">nn::atk::SoundArchive::StreamSoundInfo::decodeMode</span>
        </code>
      </li>
    </ul>
  </li>
  <li>
    <code>
      <span class="ApiLink_nn__atk__FinalizeHardwareOpusDecoder">nn::atk::FinalizeHardwareOpusDecoder</span>
    </code>
  </li>
</ul>
<h2 id="Anchor_215197120_h2_13">Revised the Programming Guide.</h2>
<ul>
  <li>Revised the structure of the <a href="../Pages/Page_200573824.html">Stream Sounds</a> page.</li>
  <li>Added a description of the stream buffer used during stream sound playback to the <a href="../Pages/Page_200573824.html">Stream Sounds</a> page.</li>
</ul>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__font__RectDrawer__Initialize', '../../../Api/HtmlNX/classnn_1_1font_1_1_rect_drawer.html#a9583fcd58c7e2cd856dff98cfb65d6f4' )
SetUrl( 'ApiLink_nn__font__RectDrawer__GetWorkBufferAlignment', '../../../Api/HtmlNX/classnn_1_1font_1_1_rect_drawer.html#a06277f20ddfb9a16628c1636cd9f7fba' )
SetUrl( 'ApiLink_nn__atk__StreamDataInfo', '../../../Api/HtmlNX/namespacenn_1_1atk.html#a9172c9f10ea17b8a7de81ad7dcba7791' )
SetUrl( 'ApiLink_nn__atk__WaveSoundDataInfo', '../../../Api/HtmlNX/structnn_1_1atk_1_1_wave_sound_data_info.html' )
SetUrl( 'ApiLink_nn__atk__StreamSoundHandle__ReadStreamDataInfo', '../../../Api/HtmlNX/classnn_1_1atk_1_1_stream_sound_handle.html#a50e83471d2833d961878272f0d402a52' )
SetUrl( 'ApiLink_nn__atk__StreamSoundDataInfo', '../../../Api/HtmlNX/structnn_1_1atk_1_1_stream_sound_data_info.html' )
SetUrl( 'ApiLink_nn__atk__StreamSoundHandle__ReadStreamSoundDataInfo', '../../../Api/HtmlNX/classnn_1_1atk_1_1_stream_sound_handle.html#abee7e1e6f237fad672f394260f9e123e' )
SetUrl( 'ApiLink_nn__atk__SoundArchivePlayer__ReadWaveSoundDataInfo', '../../../Api/HtmlNX/classnn_1_1atk_1_1_sound_archive_player.html#aa3acb0b55a560c154f56d338d0c7c325' )
SetUrl( 'ApiLink_nn__atk__SoundArchivePlayer__ReadStreamSoundDataInfo', '../../../Api/HtmlNX/classnn_1_1atk_1_1_sound_archive_player.html#a4e337c51c3030c9c0eb0f2f62e7eed9a' )
SetUrl( 'ApiLink_nn__atk__SoundArchivePlayer__ReadStreamSoundRegionDataInfo', '../../../Api/HtmlNX/classnn_1_1atk_1_1_sound_archive_player.html#a72eb791f87b3c9b7a799c669aa91221d' )
SetUrl( 'ApiLink_nn__atk__WaveSoundHandle__ReadWaveSoundDataInfo', '../../../Api/HtmlNX/classnn_1_1atk_1_1_wave_sound_handle.html#ae6928f4aa231d95edf8d6a4606ccf317' )
SetUrl( 'ApiLink_nn__atk__SoundStartable__StartInfo', '../../../Api/HtmlNX/structnn_1_1atk_1_1_sound_startable_1_1_start_info.html' )
SetUrl( 'ApiLink_nn__atk__InitializeHardwareOpusDecoder', '../../../Api/HtmlNX/namespacenn_1_1atk.html#a238c8ce9cce97ff9c05dd9feda413090' )
SetUrl( 'ApiLink_nn__atk__SoundStartable__StartInfo__streamSoundMetaInfo', '../../../Api/HtmlNX/structnn_1_1atk_1_1_sound_startable_1_1_start_info.html#a2d67cbc1ef830829cb8243a859bf075a' )
SetUrl( 'ApiLink_nn__atk__SoundArchive__StreamSoundInfo__decodeMode', '../../../Api/HtmlNX/structnn_1_1atk_1_1_sound_archive_1_1_stream_sound_info.html#a0aff6ed3a2c07696fcbd0d29235398dc' )
SetUrl( 'ApiLink_nn__atk__FinalizeHardwareOpusDecoder', '../../../Api/HtmlNX/namespacenn_1_1atk.html#a4de9927ea724301d8ba4b4aa5432921d' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
