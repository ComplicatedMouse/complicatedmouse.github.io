<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Pipelines | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Pipelines -->
<div class="pagetitle" id="PageId_83955991">Pipelines</div>
<div class="text_separate">
<h1 id="Anchor_83955991_h1_1">Pipelines</h1>
<h2 id="Anchor_83955991_h2_1">Overview</h2>
<p>Pipeline represents the rendering pipeline in the GPU. It has shaders for programmable stages, and states for fixed feature stages.</p>
<p>There are two types of pipelines: graphics pipelines and compute pipelines. Both of these are expressed as a <span class="ApiLink_nn__gfx__Pipeline"><code>nn::gfx::Pipeline</code></span> class in <code>gfx</code>.</p>
<p>A pipeline is required when using an <a href="../Pages/Page_83955534.html">execution model</a> that uses pipelines. A pipeline is not required when using an execution model that does not use pipelines.</p>
<h3 id="Anchor_83955991_h3_1">Graphics Pipeline</h3>
<p>The graphics pipeline can be used to perform graphics processing with draw call, and this must ultimately be submitted to a queue containing graphics functionality. When initializing a pipeline as a graphics pipeline, the information for the graphics pipeline is specified as an argument during initialization.</p>
<p>The graphics pipeline contains several programmable states as shaders and several fixed feature stages as states. This list follows.</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th>Stage Properties</th>
      <th>Stage Name</th>
    </tr>
    <tr>
      <td rowspan="5">Programmable stage</td>
      <td>Vertex shader</td>
    </tr>
    <tr>
      <td>Hull shader</td>
    </tr>
    <tr>
      <td>Domain shader</td>
    </tr>
    <tr>
      <td>Geometry shader</td>
    </tr>
    <tr>
      <td>Pixel shader</td>
    </tr>
    <tr>
      <td rowspan="5">Fixed feature stage</td>
      <td>Rasterizer state</td>
    </tr>
    <tr>
      <td>Blend state</td>
    </tr>
    <tr>
      <td>Depth stencil state</td>
    </tr>
    <tr>
      <td>Vertex state</td>
    </tr>
    <tr>
      <td>Render target state</td>
    </tr>
  </tbody>
</table>
<p>All shaders other than the vertex shader are optional. The vertex shader is requested for initialization of the graphics pipeline.</p>
<p>The viewport scissor state is a state related to rendering but is not included in the pipeline. It is set separately from the pipeline.</p>
<h3 id="Anchor_83955991_h3_2">Compute Pipeline</h3>
<p>The compute pipeline can be used to perform common computational processing with dispatch calls, and this must ultimately be submitted to a queue containing computational functionality.<br />When initializing a pipeline as a compute pipeline, the information for the compute pipeline is specified as an argument during initialization.</p>
<p>The compute pipeline contains only a compute shader as a programmable stage and contains no states for fixed feature stages. The compute shader is requested for initialization of the compute pipeline.</p>
<h2 id="Anchor_83955991_h2_2">Information</h2>
<h3 id="Anchor_83955991_h3_3">Information for the Graphics Pipeline</h3>
<p>Graphics pipeline information is defined as <span class="ApiLink_nn__gfx__GraphicsPipelineInfo"><code>nn::gfx::GraphicsPipelineInfo</code></span>.</p>
<h4 id="Anchor_83955991_h4_1">Shaders</h4>
<p>To set a shader to use in the graphics pipeline, use <span class="ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetShaderPtr(const_TShader__TTarget___*value)_NN_NOEXCEPT"><code>SetShaderPtr</code></span>. This shader can include stages other than the compute shader stage.</p>
<h4 id="Anchor_83955991_h4_2">State</h4>
<p>Information for each state is edited using the <code>Set*StateInfo</code> function. The argument is a pointer, but after the pipeline is initialized, the pointer can be destroyed immediately.</p>
<p>The following shows the correspondence between a state name and a function name.</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>State Name</th>
      <th>Function Name</th>
    </tr>
    <tr>
      <td>Rasterizer state</td>
      <td>
        <span class="ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetRasterizerStateInfo(const_RasterizerStateInfo_*value)_NN_NOEXCEPT">SetRasterizerStateInfo</span>
      </td>
    </tr>
    <tr>
      <td>Blend state</td>
      <td>
        <span class="ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetBlendStateInfo(const_BlendStateInfo_*value)_NN_NOEXCEPT">SetBlendStateInfo</span>
      </td>
    </tr>
    <tr>
      <td>Depth stencil state</td>
      <td>
        <span class="ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetDepthStencilStateInfo(const_DepthStencilStateInfo_*value)_NN_NOEXCEPT">SetDepthStencilStateInfo</span>
      </td>
    </tr>
    <tr>
      <td>Vertex state</td>
      <td>
        <span class="ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetVertexStateInfo(const_VertexStateInfo_*value)_NN_NOEXCEPT">SetVertexStateInfo</span>
      </td>
    </tr>
    <tr>
      <td>Render target state</td>
      <td>
        <span class="ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetRenderTargetStateInfo(const_RenderTargetStateInfo_*value)_NN_NOEXCEPT">SetRenderTargetStateInfo</span>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83955991_h3_4">Information for the Compute Pipeline</h3>
<p>Compute pipeline information is defined as <span class="ApiLink_nn__gfx__ComputePipelineInfo"><code>nn::gfx::ComputePipelineInfo</code></span>.</p>
<h4 id="Anchor_83955991_h4_3">Shaders</h4>
<p>To set a shader to use in the compute pipeline, use <span class="ApiLink_void_nn__gfx__ComputePipelineInfo__SetShaderPtr(const_TShader__TTarget___*value)_NN_NOEXCEPT"><code>SetShaderPtr</code></span>. This shader can only include the compute stage.</p>
<h2 id="Anchor_83955991_h2_3">Object</h2>
<p>The pipeline object is defined as <span class="ApiLink_nn__gfx__Pipeline"><code>nn::gfx::Pipeline</code></span>.</p>
<p>On the object side, both the graphics pipeline and the compute pipeline are simply handled as pipelines.</p>
<h3 id="Anchor_83955991_h3_5">Initialization and Destruction</h3>
<p>Unlike most other objects, there is two types of information used for pipeline initialization and the Initialize function is overloaded in two ways.</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th>Initialization Function</th>
      <th>Types of Pipelines to Initialize</th>
    </tr>
    <tr>
      <td>
        <span class="ApiLink_void_TPipeline__TargetConfig__Variation____Initialize(TDevice__Target___*pDevice|_const_GraphicsInfoType_&info)_NN_NOEXCEPT">Initialize( Device* pDevice, GraphicsPipelineInfo&amp; info )</span>
      </td>
      <td>Graphics Pipeline</td>
    </tr>
    <tr>
      <td>
        <span class="ApiLink_void_TPipeline__TargetConfig__Variation____Initialize(TDevice__Target___*pDevice|_const_ComputeInfoType_&info)_NN_NOEXCEPT">Initialize( Device* pDevice, ComputePipelineInfo&amp; info )</span>
      </td>
      <td>Compute Pipeline</td>
    </tr>
  </tbody>
</table>
<p>Freeing follows the rules for ordinary <a href="../Pages/Page_83955654.html">objects</a>.</p>
<h2 id="Anchor_83955991_h2_4">Setting Pipelines</h2>
<p>Regardless of whether setting a graphics pipeline or a compute pipeline, the command to set a pipeline is added to the command buffer by passing it to <span class="ApiLink_nn__gfx__CommandBuffer"><code>SetPipeline</code></span> of the <span class="ApiLink_void_nn__gfx__TCommandBuffer__SetPipeline(const_TPipeline__Target___*pPipeline)_NN_NOEXCEPT"><code>nn::gfx::CommandBuffer</code></span>class. The graphics pipeline must be set later when using draw calls and the compute pipeline must be set later when using dispatch calls.</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__gfx__Pipeline', '../../../Api/HtmlNX/namespacenn_1_1gfx.html#a9b1b88662ab5da7d22b22add9834b6ec' )
SetUrl( 'ApiLink_nn__gfx__GraphicsPipelineInfo', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html' )
SetUrl( 'ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetShaderPtr(const_TShader__TTarget___*value)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#a17ffd72716e218ccc22ea2c66207e527' )
SetUrl( 'ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetRasterizerStateInfo(const_RasterizerStateInfo_*value)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#ae3453c1bd9c548ec890ac9ff07bd84eb' )
SetUrl( 'ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetBlendStateInfo(const_BlendStateInfo_*value)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#a9611a254fc0476454ce05c8d163dbb62' )
SetUrl( 'ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetDepthStencilStateInfo(const_DepthStencilStateInfo_*value)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#adce077c079d0939da02012b98696e5fc' )
SetUrl( 'ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetVertexStateInfo(const_VertexStateInfo_*value)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#ace9fde06d23015f88b7f520bcc4cbb41' )
SetUrl( 'ApiLink_void_nn__gfx__GraphicsPipelineInfo__SetRenderTargetStateInfo(const_RenderTargetStateInfo_*value)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#a0b7f3c9837b458939a4f1666fe93e15d' )
SetUrl( 'ApiLink_nn__gfx__ComputePipelineInfo', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_compute_pipeline_info.html' )
SetUrl( 'ApiLink_void_nn__gfx__ComputePipelineInfo__SetShaderPtr(const_TShader__TTarget___*value)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_compute_pipeline_info.html#a41b163a4539fb0bfff51abe523258bb9' )
SetUrl( 'ApiLink_void_TPipeline__TargetConfig__Variation____Initialize(TDevice__Target___*pDevice|_const_GraphicsInfoType_&info)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_t_pipeline.html#a991fb6795efdffe730224d6bce8a4a92' )
SetUrl( 'ApiLink_void_TPipeline__TargetConfig__Variation____Initialize(TDevice__Target___*pDevice|_const_ComputeInfoType_&info)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_t_pipeline.html#ab67773bf4084a2d440bb508a90da1702' )
SetUrl( 'ApiLink_nn__gfx__CommandBuffer', '../../../Api/HtmlNX/namespacenn_1_1gfx.html#af719859a76c249a182d878f0cffd47c5' )
SetUrl( 'ApiLink_void_nn__gfx__TCommandBuffer__SetPipeline(const_TPipeline__Target___*pPipeline)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_t_command_buffer.html#a42e5b9f3411f240c6c06433e60dbbcad' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
