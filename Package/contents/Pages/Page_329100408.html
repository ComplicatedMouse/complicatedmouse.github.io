<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>NX Add-On 5.4.0 | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- NX Add-On 5.4.0 -->
<div class="pagetitle" id="PageId_329100408">NX Add-On 5.4.0</div>
<div class="text_separate">
<!--Remove-->
<p>
  <div />
</p>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_329100408_h1_1">Audio</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_1">The output from nn::audio::SplitterType is not correctly mixed in the output destination</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_2">diag</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_2">When a log file that is greater than a certain size is opened in Log Viewer, the second half of the log is not displayed.</a>
      </li>
      <li>
        <a href="#Anchor_329100408_h2_3">Other Log Viewer Bugs</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_3">fs</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_4">It is not possible to open a large number of files or directories at the same time.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_4">socket</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_5">If the sockaddr parameter that is passed to the nn::socket::Connect() function is NULL, an error occurs.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_5">ldn</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_6">Communication is unstable on some development hardware.</a>
      </li>
      <li>
        <a href="#Anchor_329100408_h2_7">Sometimes local communication cannot start after waking from sleep mode.</a>
      </li>
      <li>
        <a href="#Anchor_329100408_h2_8">In rare cases, FATAL ERROR 2162-0002 occurs.</a>
      </li>
      <li>
        <a href="#Anchor_329100408_h2_9">In rare cases, access points are not found in access point scans.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_6">movie</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_10">GetOutputFormat() does not return the same width and height values as GetOutputBufferFormat() when using CPU buffer rendering with a decoder.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_7">nfp</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_11">ResultInvalidTag is occasionally returned by mount, format, or restore.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_8">System Features</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_12">Restrictions on Where the Application Can Be Started in VSI and RunOnTarget With the HOME Menu Installed</a>
      </li>
      <li>
        <a href="#Anchor_329100408_h2_13">Options cannot be opened for an application started by VSI or RunOnTarget.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_9">tool</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_14">Cannot update PROD MODE using the development hardware update tools.</a>
      </li>
      <li>
        <a href="#Anchor_329100408_h2_15">The HlslCrossCompiler may fail to assign locations to hull shader I/O variables.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_10">VSI</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_16">Optimized code may not be debugged correctly.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_11">Graphics</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_17">The system may enter an invalid state if a texture is presented to the display before the GPU is unblocked.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_329100408_h1_12">nvn</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_329100408_h2_18">In some cases, when textures with different RAW formats share physical memory, noise can be generated in rendering results (Formerly: Under some conditions, noise is sometimes generated in the rendering results when the color buffer and depth buffer share physical memory.</a>
      </li>
      <li>
        <a href="#Anchor_329100408_h2_19">GLSLC Bugs</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_329100408_h1_1">Audio</h1>
<h2 id="Anchor_329100408_h2_1">The output from nn::audio::SplitterType is not correctly mixed in the output destination</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_1">Symptoms</h6>
<p>There is a bug where mixing does not occur correctly in output destinations that were supposed to have been specified when specifying multiple output destinations for a single <code><span class="ApiLink_nn__audio__SplitterType">nn::audio::SplitterType</span></code> instance.</p>
<p>The frequency of this bug changes according to the values specified for the <code><em>splitterCount</em></code> and <code><em>splitterSendChannelCount</em></code> parameters in <code><span class="ApiLink_nn__audio__AudioRendererParameter">nn::audio::AudioRendererParameter</span></code>, which is specified when initializing the audio renderer.</p>
<p>In practical terms, mixing does not occur for output destinations with an output destination index that exceeds the number of output destinations specified for a single <code><span class="ApiLink_nn__audio__SplitterType">nn::audio::SplitterType</span></code> instance, which is <code><em>splitterSendChannelCount</em></code> divided by <code><em>splitterCount</em></code>.</p>
<h6 id="Anchor_329100408_h6_2">Workaround</h6>
<p>You can either increase the <code><em>splitterSendChannelCount</em></code> number or decrease the <code><em>splitterCount</em></code> number to avoid this bug.</p>
<h6 id="Anchor_329100408_h6_3">Fix Schedule</h6>
<p>Revisions will occur in the next release.</p>
<h1 id="Anchor_329100408_h1_2">diag</h1>
<h2 id="Anchor_329100408_h2_2">When a log file that is greater than a certain size is opened in Log Viewer, the second half of the log is not displayed.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_4">Symptoms</h6>
<p>When Log Viewer opens an NX Binary Log file (<code>.nxbinlog</code>) that is larger than several dozen megabytes in size, the latter part of the log will be omitted and not displayed.</p>
<h6 id="Anchor_329100408_h6_5">Workaround</h6>
<p>To view the entire log, on the <strong>Log Viewer</strong> menu, select <strong>Convert NX Binary Log</strong> and convert the NX Binary Log file to a text file.</p>
<p>If the log is larger than1 GB in size, this conversion process can take several minutes.</p>
<h6 id="Anchor_329100408_h6_6">Fix Schedule</h6>
<p>This problem will be fixed in an upcoming release.</p>
<h2 id="Anchor_329100408_h2_3">Other Log Viewer Bugs</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_7">Symptoms</h6>
<ul>
  <li>A broader selection of the log will occur when you attempt to select a range within the log.</li>
  <li>The indentation is broken for any metadata displayed in tool tips when you use Windows 7.</li>
</ul>
<h6 id="Anchor_329100408_h6_8">Workaround</h6>
<p>No workaround is currently available.</p>
<h6 id="Anchor_329100408_h6_9">Fix Schedule</h6>
<p>This problem will be fixed in an upcoming release.</p>
<h1 id="Anchor_329100408_h1_3">fs</h1>
<h2 id="Anchor_329100408_h2_4">It is not possible to open a large number of files or directories at the same time.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_10">Symptoms</h6>
<p>In the following file systems, there is a limit to the number of files and directories that can be open at the same time.</p>
<table class="wrapped" style="margin-left: 20.0px;">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>File System</th>
      <th>Maximum Number of Open Files</th>
    </tr>
    <tr>
      <td>File system on the host PC (<code><span class="ApiLink_nn__fs__MountHost">nn::fs::MountHost</span>()</code> or <code><span class="ApiLink_nn__fs__MountHostRoot">nn::fs::MountHostRoot</span>()</code>)</td>
      <td>
        <p>202</p>
      </td>
    </tr>
    <tr>
      <td>Resource data to use when an application is started with the program format set to Raw (<code><span class="ApiLink_nn__fs__MountRom">nn::fs::MountRom</span>()</code>) </td>
      <td>
        <p>202</p>
      </td>
    </tr>
  </tbody>
</table>
<h6 id="Anchor_329100408_h6_11">Workaround</h6>
<p>No workaround is currently available.</p>
<h6 id="Anchor_329100408_h6_12">Fix Schedule</h6>
<p>We are currently investigating fixing this bug in an upcoming release.</p>
<h1 id="Anchor_329100408_h1_4">socket</h1>
<h2 id="Anchor_329100408_h2_5">If the sockaddr parameter that is passed to the nn::socket::Connect() function is NULL, an error occurs.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_13">Symptoms</h6>
<p>If the <code>sockaddr</code> parameter that is passed to the <code><span class="ApiLink_nn__socket__Connect">nn::socket::Connect</span>()</code> function is <code>NULL</code>, an error occurs.</p>
<h6 id="Anchor_329100408_h6_14">Workaround</h6>
<p>No workaround is currently available.</p>
<h6 id="Anchor_329100408_h6_15">Fix Schedule</h6>
<p>This problem will be fixed in an upcoming release.</p>
<h1 id="Anchor_329100408_h1_5">ldn</h1>
<h2 id="Anchor_329100408_h2_6">Communication is unstable on some development hardware.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_16">Symptoms</h6>
<p>The following symptoms may occur on some development hardware.</p>
<ul>
  <li>Could not find the network when scanning</li>
  <li>Could not connect to the network</li>
  <li>High packet loss rate</li>
</ul>
<p>In addition, if there are two development hardware devices with this symptom, communication between these two devices is even more unstable.</p>
<h6 id="Anchor_329100408_h6_17">Workaround</h6>
<p>The same problem occurs if the surrounding signal environment is poor. Move to an environment with fewer communication devices or use other development hardware and then check to determine whether the symptoms improve. Contact Nintendo support if the symptoms from this issue are particularly prominent.</p>
<h6 id="Anchor_329100408_h6_18">Fix Schedule</h6>
<p>Future handling is under discussion.</p>
<h2 id="Anchor_329100408_h2_7">Sometimes local communication cannot start after waking from sleep mode.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_19">Symptoms</h6>
<p>The system sometimes enters a state, triggered by waking from sleep mode, where the <code><span class="ApiLink_nn__ldn__OpenAccessPoint">nn::ldn::OpenAccessPoint</span>()</code> and <code><span class="ApiLink_nn__ldn__OpenStation">nn::ldn::OpenStation</span>()</code> continue to return <code><span class="ApiLink_nn__ldn__ResultWifiOff">nn::ldn::ResultWifiOff</span></code> regardless of the airplane mode settings. When the system is in this state, the symptoms cannot be recovered until the development hardware is restarted.</p>
<h6 id="Anchor_329100408_h6_20">Workaround</h6>
<p>None.</p>
<h6 id="Anchor_329100408_h6_21">Fix Schedule</h6>
<p>This problem will be fixed in an upcoming release.</p>
<h2 id="Anchor_329100408_h2_8">In rare cases, FATAL ERROR 2162-0002 occurs.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_22">Symptoms</h6>
<p>FATAL ERROR 2162-0002 may occur in the following circumstances.</p>
<ul>
  <li>When creating or destroying a network</li>
  <li>When changing <code>AdvertiseData</code> or <code>StationAcceptPolicy</code></li>
  <li>When stations are added or leave</li>
</ul>
<h6 id="Anchor_329100408_h6_23">Workaround</h6>
<p>N/A.</p>
<h6 id="Anchor_329100408_h6_24">Fix Schedule</h6>
<p>This problem will be fixed in an upcoming release.</p>
<h2 id="Anchor_329100408_h2_9">In rare cases, access points are not found in access point scans.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_25">Symptoms</h6>
<p>In rare cases, any of the following problems begin to appear.</p>
<ul>
  <li>Networks in which access points cannot be detected in scans are sometimes built.</li>
  <li>Certain stations sometimes lose the ability to find the network in scans.</li>
</ul>
<h6 id="Anchor_329100408_h6_26">Workaround</h6>
<p>If the former problem occurs on the access point side, temporarily destroy, and then rebuild, the network.</p>
<p>If the latter problem occurs on the station side, call <code><span class="ApiLink_nn__ldn__CloseStation">nn::ldn::CloseStation</span>()</code> or <code><span class="ApiLink_nn__ldn__Finalize">nn::ldn::Finalize</span>()</code> to terminate the station, and then re-open the station.</p>
<h6 id="Anchor_329100408_h6_27">Fix Schedule</h6>
<p>This problem will be fixed in an upcoming release.</p>
<h1 id="Anchor_329100408_h1_6">movie</h1>
<h2 id="Anchor_329100408_h2_10">GetOutputFormat() does not return the same width and height values as GetOutputBufferFormat() when using CPU buffer rendering with a decoder.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_28">Symptoms</h6>
<p>
  <code>GetOutputFormat()</code> does not return the same cropped width and height values as <code>GetOutputBufferFormat()</code> when using CPU buffer rendering with a decoder.</p>
<h6 id="Anchor_329100408_h6_29">Workaround</h6>
<p>In the <code>MediaData</code> available with <code>GetOutputFormat()</code>, there is also a rectangle to be cropped in addition to the <code><em>width</em></code> and <code><em>height</em></code> variables. You can use this rectangle to get the correct <code><em>width</em></code> and <code><em>height</em></code> values.</p>
<h6 id="Anchor_329100408_h6_30">Fix Schedule</h6>
<p>This problem will be fixed in an upcoming release.</p>
<h1 id="Anchor_329100408_h1_7">nfp</h1>
<h2 id="Anchor_329100408_h2_11">ResultInvalidTag is occasionally returned by mount, format, or restore.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_31">Symptoms</h6>
<p>Even if there is no problem for the tags and it is tapped correctly, in rare cases <code>ResultInvalidTag</code> may be returned.</p>
<h6 id="Anchor_329100408_h6_32">Workaround</h6>
<p>Reassign the tags.</p>
<h6 id="Anchor_329100408_h6_33">Fix Schedule</h6>
<p>Not yet determined.</p>
<h1 id="Anchor_329100408_h1_8">System Features</h1>
<h2 id="Anchor_329100408_h2_12">Restrictions on Where the Application Can Be Started in VSI and RunOnTarget With the HOME Menu Installed</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_34">Symptoms</h6>
<p>After installing and opening the HOME Menu, starting an application in VSI or RunOnTarget puts the system into a special state. The application starts, but this feature cannot be used on some screens and the application stops responding. The following screens are known to stop responding in this situation.</p>
<ul>
  <li>Screen for selecting accounts before starting the application</li>
  <li>Screen that displays the dialog box that occurs prior to starting the application</li>
</ul>
<h6 id="Anchor_329100408_h6_35">Workaround</h6>
<p>Do not start applications from these screens.</p>
<p>Starting the application with VSI or RunOnTarget may result in detailed behavior that is different from the retail version, so we recommend that you either create an NSP and install it or burn the application to a game card for final application verification and checking its behavior when entering or exiting the HOME Menu.</p>
<h6 id="Anchor_329100408_h6_36">Fix Schedule</h6>
<p>Not yet determined.</p>
<h2 id="Anchor_329100408_h2_13">Options cannot be opened for an application started by VSI or RunOnTarget.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_37">Symptoms</h6>
<p>Starting an application in VSI or RunOnTarget after installing and opening the HOME Menu creates a special state where the application starts but the corresponding <strong>Options</strong> cannot be opened.</p>
<h6 id="Anchor_329100408_h6_38">Workaround</h6>
<p>Open <strong>Options</strong> by installing them or burning them to the game card.</p>
<h6 id="Anchor_329100408_h6_39">Fix Schedule</h6>
<p>Not yet determined.</p>
<h1 id="Anchor_329100408_h1_9">tool</h1>
<h2 id="Anchor_329100408_h2_14">Cannot update PROD MODE using the development hardware update tools.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_40">Symptoms</h6>
<p>When the EDEV is initialized using <code>InitializeEdev</code> or <code>InitializeEdevWin</code>, the error message &quot;Parse GetSerialNumber output failed&quot; is sometimes displayed.<br />The frequency of this occurrence is low.</p>
<p>
  <br />
</p>
<h6 id="Anchor_329100408_h6_41">Workaround</h6>
<p>Execute the initialization process again.</p>
<h6 id="Anchor_329100408_h6_42">Fix Schedule</h6>
<p>This bug will be fixed in the next release.</p>
<h2 id="Anchor_329100408_h2_15">The HlslCrossCompiler may fail to assign locations to hull shader I/O variables.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_43">Symptoms</h6>
<p>When DXBC is used to convert a hull shader with no <code>hs_control_point_phase</code>, in some cases no location is assigned to the input/output variables.</p>
<h6 id="Anchor_329100408_h6_44">Workaround</h6>
<p>None.</p>
<h6 id="Anchor_329100408_h6_45">Fix Schedule</h6>
<p>This bug will be fixed in the next major version update.</p>
<h1 id="Anchor_329100408_h1_10">VSI</h1>
<h2 id="Anchor_329100408_h2_16">Optimized code may not be debugged correctly.</h2>
<!--Remove-->
<p>In some cases, optimized code cannot be debugged correctly, such as when it stops on breakpoints placed in functions with inline expansion. <br />This bug will be fixed in the future. </p>
<h1 id="Anchor_329100408_h1_11">Graphics</h1>
<h2 id="Anchor_329100408_h2_17">The system may enter an invalid state if a texture is presented to the display before the GPU is unblocked.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_46">Symptoms</h6>
<p>The system can enter an invalid state after performing the following procedure.</p>
<p>The application submits a texture to the display with GPU processing blocked.<br />After the data has been submitted, an operation (such as a transition to the HOME Menu or sleep mode) stops the application while the GPU is still blocked.<br />The system entering an invalid state is specifically defined as the following states.</p>
<p>The system does not correctly transition to the HOME Menu.<br />The system does not correctly enter sleep mode.<br />These symptoms can occur for all currently released versions.</p>
<p>For example, they can occur in the following code.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>nvnCommandBufferBeginRecording(&amp;m_CommandBuffer);
{
&nbsp;&nbsp;&nbsp;&nbsp;... omitted ...
&nbsp;&nbsp;&nbsp;&nbsp;// Wait for events.
&nbsp;&nbsp;&nbsp;&nbsp;nvnCommandBufferWaitEvent(&amp;m_CommandBuffer, &amp;m_Event, NVN_EVENT_WAIT_MODE_GEQUAL_WRAP, nvnEventGetValue(&amp;m_Event) + 1);
&nbsp;&nbsp;&nbsp;&nbsp;... omitted ...
}
m_CommandHandle = nvnCommandBufferEndRecording(&amp;m_CommandBuffer);
// Submit commands.
nvnQueueSubmitCommands(&amp;m_Queue, 1, &amp;m_CommandHandle);
// Flush the submitted command, and start GPU execution.
nvnQueueFlush();
// Submit textures.
nvnQueuePresentTexture(&amp;m_Queue, m_pWindow, index);
// Signal waiting events in the command buffer.
nvnEventSignal(&amp;m_Event, NVN_EVENT_SIGNAL_MODE_WRITE, nvnEventGetValue(&amp;m_Event) + 1);</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <br />
</p>
<p>In this example, <code>nvnEventSignal()</code> unblocks the GPU after <code>nvnQueuePresentTexture()</code> has been called.</p>
<p>As a result, an invalid state can occur if the system performs an operation such as transitioning to the HOME Menu or entering sleep mode immediately after the <code>nvnQueuePresentTexture()</code> call.</p>
<p>A similar state can also be created in other ways, such as when blocking GPU processing between multiple <code>NVNqueues</code> using <code>NVNsync</code>.</p>
<p>
  <br />
</p>
<h6 id="Anchor_329100408_h6_47">Workaround</h6>
<p>Do not submit a texture to the display while GPU processing is blocked.</p>
<p>The following implementation works around this issue.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>nvnCommandBufferBeginRecording(&amp;m_CommandBuffer);
{
&nbsp;&nbsp;&nbsp;&nbsp;... omitted ...
&nbsp;&nbsp;&nbsp;&nbsp;// Wait for events.
&nbsp;&nbsp;&nbsp;&nbsp;nvnCommandBufferWaitEvent(&amp;m_CommandBuffer, &amp;m_Event, NVN_EVENT_WAIT_MODE_GEQUAL_WRAP, nvnEventGetValue(&amp;m_Event) + 1);
&nbsp;&nbsp;&nbsp;&nbsp;... omitted ...
}
m_CommandHandle = nvnCommandBufferEndRecording(&amp;m_CommandBuffer);
// Submit commands.
nvnQueueSubmitCommands(&amp;m_Queue, 1, &amp;m_CommandHandle);
// Flush the submitted command, and guarantee an execution start by the GPU.
nvnQueueFlush();
// Signal the waiting events in the command buffer and unblock the GPU before submitting textures.
nvnEventSignal(&amp;m_Event, NVN_EVENT_SIGNAL_MODE_WRITE, nvnEventGetValue(&amp;m_Event) + 1);
// Submit textures.
nvnQueuePresentTexture(&amp;m_Queue, m_pWindow, index);</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <br />
</p>
<p>Calling <code>nvnEventSignal()</code> before <code>nvnQueuePresentTexture()</code> assures that GPU processing will be unblocked before the texture is submitted.</p>
<p>As follows, there are three ways to create a state of blocked GPU processing in NVN.</p>
<ul>
  <li>nvnCommandBufferWaitSync</li>
  <li>nvnCommandBufferWaitEvent</li>
  <li>nvnQueueWaitSync</li>
</ul>
<p>Similarly, if you are using a non-NVN graphics API, do not submit a texture to the display while GPU processing is blocked.</p>
<h6 id="Anchor_329100408_h6_48">Fix Schedule</h6>
<p>This behavior is by design, so there are no plans to fix it.</p>
<h1 id="Anchor_329100408_h1_12">nvn</h1>
<h2 id="Anchor_329100408_h2_18">In some cases, when textures with different RAW formats share physical memory, noise can be generated in rendering results (Formerly: Under some conditions, noise is sometimes generated in the rendering results when the color buffer and depth buffer share physical memory.</h2>
<!--Remove-->
<h6 id="Anchor_329100408_h6_49">Symptoms</h6>
<p>If textures with different RAW formats share physical memory, noise may be generated in the rendering results.</p>
<p>Textures can have one of five different RAW formats in NX. (<strong>Note:</strong> This element is different from the texture storage class.)<br />The following table shows the correspondence between RAW format types and the texture formats.</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>RAW Format</th>
      <th>Texture Format</th>
    </tr>
    <tr>
      <td>Pitch</td>
      <td>
        <ul>
          <li>All linear formats</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>Geberic 16Bx2</td>
      <td>
        <ul>
          <li>All color formats</li>
          <li>nvn::Format::DEPTH32F</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>Z16</td>
      <td>
        <ul>
          <li>nvn::Format::DEPTH16</li>
          <li>nvn::Format::STENCIL8</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>Z24</td>
      <td>
        <ul>
          <li>nvn::Format::DEPTH24</li>
          <li>nvn::Format::DEPTH24_STENCIL8</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>ZF32</td>
      <td>
        <ul>
          <li>nvn::Format::DEPTH32F_STENCIL8</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<p>When textures with different RAW formats share physical memory, and when writing to both textures, an inconsistency in the L2 cache can occur, resulting in noise in the rendering result.</p>
<h6 id="Anchor_329100408_h6_50">Workaround</h6>
<p>You can avoid this issue by not sharing the same physical memory between textures with different RAW formats (do not alias the virtual memory pool in the same physical memory pool).</p>
<h6 id="Anchor_329100408_h6_51">Fix Schedule</h6>
<p>In NX Add-On 6.x.x, <code>nvn::BarrierBits::INVALIDATE_L2_CACHE</code> will be provided as a barrier to disable the L2 cache.<br />You will be able to avoid this issue by inserting this barrier before writing to textures with different RAW formats in the same physical memory.</p>
<h2 id="Anchor_329100408_h2_19">GLSLC Bugs</h2>
<!--Remove-->
<ul>
  <li>The TX1 versions of the GLSLC library may produce slightly different machine code than the Windows version, including potential performance differences. The code produced on both platforms should be functionally correct though, and convergence of the two will happen in future changes.</li>
  <li>16-bit floating point values are supported in GLSL using <code>mediump/lowp</code> precision qualifiers with the extension <code>__GL_NV_desktop_mediump_lowp</code>, or by using explicit <code>float16</code> types with the <code>NV_gpu_shader5</code> extension.  When using the extension GL_NV_desktop_mediump_lowp with mediump and lowp qualifiers, there are a few known issues:<ul><li>Mixing interface attribute types between shader stages with explicit <code>NV_gpu_shader5</code> <code>float16</code> types on one side of the interface, and <code>mediump</code> or <code>lowp</code> types on the other side of the interface, could produce linker errors.</li><li>Using explicit <code>NV_gpu_shader5</code> <code>float16</code> types as the types for interface attributes between two shader stages produces a linker error.</li><li><code>int</code> and <code>uint</code> types cannot be implicitly converted to <code>float</code> types qualified with <code>mediump</code> or <code>lowp</code> qualifiers. You can work around this limitation by explicitly constructing <code>float</code> types from the <code>int</code> and <code>uint</code> variables (similar to explicit casting in C/C++). This issue currently affects GLSL shaders using <code>GL_NV_desktop_mediump_lowp</code> in addition to ES shaders regardless of whether the <code>GL_EXT_shader_implicit_conversions</code> extension is used.</li><li>FP16 math when used with <code>imageStore</code> may cause corruption in some cases. This issue is being investigated and will be fixed in an upcoming release.</li></ul></li>
</ul>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__audio__SplitterType', '../../../Api/HtmlNX/structnn_1_1audio_1_1_splitter_type.html' )
SetUrl( 'ApiLink_nn__audio__AudioRendererParameter', '../../../Api/HtmlNX/structnn_1_1audio_1_1_audio_renderer_parameter.html' )
SetUrl( 'ApiLink_nn__fs__MountHost', '../../../Api/HtmlNX/namespacenn_1_1fs.html#a1b85bf3f3cf038cb67a991a3e3304751' )
SetUrl( 'ApiLink_nn__fs__MountHostRoot', '../../../Api/HtmlNX/namespacenn_1_1fs.html#a2ea39d2487ac28bc767cd699eeeebe11' )
SetUrl( 'ApiLink_nn__fs__MountRom', '../../../Api/HtmlNX/namespacenn_1_1fs.html#a2e453fe1fbf8f818dc45bbd2897105cd' )
SetUrl( 'ApiLink_nn__socket__Connect', '../../../Api/HtmlNX/namespacenn_1_1socket.html#a6b827725f713f2618b9a7b68bb7dd744' )
SetUrl( 'ApiLink_nn__ldn__OpenAccessPoint', '../../../Api/HtmlNX/namespacenn_1_1ldn.html#abd2dc6aa5708bb991b291fbe2342dd0b' )
SetUrl( 'ApiLink_nn__ldn__OpenStation', '../../../Api/HtmlNX/namespacenn_1_1ldn.html#ad296900d9a6018c664dc29de81bfcbae' )
SetUrl( 'ApiLink_nn__ldn__ResultWifiOff', '../../../Api/HtmlNX/classnn_1_1ldn_1_1_result_wifi_off.html' )
SetUrl( 'ApiLink_nn__ldn__CloseStation', '../../../Api/HtmlNX/namespacenn_1_1ldn.html#af3173a1e4c8f4ddbefec092efb59f1b2' )
SetUrl( 'ApiLink_nn__ldn__Finalize', '../../../Api/HtmlNX/namespacenn_1_1ldn.html#a7334cac55eb557b03289cbac37089355' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
