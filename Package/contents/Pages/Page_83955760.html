<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Group | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Group -->
<div class="pagetitle" id="PageId_83955760">Group</div>
<div class="text_separate">
<h1 id="Anchor_83955760_h1_1">Group</h1>
<p>Select the <strong>Group</strong> node in the project tree to show a list of groups in the <strong>Sound Set</strong> tab.<br />The list is split and displayed in upper and lower sections on the <strong>Sound Set</strong> tab.<br />The upper part of this split tab is called the <em>group list</em>, and the lower part is called the <em>group item list</em>.</p>
<h2 id="Anchor_83955760_h2_1">Role of Groups</h2>
<p>Items for the same sound set are registered in a group. These registered items are called <em>group items</em>.</p>
<p>When the application loads waveform data and other data from the sound archive into memory, the developer can gather all the items required for a particular scene and load them as a group.</p>
<p>The sound designer can make better use of memory by classifying items according to scenes and the timing at which they are needed, and then efficiently registering them into different groups.</p>
<h2 id="Anchor_83955760_h2_2">Group List and Group Item List</h2>
<p>The group list is used to create groups.</p>
<p>The group item list displays a list of items currently registered in the selected group.</p>
<h2 id="Anchor_83955760_h2_3">Creating and Adding Groups</h2>
<p>To create or add a group, select the list region in the <strong>Sound Set</strong> tab and then select <strong>Project</strong> &gt; <strong>Add Item</strong> &gt; <strong>Group</strong>.</p>
<p>You can create a new group or add a group by using the shortcut menu that appears when you right-click the group list.</p>
<h2 id="Anchor_83955760_h2_4">Registering Items in Groups</h2>
<p>The group item list is used to register items to a group.</p>
<p>Select the group with the item to be registered from the group list and then select <strong>Project</strong> &gt; <strong>Add Item</strong> &gt; <strong>Group Item</strong>.</p>
<p>You can also register an item to a group by dragging the item to the group item list from the sound list or the <strong>Search Result</strong> window.</p>
<h2 id="Anchor_83955760_h2_5">Opening Reference Items</h2>
<p>Open the reference item tabs by double-clicking the index cell of the group items list.</p>
<h2 id="Anchor_83955760_h2_6">Elements of a Group List</h2>
<p>This section describes the meaning of each of the elements that define a group list.</p>
<h3 id="Anchor_83955760_h3_1">Name</h3>
<p>Specifies the group name.</p>
<p>The characters that can be used in a name are restricted. The following characters can be used:</p>
<ul>
  <li>Single-byte alphabetic characters and the underscore [a-z, A-Z, _] for the first character</li>
  <li>Single-byte alphanumeric characters and the underscore [a-z, A-Z, 0-9_] for subsequent characters</li>
</ul>
<h3 id="Anchor_83955760_h3_2">Data Size</h3>
<p>The data size for the group list indicates the size when the group is loaded into the sound heap.</p>
<p>The data size display is updated automatically when conversion is executed.</p>
<p>
  <strong>The group data size is displayed, but its value cannot be edited.</strong>
</p>
<h3 id="Anchor_83955760_h3_3">Output Mode</h3>
<p>Sets the method for exporting the sound data that is registered in group items to sound archives.</p>
<h4 id="Anchor_83955760_h4_1">Embed</h4>
<p>Embeds sound data in the groups.<br />The advantage of this method is that it reduces the number of sound data requests. The disadvantage is that it may lead to data that is redundant with other groups.<br />Embedding is appropriate in three main scenarios: when a lot of space is available in ROM, when you want to reduce the number of requests, or when you have extra space in RAM.</p>
<h4 id="Anchor_83955760_h4_2">Link</h4>
<p>Puts the sound data in a binary sound archive (BFSAR file) rather than including it in the group.<br />The advantage of this method is that there is no data redundancy between groups. The disadvantage of this method is that it increases the number of requests.<br />Linking is appropriate for two main scenarios: when you want to conserve space in RAM or ROM, or when random access to the media is fast.</p>
<h4 id="Anchor_83955760_h4_3">User Management</h4>
<p>Outputs the group file (BFGRP file) separately from the binary sound archive file (BFSAR file).<br />The advantage of this method is in creating a condition so that when loading an archive that contains a specific model, the sound data produced by that model always loads also.</p>
<p>To be specific, this happens in the following situations.</p>
<ul>
  <li>The sound data involving <strong>AAA</strong> is registered in one group and the output mode is <strong>user managed</strong>. (If the group name is <code>GROUP_AAA</code>, the file named <code>GROUP_AAA.bfgrp</code> is output.)</li>
  <li>Archive the graphics data for <code>AAA</code> (model, texture, and so on) and the <code>GROUP_AAA.bfgrp</code> file.<br />(SoundMaker does not provide a general-purpose archive. The user must prepare one.)</li>
  <li>This archive loads on the stage where AAA appears.</li>
</ul>
<p>Doing it in this manner guarantees that the sound data associated with AAA is also loaded on the stage where AAA appears. This allows you to avoid forgetting to load the sound data and getting no sound.</p>
<p>Depending on your export format settings, sound data may be duplicated when exported.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>&bull; Sound data contained only in the Manage Users group is not included in the binary sound archive (<code>BFSAR</code>) file.<br />&bull; Sound data that is contained in the Embed and Link groups in addition to the Manage Users group is included in both the group (<code>BFGRP</code>) file and the binary sound archive (<code>BFSAR</code>) file that is exported.</p>
  </div>
</div>
<p>If sounds that use the player heap belong only to the <strong>user-managed</strong> group, those sounds cannot be played.<br />The player heap can only load the data contained in the sound archive file (BFSAR file).<br />To play sounds using the player heap, adjust the group configuration so that the relevant sound data is one of the following.</p>
<ul>
  <li>Not included in the <strong>User managed</strong> group</li>
  <li>Contained in the Manage Users group, but also contained in a non-Manage Users group (the Link and Embed groups).</li>
</ul>
<h4 id="Anchor_83955760_h4_4">Do Not Output</h4>
<p>A group file (BFGRP file) is not output. The sound data is not included in the sound binary archive file either.<br />This method can be used as a virtual folder to store items that are included in other groups.</p>
<h2 id="Anchor_83955760_h2_7">Elements of a Group Item List</h2>
<p>This section describes the meaning of each of the elements that define a group item list.</p>
<h3 id="Anchor_83955760_h3_4">Name</h3>
<p>Displays the names of the items registered in the group.<br />You can use the combo box to change other items in the sound set.</p>
<h3 id="Anchor_83955760_h3_5">Sound Set</h3>
<p>Displays the name of the sound set that contains the item.</p>
<h3 id="Anchor_83955760_h3_6">Register Related Items</h3>
<p>Specifies how to load related waveform archives when the specified item is loaded.</p>
<p>By default, when a sequence sound, wave sound, or bank is loaded, any related waveform archives are also loaded at the same time. With the <strong>Register Related Items</strong> drop-down menu, you can specify that certain items or combinations of items (for example, &quot;SEQ/SEQSET and BANK only&quot; or &quot;WARC only&quot;) are loaded individually.</p>
<p>
  <strong>If the &quot;Waveform Archive&quot; setting for a wave sound set or a bank is set to either &quot;Automatic (Shared)&quot; or &quot;Automatic (Separate),&quot; only &quot;ALL&quot; can be selected.</strong>
</p>
<h3 id="Anchor_83955760_h3_7">Comments</h3>
<p>On the <strong>General</strong> tab of the options dialog box, select the <strong>Set Group item comment to Reference item</strong> check box to display the comment for a reference item.<br />If this check box is not selected, proprietary comments can be entered.</p>
<h2 id="Anchor_83955760_h2_8">Supplemental Information About Group Operations</h2>
<h3 id="Anchor_83955760_h3_8">Relationship to Files</h3>
<p>When items such as banks and sequences are registered to a group, the files that those items reference are what is actually registered. Note that when the <code>atk</code> library loads a group into the sound heap, the individual files are what is loaded.</p>
<p>For example, consider a sequence sound that references a text sequence file.</p>
<p>This text sequence file, which is used by the sequence sound as a reference file, can describe multiple sequences.</p>
<p>If a sequence sound that references a text sequence file containing multiple sequences is loaded into the sound heap as part of a group, all of the sequences described in the text sequence file are loaded. Even sequence sounds that are not registered with that particular group but reference the same text sequence file can be played.</p>
<p>Multiple items that reference the same file can be registered in the same group. When that group is loaded, duplicate content is not loaded.</p>
<p>
  <strong>Wave sound sets can be edited in the Sound Set window without their reference files; however, each wave sound set is handled internally as a separate file.</strong>
</p>
<h3 id="Anchor_83955760_h3_9">Relationship Between the Waveform Archive Automatic (Shared, Separate) Setting and the Method of Group Output</h3>
<p>This section provides a set of examples that demonstrate the relationship between the <strong>Waveform Archive</strong> of banks and wave sound sets, and the <strong>Output Method</strong> for groups.</p>
<p>To simplify the description, this example focuses on the relationship between banks and groups.<br />By substituting <em>wave sounds set</em> for <em>bank</em>, you can use this same description to understand the relationship between wave sounds sets and groups.</p>
<h4 id="Anchor_83955760_h4_5">Link Group and Automatic (Shared) Bank</h4>
<p>First, consider the <strong>Link</strong> group.</p>
<p>In the following example, three <strong>Automatic (Shared)</strong> banks are registered to a <strong>Link</strong> group.</p>
<table class="table">
  <tbody>
    <tr>
      <th>Group -- Output Method</th>
      <th>Bank -- Waveform Archive</th>
    </tr>
    <tr>
      <td rowspan="3">GROUP_0 [Link]</td>
      <td>BANK_0 [Automatic (Shared)]</td>
    </tr>
    <tr>
      <td>BANK_1 [Automatic (Shared)]</td>
    </tr>
    <tr>
      <td>BANK_2 [Automatic (Shared)]</td>
    </tr>
  </tbody>
</table>
<p>A separate waveform archive is implicitly created automatically for each of the banks from <code>BANK_0</code> through <code>BANK_2</code>.<br />Even if the same waveform is referenced among the banks (<code>BANK_0</code> through <code>BANK_2</code>), it is placed redundantly in ROM without being shared. A single collective waveform archive is not created for the group, and the duplicate waveforms in the waveform archive are not collected together.</p>
<p>To share waveforms, you must either use <strong>Embed</strong> Group and <strong>Automatic (Shared)</strong> bank, or explicitly specify the waveform archive for the bank as demonstrated in the following example.</p>
<h4 id="Anchor_83955760_h4_6">Explicitly Specifying the Waveform Archive for the Bank</h4>
<table class="table">
  <tbody>
    <tr>
      <th>Group -- Output Method</th>
      <th>Bank -- Waveform Archive</th>
    </tr>
    <tr>
      <td rowspan="3">GROUP_0 [Embed or Link]</td>
      <td>BANK_0 - WARC_0</td>
    </tr>
    <tr>
      <td>BANK_1 - WARC_0</td>
    </tr>
    <tr>
      <td>BANK_2 - WARC_0</td>
    </tr>
  </tbody>
</table>
<p>In the preceding configuration, <code>WARC_0</code> contains the waveforms of banks <code>BANK_0</code> through <code>BANK_2</code> without any duplicates (that is, one waveform is shared by multiple banks).</p>
<p>The <strong>Load Individually</strong> flag for waveform archives can be either selected or cleared.</p>
<h4 id="Anchor_83955760_h4_7">LinkGroup and Automatic (Separate) Bank</h4>
<table class="table">
  <tbody>
    <tr>
      <th>Group -- Output Method</th>
      <th>Bank -- Waveform Archive</th>
    </tr>
    <tr>
      <td rowspan="3">GROUP_0 [Link]</td>
      <td>BANK_0 [Automatic (Separate)]</td>
    </tr>
    <tr>
      <td>BANK_1 [Automatic (Separate)]</td>
    </tr>
    <tr>
      <td>BANK_2 [Automatic (Separate)]</td>
    </tr>
  </tbody>
</table>
<p>A separate waveform archive is implicitly created automatically for each of the banks, <code>BANK_0</code> through <code>BANK_2</code>, just as for <strong>Link</strong>Group and <strong>Automatic (Shared)</strong> Bank. The waveforms shared by banks are not collected together into a single waveform archive.</p>
<p>In other words, regardless of whether the banks registered to a <strong>Link</strong> group are <strong>Automatic (Shared)</strong> or <strong>Automatic (Separate)</strong>, a waveform archive is created for each individual bank, and duplicated waveforms are not shared inside a group.</p>
<h4 id="Anchor_83955760_h4_8">Uses for Automatic (Separate) Banks</h4>
<p>Although it may seem at first glance that there are no good uses for <strong>Automatic (Separate)</strong> banks, the following configuration provides a benefit.</p>
<table class="table">
  <tbody>
    <tr>
      <th>Group -- Output Method</th>
      <th>Bank -- Waveform Archive</th>
    </tr>
    <tr>
      <td>GROUP_1 [Embed or Link]</td>
      <td>BANK_0 [Automatic (Separate)]</td>
    </tr>
    <tr>
      <td>GROUP_2 [Link]</td>
      <td>BANK_0 [Automatic (Separate)]</td>
    </tr>
  </tbody>
</table>
<p>With this configuration, only one kind of waveform archive is automatically created for <code>BANK_0</code>, and you can economize on ROM size.</p>
<p>However,  if GROUP_1 and GROUP_2 are both [<strong>Embed</strong>, the waveform archive for <code>BANK_0</code> is created in two locations in ROM.</p>
<h4 id="Anchor_83955760_h4_9">EmbedGroup and Automatic (Shared) Bank</h4>
<table class="table">
  <tbody>
    <tr>
      <th>Group -- Output Method</th>
      <th>Bank -- Waveform Archive</th>
    </tr>
    <tr>
      <td rowspan="3">GROUP_0 [Embed]</td>
      <td>BANK_0 [Automatic (Shared)]</td>
    </tr>
    <tr>
      <td>BANK_1 [Automatic (Shared)]</td>
    </tr>
    <tr>
      <td>BANK_2 [Automatic (Shared)]</td>
    </tr>
  </tbody>
</table>
<p>In this case, the waveforms are collected together and a single waveform archive is created for banks BANK_0 through BANK_2. This waveform archive is referenced by three banks, and contains no redundant waveforms (that is, a single waveform is shared by multiple banks).</p>
<p>Compared to the Explicit Specification of Waveform Archives, this configuration has the merit of not going out of the way to create waveform archives. However, the waveforms can only be shared inside the group.<br />There is also a downside to adding the following information to the previous configuration.</p>
<table class="table">
  <tbody>
    <tr>
      <th>Group -- Output Method</th>
      <th>Bank -- Waveform Archive</th>
    </tr>
    <tr>
      <td rowspan="2">GROUP_1 [Embed]</td>
      <td>BANK_0 [Automatic (Shared)]</td>
    </tr>
    <tr>
      <td>BANK_3 [Automatic (Shared)]</td>
    </tr>
  </tbody>
</table>
<p>In this case, the <strong>Embed</strong> groups <code>GROUP_0</code> and <code>GROUP_1</code> both contain <code>BANK_0</code>, and the waveform archives for <code>GROUP_0</code> and <code>GROUP_1</code> both contain waveforms that are referenced by <code>BANK_0</code> (placed in duplicate locations in ROM), so the downside is that the size of ROM becomes larger.</p>
<h4 id="Anchor_83955760_h4_10">EmbedGroup and Automatic (Separate) Bank</h4>
<table class="table">
  <tbody>
    <tr>
      <th>Group -- Output Method</th>
      <th>Bank -- Waveform Archive</th>
    </tr>
    <tr>
      <td rowspan="3">GROUP_0 [Embed]</td>
      <td>BANK_0 [Automatic (Separate)]</td>
    </tr>
    <tr>
      <td>BANK_1 [Automatic (Separate)]</td>
    </tr>
    <tr>
      <td>BANK_2 [Automatic (Separate)]</td>
    </tr>
  </tbody>
</table>
<p>In this case, a separate waveform archive is implicitly created automatically for each of the banks, BANK_0 through BANK_2.</p>
<p>This configuration has merit when it is used in the way mentioned previously in Uses for Automatic (Separate) Banks.</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
