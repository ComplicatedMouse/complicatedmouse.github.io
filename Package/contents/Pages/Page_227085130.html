<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Save Data | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Save Data -->
<div class="pagetitle" id="PageId_227085130">Save Data</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_227085130_h1_1">Overview</a>
    </li>
    <li>
      <a href="#Anchor_227085130_h1_2">Save Data Types</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_227085130_h2_1">User Save Data</a>
      </li>
      <li>
        <a href="#Anchor_227085130_h2_2">Save Data for Debugging</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_227085130_h1_3">Save Data Location</a>
    </li>
    <li>
      <a href="#Anchor_227085130_h1_4">Creating Save Data</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_227085130_h2_3">Creating User Save Data</a>
      </li>
      <li>
        <a href="#Anchor_227085130_h2_4">Creating Save Data for Debugging</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_227085130_h1_5">Save Data Size</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_227085130_h2_5">User Save Data Size</a>
      </li>
      <li>
        <a href="#Anchor_227085130_h2_6">Expanding User Save Data Size</a>
      </li>
      <li>
        <a href="#Anchor_227085130_h2_7">Save Data Size for Debugging</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_227085130_h1_6">Referencing Save Data From Other Applications</a>
    </li>
    <li>
      <a href="#Anchor_227085130_h1_7">Data Save Area Other Than Save Data</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_227085130_h2_8">Temporary Storage</a>
      </li>
      <li>
        <a href="#Anchor_227085130_h2_9">Cache Storage</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_227085130_h1_1">
  <span style="color: rgb(117,117,117);">Overview</span>
</h1>
<p>The save data feature provides features to permanently save the application data.</p>
<p>The application can use the <code>fs</code> library to freely create a file or directory within save data and read or write data.<br />For more information about specific save data operations and settings, see the <a href="../Pages/Page_107782148.html">fs library documentation</a>.</p>
<h1 id="Anchor_227085130_h1_2">Save Data Types</h1>
<p>This section describes types of save data that can be used by NX applications, in addition to an overview of each type. Each type of save data references common save data regardless of whether it is a card or downloadable version.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Contact Nintendo if it would be hard to implement your application plan using these types of save data.</p>
  </div>
</div>
<h2 id="Anchor_227085130_h2_1">
  <span style="color: rgb(117,117,117);">User Save Data</span>
</h2>
<p>Application save data that can be created for each <a href="../Pages/Page_108531698.html">user account</a>. Full retail versions of software will usually use this type of save data.</p>
<p>User save data can be transferred to a different device by migrating the user account or creating a backup.<br />Before using these features, fully read the following documentation.</p>
<ul class="alternate">
  <li>
    <a href="../Pages/Page_227101339.html">Features for Transferring and Copying User Save Data</a>
  </li>
  <li>
    <a href="../Pages/Page_227101348.html">Notes When Using User Save Data</a>
  </li>
  <li>
    <a href="../Pages/Page_227101748.html">Example Cases and Specifications for User Save Data</a>
  </li>
</ul>
<h2 id="Anchor_227085130_h2_2">Save Data for Debugging</h2>
<p>One set of this kind of save data can be created for each application. <strong style="color: rgb(33,33,33);">This type of save data may only be used for development, and cannot be used in a production environment.</strong></p>
<h1 id="Anchor_227085130_h1_3">Save Data Location</h1>
<p>Each of these types of save data will be saved in the system memory.</p>
<h1 id="Anchor_227085130_h1_4">Creating Save Data<a name="Anchor_227085130_savedata_creation"></a></h1>
<h2 id="Anchor_227085130_h2_3">Creating User Save Data<a name="Anchor_227085130_usersavedata_creation"></a></h2>
<p>When the application starts, the system creates save data for the user account selected using <a href="../Pages/Page_166503043.html#Anchor_166503043_h3_14">Startup Console Account</a>.<br />For more information about the startup console account, see the Account Guide and <a href="../Pages/Page_166503043.html#Anchor_166503043_h3_14">Features &gt; Building &gt; Creating Application Images &gt; Writing NMETA Files &gt; Startup Console Account</a>.</p>
<p>To access user save data in other ways (for example when switching between multiple user accounts in the application and accessing save data), <strong>the application must explicitly create and perform error handling for the pertinent user save data</strong>.<br />For more information, see Creating Application-Specific Save Data in the <a href="../Pages/Page_107782148.html">fs library documentation</a>.</p>
<p>
  <strong>Settings must be configured in the NMETA file to create user save data in each of these cases.</strong> For more information, see Save Data Settings in the <a href="../Pages/Page_107782148.html">fs library documentation</a>.</p>
<h2 id="Anchor_227085130_h2_4">Creating Save Data for Debugging</h2>
<p>Save data for debugging will be created automatically at the beginning of use (when the corresponding <code>fs</code> library mounting function is called), and may be used without NMETA file settings.</p>
<h1 id="Anchor_227085130_h1_5">Save Data Size</h1>
<p>Save data is comprised of two areas: a <em>data save area</em>, and a <em>journaling area</em>. You can place files and directories up to the size set for the data save area, and you can rewrite data between save data commit operations in amounts up to the size set for the journaling area. For more information, see Save Data Characteristics in the <a href="../Pages/Page_107782148.html">fs library</a> documentation.</p>
<h2 id="Anchor_227085130_h2_5">User Save Data Size</h2>
<p>The size of the data save area and journaling area for the user save data are set in <a href="../Pages/Page_166503043.html">NMETA File</a></p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>To prevent a negative user experience because too much system memory is being used for save data, specify the minimum required amount for the save data size.<br />You need pre-approval to set a size of greater than 64 MiB combined for the data save area and the journaling area for user save data. To apply, contact Nintendo.</p>
    <p>Provide the following information when contacting Nintendo.</p>
    <ul>
      <li>Data save area size and journaling area size</li>
      <li>Breakdown of the data save area size (content of each element, size, and number of elements)</li>
      <li>In cases where the size of the data to be saved changes greatly depending on how the user plays the game, is the feature for expanding the size of user save data used?</li>
      <li>Is there any data that does not need to be made permanent? (Place data that does not need to be made permanent in <a href="../Pages/Page_685577216.html">RamDisk</a> or <a href="../Pages/Page_224955140.html">Temporary Storage</a>.)</li>
      <li>Is there any data that can be re-generated? (Place data that can be re-generated in <a href="../Pages/Page_224957652.html">Cache Storage</a>.)</li>
      <li>Was the size optimized using compression or data format conversion without detracting from the gameplay?</li>
    </ul>
  </div>
</div>
<h2 id="Anchor_227085130_h2_6">
  <span style="color: rgb(128,128,128);">Expanding User Save Data Size</span>
</h2>
<p>Applications and patches created with NX Add-On 3.1.0 and later can expand the size of existing user save data while maintaining the recorded data.</p>
<p>There are two methods for expanding the size, and either or both may be used depending on the situation. This section presents both methods, together with information about (a) how to implement the expansion, (b) when to do so, (c) in what case to use this method, and (d) whether the problem of insufficient space needs to be handled.</p>
<ol>
  <li>Updating the User Save Data Size in the NMETA File<ol><li>Change the size of the NMETA file user save data used to create a patch</li><li><a href="#Anchor_227085130_usersavedata_creation">When creating user save data</a> for an application with this patch applied (Existing save data is expanded in size, and if there is no existing save data, new save data is created at the expanded size.)</li><li>When you want to use a larger size than what was specified during application planning to expand features or fix bugs with a patch</li><li>The issue of insufficient space only needs to be handled if the application does not use <a href="../Pages/Page_166503043.html#Anchor_166503043_h3_14">the startup console account</a>.</li></ol></li>
  <li>Expanding User Save Data as Needed<ol><li>Expand the save data size in the application as needed<br /></li><li>When executing the processing</li><li>When you want to use save data larger than the default size only for users who play in specific ways</li><li>Insufficient space only needs to be handled.</li></ol></li>
</ol>
<p>There are also other number of times and size restrictions for expanding save data. For more information, see Expanding Save Data Size in the <a href="../Pages/Page_107782148.html">fs library documentation</a>.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>You need pre-approval if updating the size of user save data in the NMETA file increases the size of the data save area and the journaling area to a combined total of greater than 64 MiB. To apply, contact Nintendo.</p>
    <p>Provide the following information when contacting Nintendo.</p>
    <ul>
      <li>Data save area size and journaling area size after updating.</li>
      <li>Breakdown of the data save area size (content and size of each element, and number of elements) after updating</li>
      <li>In cases where the size of the data to be saved changes greatly depending on how the user plays the game, is the feature for expanding the size of user save data used?</li>
      <li>Is there any data that does not need to be made permanent? (Place data that does not need to be made permanent in <a href="../Pages/Page_685577216.html">RamDisk</a> or <a href="../Pages/Page_224955140.html">Temporary Storage</a>.)</li>
      <li>Is there any data that can be re-generated? (Place data that can be re-generated in<a href="../Pages/Page_224957652.html">Cache Storage</a>.)</li>
      <li>Was the size optimized using compression or data format conversion without detracting from the gameplay?</li>
    </ul>
  </div>
</div>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>You need pre-approval to use the <strong>Expanding User Save Data as Needed</strong> feature. To apply, contact Nintendo.</p>
    <p>Provide the following information when contacting Nintendo.</p>
    <ul>
      <li>The data save area size and the journaling area size when the application first starts</li>
      <li>The maximum expanded data save area size and journaling area size</li>
      <li>Breakdown of the data save area size (content and size of each element, and number of elements) when expanded to the maximum size</li>
      <li>Is there any data that does not need to be made permanent? (Place data that does not need to be made permanent in <a href="../Pages/Page_685577216.html">RamDisk</a> or <a href="../Pages/Page_224955140.html">Temporary Storage</a>.)</li>
      <li>Is there any data that can be re-generated? (Place data that can be re-generated in<a href="../Pages/Page_224957652.html">Cache Storage</a>.)</li>
      <li>Was the size optimized using compression or data format conversion without detracting from the gameplay?</li>
      <li>Under what conditions is the size expanded, and to what extent?</li>
      <li>What is the maximum number of times the size is expanded until the limit has been reached?</li>
      <li>Are there plans to extend the size of expansion even further in future updates?</li>
    </ul>
  </div>
</div>
<h2 id="Anchor_227085130_h2_7">
  <span style="color: rgb(117,117,117);">Save Data Size for Debugging</span>
</h2>
<p>The sizes of the data save area and the journaling area for save data for debugging are fixed at 32 MiB each.</p>
<h1 id="Anchor_227085130_h1_6">
  <span style="color: rgb(117,117,117);">Referencing Save Data From Other Applications</span>
</h1>
<p>It is possible to reference user save data from other applications by describing the appropriate settings in the NMETA file.<br />For more information, see Referencing Another Application's Save Data in the <a href="../Pages/Page_107782148.html">fs library documentation</a>.</p>
<h1 id="Anchor_227085130_h1_7">
  <span style="color: rgb(117,117,117);">Data Save Area Other Than Save Data</span>
</h1>
<p>There is a separate temporary storage and cache storage feature for saving application data separately from the save data.</p>
<h2 id="Anchor_227085130_h2_8">
  <span style="color: rgb(128,128,128);">Temporary Storage</span>
</h2>
<p>The temporary storage feature provides a work area where the application can temporarily save files. <strong>Content written to temporary storage is not kept permanently and is deleted when the application closes.</strong></p>
<p>There is a maximum of one temporary storage area per application, and it is not associated with a user account. </p>
<p>Temporary storage is intended to be used for the following kinds of purposes. </p>
<ul>
  <li>Temporary storage for video encoding</li>
  <li>Temporary storage of data that can be re-generated and re-obtained</li>
</ul>
<p>Temporary storage differs from cache storage in the following ways.</p>
<ul>
  <li>Temporary storage is deleted when the application ends and is always empty when the application starts.</li>
  <li>There are no restrictions on data protection by the journaling feature, or on the accompanying write volume.</li>
</ul>
<p>
  <br />
</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>To use temporary storage of greater than 512 MiB, you must submit a request in advance. To apply, contact Nintendo.</p>
    <p>Provide the following information when contacting Nintendo.</p>
    <ul>
      <li>The size of the temporary storage</li>
      <li>A breakdown of the size of the temporary storage (the content and size of each element, and the number of elements)</li>
      <li>Is there any data in the temporary storage that would cause problems if it were deleted when the application closes?</li>
      <li>Was the size optimized using compression or data format conversion without detracting from the gameplay?</li>
    </ul>
    <p>The <a href="../Pages/Page_685577216.html">RamDisk</a> function is available in NX Add-On 10.0.0 and later.<br />If the memory can be allocated, we recommend using RamDisk.<br />The RamDisk feature has the following advantages over the temporary storage feature.</p>
    <ul>
      <li>Because storage is not accessed, the guidelines that limit the number of read and write operations and the write volume do not apply.</li>
      <li>There is no change in access speed due to the storage media.</li>
      <li>There are never cases where the application does not start due to a lack of free space in system memory.</li>
      <li>It is not limited to a maximum of one per application.</li>
    </ul>
  </div>
</div>
<p>
  <br />
</p>
<h2 id="Anchor_227085130_h2_9">
  <span style="color: rgb(128,128,128);">Cache Storage</span>
</h2>
<p>The cache storage feature provides an area for the application to store <strong>data that can be re-generated and re-obtained</strong>. <strong>Content written to cache storage is perpetuated, but it is deleted when the application is archived or deleted.</strong></p>
<div class="warn_new">
  <div class="warn_new_left">Warning</div>
  <div class="warn_new_right">
    <p>
      <strong>Cache storage is not intended for storing data that is important to the user.</strong> Use cache storage only for storing data that would not disadvantage the user if it were deleted.<br /><strong>Store data that is important to the user in user save data.</strong></p>
  </div>
</div>
<p>There is a maximum of one cache storage area per application, and it not associated with a user account.</p>
<p>Temporary storage is intended to be used for the following kinds of purposes.</p>
<ul>
  <li>Storing game resource data that is frequently updated by the ROM or downloadable content and is delivered by an independent server or similar</li>
  <li>Storing user-generated content (UGC) that is created by other users, uploaded to a server, and can be re-obtained</li>
  <li>Storing data that can be regenerated and re-obtained, and would offer a major advantage if retained for the next time the application is started</li>
</ul>
<p>Cache storage differs from temporary storage in the following ways.</p>
<ul style="list-style-type: square;">
  <li>The content is perpetuated, even after the application closes.</li>
  <li>
    <strong>The content is deleted when the application is archived or deleted.</strong>
  </li>
  <li>There is a restriction on data protection by the journaling feature, and on the resulting write volume.</li>
</ul>
<p>
  <br />
</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>You must apply in advance to use the cache storage feature. Contact Nintendo Support if you have questions.</p>
    <p>Provide the following information when contacting Nintendo.</p>
    <ul>
      <li>The cache storage data save area size and journaling area size</li>
      <li>Breakdown of the data save area size (content of each element, size, and number of elements)</li>
      <li>Is there any data that does not need to be made permanent? (Place data that does not need to be made permanent in <a href="../Pages/Page_685577216.html">RamDisk</a> or <a href="../Pages/Page_224955140.html">Temporary Storage</a>.)</li>
      <li>Is there any data that would cause problems if the cache storage was rolled back or skipped forward?</li>
      <li>Was the size optimized using compression or data format conversion without detracting from the gameplay?</li>
    </ul>
  </div>
</div>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
