<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Capturing Pane Animations | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Capturing Pane Animations -->
<div class="pagetitle" id="PageId_1038562379">Capturing Pane Animations</div>
<div class="text_separate">
<h1 id="Anchor_1038562379_h1_1">Capturing Pane Animations</h1>
<p style="margin-left: 1.0em;">When setting animations for panes under the capture pane hierarchy, you can convert the capture image for each frame.<br />This section describes the process for loading the captured images from each frame as textures into the picture pane, then adding a distortion effect.</p>
<p style="margin-left: 1.0em;">
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_113819952/1047889856.gif" class="embedded-image" />
  </span>
</p>
<p style="margin-left: 1.0em;">
  <span class="status_macro_base status_macro_Blue">Related Links</span> First go through <strong><a href="../Pages/Page_1026755479.html">Using Capture Panes</a></strong> and get into a state where you can use capture panes.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>For this tutorial, reference DynamicCapture in Ui2dDemo.<br />The Ui2dDemo data is located in the following directory.<br /><strong> \Samples\Sources\Resources\Ui2d   \CapturePane\data\CapturePane.flyt </strong></p>
  </div>
</div>
<h2 id="Anchor_1038562379_h2_1">
  <span style="color: rgb(23,43,77);">Starting LayoutEditor</span>
</h2>
<p>
  <span style="color: rgb(0,51,102);">Start LayoutEditor and create layout data.</span>
</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information about starting LayoutEditor, see <a href="../Pages/Page_104494523.html">Workflow</a>.</p>
<h2 id="Anchor_1038562379_h2_2">Specifying Default Value for the FrameBuffer Capture Flag</h2>
<p>Using a text editor, open the project configuration file in the specified Parts root and set the default configuration for the FrameBuffer capture flag.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th class="numberingColumn">1</th>
      <td>
        <p>Open the <code>NW_LytProject.flpj</code> project configuration file located in the following directory.<br />\Samples\Sources\Resources\Ui2d\</p>
      </td>
    </tr>
    <tr>
      <th class="numberingColumn">2</th>
      <td>
        <p>Make sure that the following are set to <code>true</code> in the project configuration file.</p>
        <p>&lt;DefaultCapturePaneFrameBufferCaptureFlag&gt;true&lt;/DefaultCapturePaneFrameBufferCaptureFlag&gt;<br />Specifies the default value set for the framebuffer capture flag when a new capture pane is created.</p>
      </td>
    </tr>
    <tr>
      <th class="numberingColumn">3</th>
      <td>Save the edited project file and close the text editor.</td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information about the project settings file, see <a href="../Pages/Page_124016278.html">here</a>.</p>
<h2 id="Anchor_1038562379_h2_3">Updating the Parts Palette</h2>
<p>If you are performing the update through the tutorial, the created layout will not appear in the Parts Palette window.<br />Click the <strong>Update</strong> button in the Parts Palette window. Updating the Parts Palette to the latest version displays the created layout.</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information about the Parts Palette window, see <a href="../Pages/Page_111807481.html">here</a>.</p>
<h2 id="Anchor_1038562379_h2_4">Open Layout</h2>
<p>Use the Parts Palette to open the <code>CaptureFirstFrameOnly.flyt</code> file that was created in <a href="../Pages/Page_1038556172.html">Adding Distortion Effects to Captured Images</a>.</p>
<p>In the Parts Palette list, right-click <strong>CaptureFirstFrameOnly.flyt</strong>, and from the shortcut menu, select <strong>Open</strong>.<br />Load <code>CaptureFirstFrameOnly.flyt</code> into LayoutEditor.</p>
<h2 id="Anchor_1038562379_h2_5">Changing Pane Names</h2>
<p>Change pane names according to the descriptions.<br />Change the name of the C_CaptureFirstFrameOnly (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/278515593.png" height="16" class="embedded-image" /></span>) capture pane to C_DynamicCapture.<br />Change the name of the P_CaptureFirstFrameOnly (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>) picture pane to P_DynamicCapture.</p>
<p>The display in the Hierarchy window appears as follows.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/1047889845.png" width="160" height="70" class="embedded-image" />
  </span>
</p>
<h2 id="Anchor_1038562379_h2_6">Load the texture.</h2>
<p>Load the texture (TGA) file into the Texture window from the following location.<br />Samples/Sources/Resources/Ui2d/Common/Textures/</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>Thumbnail</th>
      <th>Filename</th>
      <th>Format</th>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper image-center-wrapper">
              <img src="../Attachments/Attach_83955988/1047889840.png" width="32" height="34" class="embedded-image image-center" />
            </span>
          </p>
        </div>
      </td>
      <td>Balloon</td>
      <td>
        <p>BC5 : (I+A)</p>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_1038562379_h2_7">Creating Picture Panes</h2>
<p>On the main menu, select <strong>Pane</strong> &gt; <strong>Create Pane</strong> &gt; <strong>Picture Pane</strong> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>).</p>
<p>On the main menu, select <strong>Pane</strong> &gt; <strong>Create Pane</strong> &gt; <strong>Picture Pane</strong>.<br />In the Hierarchy window, select the created picture pane (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>) and change the pane name to P_BalloonString.<br />In the Properties Window, specify the following settings.</p>
<table class="wrapped relative-table" style="width: 43.0114%;">
  <colgroup> <col style="width: 20.8995%;" /> <col style="width: 27.6455%;" /> <col style="width: 17.4603%;" /> <col style="width: 33.9925%;" /> </colgroup>
  <tbody>
    <tr>
      <th rowspan="2">
        <div class="content-wrapper">
          <p>Base Pane (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/384038888.png" height="16" class="embedded-image" /></span>)</p>
        </div>
      </th>
      <th>Pane Position and Shape</th>
      <th>Size</th>
      <td>X,Y = 2,128</td>
    </tr>
    <tr>
      <th>Center when changing position and shape</th>
      <th>Pane Center</th>
      <td>
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper image-left-wrapper">
              <img src="../Attachments/Attach_83955988/1047907256.png" height="48" class="embedded-image image-left" />
            </span>
          </p>
        </div>
      </td>
    </tr>
    <tr>
      <th>
        <div class="content-wrapper">
          <p>Picture Pane (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>)</p>
        </div>
      </th>
      <th style="text-align: left;" colspan="2">Vertex Colors</th>
      <td>
        <p>[ LB ] [ B ] [ RB ]<br />R,G,B,A = 255,255,255,0</p>
      </td>
    </tr>
  </tbody>
</table>
<p>From the Texture window that displays the textures, create a picture pane (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>).</p>
<p>In the Texture window, double-click <strong>Balloon.tga</strong> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955988/1047889840.png" width="16" class="embedded-image" /></span>).<br />In the Hierarchy window, select the created picture pane and change the pane name to P_Balloon.<br />In the Properties window, specify the following settings.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>
        <div class="content-wrapper">
          <p>Base Pane (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/384038888.png" height="16" class="embedded-image" /></span>)</p>
        </div>
      </th>
      <th>Center when changing position and shape</th>
      <th>Pane Center</th>
      <td>
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper ">
              <img src="../Attachments/Attach_83955988/1047907257.png" height="50" class="embedded-image" />
            </span>
          </p>
        </div>
      </td>
    </tr>
    <tr>
      <th>
        <div class="content-wrapper">
          <p>Color Interpolation (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/384038891.png" height="16" class="embedded-image" /></span>)</p>
        </div>
      </th>
      <th colspan="2">White Color Blending</th>
      <td>R,G,B,A = 145,0,0,255</td>
    </tr>
    <tr>
      <th>
        <div class="content-wrapper">
          <p>Texture (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/384038899.png" height="16" class="embedded-image" /></span>)</p>
        </div>
      </th>
      <th>Combiner Settings</th>
      <th>
        <div class="content-wrapper">
          <p>Advanced Combiner Mode</p>
        </div>
      </th>
      <td>
        <div class="content-wrapper">
          <p>Click the <strong>Combiner Settings</strong> (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/384038889.png" class="embedded-image" /></span>) button, and switch the combiner mode.<br />Click the <strong>Switch to advanced combiner mode</strong> button to switch modes.<br />Set the method of blending the registered texture 0.</p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_1038562379_h3_1">Detailed Combiner Mode Settings</h3>
<p>Set Detailed Combiner Mode for the Balloon.tga (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955988/1047889840.png" width="16" class="embedded-image" /></span>) registered to P_Balloon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>).<br />Use the following procedure to set Detailed Combiner Mode for the texture (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/384038899.png" height="16" class="embedded-image" /></span>).</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th class="numberingColumn">1</th>
      <td>To set Stage 0, in <strong>Stage Selection</strong>, click the <strong>0</strong> button.</td>
    </tr>
    <tr>
      <th class="numberingColumn">2</th>
      <td>Apply <strong>white color</strong> to constant register RGBA.</td>
    </tr>
    <tr>
      <th class="numberingColumn">3</th>
      <td>Apply &quot;Source 0 + Source 1&quot; as the color combiner mode.</td>
    </tr>
    <tr>
      <th class="numberingColumn">4</th>
      <td>
        <p>Specify the color source.<br />Apply Texture 0 as Source 0 and Constant as Source 1.</p>
      </td>
    </tr>
    <tr>
      <th class="numberingColumn">5</th>
      <td>
        <p>Set the alpha source.<br />Apply Texture 0 as Source 0.</p>
      </td>
    </tr>
  </tbody>
</table>
<p>The following image shows how the viewer displays the balloon when P_BalloonString (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>) and P_Balloon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>) are configured.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/1047907259.png" height="250" class="embedded-image" />
  </span>
</p>
<h2 id="Anchor_1038562379_h2_8">Creating a Null Pane</h2>
<p>Create the null pane (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909761.png" height="16" class="embedded-image" /></span>) for grouping the created panes together.</p>
<p>From the main menu, select <strong>Pane</strong> &gt; <strong>Create Pane</strong> &gt; <strong>Null Pane</strong>.<br />In the Hierarchy window, select the created null pane (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909761.png" height="16" class="embedded-image" /></span>) and change the pane name to N_Balloon.</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For an overview of null panes, see <a href="../Pages/Page_282999039.html">here</a>.</p>
<h2 id="Anchor_1038562379_h2_9">Creating Pane Hierarchy</h2>
<p>In the Hierarchy window, place the created panes in a hierarchy.</p>
<p> <strong><span style="color: rgb(255,0,0);">1</span></strong>. In the Hierarchy window, verify that the created panes are in the following order.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/1047889841.png" width="185" height="115" class="embedded-image" />
  </span>
</p>
<p> <strong><span style="color: rgb(255,0,0);">2</span></strong>. Set P_Ballon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>) and P_BalloonString (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>) as children of N_Balloon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909761.png" height="16" class="embedded-image" /></span>), as described below.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/1047889842.png" width="185" height="115" class="embedded-image" />
  </span>
</p>
<p> <strong><span style="color: rgb(255,0,0);">3</span></strong>. Set N_Balloon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909761.png" height="16" class="embedded-image" /></span>) as a child of C_DynamicCapture (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/278515593.png" height="16" class="embedded-image" /></span>).</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/1047889843.png" width="185" height="115" class="embedded-image" />
  </span>
</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information about creating hierarchy in the Hierarchy window, see <a href="../Pages/Page_83956246.html">here</a>.</p>
<h2 id="Anchor_1038562379_h2_10">Changing Capture Pane Settings</h2>
<p>You can capture the pane animation for each frame under the capture pane &quot;C_DynamicCapture (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/278515593.png" height="16" class="embedded-image" /></span>)&quot; hierarchy. <br />Configure the Properties Window of the capture pane as follows, and disable the feature for capturing only the one frame at the start of the animation.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>
        <div class="content-wrapper">
          <p>Capture Pane (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/278515593.png" height="16" class="embedded-image" /></span>)</p>
        </div>
      </th>
      <th>Capture First Frame Only</th>
      <td>OFF</td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Animations are also configured for the parts layout.<br />You can check ui2ddemo to view the body layout animation and parts layout animation.</p>
    <table class="wrapped">
      <colgroup> <col /> <col /> </colgroup>
      <tbody>
        <tr>
          <th style="text-align: center;">Parts Layout Animation</th>
          <th style="text-align: center;">Ui2dDemo &quot;DynamicCapture&quot;</th>
        </tr>
        <tr>
          <td>
            <div class="content-wrapper">
              <p>
                <span class="embedded-file-wrapper ">
                  <img src="../Attachments/Attach_113819952/1047889855.gif" class="embedded-image" />
                </span>
              </p>
            </div>
          </td>
          <td>
            <div class="content-wrapper">
              <p>
                <span class="embedded-file-wrapper image-center-wrapper">
                  <img src="../Attachments/Attach_113819952/1047889858.gif" class="embedded-image image-center" />
                </span>
              </p>
            </div>
          </td>
        </tr>
        <tr>
          <td>This is the parts layout animation.</td>
          <td>The parts layout animation is also captured.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<h2 id="Anchor_1038562379_h2_11">Creating a Balloon Translate Animation</h2>
<p>Create an animation of a balloon rising upwards in the N_Balloon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909761.png" height="16" class="embedded-image" /></span>) null pane.</p>
<p>Select the N_Balloon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909761.png" height="16" class="embedded-image" /></span>) null pane in the Hierarchy window, as described below.<br />Create animation by setting keys for the various elements in the Curve Editor window.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>Pane Name</th>
      <th>Elements</th>
      <th>Key Time = Key Value</th>
      <th>Slope Setting</th>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper ">
              <img src="../Attachments/Attach_83955555/276909761.png" height="16" class="embedded-image" />
            </span> N_Balloon</p>
        </div>
      </td>
      <td>Position/Y</td>
      <td>0f = -388 , 300f = 350 , 301f = -388</td>
      <td>Linear interpolation.</td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span> For more information about Curve Editor operations, see <strong><a href="../Pages/Page_110086641.html">Curve Editor Operations.</a></strong></p>
<h2 id="Anchor_1038562379_h2_12">Creating a Balloon Rotate Animation</h2>
<p>Create an animation of a rotating and gently shaking balloon in the P_Balloon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>) picture pane.</p>
<p>Select the P_Balloon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>) picture pane in the Hierarchy window, as described below.<br />Create animation by setting keys for the various elements in the Curve Editor window.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>Pane Name</th>
      <th>Elements</th>
      <th>Key Time = Key Value</th>
      <th>Slope Setting</th>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper ">
              <img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" />
            </span> P_Balloon</p>
        </div>
      </td>
      <td>Rotation/Z</td>
      <td>0f = 0 , 40f = 10 , 120f = -10 , 160f = 0</td>
      <td>Spline</td>
    </tr>
  </tbody>
</table>
<p>Note the Rotation/Z of P_Balloon (<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span>) has a spline slope.</p>
<p>Edit the slope shape while checking LayoutViewer to reference the following curves.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th style="text-align: center;">Curve Editor</th>
      <th style="text-align: center;">LayoutViewer</th>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper ">
              <img src="../Attachments/Attach_83955988/1047889844.png" width="350" class="embedded-image" />
            </span>
          </p>
        </div>
      </td>
      <td>
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper ">
              <img src="../Attachments/Attach_113819952/1047889857.gif" class="embedded-image" />
            </span>
          </p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_1038562379_h2_13">Completion</h2>
<p>The following image shows the completed layout.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_113819952/1047889856.gif" class="embedded-image" />
  </span>
</p>
<h2 id="Anchor_1038562379_h2_14">Saving Layout Data</h2>
<p>Save the edited content.<br />From the main menu, select <strong>File</strong> &gt; <strong>Save As</strong> to save the edited content in <code>DynamicCapture.flyt</code>.</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
