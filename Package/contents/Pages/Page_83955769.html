<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Sequence Commands | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Sequence Commands -->
<div class="pagetitle" id="PageId_83955769">Sequence Commands</div>
<div class="text_separate">
<h1 id="Anchor_83955769_h1_1">Contents</h1>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_83955769_h2_1">note Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_2">wait Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_3">Ending the Sequence</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_4">Changing the Program</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_5">Changing the Tempo</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_6">time base Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_7">Track Volume</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_8">main volume Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_9">pitchbend Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_10">transpose Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_11">velocity_range Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_12">Track Pan</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_13">Track Surround Pan</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_14">Track Initial Pan</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_15">Voicing Priority</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_16">Tie Mode</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_17">Monophonic Mode</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_18">Note Wait Mode</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_19">Damper Pedal</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_20">Portamento</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_21">Sweep</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_22">LPF Cutoff Frequency</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_23">biquad Filter</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_24">Effect Send A-C</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_25">Main Send</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_26">Allocating Tracks</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_27">Starting Tracks</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_28">Sequence Jump Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_29">Call Sequence Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_30">Loop Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_31">Envelope Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_32">Envelope Invalidation Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_33">Modulation Commands</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_34">Track Mute Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_35">User Process Call Command</a>
    </li>
    <li>
      <a href="#Anchor_83955769_h2_36">Select Bank Command</a>
    </li>
  </ul>
</p>
<h1 id="Anchor_83955769_h1_2">Sequence Commands</h1>
<p>The following table lists the sequence commands that can be used in a text sequence.</p>
<p>Table 2. List of Sequence Commands</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <p>Command Name</p>
      </th>
      <th>
        <p>Description</p>
      </th>
      <th>
        <p>Default Value</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p>cn4 <em>velocity</em>, <em>length</em></p>
      </td>
      <td>
        <p>Note command.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>wait <em>length</em></p>
      </td>
      <td>
        <p>Wait command.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>fin</p>
      </td>
      <td>
        <p>Ending the sequence.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>prg <em>x</em></p>
      </td>
      <td>
        <p>Changing the program.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>tempo <em>x</em></p>
      </td>
      <td>
        <p>Changing the tempo.</p>
      </td>
      <td>
        <p>120</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>timebase <em>x</em></p>
      </td>
      <td>
        <p>Changes the time base.</p>
      </td>
      <td>
        <p>48</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>volume <em>x</em></p>
      </td>
      <td>
        <p>Changes the track volume.</p>
      </td>
      <td>
        <p>127</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>volume2 <em>x</em></p>
      </td>
      <td>
        <p>Changes the track volume.</p>
      </td>
      <td>
        <p>127</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>main_volume <em>x</em></p>
      </td>
      <td>
        <p>Changes the player volume.</p>
      </td>
      <td>
        <p>127</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>pitchbend <em>x</em></p>
      </td>
      <td>
        <p>Changes the pitch bend.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>bendrange <em>x</em></p>
      </td>
      <td>
        <p>Changes the pitch bend range.</p>
      </td>
      <td>
        <p>2</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>transpose <em>x</em></p>
      </td>
      <td>
        <p>Transpose command.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>velocity_range <em>x</em></p>
      </td>
      <td>
        <p>Changes the velocity range.</p>
      </td>
      <td>
        <p>127</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>pan <em>x</em></p>
      </td>
      <td>
        <p>Changes the track pan.</p>
      </td>
      <td>
        <p>64</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>span <em>x</em></p>
      </td>
      <td>
        <p>Changes the track surround pan.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>init_pan <em>x</em></p>
      </td>
      <td>
        <p>Changes the track initial pan.</p>
      </td>
      <td>
        <p>64</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>prio <em>x</em></p>
      </td>
      <td>
        <p>Changes the track voicing priority.</p>
      </td>
      <td>
        <p>64</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>tieon / tieoff</p>
      </td>
      <td>
        <p>Enables or disables tie mode.</p>
      </td>
      <td>
        <p>off</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>monophonic_on   monophonic_off</p>
      </td>
      <td>
        <p>Enables or disables monophonic mode.</p>
      </td>
      <td>
        <p>off</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>notewait_on   notewait_off</p>
      </td>
      <td>
        <p>Enables or disables note wait.</p>
      </td>
      <td>
        <p>on</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>porta <em>x</em></p>
      </td>
      <td>
        <p>Enables or disables portamento.</p>
      </td>
      <td>
        <p>cn4(60)</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>porta_time <em>x</em></p>
      </td>
      <td>
        <p>Sets the portamento time.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>damper_on   damper_off</p>
      </td>
      <td>
        <p>Enables or disables the damper pedal.</p>
      </td>
      <td>
        <p>off</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>porta_on / porta_off</p>
      </td>
      <td>
        <p>Enables or disables portamento.</p>
      </td>
      <td>
        <p>off</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>sweep_pitch <em>x</em></p>
      </td>
      <td>
        <p>Sets the amount of change in the sweep pitch.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>lpf_cutoff x</p>
      </td>
      <td>
        <p>LPF cutoff frequency.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>biquad_type</p>
      </td>
      <td>
        <p>Biquad filter type.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>biquad_value</p>
      </td>
      <td>
        <p>Biquad filter value.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>fxsend_a <em>x</em></p>
      </td>
      <td>
        <p>Effect send A.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>fxsend_b <em>x</em></p>
      </td>
      <td>
        <p>Effect send B.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>fxsend_c <em>x</em></p>
      </td>
      <td>
        <p>Effect send C.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mainsend <em>x</em></p>
      </td>
      <td>
        <p>Main send.</p>
      </td>
      <td>
        <p>127</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>alloctrack <em>mask</em></p>
      </td>
      <td>
        <p>Track allocation.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>opentrack <em>no</em>, <em>label</em></p>
      </td>
      <td>
        <p>Starting tracks.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>jump <em>label</em></p>
      </td>
      <td>
        <p>Sequence jump command.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>call <em>label</em></p>
      </td>
      <td>
        <p>Call sequence command.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>
          <code>ret</code>
        </p>
      </td>
      <td>
        <p>Return sequence.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>loop_start <em>count</em></p>
      </td>
      <td>
        <p>Loop start point.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>loop_end</p>
      </td>
      <td>
        <p>Loop end point.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>attack <em>x</em></p>
      </td>
      <td>
        <p>Sets the attack value.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>env_hold <em>x</em></p>
      </td>
      <td>
        <p>Sets the hold value.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>decay <em>x</em></p>
      </td>
      <td>
        <p>Sets the decay value.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>sustain <em>x</em></p>
      </td>
      <td>
        <p>Sets the sustain value.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>release <em>x</em></p>
      </td>
      <td>
        <p>Sets the release value.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>env_adsr <em>a</em>,<em>d</em>,<em>s</em>,<em>r</em></p>
      </td>
      <td>
        <p>Sets the envelope values.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>env_ahdsr <em>a</em>,<em>h</em>,<em>d</em>,<em>s</em>,<em>r</em></p>
      </td>
      <td>
        <p>Sets the envelope values (with the hold value).</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>envelope <em>a</em>,<em>d</em>,<em>s</em>,<em>r</em></p>
      </td>
      <td>
        <p>Sets the envelope values (not recommended).</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>env_reset</p>
      </td>
      <td>
        <p>Invalidates envelope values.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_depth <em>x</em></p>
      </td>
      <td>
        <p>Sets the modulation depth.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_range <em>x</em></p>
      </td>
      <td>
        <p>Sets the modulation range.</p>
      </td>
      <td>
        <p>1</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_speed <em>x</em></p>
      </td>
      <td>
        <p>Sets the modulation speed.</p>
      </td>
      <td>
        <p>16</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_delay <em>x</em></p>
      </td>
      <td>
        <p>Sets the modulation decay.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_type <em>x</em></p>
      </td>
      <td>
        <p>Sets the modulation type.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_period <em>x</em></p>
      </td>
      <td>
        <p>Sets the modulation period.</p>
      </td>
      <td>
        <p>16</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_phase <em>x</em></p>
      </td>
      <td>
        <p>Sets the modulation phase.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_curve <em>x</em></p>
      </td>
      <td>
        <p>Sets the modulation curve.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mute  <em>mode</em></p>
      </td>
      <td>
        <p>Mute or cancel mute for a track.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>userproc <em>procId</em></p>
      </td>
      <td>
        <p>Calls a user process.</p>
      </td>
      <td>
        <p> </p>
      </td>
    </tr>
    <tr>
      <td>
        <p>bank_select <em>bankId</em></p>
      </td>
      <td>
        <p>Select bank command.</p>
      </td>
      <td>
        <p>0</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<h2 id="Anchor_83955769_h2_1">note Command</h2>
<p>A <code>note</code> command vocalizes the note corresponding to the current program number.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>cn4 velocity, length</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Keys are written in a format similar to the following.<code>cn4, cs4, dn4, ds4, en4, fn4, fs4, gn4, gs4, as4, as4, bn4, cn5 cn4</code> is used for middle C. Notes can be specified from <code>cnm1</code> to <code>gn9</code>. (<code>m1</code> represents minus 1.)</p>
<p>The <code><em>velocity</em></code> parameter represents the velocity. Having a value in the range from <code>0</code> to <code>127</code>, this parameter is interpreted as a square scale value. In other words, if 127 is 100%,</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83956113/83080132.gif" width="200" class="embedded-image" />
  </span>
</p>
<p>is what you get.</p>
<p>The <code><em>length</em></code> parameter represents the length of a note, with <code>48</code> being equivalent to the length of a quarter note. (You can use the <code>timebase</code> command to change the length of the quarter note.) The value range is from <code>0</code> to <code>268,435,455</code>, and the value determines the length of the sound according to the tempo, but of these values only <code>0</code> has a special meaning.</p>
<p>When <code><em>length</em></code> is set to <code>0</code>, the note length is interpreted to be until the end of the waveform data being played. This specification is primarily used in waveform data to be looped. When the value of <code><em>length</em></code> is set to <code>0</code> and the waveform data is looped, the note keeps playing indefinitely until either the program stops the sound or the sound is stopped by something of higher priority.</p>
<p>In the <code>notewait_on</code> state (the default state), the sequence process with the same time as the note length (value of <code><em>length</em></code>) stops at that location and moves to the next sequence process after waiting for the same length of time.</p>
<p>Similar to the behavior when <code><em>length</em></code> is <code>0</code>, the sequence remains stopped until the waveform data has finished playing. Note that even if the waveform data is looped so the note plays indefinitely, the process moves to the next sequence if the voicing priority is low and the sound is forced to stop while the note is playing.</p>
<p>Using the same behavior and setting <code><em>length</em></code> to <code>0</code> for a non-looped set of waveform data, you can specify playback so it passes to the next sequence as soon as the waveform data is over.</p>
<p>By stopping the sequence process for the duration of the <code><em>length</em></code> value, you are in effect using the end of the note process to cancel the program's stopped state and resume the sequence.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>cn4 110, 48
dn4 110, 48
en4 127, 96</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p class="Code"> </p>
<h2 id="Anchor_83955769_h2_2">wait Command</h2>
<p>The <code>wait</code> command stops a sequence for the specified length of time.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>wait length</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The <code><em>length</em></code> parameter represents the length of a note, with <code>48</code> being equivalent to the length of a quarter note. (You can use the <code>timebase</code> command to change the length of the quarter note.) The actual length depends on the tempo. This value can be specified in the range from <code>0</code> through <code>268,435,455</code>.</p>
<h2 id="Anchor_83955769_h2_3">Ending the Sequence</h2>
<p>The <code>fin</code> command ends sequence processing for the track.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>fin</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>When sequence processing for all tracks ends, player processing also stops.</p>
<p>If you forget to use the <code>fin</code> command, sequence data lower in the file continues to be executed. Be careful as this may result in the output of unexpected sounds or runaway processing in some cases.</p>
<h2 id="Anchor_83955769_h2_4">Changing the Program</h2>
<p>The <code>program change</code> command changes the program.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>prg x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The program number value can be specified in the range from <code>0</code> through <code>32,767</code>. However, only a value up to <code>127</code> can be specified under MIDI. The default is 0.</p>
<h2 id="Anchor_83955769_h2_5">Changing the Tempo</h2>
<p>The <code>tempo change</code> command changes the tempo.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>tempo x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The tempo can have a value from <code>1</code> to <code>1023</code>. This value is used in conjunction with a tempo ratio value that can be set by the program to determine the ultimate tempo value. The default is <code>120</code>.</p>
<h2 id="Anchor_83955769_h2_6">time base Command</h2>
<p>The <code>time base</code> command changes the time base (quarter-note resolution).</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>timebase x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The time base is set in the range from <code>1</code> to <code>255</code>. The default is 48.</p>
<h2 id="Anchor_83955769_h2_7">Track Volume</h2>
<p>This command changes the volume of a track.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>volume x
volume2 x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The track volume is set in the range from <code>0</code> to <code>127</code>. The default is 127.</p>
<p>Just as with velocity, this value is interpreted as a square scale value. In other words, if 127 is 100%,</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83956113/83080134.gif" width="200" class="embedded-image" />
  </span>
</p>
<p>is what you get.</p>
<p>There is no functional difference when using either the <code>volume</code> or <code>volume2</code> command. If both commands are specified at the same time, both effects are applied simultaneously. For example, if 80 percent is specified to <code>volume</code>, and 50 percent is specified to <code>volume2</code>, a volume of 40 percent (<code>0.8 x 0.5 = 0.4</code>) will result.</p>
<h2 id="Anchor_83955769_h2_8">main volume Command</h2>
<p>This command changes the volume of the entire sequence.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>main_volume x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The volume can be set in the range from <code>0</code> to <code>127</code>. The default is 127.</p>
<p>Just as with velocity, this value is interpreted as a square scale value. In other words, if 127 is 100%,</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83956113/83080134.gif" width="200" class="embedded-image" />
  </span>
</p>
<p>is what you get.</p>
<h2 id="Anchor_83955769_h2_9">pitchbend Command</h2>
<p>This command changes the pitch bend or pitch bend range.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>pitchbend x
bendrange x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The <code>pitchbend</code> value can be set in the range from <code>-128</code> to <code>127</code>. The default is 0.</p>
<p>The bend range is measured in semitones. The default value is <code>2</code>. The specifiable range is from <code>0</code> through <code>127</code>.</p>
<p>If <code>pitchbend</code> is set to <code>MAX</code>, it is changed to the exact height specified by <code>bendrange</code>. For example, if <code>bendrange</code> is <code>2</code>, the <code>pitchbend</code> value changes +2 half notes at <code>127</code>, +1 half note at <code>64</code>, and &ndash;1 half note at <code>&ndash;64</code>.</p>
<h2 id="Anchor_83955769_h2_10">transpose Command</h2>
<p>This command is used to transpose data.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>transpose x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The transpose value is measured in semitones and can be set in the range from <code>-64</code> to <code>+63</code>. The default is 0.</p>
<h2 id="Anchor_83955769_h2_11">velocity_range Command</h2>
<p>This command changes the velocity range of the track.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>velocity_range x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The range of values for the velocity range is from <code>0</code> to <code>127</code>. The default is 127.</p>
<p>When the velocity range value is changed, the <code>note</code> command&rsquo;s velocity value can be changed dynamically. The final velocity value is obtained by multiplying the <code>note</code> command&rsquo;s velocity value by the result of the velocity range value divided by 127.</p>
<p>Although both the <code>volume</code> command and the <code>velocity_range</code> command ultimately change the volume, the <code>velocity_range</code> command differs in that it can change the velocity region.</p>
<h2 id="Anchor_83955769_h2_12">Track Pan</h2>
<p>This command changes the pan value for the track.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>pan x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The pan value can be set in the range from <code>0</code> to <code>127</code>, where a value of <code>0</code> represents the left, <code>127</code> represents the right, and <code>64</code> represents the center. The default is 64.</p>
<h2 id="Anchor_83955769_h2_13">Track Surround Pan</h2>
<p>This command changes the surround pan for a track.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>span x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The surround pan value can be set in the range from <code>0</code> to <code>127</code>, where a value of <code>0</code> represents front output only and <code>127</code> represents rear output only. The default is 0.</p>
<h2 id="Anchor_83955769_h2_14">Track Initial Pan</h2>
<p>Changes the track&rsquo;s initial pan.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>init_pan x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Unlike normal pan, initial pan can be set for individual notes.</p>
<p>For example, if you set the note wait mode (described in Note Wait Mode) to <code>notewait off</code> and play a sequence like the following sequence, the first <code>cn4</code> sound is also affected by pan 127, and it changes its panning partway through.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>notewait_off
pan 64
cn4 127, 96
wait 48
pan 127
en4 127, 96
wait 96
fin</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>However, if you do not want to change the panning of the <code>cn4</code> that is played first, but you do want to change the panning of the <code>en4</code> that is played after it, initial pan can be used.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>notewait_off
init_pan 64
cn4 127, 96
wait 48
init_pan 127
en4 127, 96
wait 96
fin</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The following example creates harmony with separate pan settings for each note within a single track, by using note-specific pan settings.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>notewait_off
init_pan 0
cn4 127, 96
init_pan 64
en4 127, 96
init_pan 127
gn4 127, 96
wait 96
fin</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p class="Code"> </p>
<h2 id="Anchor_83955769_h2_15">Voicing Priority</h2>
<p>This command sets the voicing priority of a track.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>prio x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The priority value can be set in the range from <code>0</code> to <code>127</code>. The default value is <code>64</code>. A higher value indicates higher priority. If the values are identical, the later voice has higher priority.</p>
<p>The actual value used to determine voicing is this priority value, which is set for each track, combined with the channel priority, which is specified for each sequence sound using the SoundMaker or NintendoWare sound library API.</p>
<h2 id="Anchor_83955769_h2_16">Tie Mode</h2>
<p>This command switches the tie mode.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>tieon
tieoff</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The default is tie mode off.</p>
<p>If <code>note on</code> occurs when tie mode is on, the sound is played continuously regardless of the note length specification made with the <code>note</code> command. If <code>note on</code> is performed again, audio output continues with changes only to the pitch and velocity. Sound output ends when tie mode is turned off or the sequence is stopped.</p>
<p>Turning tie mode on forcibly releases the sound being output. Also, only simple notes are played, even if <code>note wait mode</code> is turned off.</p>
<h2 id="Anchor_83955769_h2_17">Monophonic Mode</h2>
<p>This command switches monophonic mode.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>monophonic_on
monophonic_off</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The default is monophonic mode off.</p>
<p>When monophonic mode is on, sound is limited to one note per track. If the <code>note on</code> command is executed while a note is already being voiced for that track, audio output sound already being played continues with changes only to the pitch and velocity. Normal <code>note on</code> operations are performed when there is no note being voiced on the track.</p>
<p>If the timing of the <code>note off</code> for the immediately prior note and the timing of the <code>note on</code> of the note newly being voiced are the same, the note newly being voiced is processed by the normal note because the <code>note off</code> is processed first. For this reason, to create a single continuous note with pitch and velocity changes, you must make notes overlap by at least one tick.</p>
<p>It is necessary to note that when using sequence data converted from SMF, fractional tick values may be rounded when converting quarter-note resolution. If the resolution after conversion is set to 48, one tick is equivalent to three consecutive 64<sup>th</sup> notes, and sounds may not be processed as a single, continuous note unless notes of at least three consecutive 64<sup>th</sup> notes in length are overlapped.</p>
<h2 id="Anchor_83955769_h2_18">Note Wait Mode</h2>
<p>This command switches <code>note wait mode</code>.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>notewait_on
notewait_off</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>By default, <code>note wait mode</code> is on.</p>
<p>If <code>note on</code> is performed when <code>note wait mode</code> is on, the sequence stops only for the same time as the note length specified with the <code>note</code> command. When <code>note wait mode</code> is off, the next command is processed without stopping.</p>
<p>When this mode is enabled, the sequence stops and no processing is allowed while the sound is playing. That makes this command useful for playing notes in order, without the constant need for <code>wait</code> commands.</p>
<p>When this mode is disabled, there is no need to wait after a <code>note</code> command; two or more notes can be played at the same time, or the pan can be moved during sound output.</p>
<h2 id="Anchor_83955769_h2_19">Damper Pedal</h2>
<p>Performs damper pedal operations.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>damper_on
damper_off</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>With <code>damper_on</code>, the damper (sustain) pedal enters the pressed state. At this time, the note is held without being released, even if a <code>note off</code> comes.</p>
<p>The held note will be released at the timing of <code>damper_off</code>.</p>
<h2 id="Anchor_83955769_h2_20">Portamento</h2>
<p>This command sets the portamento.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>porta key
porta_time time
porta_on
porta_off</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The <code>porta</code> command is used to enter portamento mode. If a <code>note</code> command is executed in portamento mode, the pitch that was specified by key then changes to the pitch specified by the <code>note</code> command during playback. When the next <code>note</code> command is executed, the pitch used in the previous <code>note</code> command changes to that specified by the current <code>note</code> command.</p>
<p>The speed of pitch changes is specified with the <code>porta_time</code> command (in keeping with MIDI conventions, this is <code>porta_time</code> and not <code>porta_speed</code>). You can specify a value from <code>0</code> through <code>255</code>. (The default is <code>0</code>.) The larger the value specified, the slower the change in pitch and the longer it takes. Specifying <code>0</code> means that the pitch changes over the length of a note. In other words, pitch changes over the same amount of time as the sound is played by the <code>note</code> command.</p>
<p>The <code>porta_on</code> command can also be used to enter portamento mode just like the <code>porta</code> command, but a start key is not specified. The next <code>note</code> command changes the pitch from the pitch of the <code>note</code> command executed before the <code>porta_on</code> command. When the next <code>note</code> command is executed, the pitch used in the previous <code>note</code> command changes to that specified by the current <code>note</code> command.</p>
<p>The <code>porta_off</code> command releases portamento mode.</p>
<p>You can achieve an effect where the pitch is continuously changing with pitch bend by using portamento during tie mode on.</p>
<p>When this command is used from MIDI while <code>porta_time</code> is <code>0</code> (the default), it is ignored during real-time MIDI playback.</p>
<h2 id="Anchor_83955769_h2_21">Sweep</h2>
<p>This command sets the sweep.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>sweep_pitch pitch</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Each voice is swept during playback when the <code>sweep_pitch</code> command is used. If the <code>note</code> command is executed while the sweep is specified, the sound begins offset by the pitch value specified by the <code>note</code> command, and the pitch is gradually changed to the correct pitch. The pitch value can be specified in the range from <code>&ndash;32768</code> to <code>32767</code>. The default is <code>0</code>. Pitch is varied by exactly one half note when 64 is specified.</p>
<p>The speed at which the sound returns to correct pitch is the same as that set using the <code>porta_time</code> command.</p>
<p>When this command is used from MIDI while <code>porta_time</code> is <code>0</code> (the default), it is ignored during real-time MIDI playback.</p>
<h2 id="Anchor_83955769_h2_22">LPF Cutoff Frequency</h2>
<p>This command changes the cutoff frequency of the low-pass filter.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>lpf_cutoff x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The LPF cutoff frequency can be specified in the range from <code>0</code> to <code>127</code>, using <code>64</code> as the center. The closer the value approaches <code>0</code>, the more the filter is applied; and the more the value approaches <code>127</code>, the more the filter is released. The default is 64.</p>
<p>The LPF and biquad filter can be used together, and the effects are combined when both are used together.</p>
<p> </p>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>The sequence command for the LPF cutoff frequency only works to manipulate sounds by applying the filter to the lower values (<code>64</code> through <code>0</code>). The setting for the LPF cutoff frequency is centered at <code>64</code> because in the future this setting might also be configurable from <code>instrument</code>.</p>
  </div>
</div>
<h2 id="Anchor_83955769_h2_23">biquad Filter</h2>
<p>These commands configure the <code>biquad</code> filter.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>biquad_type type
biquad_value x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>When the <code>biquad</code> filter is used, filters such as low-pass filter (LPF), high-pass filter (HPF), or band-pass filter (BPF) can be applied. To change the filter type, set one of the following values with the <code>biquad_type</code> command.</p>
<p>Table 3. biquad Filter Types</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <p>type Value</p>
      </th>
      <th>
        <p>Filter Type</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p>0</p>
      </td>
      <td>
        <p>Do not use filters (default value).</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>1</p>
      </td>
      <td>
        <p>LPF</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>2</p>
      </td>
      <td>
        <p>HPF</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>3</p>
      </td>
      <td>
        <p>BPF (center frequency of 512Hz)</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>4</p>
      </td>
      <td>
        <p>BPF (center frequency of 1024 Hz)</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>5</p>
      </td>
      <td>
        <p>BPF (center frequency of 2048Hz)</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>64</p>
      </td>
      <td>
        <p>User-defined filter (minimum value)</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>127</p>
      </td>
      <td>
        <p>User-defined filter (maximum value)</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The <code>biquad_value</code> sets how the filter is to be applied. In the range from <code>0</code> to <code>127</code>, <code>0</code> has no effect. The effect is at maximum when the value is <code>127</code>. The default is 0.</p>
<p>You can set the value of the filter type in the range from <code>0</code> through <code>127</code>. Note that of the numbers not currently assigned, values of <code>63</code> or less may have filter types added in the future. However, values of <code>64</code> or greater can be used by the user to add custom filter types. Filter types must be added within the program. For more information, see the <code>nw::snd::SoundSystem::SetBiquadFilterCallback</code> function in the API Reference. Filter type <code>64</code> corresponds to <code>nw::snd::BiquadFilterType BIQUAD_FILTER_TYPE_USER_MIN</code>, while filter type <code>127</code> corresponds to <code>BIQUAD_FILTER_TYPE_USER_MAX</code>.</p>
<p>The LPF and biquad filter can be used together, and the effects are combined when both are used together.</p>
<h2 id="Anchor_83955769_h2_24">Effect Send A-C</h2>
<p>This command changes the amount of data sent to each auxiliary bus. Because these three commands perform the same operation for auxiliary bus A, B, and C, the following example uses Effect Send A.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>fxsend_a x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p class="Code"> </p>
<p> </p>
<p>The effect send level can be specified in the range from <code>0</code> through <code>127</code>, where <code>0</code> results in no data being sent and <code>127</code> results in the maximum amount of data being sent. The default is 0.</p>
<h2 id="Anchor_83955769_h2_25">Main Send</h2>
<p>This command changes the volume on the main bus only. Used in combination with the <code>effect send</code> commands for each auxiliary bus, <code>main send</code> only changes the volume of the dry (original sound) component.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>mainsend x</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p class="Code"> </p>
<p> </p>
<p>You can set the <code>main send</code> volume value in the range from <code>0</code> through <code>127</code>, where <code>0</code> represents no dry component, and <code>127</code> represents the maximum dry component. The default is 127.</p>
<p>The following diagram shows the roles of <code>main send</code> and the three <code>effect send</code> commands during mixing.</p>
<p>Figure 1. Conceptual Diagram of Effect Mixing</p>
<p> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83956113/83080133.gif" width="300" class="embedded-image" /></span></p>
<p>A voice can be created for only the wait (effect) component by specifying <code>0</code> for <code>Main Send</code>.</p>
<h2 id="Anchor_83955769_h2_26">Allocating Tracks</h2>
<p>This command allocates tracks.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>alloctrack mask </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>This command must be used at the very beginning of a sequence.</p>
<p>
  <code>mask</code> is the bit mask of the tracks allocated. Starting from the low-order bits, the bit masks represent Track 0, Track 1, Track 2, and so on. (The lowest-order bit in the mask is ignored because Track 0 is already allocated.) Using a macro, this command can also be written as:</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>alloctrack TRACK_1 | TRACK_2 | TRACK_3 </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>This code allocates Track 1, Track 2, and Track 3.</p>
<h2 id="Anchor_83955769_h2_27">Starting Tracks</h2>
<p>This command starts another track.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>opentrack no, label </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>This command can only be executed on tracks that have already been allocated using <code>alloctrack</code>.</p>
<p>Although track numbers 0 through 15 can be specified for <code>no</code>, the current track cannot be specified. In addition, this command only executes after all currently executed sounds for tracks are released.</p>
<p>The parameter <code>label</code> indicates the start of the sequence.</p>
<p>Tracks terminated by a <code>fin</code> command are released, and they cannot be restarted with the <code>opentrack</code> command. If you need to restart a track, make the track wait in a loop that contains a <code>wait</code> command instead of using the <code>fin</code> command.</p>
<p>If a track having a track number greater than the current track is opened, initial processing is carried out during the same frame. But if a track having a track number lower than the current track number is opened, that processing is delayed by one frame.</p>
<h2 id="Anchor_83955769_h2_28">Sequence Jump Command</h2>
<p>This command switches the sequences position to another location.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>jump label </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The <code>label</code> parameter represents the location to which to jump.</p>
<p>The <code>jump</code> command can be used to create a sequence to be looped. However, an endless loop will result unless a command that stops the sequence, such as the <code>wait</code> command or <code>note wait on</code> command, is included in the loop.</p>
<h2 id="Anchor_83955769_h2_29">Call Sequence Command</h2>
<p>Although this command causes the sequence position to jump to another location, it later returns to its original position.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>call label
ret </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The <code>label</code> parameter represents the location to which to jump.</p>
<p>The <code>ret</code> command is used at the jump target to return to the position where the call was originally made. Although you can execute the <code>call</code> command again from the jump target, such nesting is only allowed up to three levels deep, including the <code>call</code> command.</p>
<h2 id="Anchor_83955769_h2_30">Loop Command</h2>
<p>This command repeatedly executes a particular segment of code the specified number of times.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>loop_start count
loop_end </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The loop start point is set using <code>loop_start</code>. The loop count is specified by <code>count</code> in the range from <code>0</code> to <code>255</code>. An infinite loop results if <code>0</code> is specified.</p>
<p>The loop end point is set using <code>loop_end</code>. The process returns to the loop start point specified by <code>loop_start</code> until it reaches the number of loops specified by <code>count</code>.</p>
<p>Although looping is allowed inside a loop segment, such nesting is only allowed up to three levels deep, including the <code>call</code> command.</p>
<p>If this command is used, it is ignored during real-time MIDI playback.</p>
<h2 id="Anchor_83955769_h2_31">Envelope Command</h2>
<p>This command sets the envelope.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>attack x
env_hold x
decay x
sustain x
release x
env_adsr a, d, s, r
env_ahdsr a, h, d, s, r
envelope a, d, s, r (not recommended) </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Although the envelope value of the bank is used by default, the envelope value can be overwritten using this command. If a command such as <code>release</code> is executed alone, values set using the bank are still used for the other values such as <code>attack</code>. Multiple values can be set at the same time by using the <code>env_adsr</code> or <code>env_ahdsr</code> command. The <code>envelope</code> command is maintained for compatibility reasons; instead, use the <code>env_adsr</code> command.</p>
<p>The hold time value is converted to milliseconds with the following formula and then applied. The maximum value (<code>127</code>) specifies roughly 4 seconds of hold time.</p>
<p> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83956113/83080136.gif" width="200" class="embedded-image" /></span></p>
<p>When &ndash;1 is specified for each of the envelope values, all changed values can be invalidated. The bank envelope values, which are the default, are used once more for all the invalidated values.</p>
<p>For a description of the values and number of seconds for attack, decay, and release, and the relationship to the <u>decay rate</u>, see the Envelope Table in the Appendix of the NW4C SoundMaker manual.</p>
<h2 id="Anchor_83955769_h2_32">Envelope Invalidation Command</h2>
<p>This command invalidates the set envelope values.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>env_reset </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Envelope values set by any <code>envelope</code> command are invalidated, and the envelope values set by the bank are restored. Although it is the same as setting &ndash;1 with the <code>envelope</code> command, this command invalidates all envelope parameters.</p>
<h2 id="Anchor_83955769_h2_33">Modulation Commands</h2>
<p>These commands configure modulation settings.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>mod_depth depth
mod_range range
mod_speed speed
mod_period period
mod_delay delay
mod_type type
mod_curve curve
mod_phase phase </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Modulation depth is set using <code>mod_depth</code>. The specifiable range is from <code>0</code> through <code>127</code>, with a default value of <code>0</code>. The following table shows the degree of variation at maximum values. It assumes that <code>mod_range</code>, described after the table, has a value of <code>1</code>.</p>
<p>Table 5-3. Degree of Variation in Modulation</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <p>Type</p>
      </th>
      <th>
        <p>Degree of Variation</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p>Pitch change</p>
      </td>
      <td>
        <p>Varies in the range of &plusmn;1 semitone.</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>Volume change</p>
      </td>
      <td>
        <p>Varies in the range of &plusmn;6.0 dB.</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>Position change</p>
      </td>
      <td>
        <p>Varies in the range of left MAX to right MAX.</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The maximum degree of modulation is set using <code>mod_range</code>. The specifiable range is from <code>0</code> to <code>127</code>, with a default value of <code>1</code>. For example, when varying pitch with a maximum <code>mod_depth</code>, pitch can only be varied &plusmn;1 half note. However, it can be modulated over &plusmn;12 semitones, or over an entire octave, if <code>mod_range</code> is set to 12.</p>
<p> </p>
<p>The modulation speed is set using <code>mod_speed</code>. The specifiable range is from <code>0</code> through <code>127</code>, with a default value of <code>16</code>. When set to <code>1</code>, the modulation speed changes linearly by approximately 0.4 Hertz so you can set the value in the range from 0.0 Hertz to approximately 50 Hertz.</p>
<p> </p>
<p>The modulation speed can also be set using <code>mod_period</code>. The specifiable range is from <code>0</code> to <code>32767</code>, with a default value of <code>16</code>. Enables <code>mod_speed</code> or <code>mod_period</code>, using the command that was set last. Use <code>mod_speed</code> to set a value that corresponds to the frequency, and <code>mod_period</code> to set a value that corresponds to the period. The value set with <code>mod_period</code> is multiplied by 0.01 seconds to get the period. For example, <code>mod_period 1</code> would set a period equal to 0.01 seconds and <code>mod_period 2</code> would set a period equal to 0.02 seconds. Note that with <code>mod_speed</code>, the larger the value set, the shorter the modulation period, while with <code>mod_period</code>, the larger the value set, the longer the modulation period. Using <code>mod_period</code> allows you to set a longer modulation period than you can set by using <code>mod_speed</code> (up to a maximum period of 327.67 seconds (approximately 5 and a half minutes)). If you set <code>mod_period 0</code>, no modulation occurs.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>; If you do not set anything,
; the default modulation speed (mod_speed 16) is used.
&nbsp;
mod_speed 127
; Roughly 50 Hz.The modulation period is approx. 0.02 seconds.
&nbsp;
mod_period 100
; The value set with mod_speed 127 is overwritten. The modulation ; period is now 1 second. </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Table 5. Comparison of mod_speed and mod_period</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <p>Command</p>
      </th>
      <th>
        <p>Value: 1</p>
      </th>
      <th>
        <p>2</p>
      </th>
      <th>
        <p>16</p>
      </th>
      <th>
        <p>127</p>
      </th>
      <th>
        <p>32767</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p>mod_speed (in Hz)</p>
      </td>
      <td>
        <p align="center">&asymp;0.4</p>
      </td>
      <td>
        <p align="center">&asymp;0.8</p>
      </td>
      <td>
        <p align="center">6.25</p>
      </td>
      <td>
        <p align="center">&asymp;50</p>
      </td>
      <td>
        <p align="center">-</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_speed (in sec)</p>
      </td>
      <td>
        <p align="center">&asymp;2.5</p>
      </td>
      <td>
        <p align="center">&asymp;1.25</p>
      </td>
      <td>
        <p align="center">0.16</p>
      </td>
      <td>
        <p align="center">&asymp;0.02</p>
      </td>
      <td>
        <p align="center">-</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>mod_period (in sec)</p>
      </td>
      <td>
        <p align="center">0.01</p>
      </td>
      <td>
        <p align="center">0.02</p>
      </td>
      <td>
        <p align="center">0.16</p>
      </td>
      <td>
        <p align="center">1.27</p>
      </td>
      <td>
        <p align="center">327.67</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Modulation delay is set using <code>mod_delay</code>. The specifiable range is from <code>0</code> through <code>32,767</code>, with a default value of <code>0</code>. Measured in five-millisecond blocks of time, this value is independent of the tempo. This parameter is set from MIDI using Control Change 26 or 27. The value is output as is when Control Change 26 is used, and a value of 10 times is output when Control Change 27 is used. As a result, modulation delay can effectively be set in the range from <code>0</code> to <code>1270</code>.</p>
<p> </p>
<p>The modulation type is set using <code>mod_type</code>. To see which values can be specified, see the <a href="../Pages/Page_83955585.html">List of All Sequence Commands</a> in the appendix to this document. The default is <code>0</code>, which indicates vibrato (a varying pitch).</p>
<p>You can use a number to specify the modulation type, or you can specify it using one of the listed macro strings.</p>
<p>Table 5-5. Modulation Types</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <p>Numbers</p>
      </th>
      <th>
        <p>Macro</p>
      </th>
      <th>
        <p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p>0</p>
      </td>
      <td>
        <p>MOD_TYPE_PITCH</p>
      </td>
      <td>
        <p>Vibrato (varying pitch)</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>1</p>
      </td>
      <td>
        <p>MOD_TYPE_VOLUME</p>
      </td>
      <td>
        <p>Tremolo (varying volume)</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>2</p>
      </td>
      <td>
        <p>MOD_TYPE_PAN</p>
      </td>
      <td>
        <p>Pan (location change)</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Amplitudes do not change beyond the threshold. For example, if the original volume is already at maximum and an attempt is made to vary that volume, it will not become louder; instead, it will only become softer.</p>
<p> </p>
<p>The shape of the modulation waveform is set using <code>mod_curve</code>. The specifiable range is from <code>0</code> through <code>127</code>, but values of <code>5</code> or larger do not set any modulation. The default is 0.</p>
<p>Table 5-6. Modulation Curves</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <p>Numbers</p>
      </th>
      <th>
        <p>Description</p>
      </th>
      <th>
        <p>Range of Obtainable Values</p>
      </th>
      <th>
        <p>Example: Range of Obtainable Values with Pitch Change</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p>0</p>
      </td>
      <td>
        <p>Sine wave</p>
      </td>
      <td>
        <p>-1.0 through 1.0</p>
      </td>
      <td>
        <p>&ndash;1.0 to +1.0 semitone</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>1</p>
      </td>
      <td>
        <p>Triangle wave</p>
      </td>
      <td>
        <p>-1.0 through 1.0</p>
      </td>
      <td>
        <p>&ndash;1.0 to +1.0 semitone</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>2</p>
      </td>
      <td>
        <p>Sawtooth wave</p>
      </td>
      <td>
        <p>0.0 through 1.0</p>
      </td>
      <td>
        <p>0.0 through +1.0 semitone</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>3</p>
      </td>
      <td>
        <p>Rectangular wave</p>
      </td>
      <td>
        <p>0.0, 1.0</p>
      </td>
      <td>
        <p>0.0, +1.0 semitone</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>4</p>
      </td>
      <td>
        <p>Random wave</p>
      </td>
      <td>
        <p>0.0 through 1.0</p>
      </td>
      <td>
        <p>0.0 through +1.0 semitone</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>5 and on</p>
      </td>
      <td>
        <p>No modulation</p>
      </td>
      <td>
        <p>Always 0</p>
      </td>
      <td>
        <p>Original pitch</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>The following figures show each kind of modulation curve. The random wave stays at a fixed value during a period and then changes to a new random value in the next period.</p>
<p>Figure 5-2. Sine Wave (2 periods)</p>
<p> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83956113/83080135.jpg" width="300" class="embedded-image" /></span></p>
<p> </p>
<p>Figure 5-3. Triangle Wave (2 periods)</p>
<p> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83956113/83080138.jpg" width="300" class="embedded-image" /></span></p>
<p> </p>
<p>Figure 5-4. Sawtooth Wave (2 periods)</p>
<p> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83956113/83080137.jpg" width="300" class="embedded-image" /></span></p>
<p> </p>
<p>Figure 5-5. Rectangular Wave (2 periods)</p>
<p> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83956113/83080140.jpg" width="300" class="embedded-image" /></span></p>
<p> </p>
<p>Figure 5-6. Random Wave (2 periods)</p>
<p> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83956113/83080139.jpg" width="300" class="embedded-image" /></span></p>
<p> </p>
<p> </p>
<p>The modulation phase is set using <code>mod_phase</code>. The specifiable range is <code>0</code> to <code>127</code> with a default value of <code>0</code>. This range of values (<code>0</code> to <code>127</code>) represents one whole period; that is, <code>mod_phase 64</code> would set modulation to begin halfway through each period.</p>
<p>The number of modulations in each case is four. That is, there are <code>mod2_</code>, <code>mod3_</code>, and <code>mod4_</code> commands corresponding to each <code>mod_</code> command. <br />For more information, see the <a href="../Pages/Page_83955585.html">List of All Sequence Commands</a>.</p>
<p> </p>
<h2 id="Anchor_83955769_h2_34">Track Mute Command</h2>
<p>This command controls the muting of tracks.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>mute mode </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>Various mute operations are performed depending on the numeric value of <code>mode</code>.</p>
<p>Table 5-7. Track Mute Operations</p>
<table class="table">
  <thead>
    <tr>
      <th>
        <p>Numbers</p>
      </th>
      <th>
        <p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p>0</p>
      </td>
      <td>
        <p>Release track mute</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>1</p>
      </td>
      <td>
        <p>Mutes the track, and sounds already playing are allowed to continue</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>2</p>
      </td>
      <td>
        <p>Mutes the track, and sounds already playing are released and stopped</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>3</p>
      </td>
      <td>
        <p>Mutes the track, and sounds already playing are immediately stopped</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<h2 id="Anchor_83955769_h2_35">User Process Call Command</h2>
<p>This command calls a user process registered with a program.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>userproc procId </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>When writing the <code>userproc</code> command, a function already registered with the program is called at the time the command is encountered. The numeric value of <code>procId</code> is passed to the function as a parameter.</p>
<p>The following actions are possible inside the function registered as a user process.</p>
<p>l Access and change sequence variables.</p>
<p>l Access and change the results of a comparison command. (See the following section.)</p>
<p> </p>
<p>Because you can freely write program code within the user process, you can perform complex calculations that are not possible when using just sequence commands, or you can execute processes that are dependent on game scenes and parameters, and then apply the result to sequence data by storing it in a sequence variable or in a comparison command result.</p>
<h2 id="Anchor_83955769_h2_36">Select Bank Command</h2>
<p>Sets the track&rsquo;s bank number.</p>
<p> </p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>bank_select bankIndex </pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<p>SoundMaker can register up to four banks for a single sound. This command allows you to set which bank to use.</p>
<p>The <code><em>bankIndex</em></code> is specified as a value from <code>0</code> through <code>3</code>. This value from <code>0</code> through <code>3</code> corresponds to the line number in the dialog box list that is displayed for multi-bank settings when using SoundMaker.</p>
<p> </p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
