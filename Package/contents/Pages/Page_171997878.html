<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>FsAccessLogChecker | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- FsAccessLogChecker -->
<div class="pagetitle" id="PageId_171997878">FsAccessLogChecker</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_171997878_h1_1">Overview</a>
    </li>
    <li>
      <a href="#Anchor_171997878_h1_2">How to Use</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_171997878_h2_1">Argument List</a>
      </li>
      <li>
        <a href="#Anchor_171997878_h2_2">Options</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_171997878_h1_1">Overview</h1>
<p>
  <code>FsAccessLogChecker</code> is a PC tool for analyzing the access log to the file system and checking whether access in violation of the guidelines has occurred.</p>
<p>This tool is located under <code>NintendoSDK/Tools/FsAccessLogChecker</code> in NintendoSDK SystemUpdater for NX, and depends on the following DLLs.</p>
<ul>
  <li>
    <code>Tools/FsAccessLogChecker/FsAccessAnalysisLibrary.dll</code>
  </li>
  <li>
    <code>Tools/FsAccessLogChecker/YamlDotNet.dll</code>
  </li>
</ul>
<p>For more information about getting the access attempts for the check target and the access log, see <a href="../Pages/Page_174228221.html">fs Library &gt; Debugging &gt; Checking the Frequency of Access</a>.<br />This assumes that the access log used for input in FsAccessLogChecker was obtained from development hardware initialized with the NintendoSDK SystemUpdater for NX included in FsAccessLogChecker.</p>
<p>FsAccessLogChecker checks, each minute, the average for the most recent ten-minute period, and exports the results as <strong>FS Access Log Details (the above 10 minutes)</strong>. Also outputs a final overall analysis result as <strong>FS Access Log Check Result</strong><em>.</em> <code>Result: [PASS]</code> is output if the guidelines have not been violated. <code>Result: [FAIL]</code> is output when the tool detects accesses that violate the guidelines, or when the access log is less than 10 minutes long.</p>
<p>The <code>--time_range</code> option can be used to change the time interval used to get the average. However, this will not be approved in determinations of the guidelines to avoid excessive checks. Use the result from using the <code>--time_range</code> option as reference information.</p>
<p>The default is to display the access log, but you can use command-line options to display other logs and to hide the access log.</p>
<p>Whether a period or a comma is used to indicate the decimal point depends on the PC environment.</p>
<h1 id="Anchor_171997878_h1_2">How to Use</h1>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>FsAccessLogChecker &lt;LogFile&gt; options...
Options:
&nbsp;&nbsp;--output,-o &lt;FILE&gt;: output to a file
&nbsp;&nbsp;--encoding,-e &lt;Encoding&gt;: input file encoding (UTF-8,MBCS,UTF-16,UTF-16BE,UTF-32,UTF-32BE)
&nbsp;&nbsp;--time_range &lt;minutes&gt;: set check time range [1,240]
&nbsp;&nbsp;--warning_ratio &lt;%&gt;: set warning ratio [0,100]
&nbsp;&nbsp;--verbose: verbose output
&nbsp;&nbsp;--quiet: minimum output
&nbsp;&nbsp;--force,-f: forcibly overwrite the output file
&nbsp;&nbsp;--disable_progress: disable print progress
&nbsp;&nbsp;--also_check_host: also check host access
&nbsp;&nbsp;--help,-h
&nbsp;&nbsp;--version
&nbsp;&nbsp;--disable_handle_path: disable to add handle path info to access log
&nbsp;&nbsp;--disable_analyzed_range: disable to show analyzed range info in FS Access Log Details
&nbsp;&nbsp;--disable_elapsed_time: disable to show analyzed elapsed time info in FS Access Log Details
&nbsp;&nbsp;--enable_total_time: enable to always show total time info in FS Access Log Check Result</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_171997878_h2_1">Argument List</h2>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>LogFile</th>
      <td>
        <p>Specifies the input file path.</p>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_171997878_h2_2">Options</h2>
<table class="wrapped relative-table" style="margin-left: 1.5em; width: 97.367%;">
  <colgroup> <col style="width: 17.1364%;" /> <col style="width: 82.8636%;" /> </colgroup>
  <tbody>
    <tr>
      <th>--output, -o</th>
      <td>Specifies the output file path.</td>
    </tr>
    <tr>
      <th>
        <span style="color: rgb(23,43,77);">--encoding, -e</span>
      </th>
      <td>
        <span style="color: rgb(23,43,77);">Explicitly specifies the type of character encoding for the input file. (Available in FsAccessLogChecker 20.6 and later.)</span>
      </td>
    </tr>
    <tr>
      <th>--time_range</th>
      <td>Checks the average of the specified time interval. The default is 10 minutes. You can use this option to check the average access frequency over a time interval other than 10 minutes, but when you specify a time other than 10 minutes, the result will be FAIL. (Available in FsAccessLogChecker 6.1 and later.)</td>
    </tr>
    <tr>
      <th>--warning_ratio</th>
      <td>You can specify a warning ratio between 0% and 100% for the guideline check threshold. The default is 100%, which means that warnings are not displayed in the results. If you specify 0%, all access instances will trigger a warning. By specifying a warning ratio of approximately 95%, you can check whether access is close to a guideline violation. (Available in FsAccessLogChecker 12.3 and later.)</td>
    </tr>
    <tr>
      <th>--verbose</th>
      <td>Displays logs other than the access log.</td>
    </tr>
    <tr>
      <th>--quiet</th>
      <td>Hides the access log.</td>
    </tr>
    <tr>
      <th>--force, -f</th>
      <td>Overwrites the file without displaying a confirmation message in advance.</td>
    </tr>
    <tr>
      <th>--disable_progress</th>
      <td>Hides the analysis progress display. (Available in FsAccessLogChecker 20.2 and later.)</td>
    </tr>
    <tr>
      <th>--also_check_host</th>
      <td>Also checks access by the host. Regardless of <a href="../Pages/Page_391843305.html#Anchor_391843305_h1_4">mount_host_option</a> in the access log, the path is case-sensitive. (Available in FsAccessLogChecker 4.1 and later.)</td>
    </tr>
    <tr>
      <th>--help, -h</th>
      <td>Displays Help.</td>
    </tr>
    <tr>
      <th>--version</th>
      <td>Displays the version.</td>
    </tr>
    <tr>
      <th>--disable_handle_path</th>
      <td>Suppresses adding <code>handle_path</code> to the output access log. (Can be used with FsAccessLogChecker version 23.4 and later.)</td>
    </tr>
    <tr>
      <th>--disable_analyzed_range</th>
      <td>Suppresses output of analysis range information starting from &quot;Analyzed range&quot; to the &quot;FS Access Log Details&quot; in the analysis results. (Available in FsAccessLogChecker 24.2 and later.)</td>
    </tr>
    <tr>
      <th>--disable_elapsed_time</th>
      <td>Suppresses adding the elapsed time since the first access log to the scope of analysis in the FS Access Log Details analysis results. (Available in FsAccessLogChecker 41.7 and later.)</td>
    </tr>
    <tr>
      <th>--enable_total_time</th>
      <td>Displays the entire access log time, even if the analysis result is <strong>PASS</strong>. (Can be used with FsAccessLogChecker 41.5 and later.)</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_171997878_h3_1">Character Encoding of the Input Files</h3>
<p>FsAccessLogChecker 20.6 and later support the following input file character encoding.</p>
<ul>
  <li>Multi-byte character sets</li>
  <li>UTF-8</li>
  <li>UTF-16LE</li>
  <li>UTF-16BE</li>
  <li>UTF-32LE</li>
  <li>UTF-32BE</li>
</ul>
<p>Normal check results may not be obtained using any other character encoding.<br />If a log error or similar errors are detected and the character encoding of the input file is suspected to be different, you must explicitly specify the encoding type of the input file in the <code>--encoding</code> option.</p>
<h3 id="Anchor_171997878_h3_2">Usage Examples</h3>
<h3 id="Anchor_171997878_h3_3">Analyzing input.txt and Sending the Access Log and the Analysis Results to the Console</h3>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ FsAccessLogChecker input.txt</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_171997878_h3_4">Analyzing input.txt and Sending All Logs and the Analysis Results to GameCode_ReleaseVersion-SubmissionVersion.txt</h3>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ FsAccessLogChecker --output GameCode_ReleaseVersion-SubmissionVersion.txt --verbose input.txt</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_171997878_h3_5">Analysis Results</h3>
<p>When FsAccessLogChecker is run with the default options, the tool outputs its analysis results in the following way.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>FsAccessLogChecker version 41.7
FS_ACCESS: { start_tag: true }
(0x0000000000000062) FS_ACCESS: { application_info_tag: { launch_type: Application, application_id: 0x01004B9000490000, release_version: 0x0000 } }
(0x0000000000000089) FS_ACCESS: { sdk_version: 11.4.0, spec: NX }
(0x0000000000000089) FS_ACCESS: { default_global_file_data_cache_size: 33554432 }
(0x0000000000000089) FS_ACCESS: { start:  18885605, end:  18885613, result: 0x00000000, handle: 0x0000000000000000, handle_path: &quot;(null)&quot;, priority: Normal, function: &quot;QueryMountRomCacheSize&quot;, size: 120 }
(0x0000000000000089) FS_ACCESS: { start:  18885614, end:  18885620, result: 0x00000000, handle: 0x0000000000000000, handle_path: &quot;(null)&quot;, priority: Normal, function: &quot;MountRom&quot;, name: &quot;rom&quot;, size: 120 }
(0x0000000000000089) FS_ACCESS: { start:  18885620, end:  18885620, result: 0x00000000, handle: 0x0000000131092000, handle_path: &quot;rom:/test/testdata&quot;, priority: Normal, function: &quot;OpenFile&quot;, path: &quot;rom:/test/testdata&quot;, open_mode: 0x1 }
(0x0000000000000089) FS_ACCESS: { start:  18885621, end:  18885621, result: 0x00000000, handle: 0x0000000131092000, handle_path: &quot;rom:/test/testdata&quot;, priority: Normal, function: &quot;ReadFile&quot;, offset: 0, size: 1024, read_size: 16, fetched: [{ offset: 0, size: 16 }] }
(0x0000000000000089) FS_ACCESS: { start:  18885621, end:  18885621, result: 0x00000000, handle: 0x0000000131092000, handle_path: &quot;rom:/test/testdata&quot;, priority: Normal, function: &quot;CloseFile&quot; }
(0x0000000000000089) FS_ACCESS: { start:  18885622, end:  18885622, result: 0x00000000, handle: 0x0000000000000000, handle_path: &quot;(null)&quot;, priority: Normal, function: &quot;Unmount&quot;, name: &quot;rom&quot; }
FS_ACCESS: { end_tag: true }
---- FS Access Log Details (the above 10 minutes) ----
Analyzed range
&nbsp;&nbsp;&nbsp;&nbsp;start:  18885605 ms (00:00:00 from the first FS_ACCESS)
&nbsp;&nbsp;&nbsp;&nbsp;end:  19485605 ms (00:10:00 from the first FS_ACCESS)
Analyzed FS Access Log
&nbsp;&nbsp;&nbsp;&nbsp;start of the first FS_ACCESS:  18885605 ms (00:00:00 from the first FS_ACCESS)
&nbsp;&nbsp;&nbsp;&nbsp;start of the last FS_ACCESS:  18885622 ms (00:00:00 from the first FS_ACCESS)
Rom
[PASS] WriteSize       : 0.0000 MB/min
[PASS] WriteAccess     : 0.0000 times/min
[PASS] Mount           : 
&nbsp;&nbsp;&nbsp;&nbsp;1st. MountRom(): 0.0033 times/sec
[PASS] SameAddressRead : 
&nbsp;&nbsp;&nbsp;&nbsp;1st. path: rom:/test/testdata, offset: 0, size: 16 - 0.0017 times/sec
------------------------------------------------------
------------- FS Access Log Check Result -------------
Result: [FAIL]

Details:
[PASS] SdkVersion      : 11.4.0
[PASS] Spec            : NX
[FAIL] TotalTime       : 0 seconds (expect: More than 10 minutes)
[PASS] WriteSize       : 0 fails
[PASS] WriteAccessCount: 0 fails
[PASS] MountCount      : 0 fails
[PASS] SameAddressRead : 0 fails
------------------------------------------------------</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The first line is the version of FsAccessLogChecker that was used for the analysis.</p>
<p>In FsAccessLogChecker version 23.4 and later, <code>handle_path</code> is added after <code>handle</code> for each access log. <code>handle_path</code> indicates the path corresponding to the value of <code>handle</code>. <code>handle_path: &quot;(null)&quot;</code> is added to the access log for a <code>function</code> for which <code>handle</code> is meaningless or the access log with an invalid <code>handle</code> value. To suppress the addition of <code>handle_path</code>, specify the <code>--disable_handle_path</code> option.</p>
<p>After 10 minutes have elapsed, &quot;FS Access Log Details (the above 10 minutes)&quot; is inserted in the access log and the following information is output, and this operation is repeated every minute.</p>
<ul>
  <li>
    <strong>Analyzed range</strong>: The start and end of the analyzed 10-minute period. The time in parentheses (<code><em>hh</em>:<em>mm</em>:<em>ss</em></code>) is the elapsed time since the first access log.</li>
  <li>
    <strong>Analyzed FS Access Log</strong>: The first and last access logs in the analyzed range. The time in parentheses (<code><em>hh</em>:<em>mm</em>:<em>ss</em></code>) is the elapsed time since the first access log.</li>
  <li>
    <strong>WriteSize</strong>: The amount of data written per minute in the analyzed range, calculated in units of 1024 &times; 1024 bytes (MB/min).</li>
  <li>
    <strong>WriteAccess</strong>: The number of times data is written per minute in the analyzed range (times/min).</li>
  <li>
    <strong>Mounts</strong>: The number of mounts per second in the analyzed range (times/sec). This value is calculated for each mount target.</li>
  <li>
    <strong>SameAddressRead</strong>: The number of reads per second in the analyzed range (times/sec). This value is calculated for each read region.</li>
</ul>
<p>&quot;FS Access Log Check Result&quot; is added at the end. If there are no guideline violations, <strong>Result: [PASS]</strong> is output as shown in the following example. If access that violates the guidelines has been detected, or if the access log is less than 10 minutes long, <strong>Result: [FAIL]</strong> is output as shown in the preceding example.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>------------- FS Access Log Check Result ------------
Result: [PASS]
------------------------------------------------------</pre></div>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
