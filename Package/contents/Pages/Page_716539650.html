<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Find Functions that Occasionally Spike | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Find Functions that Occasionally Spike -->
<div class="pagetitle" id="PageId_716539650">Find Functions that Occasionally Spike</div>
<div class="text_separate">
<p>The <strong> <a href="../Pages/Page_758198897.html">Functions</a> </strong> and <strong> <a href="../Pages/Page_758198978.html">Call Tree</a> </strong> tabs are useful for seeing the average load over the entire profile. However, they are not helpful for spotting functions that occasionally spike or have a burst of activity. To find &quot;spiky&quot; or &quot;bursty&quot; functions, follow these steps.</p>
<p>
  <br />
</p>
<p>
  <strong>Step 1:</strong> Take a <strong>Callstack</strong> profile sampled at <strong>100x per frame</strong> or more. We need to collect enough function samples inside of each frame.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_761288311/813981691.png" class="embedded-image" />
  </span>
</p>
<p>
  <br />
</p>
<p>
  <strong>Step 2:</strong> Click the <strong>Rare</strong> button on the <strong> <a href="../Pages/Page_758198861.html">Analysis</a> </strong> tab of the <strong>Ribbon Bar</strong>.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_761288311/813981667.png" class="embedded-image" />
  </span>
</p>
<p>
  <br />
</p>
<p>
  <strong>Step 3:</strong> Look at the <strong> <a href="../Pages/Page_764970037.html">Timeline</a> </strong> tab. Functions that rarely spike have now been selected. If you hover over the individual samples in a function's row, the tool tip will show the function's percentage on that frame. The format of the tool tip is&nbsp;[<strong>Total</strong> %, <strong>Self</strong> %], where <strong>Total</strong> is the total time spent in the function and all of its children, while&nbsp;<strong>Self</strong> is only the time taken within the function itself.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_761288523/813981847.png" class="embedded-image" />
  </span>
</p>
<p>
  <br />
</p>
<p>Another helpful clue in the <strong> <a href="../Pages/Page_764970037.html">Timeline</a></strong> tab is the <strong>Function Load per Frame</strong> graph. It shows the spikes and you can follow the spikes down to the individual functions that were sampled.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_761288523/813981846.png" class="embedded-image" />
  </span>
</p>
<h1 id="Anchor_716539650_h1_1">Other Types of Spikes</h1>
<p>The <strong style="letter-spacing: 0.0px;">Spike Detection</strong> buttons can detect six types of behavior. The most useful are the <strong style="letter-spacing: 0.0px;">Rare</strong> and the <strong style="letter-spacing: 0.0px;">Burst</strong> detection.</p>
<p>
  <strong style="letter-spacing: 0.0px;"> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_761288311/813981703.png" width="40" class="embedded-image" /></span>&nbsp;Rare</strong> detects functions that rarely spike for a single frame during the profile.</p>
<p>
  <strong style="letter-spacing: 0.0px;"> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_761288311/813981704.png" width="40" class="embedded-image" /></span>&nbsp;Burst</strong> detects functions that spike for several consecutive frames.</p>
<p>
  <strong>  <span class="embedded-file-wrapper "><img src="../Attachments/Attach_761288311/813981705.png" width="40" class="embedded-image" /></span>&nbsp;Wild</strong> detects functions that wildly vary over their lifetime.</p>
<p>
  <strong> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_761288311/813981706.png" width="40" class="embedded-image" /></span>&nbsp;Flutter</strong> detects functions that are routinely called every frame, but that behave irregularly on some frames.</p>
<p>
  <strong> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_761288311/813981707.png" width="40" class="embedded-image" /></span>&nbsp;Swell</strong> detects functions that are routinely called every frame, but that gradually increase or decrease over time.</p>
<p>
  <strong> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_761288311/813981708.png" width="40" class="embedded-image" /></span>&nbsp;Bad Frame</strong> detects functions that spike on slow frames or the currently selected frames.</p>
<h1 id="Anchor_716539650_h1_2">Fine-Tuning Spike Detection</h1>
<p>The <strong>Spike Detection</strong> buttons are using reasonable defaults, but you might want to fine-tune the parameters to detect more or fewer functions. To customize the heuristics used to identify functions, click on the name of the button with the arrow. This will open the configuration parameters. Don't be afraid to play with the values, since you can always just click <strong>Reset to Defaults</strong> if you want to revert back to sensible values.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_761288311/813981684.gif" class="embedded-image" />
  </span>
</p>
<p>
  <br />
</p>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
