<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Crash Reports | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Crash Reports -->
<div class="pagetitle" id="PageId_267167329">Crash Reports</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_267167329_h1_1">Overview</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_267167329_h2_1">Crash Reports</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_2">Data Included in Crash Reports</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_3">Crash Report Hash Values and Aggregations</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_4">Upload Timing of Crash Reports</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_5">Dying Messages</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_6">Aggregating Based on GPU Crash Dump and GPU Crash Hash</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_7">Screenshots</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_267167329_h1_2">Enabling and Disabling Crash Reports</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_267167329_h2_8">Enabling Crash Reports</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_9">Enabling Screenshots</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_10">Disabling Crash Reports</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_267167329_h1_3">Notes About Crash Reports</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_267167329_h2_11">Do not frequently get crash reports.</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_267167329_h1_4">Crash Report Retrieval Tool</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_267167329_h2_12">Package</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_13">Placement</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_14">Getting Access Tokens</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_15">How to Use</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_267167329_h3_1">Required Options</a>
        </li>
        <li>
          <a href="#Anchor_267167329_h3_2">Common Options for Both Modes</a>
        </li>
        <li>
          <a href="#Anchor_267167329_h3_3">Aggregate Mode Options</a>
        </li>
        <li>
          <a href="#Anchor_267167329_h3_4">Detailed Mode Options</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_267167329_h2_16">Usage Examples</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_267167329_h3_5">Aggregate Mode (Aggregation Using Stack Trace Hash)</a>
        </li>
        <li>
          <a href="#Anchor_267167329_h3_6">Aggregate Mode (Aggregation Using GPU Crash Hash)</a>
        </li>
        <ul>
          <li>
            <a href="#Anchor_267167329_h4_1">Using GPU Crash Hash Values to Sort GPU Crash Dump File Save Destinations</a>
          </li>
          <li>
            <a href="#Anchor_267167329_h4_2">Getting GPU Crash Dumps Corresponding to Specific GPU Crash Hash Values</a>
          </li>
        </ul>
        <li>
          <a href="#Anchor_267167329_h3_7">Detailed Mode</a>
        </li>
        <li>
          <a href="#Anchor_267167329_h3_8">Retrieving Screenshots</a>
        </li>
        <ul>
          <li>
            <a href="#Anchor_267167329_h4_3">Retrieving Screenshots Without Specifying Conditions</a>
          </li>
          <li>
            <a href="#Anchor_267167329_h4_4">Using Hash Values to Sort Screenshots to Different Locations</a>
          </li>
          <li>
            <a href="#Anchor_267167329_h4_5">Retrieving Screenshots Corresponding to a Specific Hash Value</a>
          </li>
        </ul>
      </ul>
      <li>
        <a href="#Anchor_267167329_h2_17">Getting Crash Reports Generated in the Development Environment</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_18">Error Codes Generated by Exceptions</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_267167329_h1_5">Troubleshooting</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_267167329_h2_19">The 504 Gateway Timeout error frequently occurs.</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_20">No crash report is displayed, or the number of crash reports is noticeably small.</a>
      </li>
      <li>
        <a href="#Anchor_267167329_h2_21">Crash report retrieval tool operations never end.</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_267167329_h1_1">Overview</h1>
<h2 id="Anchor_267167329_h2_1">Crash Reports</h2>
<p>Crash reports combine stack traces and register data when an application crashes from an unexpected error. The system creates a crash report when an application that has crash reports enabled crashes. The crash report is then sent to the Nintendo crash report server. Application developers can use the crash report retrieval tool, bundled with the NintendoSDK, to get crash reports for users that have consented to share crash reports.</p>
<p>The system only collects crash reports for applications on which crash reporting has been enabled. For more information about enabling crash reporting, see Enabling Crash Reports.</p>
<p>User agreement is required for the application developer to obtain crash reports. Only crash reports that the user has agreed to share can be obtained.<br />The user may use the following method to agree (or refuse) to share crash reports.</p>
<ul>
  <li>Select <strong>Share</strong> at the screen that is displayed the first time an application crashes.</li>
  <li>From the HOME Menu, set System Settings &gt; System &gt; Send Error Information to <strong>ON</strong>.</li>
</ul>
<h2 id="Anchor_267167329_h2_2">Data Included in Crash Reports</h2>
<p>The following data is collected when an application crashes.</p>
<ul>
  <li>Error codes</li>
  <li>Type of exception</li>
  <li>Exception address</li>
  <li>List of general-purpose registers</li>
  <li>Module information (code region, module name, ModuleId*)</li>
  <li>Stack trace</li>
  <li>Hash value (see the next section)</li>
  <li>Dying message (application-defined data: see the next section)</li>
  <li>GPU crash dump</li>
  <li>Screenshots (if enabled)</li>
  <li>Total active time, in seconds (corresponds to <code><span class="ApiLink_nn__oe__GetProgramTotalActiveTime">nn::oe::GetProgramTotalActiveTime</span></code> in NX Add-On 12.1.0 and later versions of the firmware.)</li>
</ul>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>
      <strong>Note:</strong> <code>ModuleId</code> (or <code>BuildId</code>/<em>build identifier</em>): ID used to associate crash reports with debugging information. Used to detect NSS files that have the same <code>ModuleId</code> as the <code>ModuleId</code> included in crash reports for crashes that occur in the overall market in order to get more accurate debugging information.</p>
    <p>
      <strong>Note:</strong> When a SHA1 hash is used in <code>ModuleId</code>, only 32 characters of the original 160 bits of information (40 hexadecimal characters) are displayed in the crash report. When comparing nss SHA1 values, extract and compare 32 characters.</p>
  </div>
</div>
<h2 id="Anchor_267167329_h2_3">Crash Report Hash Values and Aggregations</h2>
<p>Each crash report comes with a hash value that is calculated from the stack trace, the PC register, and the LR register. You can consider the stack traces to be identical when the hash values are identical. Compiling the hash value count allows you gauge which crashes are happening at what frequency in the market.</p>
<p>The hash value is calculated solely from the information in the thread that caused the crash. Even though the hash value is the same, the overall state of each thread may be different.</p>
<p>The totals for the number of consoles affected and the overall number of incidents are compiled when getting crash reports. They are defined as follows.</p>
<ul>
  <li>
    <em>Number of consoles affected</em> refers to the number of consoles on which the crash occurred. Multiple crashes on the same console still only count as one console.</li>
  <li>
    <em>Overall number of incidents</em> refers to the total crash count. If a crash occurs multiple times on the same console, each time is counted.</li>
</ul>
<p>This data allows you to gauge whether a crash is widespread in the market or console-dependent.</p>
<p>When a user does not consent to share crash reports, specific crash data cannot be retrieved. However, some crashes result in sending the number of consoles affected and the overall number of incidents, even if the user has not consented to share crash reports. For this reason, there is no requirement to be concerned about what percent of users have consented to share crash data as it pertains to the number of consoles affected and the overall number of incidents.</p>
<h2 id="Anchor_267167329_h2_4">Upload Timing of Crash Reports</h2>
<p>Crash reports are uploaded immediately when they are created if the Switch system is online and internet communication can take place in the background. If a crash report cannot be uploaded when it is created, for example because the Switch system is offline at the time, the upload process for the report is tried again periodically. For this reason, even if an application crashes while the system is offline, the crash report generated at that time can be obtained after the system comes back online.</p>
<h2 id="Anchor_267167329_h2_5">Dying Messages</h2>
<p>A dying message is application-defined data that can be left behind in a crash report. If a memory region has been set with the <span class="ApiLink_void_nn__os__SetDyingMessageRegion(uintptr_t_address|_size_t_size)_NN_NOEXCEPT">nn::os::SetDyingMessageRegion()</span> function, the system reads the content of the specified memory region when the application crashes and leaves it in the crash report. You can leave any binary data in this memory region. Please do not include personal information. The maximum size of memory region that can be specified is 4 KB.</p>
<p>For the dying message, you can leave information helpful to investigating the cause of the crash, such as the scene name, character coordinates, status, and BGM filename.</p>
<h2 id="Anchor_267167329_h2_6">Aggregating Based on GPU Crash Dump and GPU Crash Hash</h2>
<p>An application that has generated a GPU error is forcibly terminated by the system, but when this happens, the system gets a core dump of the target GPU and leaves a crash report. The size of the retrieved binary data is up to 16 KB.</p>
<p>This data is equivalent to the dump file that can be obtained on the development hardware with the feature described in <a href="../Pages/Page_196456643.html">Dump Feature During GPU Crash</a>, and it can be analyzed using NxgcdFormatter.</p>
<p>In addition, you can aggregate the crash reports based on the GPU crash hash using the crash report retrieval tool (version 1.9 or later) that is included in NX Add-On 12.1.0 and later.</p>
<p>The GPU crash hash is a hash value that is assigned to the crash report together with the GPU dump when a GPU crash occurs. This value is generated from different items for each type of GPU exception. Even when the GPU crash hash values are the same, the states of the GPU registers and memory might be different. For more information about GPU crash hash values, see <a href="../Pages/Page_1035869037.html">GPU Crash Hash</a>.</p>
<p>When using CPU hash crash to perform aggregation, it aggregates the number of consoles affected and the number of incidents for each GPU crash hash value. They are defined as follows.</p>
<ul>
  <li>
    <em>Number of consoles affected</em> refers to the number of consoles on which the GPU crash occurred. Multiple crashes on the same console still only count as one console.</li>
  <li>
    <em>Overall number of incidents</em> refers to the total GPU crash count. If a crash occurs multiple times on the same console, each time is counted.</li>
</ul>
<p>This data allows you to gauge whether a GPU crash is widespread in the market or console-dependent.</p>
<p>When a user does not consent to share crash reports, specific crash data cannot be retrieved. However, some crashes result in sending the number of consoles affected and the overall number of incidents, even if the user has not consented to share crash reports. For this reason, there is no requirement to be concerned about what percent of users have consented to share crash data as it pertains to the number of consoles affected and the overall number of incidents.</p>
<h2 id="Anchor_267167329_h2_7">Screenshots</h2>
<p>Screenshots can be captured when the application crashes and kept in the crash report. The image files are saved in JPEG format.<br />These screenshots can be used in the following kinds of ways.</p>
<ul>
  <li>To help clarify the situation surrounding the crash</li>
  <li>To help analyze the cause of the problem by inspecting commonalities in the screenshots</li>
</ul>
<p> </p>
<p>Screenshots are not enabled by default, even if crash reports have been enabled.<br />To enable screenshots, configure settings according to the procedures in the following section, <a href="#Anchor_267167329_h1_2">Enabling and Disabling Crash Reports</a>.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>You can retrieve screenshots from the Nintendo server for up to six months after they were sent to the server.<br />Beyond six months, in some cases it will no longer be possible to retrieve the screenshots. Please make a note of this fact.</p>
  </div>
</div>
<h1 id="Anchor_267167329_h1_2">Enabling and Disabling Crash Reports</h1>
<p>For more information about using crash reports in the <strong>development environment</strong>, see <a href="../Pages/Page_360360254.html">Enabling Crash Reports in Development Environments</a>.<br />This section describes how to use crash reports in the <em>production environment</em>.</p>
<p>There is a separate setting for configuring whether to include screenshots in crash reports. This section also describes how to use these screenshots.</p>
<h2 id="Anchor_267167329_h2_8">Enabling Crash Reports</h2>
<p>To use crash reports in the production environment, the following conditions must be met.</p>
<ul>
  <li>The application is a 64-bit application.</li>
  <li>The <code>-fomit-frame-pointer</code> compile option is not specifed. (If possible, specify <code>-fno-omit-frame-pointer</code>.)</li>
  <li>In the NMETA file, <code>CrashReport</code> is set to <code>Allow</code>. (It is set to <code>Allow</code> by default.)</li>
</ul>
<p>For more information about configuring the NMETA file, see the <a href="../Pages/Page_166503043.html">Crash Reports</a> section in <a href="../Pages/Page_166503043.html">Writing the NMETA File</a>. You can also use <a href="../Pages/Page_187698789.html">AuthoringEditor</a>.</p>
<p>In addition, an NSS file corresponding to the master ROM NSP file is needed to display the symbol information included in the crash reports. Hold on to this NSS file even after the release.</p>
<p>When releasing a patch, make sure that you update the application version (the <code>DisplayVersion</code> option in the NMETA file) to a new value. If the same <code>DisplayVersion</code> value is specified even though the binary data is different, the wrong symbols may be displayed when displaying symbols by specifying an NSS file.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>In compilers prior to NX Add-On 9.0.0, the frame pointer was saved even when <code> -fomit-frame-pointer</code> was specified. That means that if you are using an SDK version earlier than NX Add-On 9.0.0, there is no problem specifying <code> -fomit-frame-pointer</code>.<br />For NX Add-On 9.0.0 and later, the stack trace is unobtainable if you specify <code> -fomit-frame-pointer</code>.</p>
  </div>
</div>
<h2 id="Anchor_267167329_h2_9">Enabling Screenshots</h2>
<p>In the information included in the crash reports, there is a separate setting for configuring whether to send screenshots.<br />In the NMETA file, set <code>CrashScreenshotForProd</code> as follows. (It is set to <code>Deny</code> by default.)</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>
        <br />
      </th>
      <th>Send</th>
      <th>Not Send</th>
    </tr>
    <tr>
      <td>NMETA File CrashScreenshotForProd Element</td>
      <td>Allow</td>
      <td>Deny</td>
    </tr>
  </tbody>
</table>
<p>For more information about configuring the NMETA file, see the <a href="../Pages/Page_166503043.html">Screenshot When Application Crashes (For Production Environment)</a> section in <a href="../Pages/Page_166503043.html">Writing the NMETA File</a>. You can also use <a href="../Pages/Page_187698789.html">AuthoringEditor</a>.</p>
<h2 id="Anchor_267167329_h2_10">Disabling Crash Reports</h2>
<p>To disable crash reports in the production environment, in the NMETA file set <code>CrashReport</code> to <code>Deny</code>.</p>
<ul />
<p>
  <br />When this setting is configured, the application stops sending crash reports.</p>
<h1 id="Anchor_267167329_h1_3">Notes About Crash Reports</h1>
<p>Do not include credit card information.</p>
<p>Inclusion of credit card information in crash reports is prohibited. For scenes that might include the saved credit card information, use the <span class="ApiLink_void_nn__oe__DisableCrashReport()_NN_NOEXCEPT">nn::oe::DisableCrashReport()</span> function to temporarily disable the creation of crash reports. Afterwards, use <code>memset_s</code> to delete the credit card information from memory, then use the <span class="ApiLink_void_nn__oe__EnableCrashReport()_NN_NOEXCEPT">nn::oe::EnableCrashReport()</span> function to re-enable the crash report re-creation functionality. For more information, see the <span class="ApiLink_nn__oe">API reference for the nn::oe library</span>. For more information, see the guidelines.</p>
<p>You can check the <strong>Error</strong> tab in DevMenu to check whether the creation of crash reports is disabled. It is disabled when <strong>(Temporarily Disabled)</strong> appears under the <strong>Application Crash Report</strong> option at the bottom of the screen.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_267167329/267179789.png" height="250" class="embedded-image" />
  </span>
</p>
<h2 id="Anchor_267167329_h2_11">Do not frequently get crash reports.</h2>
<p>To reduce server load, do not frequently get crash reports.<br />Crash reports are updated every hour. There will be no changes if you get the reports at shorter intervals. Leave an interval of at least one hour between getting crash reports. Basically, the crash report functionality is expected to be used to get crash reports through batch processing once a day.</p>
<p>The period of time for which to obtain crash reports as specified by the <code>--date_begin</code> and <code>--date_end</code> options is based on the times when the crash reports are received by the server, so the crash reports that can be obtained will not change if the same period is specified. Be careful not to unnecessarily obtain crash reports that you have already obtained.</p>
<h1 id="Anchor_267167329_h1_4">Crash Report Retrieval Tool</h1>
<p>The crash report retrieval tool is a command-line tool for getting crash report data after a crash occurs in the market.</p>
<p>It includes the following two modes.</p>
<ul>
  <li>Aggregate mode: Uses one of the following keys to aggregate crash reports, and displays the reports in order from the report with the most number of consoles that experienced the crash (up to 500 reports).<ul><li>Aggregation using stack trace hash</li><li>Aggregation using GPU crash hash</li></ul></li>
  <li>Detailed mode: By specifying the <code>--detail</code> option, gets detailed information, such as all thread dumps, screenshots, and dying messages, for each and every crash instead of the cumulative results.</li>
</ul>
<p>The following sections show examples of using each mode.</p>
<p>Results are displayed in text format. Results can be exported in JSON format by specifying the <code>--json</code> option.</p>
<h2 id="Anchor_267167329_h2_12">Package</h2>
<p>The crash report retrieval tool is available in the NintendoSDK NX Add-On.</p>
<h2 id="Anchor_267167329_h2_13">Placement</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$NINTENDO_SDK_ROOT/Tools/CommandLineTools/CrashReport.exe</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_267167329_h2_14">Getting Access Tokens</h2>
<p>To use the crash report retrieval tool, you must get an access token for the crash report server.</p>
<p>Use the following procedure to get an access token.</p>
<ol>
  <li>Refer to <a href="https://developer.nintendo.com/group/development/g1kr9vj6/tech-info/announcement?articleId=268920213">Requesting the Use of the Crash Report Server</a> and get usage permission.</li>
  <li>Use a browser to connect to the crash report server.<ul><li>Production environments: <a href="https://crash-report.mng.nintendo.net">https://crash-report.mng.nintendo.net</a></li><li>Development environments: <a href="https://dd1-crash-report.mng.nintendo.net">https://dd1-crash-report.mng.nintendo.net</a></li></ul></li>
  <li>Log in with your NDID.</li>
  <li>After logging in, get an access token (string).</li>
</ol>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The access token differs for the retail product and development environments. Be careful not to mix them.</p>
  </div>
</div>
<h2 id="Anchor_267167329_h2_15">How to Use</h2>
<p>Run <code>CrashReport.exe</code> from the command line.<br />The following sections describe the options that are required, the options available in both modes (aggregate mode and detailed mode), and the options available based on mode.</p>
<h3 id="Anchor_267167329_h3_1">Required Options</h3>
<p>The following options must be specified.</p>
<table class="fixed-table wrapped">
  <colgroup> <col style="width: 210.0px;" /> <col style="width: 1049.0px;" /> </colgroup>
  <tbody>
    <tr>
      <th>Name</th>
      <th>
        <div class="content-wrapper">
          <p>Description</p>
        </div>
      </th>
    </tr>
    <tr>
      <td>
        <pre>--application_id &lt;arg&gt;</pre>
      </td>
      <td>REQUIRED<br />The application ID for the application for which to get crash reports.</td>
    </tr>
    <tr>
      <td>
        <pre>--application_version &lt;arg&gt;</pre>
      </td>
      <td>
        <p>REQUIRED (See the Note.)</p>
        <p>The version of the application (the <code>DisplayVersion</code> value in the NMETA file) for which to get crash reports.</p>
        <p>(<strong>Note:</strong> Not required when using <code>--dev</code>.)</p>
        <p>
          <br />
        </p>
        <p>Specify <code>ANY</code> to get reports for all versions.<br />However, note that if the version of any of the obtained reports is different from the version specified using the <code>--nss</code> option, incorrect symbol information may be generated.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--access_token &lt;arg&gt;</pre>
      </td>
      <td>
        <p>REQUIRED</p>
        <p>The obtained access token.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_267167329_h3_2">Common Options for Both Modes</h3>
<p>The following options are available in both aggregate and detailed modes.</p>
<table class="fixed-table wrapped">
  <colgroup> <col style="width: 210.0px;" /> <col style="width: 1049.0px;" /> </colgroup>
  <tbody>
    <tr>
      <th>Name</th>
      <th>
        <div class="content-wrapper">
          <p>Description</p>
        </div>
      </th>
    </tr>
    <tr>
      <td>
        <pre>--text</pre>
      </td>
      <td>Exports the results as text.</td>
    </tr>
    <tr>
      <td>
        <pre>--json</pre>
      </td>
      <td>Exports the results in JSON format.</td>
    </tr>
    <tr>
      <td>
        <pre>--prod</pre>
      </td>
      <td>Gets crash reports collected in the retail product environment.</td>
    </tr>
    <tr>
      <td>
        <pre>--dev</pre>
      </td>
      <td>Gets crash reports collected in the development environment. <code>--nss</code> must also be specified.</td>
    </tr>
    <tr>
      <td>
        <pre>--nss &lt;arg&gt;</pre>
      </td>
      <td>
        <p>Specify the path for the NSS file to use for symbol resolution for stack traces.</p>
        <p>Maintain the NSS file that corresponds to the master ROM NSP file. If the wrong NSS file is specified, the wrong symbols may be displayed. Take note of this.</p>
        <p>
          <br />
        </p>
        <p>Multiple NSS files can be specified by specifying this option multiple times.<br />Pick the NSS file to use for symbol resolution with the following procedure.</p>
        <ul>
          <li>Make a list that includes the NSS file specified with <code>-nss</code> and all of the NSS files in the directory specified with <code>--nssdir</code>.</li>
          <li>Use the NSS files that match any <code>ModuleId</code> listings in the crash report, if there are any.</li>
          <li>If there are none, an NSS file with the same filename as the module is used (This processing is used when there is no NSS corresponding to the master ROM. In such cases, the symbol information might not be accurate.)</li>
        </ul>
        <p>
          <br />
        </p>
        <p>Symbol resolution when an NSS file is specified is performed by calling <code>addr2line.exe</code> (a tool included with the compiler) for each address. This process may take some time depending on the size and location (such as network storage) of the NSS file.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--nssdir &lt;arg&gt;</pre>
      </td>
      <td>
        <p>Use all NSS files within the specified directory for symbol resolution.</p>
        <p>For more information, see the <code>--nss</code> option.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--addr2line &lt;arg&gt;</pre>
      </td>
      <td>
        <p>The path of the <code>addr2line</code> tool for resolving symbols.</p>
        <p>If omitted, the default path is <code>$NINTENDO_SDK_ROOT/Compilers/NX/nx/aarch64/bin/aarch64-nintendo-nx-elf-addr2line.exe</code>.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--strict_module_id</pre>
      </td>
      <td>Hides reports with a ModuleId that differs from the NSS file specified with the <code>--nss</code> option.</td>
    </tr>
    <tr>
      <td>
        <pre>--module_id &lt;arg&gt;</pre>
      </td>
      <td>Specifies the module ID for the application.</td>
    </tr>
    <tr>
      <td>
        <pre>--no_symbol</pre>
      </td>
      <td>Skips symbol resolution.</td>
    </tr>
    <tr>
      <td>
        <pre>--date_begin &lt;arg&gt;</pre>
      </td>
      <td>
        <p>Specifies the starting date and time of the period for which to get crash reports, in ISO 8601 format (for example, <code>20170303</code> or <code>20170303T000000+0900</code>).</p>
        <p>If omitted, the default value is <em>current_datetime</em> - 1 month.<br />If the specified period is longer than six months, the ending date is set to <em>starting_datetime</em> + 6 months.</p>
        <p>
          <br />
        </p>
        <p>The date and time specified for the period is the date and time when the crash report was received by the server. The date and time received by the server is recorded in UTC.</p>
        <p>If no time zone is specified in <code>--date_begin</code>, it is parsed as UTC. To specify a period in a specific time zone, specify the time zone, as in <code>20170303T000000+0900</code>.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--date_end &lt;arg&gt;</pre>
      </td>
      <td>
        <p>Specifies the ending date and time of the period for which to get crash reports, in ISO 8601 format (for example, <code>20170303</code> or <code>20170303T000000+0900</code>).</p>
        <p>If omitted, the default value is the current date and time.<br />If the specified period is longer than six months, the ending date is set to <em>starting_datetime</em> + 6 months.</p>
        <p>
          <br />
        </p>
        <p>The date and time specified for the period is the date and time when the crash report was received by the server. For more information, see the <code>--date_begin</code> option.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--program_index &lt;index&gt;</pre>
      </td>
      <td>Specifies the program index for multi-program applications. If not specified, takes a default value of <code>0</code>. Multiple program indexes can be specified.</td>
    </tr>
    <tr>
      <td>
        <pre>--timeout &lt;second&gt;</pre>
      </td>
      <td>Sets the time until the request to the crash report server times out.</td>
    </tr>
    <tr>
      <td>
        <pre>--gcdformatter &lt;arg&gt;</pre>
      </td>
      <td>
        <div class="content-wrapper">
          <p>Specifies the path to the instance of NxgcdFormatter that is used for analyzing the GPU crash reports.</p>
          <p>If omitted, the default path is <code>$NINTEND_SDK_ROOT/Tools/Graphics/NxgcdFormatter/NxgcdFormatter.exe</code>.</p>
        </div>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--gcd_path &lt;path&gt;</pre>
      </td>
      <td>
        <div class="content-wrapper">
          <p>Specifies the path for storing the GPU crash dump file.</p>
          <p>
            <br />
          </p>
          <p>If the following strings are included in the path, they are replaced by the values in the crash report.</p>
          <table class="wrapped">
            <tbody>
              <tr>
                <th>String</th>
                <th>Replaced by This Value</th>
              </tr>
              <tr>
                <td>
                  <div class="content-wrapper">
                    <p>
                      <code>{report_id}</code>
                    </p>
                  </div>
                </td>
                <td>A value unique to each crash report.</td>
              </tr>
              <tr>
                <td>
                  <div class="content-wrapper">
                    <p>
                      <code>{error_code}</code>
                    </p>
                  </div>
                </td>
                <td>The error code.</td>
              </tr>
              <tr>
                <td>
                  <div class="content-wrapper">
                    <p>
                      <code>{hash}</code>
                    </p>
                  </div>
                </td>
                <td>The hash value for the crash.</td>
              </tr>
              <tr>
                <td>
                  <div class="content-wrapper">
                    <p>
                      <code>{gpu_crash_hash}</code>
                    </p>
                  </div>
                </td>
                <td>The hash value for the GPU crash.</td>
              </tr>
              <tr>
                <td>
                  <div class="content-wrapper">
                    <p>
                      <code>{app_id}</code>
                    </p>
                  </div>
                </td>
                <td>The application ID.</td>
              </tr>
              <tr>
                <td>
                  <div class="content-wrapper">
                    <p>
                      <code>{app_version}</code>
                    </p>
                  </div>
                </td>
                <td>The application version.</td>
              </tr>
              <tr>
                <td>
                  <div class="content-wrapper">
                    <p>
                      <code>{time}</code>
                    </p>
                  </div>
                </td>
                <td>The time of the crash.</td>
              </tr>
            </tbody>
          </table>
          <p>Consider the following example.</p>
          <table class="codeblock">
            <tbody>
              <tr>
                <td class="code">
                  <div class="codeblock"><pre>--gcd_path nxgcd/{gpu_crash_hash}/{report_id}.nxgcd</pre></div>
                </td>
              </tr>
            </tbody>
          </table>
          <p>
            <br />
          </p>
        </div>
        <p>
          <br />
        </p>
        <p>With these settings, the <code>{gpu_crash_hash}</code> and <code>{report_id}</code> parts are replaced with the specific values of each crash report.</p>
        <p>A folder for the GPU crash hash values is created in the <code>nxgcd</code> folder, and the GPU crash dump files are stored there.</p>
        <p>
          <br />
        </p>
        <p>The results of the analysis carried out by the instance of NxgcdFormatter specified by <code>--gcdformatter</code> are saved in this same folder.</p>
        <p>
          <br />
        </p>
        <p>If this option is omitted, the behavior is the same as if <code>nxgcd/{report_id}.nxgcd</code> was specified.</p>
        <p>To prevent overwriting files, <strong>we recommend including <code>{report_id}</code> in the path</strong>.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--version</pre>
      </td>
      <td>Displays version information.</td>
    </tr>
    <tr>
      <td>
        <pre>--help</pre>
      </td>
      <td>
        <p>Display Help.</p>
        <p>Shows the options that can be used in each mode by specifying them with <code>--summary</code> or <code>--detail</code>.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_267167329_h3_3">Aggregate Mode Options</h3>
<p>Specify <code>--summary</code> in the options to use aggregate mode. The following options are then available.</p>
<table class="fixed-table wrapped">
  <colgroup> <col style="width: 210.0px;" /> <col style="width: 1049.0px;" /> </colgroup>
  <tbody>
    <tr>
      <th>Name</th>
      <th>
        <div class="content-wrapper">
          <p>Description</p>
        </div>
      </th>
    </tr>
    <tr>
      <td>
        <pre>--summary &lt;target&gt;</pre>
      </td>
      <td>
        <p>Uses <em>&lt;target&gt;</em> to aggregate the crash reports. You can specify the following for <em>&lt;target&gt;</em>.</p>
        <table class="wrapped">
          <tbody>
            <tr>
              <th>target</th>
              <th>Overview</th>
            </tr>
            <tr>
              <td>hash</td>
              <td>Displays a summary of the aggregation of the stack trace hash values during crashes, as well as the exception thread dump.</td>
            </tr>
            <tr>
              <td>gpu_crash_hash</td>
              <td>Displays a summary of the GPU crash hash values calculated from the GPU crash dump contents; also displays the contents of the GPU crash dump file.</td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--summary_only</pre>
      </td>
      <td>Only display a summary.</td>
    </tr>
    <tr>
      <td>
        <pre>--count_only</pre>
      </td>
      <td>Only displays the total number of systems on which the crash occurred.</td>
    </tr>
    <tr>
      <td>
        <pre>--min_count &lt;N&gt;</pre>
      </td>
      <td>Only displays crash reports that occurred on more than <em>&lt;N&gt;</em> systems.</td>
    </tr>
    <tr>
      <td>
        <pre>--limit &lt;arg&gt;</pre>
      </td>
      <td>
        <p>Displays the first <em>&lt;arg&gt;</em> systems on which the crash occurred.</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_267167329_h3_4">Detailed Mode Options</h3>
<p>Specify <code>--detail</code> in the options to use detailed mode. The following options are then available.</p>
<table class="fixed-table wrapped">
  <colgroup> <col style="width: 210.0px;" /> <col style="width: 1049.0px;" /> </colgroup>
  <tbody>
    <tr>
      <th>Name</th>
      <th>
        <div class="content-wrapper">
          <p>Description</p>
        </div>
      </th>
    </tr>
    <tr>
      <td>
        <pre>--detail</pre>
      </td>
      <td>Gets a crash report in detailed mode.<br />You can get the details of each crash (such as all dump files, screenshots, and dying messages for all threads).</td>
    </tr>
    <tr>
      <td>
        <pre>--hash &lt;arg&gt;</pre>
      </td>
      <td>Gets only those crash reports for which the crash report hash value matches <em>&lt;arg&gt;</em>.</td>
    </tr>
    <tr>
      <td>
        <pre>--gpu_crash_hash &lt;arg&gt;</pre>
      </td>
      <td>Gets only those crash reports for which the GPU crash report hash value matches <em>&lt;arg&gt;</em>.</td>
    </tr>
    <tr>
      <td>
        <pre>--limit &lt;arg&gt;</pre>
      </td>
      <td>
        <p>Gets up to <em>&lt;arg&gt;</em> reports among available crash reports.<br />Set to 500 reports by default.<br />Specify <code>0</code> for <em>&lt;arg&gt;</em> to get all of the available reports.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--offset &lt;N&gt;</pre>
      </td>
      <td>
        <p>
          <strong>Note:</strong> Because you can now specify a value greater than 500 for <code>&ndash;limit</code>, this is basically no longer needed.</p>
        <p>
          <br />
        </p>
        <p>Gets crash reports from the <em>&lt;N&gt;</em>th offset.<br />The offset is based on 0. If 0 is specified for the offset, the same report as if offset was not specified is obtained.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre>--screenshot</pre>
      </td>
      <td>Creates a <code>screenshot</code> directory in the current directory for storing screenshots.</td>
    </tr>
    <tr>
      <td>
        <pre>--screenshot_path &lt;path&gt;</pre>
      </td>
      <td>
        <div class="content-wrapper">
          <p>Use this option to specify the path to the location for storing screenshots.</p>
          <p>
            <br />
          </p>
          <p>If the following strings are included in the path, they are replaced by the values in the crash report.</p>
          <table class="wrapped">
            <tbody>
              <tr>
                <th>String</th>
                <th>Replaced by This Value</th>
              </tr>
              <tr>
                <td>
                  <div class="content-wrapper">
                    <p>
                      <code>{report_id}</code>
                    </p>
                  </div>
                </td>
                <td>A value unique to each crash report.</td>
              </tr>
              <tr>
                <td>
                  <code>{error_code}</code>
                </td>
                <td>The error code.</td>
              </tr>
              <tr>
                <td>
                  <code>{hash}</code>
                </td>
                <td>The hash value for the crash.</td>
              </tr>
              <tr>
                <td>
                  <code>{app_id}</code>
                </td>
                <td>The application ID.</td>
              </tr>
              <tr>
                <td>
                  <code>{app_version}</code>
                </td>
                <td>The application version.</td>
              </tr>
              <tr>
                <td>
                  <code>{time}</code>
                </td>
                <td>The time of the crash.</td>
              </tr>
            </tbody>
          </table>
          <p>Consider the following example.</p>
          <table class="codeblock">
            <tbody>
              <tr>
                <td class="code">
                  <div class="codeblock"><pre>--screenshot_path screenshot/<span class="o">{</span>hash<span class="o">}</span>/<span class="o">{</span>report_id<span class="o">}</span>.jpg</pre></div>
                </td>
              </tr>
            </tbody>
          </table>
          <p>
            <br />
          </p>
          <p>With these settings, the <code>{hash}</code> and <code>{report_id}</code> parts are replaced with the specific values of each crash report.<br />A folder for the hash values is created in the <code>screenshot</code> folder, and the screenshots are stored there.</p>
          <p>
            <br />
          </p>
          <p>If the <code>--screenshot</code> option is the only option specified, the behavior is the same as if <code>--screenshot_path screenshot/{report_id}.jpg</code> was specified.</p>
          <p>To prevent overwriting files, <strong>we recommend including <code>{report_id}</code> in the path</strong>.</p>
          <p>
            <br />If you specify this option, you do not need to specify the <code>--screenshot</code> option.</p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_267167329_h2_16">Usage Examples</h2>
<p>The following information shows usage examples of each mode (aggregate and detailed) of the crash report retrieval tool.</p>
<h3 id="Anchor_267167329_h3_5">Aggregate Mode (Aggregation Using Stack Trace Hash)</h3>
<p>An example command is as follows. This example only includes the required options.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ CrashReport.exe --summary <span class="nb">hash</span> --application_id 0x01009b500007c000 --application_version 1.0.0 --access_token &lt;ACCESS TOKEN&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>When you run the crash report retrieval tool, it first displays a summary. The summary displays the hash value for each crash, the error code, the number of consoles affected, and the overall number of incidents. The <em>number of consoles affected</em> represents the number of consoles on which the crash has occurred. Multiple crashes on a single console still only count as one console for this value. The <em>overall number of incidents</em> represents simply the number of times that the crash occurred. If a crash occurs multiple times on the same console, each time is counted.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>Hash                                                             ErrorCode Serial/Total
915EBD6D0AFD94F0581D55A65A6C89BA9F195BBF01C7D9C6E1D2A3ABA09B1A7A 2168-0002 1918/2280
D6AB70C16F35EEE274F83AC991A6777D602B494C3C25421CAFE99106241E2307 2168-0006 1255/1315
5228D66FCAA16C74E34D7037426CA604DADB11ECC4CAC92BEE85392687CD6B5B 2168-0002 367/367
9CF77D3C8B00CD5E16C87D96BD63A38A6806A3C783F01E2A160143DF82F1BB4C 2168-0002 298/318
5F3DB0828EA0F71CF153000C07434C9B80F6AC78974598D3833FF11C7B61755F 2168-0006 263/263
CD4F4DC81A60EDECFACA24618E09C8DF106498571061C9F6801477C8045B306E 2168-0002 231/259</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>Details of each crash appear after the summary. The register data, module data, and stack trace are included in the details.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>---------------------------------------------------------------------------------------
915EBD6D0AFD94F0581D55A65A6C89BA9F195BBF01C7D9C6E1D2A3ABA09B1A7A 1918/2280

Error code:        2168-0002
Exception code:    Access Violation Data
Exception address: 0x0000000000000004

Module Information:
&nbsp;&nbsp;0x0000000008000000 - 0x0000000008002000 nnrtld
&nbsp;&nbsp;0x000000000800D000 - 0x0000000008030000 Application.nss
&nbsp;&nbsp;0x0000000008200000 - 0x0000000008731000 nnSdkJp

-----
X00:  0x000000000000015C
X01:  0x00000037A849727C
X02:  0x0000000000000000
X03:  0x00000037A912A5F4
X04:  0x0000000000000000
X05:  0x0000000000000000
X06:  0x0000000000000000
X07:  0x0000000000000000
X08:  0x000000000000015C
X09:  0x000000000000015C
X10:  0x0000000000000000
X11:  0x00000037A8B91718
X12:  0x00000037A90F2000
X13:  0x0000000000000054
X14:  0x0000000000000069
X15:  0x0000000000000000
X16:  0x00000037A94ADB38
X17:  0x00000037AA2025A4
X18:  0x0000000000000000
X19:  0x00000051456BE040
X20:  0x000000000000015C
X21:  0x00000051426DA4E8
X22:  0x0000000000000001
X23:  0x000000000000002C
X24:  0x0000000000000000
X25:  0x00000037A963E5E0
X26:  0x000000000000002D
X27:  0x0000000000000001
X28:  0x0000000000000008
FP :  0x00000056587AD730
LR :  0x00000037A822aacc: 0x37a8206000 + 0x22aacc <span class="o">(</span>Application.nss<span class="o">)</span>
SP :  0x00000056587AD710 
PC :  0x00000037A822ff00: 0x37a8206000 + 0x22ff00 <span class="o">(</span>Application.nss<span class="o">)</span>
PSTATE: 0x80000000

Stack: 0x0100000000000000 - 0x0100000000000000

Stack trace:
&nbsp;&nbsp;0x00000037A822aa44: 0x37a8206000 + 0x22aa44 <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A822aa88: 0x37a8206000 + 0x22aa88 <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A899aa00: 0x37a8206000 + 0x99aa00 <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A899aacc: 0x37a8206000 + 0x99aacc <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A899aa88: 0x37a8206000 + 0x99aa88 <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A877aacc: 0x37a8206000 + 0x77aacc <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A8aaaa88: 0x37a8206000 + 0xaaaa88 <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A8aaaacc: 0x37a8206000 + 0xaaaacc <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A899aa88: 0x37a8206000 + 0x99aa88 <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A82000DC: 0x37a8200000 + 0xdc <span class="o">(</span>nnrtld<span class="o">)</span>

---------------------------------------------------------------------------------------
D6AB70C16F35EEE274F83AC991A6777D602B494C3C25421CAFE99106241E2307 1918/2280

<span class="o">(</span>Omitted<span class="o">)</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>When the <code>--nss</code> option is specified, symbol data is displayed in parts of the stack thread or register information.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ CrashReport.exe --application_id 0x01009b500007c000 --application_version 1.0.0 --access_token &lt;ACCESS TOKEN&gt; --nss application.nss

<span class="o">(</span>Omitted<span class="o">)</span>

LR :  0x00000037A822aacc: CrashFunction1<span class="o">()</span> at D:<span class="se">\S</span>amples<span class="se">\S</span>ources<span class="se">\A</span>pplications<span class="se">\C</span>rashApplication/Function.cpp:71 <span class="o">(</span>Application.nss<span class="o">)</span>
SP :  0x00000056587AD710 
PC :  0x00000037A822ff00: CrashFunction2<span class="o">()</span> at D:<span class="se">\S</span>amples<span class="se">\S</span>ources<span class="se">\A</span>pplications<span class="se">\C</span>rashApplication/Function.cpp:97 <span class="o">(</span>Application.nss<span class="o">)</span>
PSTATE: 0x80000000

Stack: 0x0100000000000000 - 0x0100000000000000

Stack trace:
&nbsp;&nbsp;0x00000037A899aa88: nnMain at D:<span class="se">\S</span>amples<span class="se">\S</span>ources<span class="se">\A</span>pplications<span class="se">\C</span>rashApplication/Main.cpp:121 <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x00000037A82000DC: 0x37a8200000 + 0xdc <span class="o">(</span>nnrtld<span class="o">)</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>Symbol resolution when an NSS file is specified is performed by calling <code>addr2line.exe</code> (a tool included with the compiler) for each address. This process may take some time depending on the size and location (such as network storage) of the NSS file.</p>
<p>You can export results in JSON format by specifying the <code>--json</code> option.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre><span class="nx">$</span> <span class="nx">CrashReport</span><span class="p">.</span><span class="nx">exe</span> <span class="o">--</span><span class="nx">application_id</span> <span class="mh">0x01009b500007c000</span> <span class="o">--</span><span class="nx">application_version</span> <span class="mf">1.0</span><span class="p">.</span><span class="mi">0</span> <span class="o">--</span><span class="nx">access_token</span> <span class="o">&lt;</span><span class="nx">ACCESS</span> <span class="nx">TOKEN</span><span class="o">&gt;</span> <span class="o">--</span><span class="nx">nss</span> <span class="nx">application</span><span class="p">.</span><span class="nx">nss</span> <span class="o">--</span><span class="nx">json</span>

<span class="p">[</span><span class="p">{</span><span class="s2">&quot;application_version&quot;</span><span class="o">:</span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;crash_report_hash&quot;</span><span class="o">:</span><span class="s2">&quot;915EBD6D0AFD94F0581D55A65A6C89BA9F195BBF01C7D9C6E1D2A3ABA09B1A7A&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;dying_message_base64&quot;</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;error_code&quot;</span><span class="o">:</span><span class="s2">&quot;2003-0008&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;exception_address&quot;</span><span class="o">:</span><span class="mi">280724143384</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;exception_code&quot;</span><span class="o">:</span><span class="s2">&quot;User Break&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;exception_thread_id&quot;</span><span class="o">:</span><span class="mi">628</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;is_64bit&quot;</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;modules&quot;</span><span class="o">:</span><span class="p">[</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">{</span><span class="s2">&quot;module_name&quot;</span><span class="o">:</span><span class="s2">&quot;nnrtld&quot;</span><span class="p">,</span> <span class="s2">&quot;module_begin_address&quot;</span><span class="o">:</span><span class="mi">280718475264</span><span class="p">,</span> <span class="s2">&quot;module_end_address&quot;</span><span class="o">:</span><span class="mi">280718483456</span><span class="p">},</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">{</span><span class="s2">&quot;module_name&quot;</span><span class="o">:</span><span class="s2">&quot;Application.nss&quot;</span><span class="p">,</span> <span class="s2">&quot;module_begin_address&quot;</span><span class="o">:</span><span class="mi">280718528512</span><span class="p">,</span> <span class="s2">&quot;module_end_address&quot;</span><span class="o">:</span><span class="mi">280718684160</span><span class="p">},</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">{</span><span class="s2">&quot;module_name&quot;</span><span class="o">:</span><span class="s2">&quot;nnSdk&quot;</span><span class="p">,</span> <span class="s2">&quot;module_begin_address&quot;</span><span class="o">:</span><span class="mi">280723038208</span><span class="p">,</span> <span class="s2">&quot;module_end_address&quot;</span><span class="o">:</span><span class="mi">280729530368</span><span class="p">}],</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;serial_number_count&quot;</span><span class="o">:</span><span class="mi">1918</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;threads&quot;</span><span class="o">:</span><span class="p">[</span><span class="p">{</span><span class="s2">&quot;thread_id&quot;</span><span class="o">:</span><span class="mi">628</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;registers&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;fp&quot;</span><span class="o">:</span><span class="mi">9846213504</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;lr&quot;</span><span class="o">:</span><span class="mi">280723397228</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;sp&quot;</span><span class="o">:</span><span class="mi">9846213504</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;pc&quot;</span><span class="o">:</span><span class="mi">280724143380</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;pstate&quot;</span><span class="o">:</span><span class="mi">536870912</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;stack_top&quot;</span><span class="o">:</span><span class="mi">9845166080</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;stack_bottom&quot;</span><span class="o">:</span><span class="mi">9846214656</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;stack_trace&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">280723389600</span><span class="p">,</span> <span class="mi">280723389796</span><span class="p">,</span> <span class="mi">280718529296</span><span class="p">,</span> <span class="mi">280718530064</span><span class="p">,</span> <span class="mi">280723689020</span><span class="p">,</span> <span class="mi">280718475436</span><span class="p">],</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;lr_symbol&quot;</span><span class="o">:</span><span class="s2">&quot;0x415C65A000 + 0x57A6C (nnSdk)&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;pc_symbol&quot;</span><span class="o">:</span><span class="s2">&quot;0x415C65A000 + 0x10DD14 (nnSdk)&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;stack_trace_symbol&quot;</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;0x415C65A000 + 0x55CA0 (nnSdk)&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;0x415C65A000 + 0x55D64 (nnSdk)&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;CrashFunction1() at D:\Samples\Sources\Applications\CrashApplication/Function.cpp:71 (Application.nss)&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;nnMain at D:\Samples\Sources\Applications\CrashApplication/Main.cpp:121 (Application.nss)&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;0x415C65A000 + 0x9EE3C (nnSdk)&quot;</span><span class="p">,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;0x415C200000 + 0xAC (nnrtld)&quot;</span><span class="p">]}],</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="s2">&quot;total_count&quot;</span><span class="o">:</span><span class="mi">2280</span><span class="p">},</span>
<span class="p">(</span><span class="nx">The</span> <span class="nx">rest</span> <span class="nx">is</span> <span class="nx">omitted</span><span class="p">.)</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_267167329_h3_6">Aggregate Mode (Aggregation Using GPU Crash Hash)</h3>
<p>An example command is as follows. This example only includes the required options.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ CrashReport.exe --summary gpu_crash_hash --application_id 0x01009b500007c000 --application_version 1.0.0 --access_token &lt;ACCESS TOKEN&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>This GPU crash hash aggregation displays the hash value for each GPU crash, the error code, the number of consoles affected, and the overall number of incidents. The <em>number of consoles affected</em> represents the number of consoles on which the crash has occurred. Even if multiple crashes occur on a single console, only one crash is counted for that console. The <em>overall number of incidents</em> represents simply the number of times that the crash occurred. If a crash occurs multiple times on the same console, each time is counted.</p>
<p>Details of each GPU crash appear after the summary. These details include the error code, exception information, and also the results of analysis by NxgcdFormatter.</p>
<p>However, if the <code>--json</code> option has been specified, the processes of exporting the GPU crash dump file and analysis by NxgcdFormatter are not performed.</p>
<p>When a GPU crash occurs, the process usually ends with the error code <code>2162-0001 User Break</code>. The system detects when a GPU crash has occurred and notifies the system thread inside the application to close the application, as described in <a href="../Pages/Page_105383443.html">nnMain() and Library Initialization</a> &gt; Automatically Starting the System Thread.</p>
<p>The GPU crash hash value is generated from a number of items in the GPU crash dump, such as the exception type, so the contents of the individual saved GPU crash dump files are different. This example shows the content of a typical GPU crash dump. For more information about generating GPU crash hash values, see <a href="../Pages/Page_1035869037.html">GPU Crash Hash</a>.</p>
<p>An example of the output is presented in the following table.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>GPU Crash Hash                                                   ErrorCode Serial/Total
199B53F0C36660CBB6FE415CABCAF089AC96CC3596D498D45CDA9304D1BD6B2F 2162-0001 1/22

---------------------------------------------------------------------------------------
199B53F0C36660CBB6FE415CABCAF089AC96CC3596D498D45CDA9304D1BD6B2F 1/22

Error code:          2162-0001
Exception code:      User Break
Exception address:   0x0000003B7F5CC4BC
Exception Thread ID: 0x000000000000023A

GPU Crash Dump: 456 byte
=============================================
Fifo Exception Summary
=============================================
GPU exception on queue 2 (aruid 0x89)
&nbsp;Exception type: pushbuffer DMA (PBDMA) error
&nbsp;PBDMA intr: 0x8000
&nbsp;PBDMA error: invalid GP entry
&nbsp;PBDMA GP shadow_0: 0xfffffffc
&nbsp;PBDMA GP shadow_1: 0xfffffeff
---------------------------------------------
PBDMA ID #0 State
---------------------------------------------
&nbsp;&nbsp;intr_0 = 0x00008000
&nbsp;&nbsp;intr_1 = 0x00000000
&nbsp;&nbsp;status = 0x80008008
&nbsp;&nbsp;target = 0x00000000
&nbsp;&nbsp;channel = 0x00002002
&nbsp;&nbsp;hdr_shadow = 0x00000000
&nbsp;&nbsp;pb_header = 0x60400000
&nbsp;&nbsp;gp_shadow_0 = 0xfffffffc
&nbsp;&nbsp;gp_shadow_1 = 0xfffffeff
&nbsp;&nbsp;gp_base = 0x04000000
&nbsp;&nbsp;gp_base_hi = 0x000b0000
&nbsp;&nbsp;gp_fetch = 0x00000176
&nbsp;&nbsp;pb_fetch = 0xfffffffc
&nbsp;&nbsp;pb_fetch_hi = 0x000006ff
&nbsp;&nbsp;gp_get = 0x00000175
&nbsp;&nbsp;gp_put = 0x00000176
&nbsp;&nbsp;get = 0xfffffffc
&nbsp;&nbsp;get_hi = 0x000000ff
&nbsp;&nbsp;put = 0xfffffffc
&nbsp;&nbsp;put_hi = 0x000000ff
&nbsp;&nbsp;pb_count = 0x84000000
&nbsp;&nbsp;pb_data0 = 0x00000000
&nbsp;&nbsp;pb_data1 = 0x00000000
&nbsp;&nbsp;pb_data2 = 0x00000000
&nbsp;&nbsp;method0 = 0x80060075
&nbsp;&nbsp;data0 = 0x00006510
&nbsp;&nbsp;method1 = 0x00000000
&nbsp;&nbsp;data1 = 0x00000000
&nbsp;&nbsp;method2 = 0x00000000
&nbsp;&nbsp;data2 = 0x00000000
&nbsp;&nbsp;method3 = 0x00000000
&nbsp;&nbsp;data3 = 0x00000000</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>If the NxgcdFormatter specified by the <code>--gcdformatter</code> option does not exist, or if the process terminated on an error, the information is displayed in Base64 encoded format, enclosed in triple quotation marks (&quot;&quot;&quot;), just like in detailed mode. The information is displayed in Base64 encoded format even if the <code>--json</code> option has been specified.</p>
<h4 id="Anchor_267167329_h4_1">Using GPU Crash Hash Values to Sort GPU Crash Dump File Save Destinations</h4>
<p>You can use the <code>--gcd_path</code> option to control the location where GPU crash dump files are saved.</p>
<p>For example, run the following command to save GPU crash dump files to different folders bases on the GPU crash hash values.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ CrashReport.exe --detail --gcd_path nxgcd/{gpu_crash_hash}/{report_id}.nxgcd --application_id 0x01009b500007c000 --application_version 1.0.0 --access_token &lt;ACCESS TOKEN&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>When you run this command, an <code>nxgcd</code> folder is created in the current folder, and folders named after the GPU hash values of the crash reports are created in that. The GPU crash dump files are saved to these folders, named after the report IDs of the crash reports.</p>
<p>The saved GPU crash dump files are analyzed by NxgcdFormatter and the files from that analysis are saved to the same folders, as shown in <a href="../Pages/Page_196456643.html">Dump Feature During GPU Crash</a>.</p>
<p>If you are using the <code>--gcd_path</code> option, <strong>we recommend including <code>{report_id}</code> in the path</strong> to prevent the overwriting of files.</p>
<h4 id="Anchor_267167329_h4_2">Getting GPU Crash Dumps Corresponding to Specific GPU Crash Hash Values</h4>
<p>The crash report resulting from a GPU crash has a GPU crash hash value. This GPU crash hash value is generated from a number of items in the GPU crash dump, such as the exception type, so the contents of individual saved GPU crash dump files are different.</p>
<p>By retrieving a group of crash reports that all have the same GPU crash hash value, you can learn the states of the individual GPU registers and of memory when that particular GPU crash occurred, and use that information to analyze the cause of the problem.</p>
<p>To get the GPU crash dumps corresponding to a specific GPU crash hash value, specify the <code>--gpu_crash_hash</code> option.</p>
<p>The following example gets crash reports that contain the GPU crash hash value <code>199B53F0C36660CBB6FE415CABCAF089AC96CC3596D498D45CDA9304D1BD6B2F</code>.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ CrashReport.exe --detail --gcd_path nxgcd/{gpu_crash_hash}/{report_id}.nxgcd --gpu_crash_hash 199B53F0C36660CBB6FE415CABCAF089AC96CC3596D498D45CDA9304D1BD6B2F --application_id 0x01009b500007c000 --application_version 1.0.0 --access_token &lt;ACCESS TOKEN&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>This save destination path contains <code>{gpu_crash_hash}</code> just like in the previous section, so a folder with the name of the GPU crash hash value is created in the <code>nxgcd</code> directory, and the GPU crash dump is saved there, together with the analysis results from NxgcdFormatter.</p>
<h3 id="Anchor_267167329_h3_7">Detailed Mode</h3>
<p>The following example shows the command for detailed mode. Specify the <code>--detail </code>option to get a crash report in detailed mode.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ CrashReport.exe --detail --application_id 0x01009b500007c000 --application_version 1.0.0 --access_token &lt;ACCESS TOKEN&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>In detailed mode, each crash report is retrieved and the results are displayed. </p>
<ul>
  <li>Register information</li>
  <li>Module information</li>
  <li>Stack trace</li>
  <li>All thread dumps</li>
  <li>Dying messages</li>
  <li>Date and time the crash occurred</li>
  <li>Operating system version</li>
</ul>
<p>.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The number of crashes that occur in aggregate mode include crashes that occur on consoles where Share Error Information is not enabled, but only crash reports from devices where Share Error Information is enabled can be obtained in detailed mode.</p>
    <p>For this reason, even if you get the crash reports in detailed mode for the same period as those obtained in aggregate mode, you may not be able to get the same number of reports that were in the aggregate mode output.</p>
  </div>
</div>
<p>Up to 500 crash reports can be retrieved at one time in detailed mode. If you want to get more crash reports, use the <code>--offset</code> option to specify an offset for the retrieved reports. If the <code>--hash</code> option has been used to limit the hash values, a maximum of 500 crash reports with the same hash value can be retrieved. In the current implementation, the order is fixed for the crash reports obtained in detailed mode. You can get all of the crash reports by getting crash reports while shifting the offset.</p>
<p>The following example shows a crash report obtained in detailed mode. First, the basic data, including the error code and exception data, appears for each crash.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>---------------------------------------------------------------------------------------
Error code:          2168-0002
Exception code:      Access Violation Data
Exception address:   0x0000000000000004
Exception Thread ID: 0x0000000000000256
Occurrence Time:     2018-02-16T04:41:21.000Z
Os version:          5.0.0
Crash Hash:          9E2FBC3CFD2427C01BA703006A7A4AF6C40ABB35EC5BC8265FA81B0007B61773

Module Information:
&nbsp;&nbsp;0x000000341DE00000 - 0x000000341DE02000 nnrtld
&nbsp;&nbsp;0x000000341DE0D000 - 0x000000341DE33000 Application.nss
&nbsp;&nbsp;0x000000341E25A000 - 0x000000341E88B000 nnSdkJp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>After this point, all thread dumps are displayed.</p>
<p>The <code>ThreadId</code> is displayed in each thread dump. When a <code>ThreadId</code> is the same as an exception thread ID (the thread ID that threw an exception), <code>&lt;Exception Thread&gt;</code> is displayed.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>-----
ThreadId :  0x0000000000000256 &lt;Exception Thread&gt; &lt;<span class="o">==</span> A thread that threw the exception.

X00:  0x0000000000000000
X01:  0x000000789BC72000
X02:  0x0000004C425B6D18
X03:  0x0000000000000000
X04:  0x0000000000000000
X05:  0x0000000000000000
X06:  0x0000000000000000
X07:  0x0000000000000000
X08:  0x0000000000000004
X09:  0x000000000000DEAD
X10:  0x0000000000000000
X11:  0x0000000000000000
X12:  0x0000000000000000
X13:  0x0000000000000000
X14:  0x0000000000000000
X15:  0x0000000000000000
X16:  0x0000000000000000
X17:  0x0000000000000000
X18:  0x0000000000000000
X19:  0x000000341DED9174
X20:  0x000000341DED9774
X21:  0x00000022A2638D22
X22:  0x000000341DE590D0
X23:  0x000000341DED9774
X24:  0x00000000431BDE82
X25:  0x00000000D7B634DB
X26:  0x00000008E9B38D61
X27:  0x2A91BB94C28F5C2F
X28:  0x000000341DE4B11C
FP :  0x0000004C425B6D40
LR :  0x000000341DE0D2C0: CrashFunction1<span class="o">()</span> at D:<span class="se">\S</span>amples<span class="se">\S</span>ources<span class="se">\A</span>pplications<span class="se">\C</span>rashApplication/Function.cpp:71 <span class="o">(</span>Application.nss<span class="o">)</span>
SP :  0x0000004C425B6D40
PC :  0x000000341DE0D2C8: CrashFunction2<span class="o">()</span> at D:<span class="se">\S</span>amples<span class="se">\S</span>ources<span class="se">\A</span>pplications<span class="se">\C</span>rashApplication/Function.cpp:97 <span class="o">(</span>Application.nss<span class="o">)</span>
PSTATE:  0x80000000

Stack: 0x0000004C424B7000 - 0x0000004C425B7000

Stack trace:
&nbsp;&nbsp;0x000000341DE17FBC: nnMain at D:<span class="se">\S</span>amples<span class="se">\S</span>ources<span class="se">\A</span>pplications<span class="se">\C</span>rashApplication/Main.cpp:121 <span class="o">(</span>Application.nss<span class="o">)</span>
&nbsp;&nbsp;0x000000341E2F8E3C: 0x341E25A000 + 0x9EE3C <span class="o">(</span>nnSdkJp<span class="o">)</span>
&nbsp;&nbsp;0x000000341DE000AC: 0x341DE00000 + 0xAC <span class="o">(</span>nnrtld<span class="o">)</span>

-----
ThreadId :  0x0000000000000267                    &lt;<span class="o">==</span>  A thread where an exception was not thrown <span class="o">(</span>&lt;Exception Thread&gt; not displayed<span class="o">)</span>.

<span class="o">(</span>The rest is omitted.<span class="o">)</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>If a dying message is not provided, the contents of the GPU crash dump is displayed last.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>Dying Message (BASE64): &quot;&quot;&quot;
AAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKiss
LS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZ
WltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWG
h4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKz
tLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g
4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+/w==
&quot;&quot;&quot;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>The portion enclosed in triple quotation marks (&quot;&quot;&quot;) is a Base64 encoded dying message.</p>
<p>For a GPU crash dump, the GPU crash dump file is saved to the path specified by <code>--gcd_path</code> and then the results of the analysis carried out by NxgcdFormatter are displayed.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>GPU Crash Dump: 456 byte
=============================================
Fifo Exception Summary
=============================================
GPU exception on queue 2 (aruid 0x89)
&nbsp;Exception type: pushbuffer DMA (PBDMA) error
&nbsp;PBDMA intr: 0x8000
&nbsp;PBDMA error: invalid GP entry
&nbsp;PBDMA GP shadow_0: 0xfffffffc
&nbsp;PBDMA GP shadow_1: 0xfffffeff

(Omitted)</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>If the NxgcdFormatter path specified by the <code>--gcdformatter</code> option does not exist, or if the process terminated on an error or the crash report retrieval tool is version 1.9 (from a version of NintendoSDK earlier than NX Add-On 12.1.0), the information is displayed in Base64 encoded format, enclosed in triple quotation marks (&quot;&quot;&quot;). The information is displayed in Base64 encoded format even if the <code>--json</code> option has been specified.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>GPU Crash Dump 456 byte (BASE64): &quot;&quot;&quot;
AgDN28gBAACJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjAAAABAAAAAAAAAAAAAAAEAB
AACEAAAAoAAAAJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AIgAAAAAAAAgAgAAAAAAAAAAAAAAEAAAAAIAAAABAAAVIAARBgUAAACQABEG
BQAAAAAAAAAAAAAAIAARBgXmAAAICBAgBgBVBYAHAAA4BAAA1QAAAHUABoAQ
ZQAAHRJAgIForA8BCICABQAAAAUIAIAAAJgEAAAAAAAAAAAAAAAAAAAAAAAA
AAAaAAAAwQAAAAEAAAAAAAAAvQAAAAcBAAAQZQAAAAAAAAAAAAAAAAAAAAAI
AJwAAAAAAAAAAIAAAAAAAAAIgACAAAAAAAIgAAAAAAAAAABAYPz//////v//
AAAABAAACwB2AQAA/P////8GAAB1AQAAdgEAAPz/////AAAA/P////8AAAAA
AACEAAAAAAAAAAAAAAAAdQAGgBBlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AACEAAAA
&quot;&quot;&quot;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>For more information about NxgcdFormatter, see <a href="../Pages/Page_196456643.html">Dump Feature During GPU Crash</a> &gt; Using Dump Files.</p>
<p>As in aggregate mode, you can also export results in JSON format in detailed mode by specifying the <code>--json</code> option.</p>
<p>
  <br />
</p>
<h3 id="Anchor_267167329_h3_8">Retrieving Screenshots</h3>
<p>When the mode is detailed mode, you can retrieve screenshots. (For more information about enabling screenshots, see <a href="#Anchor_267167329_h2_8">Enabling Crash Reports</a>.)<br />This section presents a number of examples of commands for retrieving screenshots.</p>
<h4 id="Anchor_267167329_h4_3">Retrieving Screenshots Without Specifying Conditions</h4>
<p>To get the screenshots included in the crash reports, specify the <code>--detail</code> and <code>--screenshot</code> options as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ .<span class="se">\T</span>ools<span class="se">\C</span>ommandLineTools<span class="se">\C</span>rashReport.exe --detail --screenshot --application_id &lt;ID&gt; --application_version &lt;VERSION&gt; --access_token &lt;TOKEN&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>When you run the preceding command, a <code>screenshot</code> folder is created under the current folder, and the screenshots are saved there.<br />The screenshot path is displayed along with the corresponding crash registers and stack trace information, as follows.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>Screenshot: screenshot/9b3b7aa1-d54f-45ee-b719-daac0fa75192.jpg</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_267167329_h4_4">Using Hash Values to Sort Screenshots to Different Locations</h4>
<p>You can control which folders to save screenshots to by using the <code>--screenshot_path</code> option instead of the <code>--screenshot</code> option.</p>
<p>For example, run the following command to save screenshots to different folders based on the hash values of the crash reports.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ .<span class="se">\T</span>ools<span class="se">\C</span>ommandLineTools<span class="se">\C</span>rashReport.exe --detail --screenshot_path screenshot/<span class="o">{</span>hash<span class="o">}</span>/<span class="o">{</span>report_id<span class="o">}</span>.jpg --application_id &lt;ID&gt; --application_version &lt;VERSION&gt; --access_token &lt;TOKEN&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>When you run this command, a <code>screenshot</code> folder is created in the current folder, and folders named after the hash values of the crash reports are created below it. The screenshots are saved to these folders, named after the report IDs of the crash reports.</p>
<p>If you are using the <code>--screenshot_path</code> option, <strong>we recommend including <code>{report_id}</code> in the path</strong> to prevent overwriting files.</p>
<h4 id="Anchor_267167329_h4_5">Retrieving Screenshots Corresponding to a Specific Hash Value</h4>
<p>Each crash report has a hash value that is calculated from the stack trace, the PC, and the LR. If the hash value is the same, it indicates that the stack trace, PC, and LR are also the same.<br />By retrieving a group of screenshots that all have the same hash value, you have a way to infer the circumstances and conditions surrounding the crash, and to view commonalities in the screenshots to analyze the cause of the problem.</p>
<p>To retrieve screenshots corresponding to a specific hash value, specify the <code>--hash</code> option.<br />In the following example, the screenshot corresponding to the hash value &quot;<code class="bash plain">9E2FBC3CFD2427C01BA703006A7A4AF6C40ABB35EC5BC8265FA81B0007B61773</code>&quot; is obtained.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ .<span class="se">\T</span>ools<span class="se">\C</span>ommandLineTools<span class="se">\C</span>rashReport.exe --detail --screenshot_path screenshot/<span class="o">{</span>hash<span class="o">}</span>/<span class="o">{</span>report_id<span class="o">}</span>.jpg --hash 9E2FBC3CFD2427C01BA703006A7A4AF6C40ABB35EC5BC8265FA81B0007B61773 --application_id &lt;ID&gt; --application_version &lt;VERSION&gt; --access_token &lt;TOKEN&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>This save destination path contains <code>{hash}</code> just like in the previous section, so a folder with the name of the hash value is created in the <code>screenshot</code> folder, and the screenshots are saved there.</p>
<h2 id="Anchor_267167329_h2_17">Getting Crash Reports Generated in the Development Environment</h2>
<p>First, refer to <a href="../Pages/Page_360360254.html">Enabling Crash Reports in Development Environments</a> and enable sending.</p>
<p>Specify the <code>--detail</code> option to get a crash report sent from the development environment. It is also necessary to specify <code>--nss</code> in the development environment.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ CrashReport.exe --dev --application_id 0x01009b500007c000 --application_version 1.0.0 --access_token &lt;ACCESS TOKEN&gt; --nss application.nss</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>In the development environment, <code>application_version</code> often remains the same, while the binary file is changed. If the binary and NSS files become mismatched, it is likely that incorrect symbol information will be displayed. For this reason, NSS must be specified, so that a warning message is displayed if the binary and NSS become mismatched.</p>
<p>If they become mismatched, the following is displayed during text formatting.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>Warning: ModuleId is different from .nss file. Symbols may be inaccurate.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--strict_module_id option removes mismatched ModuleId reports</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>In the JSON format, <code>module_id_mismatch</code> becomes <code>true</code>.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre><span class="s2">&quot;module_id_mismatch&quot;</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>Otherwise, the information that can be retrieved is identical to the retail product environment.</p>
<h2 id="Anchor_267167329_h2_18">Error Codes Generated by Exceptions</h2>
<p>The following error codes were generated by exceptions, such as data access to an invalid memory region.<br />For more information about the meanings of other error codes, see the Error Code List.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>Error Codes</th>
      <th>Corresponding Exception</th>
      <th>Root Cause</th>
    </tr>
    <tr>
      <td>
        <pre>2168-0000</pre>
      </td>
      <td>
        <pre>Undefined Instruction</pre>
      </td>
      <td>An undefined instruction was executed.</td>
    </tr>
    <tr>
      <td>
        <pre>2168-0001</pre>
      </td>
      <td>
        <pre>Access Violation Instruction</pre>
      </td>
      <td>Command access to an invalid memory region.</td>
    </tr>
    <tr>
      <td>
        <pre>2168-0002</pre>
      </td>
      <td>
        <pre>Access Violation Data</pre>
      </td>
      <td>Data access to an invalid memory region.</td>
    </tr>
    <tr>
      <td>
        <pre>2168-0003</pre>
      </td>
      <td>
        <pre>Data Type Misaligned</pre>
      </td>
      <td>Data access using an invalid alignment.</td>
    </tr>
    <tr>
      <td>
        <pre>2168-0006</pre>
      </td>
      <td>
        <pre>User Break</pre>
      </td>
      <td>The user called Break (called <code><span class="ApiLink_NN_ABORT">NN_ABORT</span></code>).</td>
    </tr>
    <tr>
      <td>
        <pre>2168-0008</pre>
      </td>
      <td>
        <pre>Undefined System Call</pre>
      </td>
      <td>An invalid system call.</td>
    </tr>
    <tr>
      <td>
        <pre>2168-0009</pre>
      </td>
      <td>
        <pre>Memory System Error</pre>
      </td>
      <td>Memory system error.</td>
    </tr>
  </tbody>
</table>
<h1 id="Anchor_267167329_h1_5">Troubleshooting</h1>
<h2 id="Anchor_267167329_h2_19">The 504 Gateway Timeout error frequently occurs.</h2>
<p>When the crash report server is experiencing high traffic or when a very large amount of data is the compiling target, compiling may not complete within the time limit, and a 504 Gateway Timeout error occurs. You may be able to get a crash report by narrowing the beginning and ending dates of the compilation range using the <code>--date_begin</code> and <code>--date_end</code> options in the crash report retrieval tool.</p>
<h2 id="Anchor_267167329_h2_20">No crash report is displayed, or the number of crash reports is noticeably small.</h2>
<p>As a result of a larger amount of data included in crash reports, the crash report retrieval tool (version 1.1) included in the NintendoSDK in versions earlier than NX Add-On 5.3.0 can no longer get crash reports occurring on the Nintendo Switch system with a system version of 5.0.0 or later.</p>
<p>If you want to get crash reports occurring on the Nintendo Switch system with a system version of 5.0.0 or later, use the crash report retrieval tool (version 1.2 or later) included in NX Add-On 5.3.0 or later.</p>
<p>Using this crash report retrieval tool, you can get crash reports occurring on a Nintendo Switch system with a system version earlier than 5.0.0.</p>
<h2 id="Anchor_267167329_h2_21">Crash report retrieval tool operations never end.</h2>
<p>If the NSS file specified with <code>--nss</code> is not placed in network storage or similar, it may take some time to get the address symbols. Storing the NSS file locally can improve the response time.</p>
<p class="auto-cursor-target">
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__oe__GetProgramTotalActiveTime', '../../../Api/HtmlNX/namespacenn_1_1oe.html#a699bb996381c90b12be811a3b6958e6b' )
SetUrl( 'ApiLink_void_nn__os__SetDyingMessageRegion(uintptr_t_address|_size_t_size)_NN_NOEXCEPT', '../../../Api/HtmlNX/namespacenn_1_1os.html#a25125eea675c69bc6912e1140d4df148' )
SetUrl( 'ApiLink_void_nn__oe__DisableCrashReport()_NN_NOEXCEPT', '../../../Api/HtmlNX/namespacenn_1_1oe.html#a69168b9f0feafb0eba5c84f4203534d3' )
SetUrl( 'ApiLink_void_nn__oe__EnableCrashReport()_NN_NOEXCEPT', '../../../Api/HtmlNX/namespacenn_1_1oe.html#a64f84ba1125d23795b2b8bb3131dc601' )
SetUrl( 'ApiLink_nn__oe', '../../../Api/HtmlNX/namespacenn_1_1oe.html' )
SetUrl( 'ApiLink_NN_ABORT', '../../../Api/HtmlNX/nn___abort_8h.html#a205eaac89c47d49cb982bf136e113de2' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
