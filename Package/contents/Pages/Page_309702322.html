<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Multi-Program Application | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Multi-Program Application -->
<div class="pagetitle" id="PageId_309702322">Multi-Program Application</div>
<div class="text_separate">
<h1 id="Anchor_309702322_h1_1">
  <span style="color: rgb(117,117,117);">Contents</span>
</h1>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_309702322_h1_1">Contents</a>
    </li>
    <li>
      <a href="#Anchor_309702322_h1_2">Overview</a>
    </li>
    <li>
      <a href="#Anchor_309702322_h1_3">Terminology</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_309702322_h2_1">Program</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_2">Application</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_3">Multi-Program Application</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_4">Main Program</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_5">Subprogram</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_309702322_h1_4">Multi-Program Applications</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_309702322_h2_6">Advantages of Multi-Program Applications</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_7">Disadvantages of Multi-Program Applications</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_8">User Perspective</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_9">Structure of a Multi-Program Application</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_309702322_h3_1">Programs Under Development</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_309702322_h2_10">Multi-Program Application</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_309702322_h1_5">Switching Between Programs</a>
    </li>
    <li>
      <a href="#Anchor_309702322_h1_6">Resource Data</a>
    </li>
    <li>
      <a href="#Anchor_309702322_h1_7">Downloadable Content</a>
    </li>
    <li>
      <a href="#Anchor_309702322_h1_8">Save Data, Temporary Storage, and Cache Storage</a>
    </li>
    <li>
      <a href="#Anchor_309702322_h1_9">Restrictions on Multi-Program Applications</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_309702322_h2_11">Number of Included Programs</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_12">Application Control Data Restrictions</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_13">Legal Information Restrictions</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_14">Restrictions on the SDK Version Used</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_15">Restrictions for Releases</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_16">Restrictions on Resource Data Accessing by Other Programs</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_309702322_h3_2">Restrictions in the Runtime Environment</a>
        </li>
        <li>
          <a href="#Anchor_309702322_h3_3">Restrictions for Accessing Dynamic Modules</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_309702322_h2_17">Restrictions on Using SDK Features and Middleware</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_309702322_h3_4">nn::account API</a>
        </li>
        <ul>
          <li>
            <a href="#Anchor_309702322_h4_1">Restriction on opening a specified user account before the application is started.</a>
          </li>
          <li>
            <a href="#Anchor_309702322_h4_2">Transferring the Open State</a>
          </li>
        </ul>
        <li>
          <a href="#Anchor_309702322_h3_5">NEX Features</a>
        </li>
      </ul>
    </ul>
    <li>
      <a href="#Anchor_309702322_h1_10">Creating Multi-Program Applications</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_309702322_h2_18">Assigning Program Indexes</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_19">Creating the Applications Containing the Individual Programs</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_20">Creating the Multi-Program Application</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_21">Creating Patches</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_309702322_h1_11">Running Multi-Program Applications</a>
    </li>
    <li>
      <a href="#Anchor_309702322_h1_12">Debugging Multi-Program Applications</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_309702322_h2_22">Debugging the Individual Applications Containing the Individual Programs</a>
      </li>
      <li>
        <a href="#Anchor_309702322_h2_23">Continuing With Debugging Before and After Program Switching</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_309702322_h3_6">Attach the Debugger After Switching Programs</a>
        </li>
        <li>
          <a href="#Anchor_309702322_h3_7">Attach the Debugger Right When Switching Programs</a>
        </li>
      </ul>
    </ul>
    <li>
      <a href="#Anchor_309702322_h1_13">Sample</a>
    </li>
  </ul>
</p>
<h1 id="Anchor_309702322_h1_2">Overview</h1>
<p>This page provides an overview of multi-program applications and how to use them.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Multi-program applications can be created in AuthoringTool with AuthoringToolKit 7.0.0 and later.<br />The SDK version of the programs included in the multi-program application changes depending on the AuthoringToolKit version.<br />For more information, see the <a href="#Anchor_309702322_available_sdk_version_restriction">Restrictions on the SDK Version Used</a> section later in this document.</p>
  </div>
</div>
<h1 id="Anchor_309702322_h1_3">Terminology</h1>
<p>This section introduces terminology for describing multi-program applications.</p>
<h2 id="Anchor_309702322_h2_1">Program</h2>
<p>In NintendoSDK NX Add-On, a program includes the following three types of data.</p>
<ul style="list-style-type: square;">
  <li>The basic program<ul style="list-style-type: square;"><li>Executable instructions and resource data.</li></ul></li>
  <li>Application control data<ul style="list-style-type: square;"><li>Settings for the system used to run the application.<ul style="list-style-type: square;"><li>For more information, see <a href="../Pages/Page_166503043.html">Writing the NMETA File</a> &gt; Application Settings.  <br /></li></ul></li></ul></li>
  <li>HtmlDocument<ul style="list-style-type: square;"><li>Data used in the web applet and the Offline Web Applet.</li><li>For more information, see <a href="../Pages/Page_231477348.html">Web Applet and Offline Web Applet</a>.</li></ul></li>
</ul>
<h2 id="Anchor_309702322_h2_2">Application</h2>
<p>The software that the user directly interacts with.</p>
<p>The user can perform operations such as running the application or updating the application.</p>
<p>An application includes one or more programs.</p>
<h2 id="Anchor_309702322_h2_3">Multi-Program Application</h2>
<p>An application that includes multiple programs.</p>
<p>This document provides a more detailed description.</p>
<h2 id="Anchor_309702322_h2_4">Main Program</h2>
<p>The program that is started first.</p>
<h2 id="Anchor_309702322_h2_5">Subprogram</h2>
<p>Any program other than the main program that is included in a multi-program application.</p>
<h1 id="Anchor_309702322_h1_4">
  <span style="color: rgb(117,117,117);">Multi-Program Applications</span>
</h1>
<p>A multi-program application is an application consisting of multiple programs.</p>
<p>Multi-program applications can switch between the included programs at run time.</p>
<p>The term &quot;multi-program application&quot; is sometimes abbreviated as &quot;MPA.&quot;</p>
<h2 id="Anchor_309702322_h2_6">Advantages of Multi-Program Applications</h2>
<p>Multi-program applications enable you to do the following.</p>
<ul style="list-style-type: square;">
  <li>Proceed with development of the included programs as if you were developing a normal application.<br /><ul style="list-style-type: square;"><li>Different frameworks and libraries can be used in each program.</li></ul></li>
  <li>Minimize the number of files needed when integrating the programs.<br /><ul style="list-style-type: square;"><li>Only a single NSP file is required for each program.<ul style="list-style-type: square;"><li>The individual files required for building each program do not all need to be stored in the same location.</li></ul></li></ul></li>
</ul>
<h2 id="Anchor_309702322_h2_7">Disadvantages of Multi-Program Applications</h2>
<p>Note the following points when using a multi-program application.</p>
<ul style="list-style-type: square;">
  <li>Switching between programs takes time.<br /><ul style="list-style-type: square;"><li>It takes as much time as starting a regular application.</li><li>You must orchestrate the process of switching programs. (For more information, see Switching Between Programs later in this document.)</li></ul></li>
</ul>
<h2 id="Anchor_309702322_h2_8">User Perspective</h2>
<p>As far as the user is concerned, a multi-program application is no different from a single application.</p>
<p>For example, when a multi-program application is installed in the HOME Menu or DevMenu, only a single icon is displayed.</p>
<p>As far as the user is concerned, each multi-program application has a single set of resources, such as patches and user data.</p>
<p>Downloadable content is also owned by the multi-program application as a whole, and can be accessed by all of the programs.</p>
<p> <br /></p>
<p>Similarly, although multi-program applications can switch between the multiple included programs while running, to users it always appears as though a single application keeps running.</p>
<h2 id="Anchor_309702322_h2_9">
  <span style="color: rgb(117,117,117);">Structure of a Multi-Program Application</span>
</h2>
<h3 id="Anchor_309702322_h3_1">Programs Under Development</h3>
<div class="plantuml-svg-inline">
  <img src="../Attachments/Attach_309702322/plantuml_1.svg" />
</div>
<p>
  <br />
</p>
<p>When you develop the programs that make up a multi-program application, you develop them as individual applications.</p>
<p>These programs can be installed and executed independently, but because they share the same application ID, you cannot install separate programs at the same time.</p>
<h2 id="Anchor_309702322_h2_10">
  <span style="color: rgb(117,117,117);">Multi-Program Application</span>
</h2>
<div class="plantuml-svg-inline">
  <img src="../Attachments/Attach_309702322/plantuml_2.svg" />
</div>
<p>
  <br />
</p>
<p>When you have finished developing the programs, merge them to create a multi-program application.</p>
<p>Multi-program applications contain the same content as the individual programs before being merged.</p>
<p>
  <br />
</p>
<p>When you start the application, the main program (<strong>Program_A</strong>) starts.</p>
<p>The program with <code>ProgramIndex</code> = <code>0</code> is selected as the main program.</p>
<p>
  <code>ProgramIndex</code> is specified in the <a href="../Pages/Page_166503043.html">NMETA file</a>.</p>
<p>For more information, see Creating Multi-Program Applications later in this document.</p>
<h1 id="Anchor_309702322_h1_5">
  <span style="color: rgb(117,117,117);">Switching Between Programs</span>
</h1>
<p>A multi-program application switches between its included programs while running. The <code><span class="ApiLink_nn__oe__ExecuteProgram">nn::oe::ExecuteProgram</span>()</code> function is called to switch between programs. When the program calls <code><span class="ApiLink_nn__oe__ExecuteProgram">nn::oe::ExecuteProgram</span>()</code>, the system temporarily suspends the program that was previously running while loading the next program.</p>
<p>Switching between programs takes the same amount of time as starting a program. You must also avoid unnatural user experiences before and after switching between programs. For more information, see <a href="../Pages/Page_946747829.html">oe Library &gt; Manual &gt; Features &gt; Switching Between Programs</a> and perform the appropriate handling.</p>
<h1 id="Anchor_309702322_h1_6">Resource Data</h1>
<p>A a general rule, the resource data is held separately by each program in the multi-program application. Note that this redundancy of resource data increases the size of the application.</p>
<p>You can reference resource data included in a different program using <code><span class="ApiLink_nn__fs__MountRom">nn::fs::MountRom</span>(const char* <em>name</em>, int programIndex, void* <em>pFileSystemCacheBuffer</em>, size_t <em>fileSystemCacheBufferSize</em>)</code>.</p>
<p>To reference resource data included in a different program, specify that program's <code>ProgramIndex</code> in the <a href="../Pages/Page_166503043.html">NMETA file</a> in <code>NintendoSdkMeta/Core/FsAccessControlData/ResourceReferenceProgramIndices</code>.<br />For example, if a program for <code>ProgramIndex</code> 1 references resource data included in the programs for <code>ProgramIndex</code> 0 and 2, then a configuration like the following is necessary. This configuration is not necessary when passing the program's own <code>ProgramIndex</code> to the function.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span>? &gt;
&lt;NintendoSdkMeta&gt;
&nbsp;&nbsp;&lt;Core&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ApplicationId&gt;0x0005000C10000000&lt;/ApplicationId&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ProgramIndex&gt;1&lt;/ProgramIndex&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;FsAccessControlData&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FlagPresets&gt;Debug&lt;/FlagPresets&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ResourceReferenceProgramIndices&gt;0&lt;/ResourceReferenceProgramIndices&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ResourceReferenceProgramIndices&gt;2&lt;/ResourceReferenceProgramIndices&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FsAccessControlData&gt;
...
&nbsp;&nbsp;&lt;/Core&gt;
...
&lt;/NintendoSdkMeta&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h1 id="Anchor_309702322_h1_7">Downloadable Content</h1>
<p>A multi-program application can access application-associated downloadable content, just like a regular application.</p>
<h1 id="Anchor_309702322_h1_8">Save Data, Temporary Storage, and Cache Storage</h1>
<p>A multi-program application can use application-associated save data, temporary storage, and cache storage, just like a regular application.</p>
<p>The various programs all access the same save data, temporary storage, and cache storage. For this reason, you must be careful about filename collisions and the management of free space.</p>
<p>When you are developing a multi-program application, we recommend clearly establishing the files that can be shared among programs, and the files that can be accessed only by the individual programs.<br />Be careful if you are developing the programs individually because problems related to doing so can easily arise after the programs have been merged.</p>
<h1 id="Anchor_309702322_h1_9">Restrictions on Multi-Program Applications</h1>
<h2 id="Anchor_309702322_h2_11">Number of Included Programs</h2>
<p>The maximum number of programs is 16, including the main program and the subprograms.</p>
<h2 id="Anchor_309702322_h2_12">Application Control Data Restrictions</h2>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>Always use <a href="../Pages/Page_187698789.html">AuthoringEditor</a> to edit a multi-program application's <a href="../Pages/Page_166503043.html">NMETA file</a>.</p>
  </div>
</div>
<p>
  <br />
</p>
<p>In multi-program applications, the application control data settings specified in the <code>&lt;Application&gt;</code> element in the <a href="../Pages/Page_166503043.html">NMETA file</a> are subject to the following rules.</p>
<p>The values for the following items must be specified for each program.</p>
<ul style="list-style-type: square;">
  <li>HtmlDocumentPath</li>
  <li>AccessibleUrlsFilePath</li>
  <li> FilterDescriptionFilePath <br /></li>
</ul>
<p> When creating a patch, you must change the values of the following items for the main program. </p>
<ul style="list-style-type: square;">
  <li> ReleaseVersion </li>
  <li>DisplayVersion</li>
</ul>
<p> For all other items, you must specify the same values for all programs. </p>
<p> If the conditions are not satisfied, an error occurs when creating multi-program applications.</p>
<h2 id="Anchor_309702322_h2_13">
  <span style="color: rgb(117,117,117);">Legal Information Restrictions</span>
</h2>
<p>A single set of software legal information must be submitted for each application.</p>
<p>Create a single set of required software legal information for all programs, and incorporate the same information in every program.</p>
<p>When you merge the programs into a multi-program application, software legal information in the main program will be used.</p>
<h2 id="Anchor_309702322_h2_14">Restrictions on the SDK Version Used<a name="Anchor_309702322_available_sdk_version_restriction"></a></h2>
<p>Each of the programs in the multi-program application can use a different SDK version.</p>
<p>The SDK version of the programs included in the multi-program application changes as follows, depending on the AuthoringToolKit version.</p>
<div class="panel" style="border-width: 1px;">
  <div class="panelContent">
    <ul>
      <li>Earlier than AuthoringToolKit 11.4.0, 10.9.0<ul><li>Programs created with NintendoSDK NX Add-On 7.0.0 or later</li></ul></li>
      <li>AuthoringToolKit 11.4.0, 10.9.0 and later<br /><ul><li>Programs created with NintendoSDK NX Add-On 7.0.0 or later</li><li>Programs that are the result of converting programs created before NintendoSDK NX Add-On 7.0.0 into sub programs.<br />(For more information about conversion, see the <a href="../Pages/Page_107320233.html#Anchor_107320233_convert_to_sub_program">convert-to-subprogram command in AuthoringTool</a>.)</li></ul></li>
    </ul>
  </div>
</div>
<p>The major version for the SDK used for the main program must match the major version for AuthoringTool used when creating a multi-program application.</p>
<h2 id="Anchor_309702322_h2_15">Restrictions for Releases</h2>
<p>Currently, support is not possible in the following cases.</p>
<ul style="list-style-type: square;">
  <li>When including and selling a multi-program application in a game card, selling it with <a href="../Pages/Page_298160983.html">on-card add-on content</a></li>
  <li>Including and selling a multi-program application in a <a href="../Pages/Page_298165757.html">multi-application card</a></li>
</ul>
<p>We plan to support these cases in the future.</p>
<h2 id="Anchor_309702322_h2_16">Restrictions on Resource Data Accessing by Other Programs</h2>
<p>In multi-program applications, programs can access the resource data of other programs, but there are two restrictions.</p>
<h3 id="Anchor_309702322_h3_2">Restrictions in the Runtime Environment</h3>
<p>For a running program to reference the resource data of some other program, the application that includes that referenced program must be installed in advance.</p>
<h3 id="Anchor_309702322_h3_3">Restrictions for Accessing Dynamic Modules</h3>
<p>You can access resource data from other programs in a multi-program application but you must be cautious when accessing <a href="../Pages/Page_161310949.html">dynamic modules</a> within the resource data of other programs.</p>
<p>An NRR file is necessary to access <a href="../Pages/Page_161310949.html">dynamic modules</a> but you cannot use an NRR file within the resource data of another program.</p>
<p>For this reason, you must prepare NRR files for each program.</p>
<p>Note that NRO files can be accessed even when they are within the resource data for other programs.</p>
<p>Dependencies can easily become complicated, however, when accessing <a href="../Pages/Page_161310949.html">dynamic modules</a> from other programs. For this reason, we recommend that each program has its own NRO file, wherever possible.</p>
<p>
  <br />
</p>
<p>For more information about creating an NRR file, see <a href="../Pages/Page_170694395.html">Build Procedure: Creating an Application Image</a> or <a href="../Pages/Page_170692715.html">Using Dynamic Libraries</a>.<br />The only difference when including an NRO file in each program is whether to include the NRO file in the specified resource data directory.</p>
<h2 id="Anchor_309702322_h2_17">Restrictions on Using SDK Features and Middleware</h2>
<h3 id="Anchor_309702322_h3_4">nn::account API</h3>
<h4 id="Anchor_309702322_h4_1">Restriction on opening a specified user account before the application is started.</h4>
<p>
  <code>
    <span class="ApiLink_nn__account__TryOpenPreselectedUser">nn::account::TryOpenPreselectedUser</span>()</code> can only be used to open a user account the first time the main program is started.<br />The user account selected when an application is started cannot be opened when switching to a subprogram or when switching from a subprogram to the main program.</p>
<h4 id="Anchor_309702322_h4_2">Transferring the Open State</h4>
<p>If you jump to another program while a user account is in the open state, that user account is normally closed as part of the process of ending the first program.<br />To jump to another program and maintain that user in the open state, use the following <span class="ApiLink_nn__account">nn::account</span> functions.<br />In some situations, you must use these functions to comply with the guidelines.</p>
<ul style="list-style-type: square;">
  <li>
    <span class="ApiLink_nn__account__PushOpenUsers">nn::account::PushOpenUsers</span>()</li>
  <li>
    <span class="ApiLink_nn__account__PopOpenUsers">nn::account::PopOpenUsers</span>()</li>
</ul>
<h3 id="Anchor_309702322_h3_5">NEX Features</h3>
<p>Consult with Nintendo if you plan to use the NEX library in your multi-program application.<br />Special settings will be added to game servers in the following cases.</p>
<ul class="alternate">
  <li>Individual programs will log in to different sets of multiple game servers.</li>
  <li>A program will log in to the game server for an application that has already been released. (The game server will be shared.)</li>
</ul>
<h1 id="Anchor_309702322_h1_10">Creating Multi-Program Applications</h1>
<h2 id="Anchor_309702322_h2_18">Assigning Program Indexes</h2>
<p>
  <code>ProgramIndex</code> values function as IDs for identifying each program. These <code>ProgramIndex</code> values are specified when switching from one program to another program.</p>
<p>For <code>ProgramIndex</code>, assign values in the range from <code>0</code> to <code>15</code> in sequential order. When integrating programs to create a multi-program application, missing or duplicate <code>ProgramIndex</code> values cause a build error.</p>
<p>Assign the main program a <code>ProgramIndex</code> of 0. The program with a <code>ProgramIndex</code> of 0 is executed when the application is started.</p>
<h2 id="Anchor_309702322_h2_19">
  <span style="color: rgb(117,117,117);">Creating the Applications Containing the Individual Programs</span>
</h2>
<p>The applications containing the individual programs are created in the same was as a normal application, with the exception that a <code>ProgramIndex</code> value is assigned to each.</p>
<p>Use <a href="../Pages/Page_187698789.html">AuthoringEditor</a> to edit the <a href="../Pages/Page_166503043.html">NMETA files</a>.<br />In addition, make sure that the <a href="../Pages/Page_166503043.html">NMETA files</a> corresponding to each program share the same values for all items, except for the preceding items for which changes are allowed. If this is not the case, an error occur occurs when the programs are merged in the multi-program application.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>When creating an individual program, if you add the <code>--error-unpublishable</code> option in AuthoringTool, an Issue 12-002 Unnecessary Legal Information Noted error is sometimes displayed.</p>
    <p>If this error does not appear when checking with the <code>--error-unpublishable</code> option selected while creating a multi-program application, there is no problem.</p>
  </div>
</div>
<p>You can run and debug the applications containing the individual programs just like a normal application, but there are restrictions on some actions.<br />For more information, see Running Multi-Program Applications and Debugging Multi-Program Applications.</p>
<h2 id="Anchor_309702322_h2_20">
  <span style="color: rgb(117,117,117);">Creating the Multi-Program Application</span>
</h2>
<p>You can created a multi-program application by using <a href="../Pages/Page_107320233.html">AuthoringTool</a> to merge the applications containing the individual programs.</p>
<p>For this process, use the version of <a href="../Pages/Page_107320233.html">AuthoringTool</a> that is the newest among all of the versions that were used to create the applications containing the individual programs.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>AuthoringTool.exe mergeapplication -o multi.nsp App0.nsp App1.nsp ...</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>An error occurs if the preceding application control data restrictions are not satisfied.</p>
<p>Before you submit your multi-program application, add the <code>--error-unpublishable</code> option to the <code>mergeapplication</code> subcommand and verify that no errors occur.</p>
<h2 id="Anchor_309702322_h2_21">Creating Patches</h2>
<p>Use the following procedure to create a patch.</p>
<ol>
  <li>Make the necessary fixes and updates to the applications containing the individual programs.</li>
  <li>Create the application containing the main program with a revised <code>ReleaseVersion</code> and <code>DisplayVersion</code>.<ol><li>This is necessary even if no material changes were made to the application containing the main program.</li></ol></li>
  <li>Merge the revised applications containing the individual programs and create a revised version of the multi-program application.</li>
  <li>Create a patch, using as the input the initial version of the multi-program application and the revised version of the multi-program application (for second and subsequent patches, enter the previous version of the patch).<ol><li>For more information, see <a href="../Pages/Page_185135488.html">Building and Running a Patch</a>.</li></ol></li>
</ol>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>You can use a patch to increase the number of programs contained in the multi-program application, but there is no support for using a patch to decrease the number of programs.</p>
  </div>
</div>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>When applications containing a single program use multiple different DESC files, use the <code>--desc</code> option of the <code>makepatch</code> command to specify the <span style="letter-spacing: 0.0px;">path to the directory containing all of the DESC files that are being used</span>.<br />This method of specification is enabled in AuthoringToolKit 9.6.1, AuthoringToolKit 10.6.0, and <span style="letter-spacing: 0.0px;">AuthoringToolKit 11.1.0 and later. In earlier versions, only one DESC file can be specified, so the <code>makepatch</code> command displays the following message and terminates with an error: &quot;Wrong desc file. Acid in the desc file and main.npdm don't match.&quot;</span></p>
  </div>
</div>
<p>
  <br />
</p>
<h1 id="Anchor_309702322_h1_11">
  <span style="color: rgb(117,117,117);">Running Multi-Program Applications</span>
</h1>
<p>To run the multi-program application, use <a href="../Pages/Page_107328771.html">DevMenu</a> or <a href="../Pages/Page_424117414.html">DevMenuCommand</a> to install it on the development hardware.</p>
<p>If you start the multi-program application using <a href="../Pages/Page_107320466.html">RunOnTarget</a>, <a href="../Pages/Page_93359711.html">Target Manager</a>, or VSI, the main program is started. However, processing to switch between programs is not supported. If the program being referenced is not installed, an error is returned when the process to reference that program is called.</p>
<h1 id="Anchor_309702322_h1_12">
  <span style="color: rgb(117,117,117);">Debugging Multi-Program Applications</span>
</h1>
<p>To debug a multi-program application, we recommend debugging the applications that contain the individual programs.</p>
<h2 id="Anchor_309702322_h2_22">Debugging the Individual Applications Containing the Individual Programs</h2>
<p>You can debug an application containing an individual program by starting it in VSI, just like a regular application. Alternately, you can start it using <a href="../Pages/Page_107320466.html">RunOnTarget</a> or <a href="../Pages/Page_93359711.html">Target Manager</a>.</p>
<p>If you configure the setting as described in <a href="../Pages/Page_107328771.html">DevMenu</a> or <a href="../Pages/Page_325711330.html">DevMenuCommand</a> for installing and uninstalling launch parameters, you can reference the parameter that is passed when the program is switched even when the program is run on its own.</p>
<p>It is important to note that in order for the process of referencing other programs to work correctly, those programs must be installed in the development hardware beforehand.<br />This can lower the efficiency of development, so consider the idea of proceeding with development without actually referencing other programs until the final stage, such as by taking the resource data of a program that will be referenced and including it in the program that you are debugging.</p>
<p>If an application containing a single program is started from the <a href="../Pages/Page_107320466.html">RunOnTarget</a> or <a href="../Pages/Page_93359711.html">Target Manager</a> VSI, processing to switch between programs is not supported.</p>
<h2 id="Anchor_309702322_h2_23">
  <span style="color: rgb(117,117,117);">Continuing With Debugging Before and After Program Switching</span>
</h2>
<p>Normally, the debugging process ends if the program is switched after debugging.</p>
<p>The following methods can be used to start debugging after programs are switched.<br /></p>
<h3 id="Anchor_309702322_h3_6">Attach the Debugger After Switching Programs</h3>
<p>You can resume the debugging process by switching to the debug target program and then selecting <strong>Debug</strong> &gt; <strong>Attach to Process</strong> in VSI. For more information, see <a href="../Pages/Page_126569850.html">Debugging a Built Program</a> &gt; Debugging an Already Running Application.</p>
<h3 id="Anchor_309702322_h3_7">Attach the Debugger Right When Switching Programs</h3>
<p>You can start the debugging process immediately after the program has been switched by configuring the project properties for the debug target program before switching to the debug target program.<br />Select <strong>Configuration Properties</strong> &gt; <strong>Debugging</strong> &gt; <strong>Debugging Method</strong> and specify <strong>Attach at launch</strong>. For more information, see <a href="../Pages/Page_126569850.html">Debugging a Built Program</a> &gt; Debugging Immediately After Starting Applications Outside of Visual Studio.</p>
<p>
  <br />
</p>
<p>If debugging was started using either of these two methods, you can end the debugging without ending the program by selecting <strong>Debug</strong> &gt; <strong>Detach All</strong>. By doing this before you switch away from the program you are debugging, you can continue with debugging before and after program switching.</p>
<h1 id="Anchor_309702322_h1_13">Sample</h1>
<p>The mult-program application sample is located in <code>%NINTENDO_SDK_ROOT%\Samples\Sources\Applications\MultiProgramApplication</code>.</p>
<p>For more information, see <span class="ApiLink_PageSampleMultiProgramApplication">Sample Documentation for Multi-Program Applications</span>.</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__oe__ExecuteProgram', '../../../Api/HtmlNX/namespacenn_1_1oe.html#a7068b561ff066e1f20364c93c6cfd2f7' )
SetUrl( 'ApiLink_nn__fs__MountRom', '../../../Api/HtmlNX/namespacenn_1_1fs.html#a2e453fe1fbf8f818dc45bbd2897105cd' )
SetUrl( 'ApiLink_nn__account__TryOpenPreselectedUser', '../../../Api/HtmlNX/namespacenn_1_1account.html#a1a3ac7d2b7f91b612062aaf7859de8c3' )
SetUrl( 'ApiLink_nn__account', '../../../Api/HtmlNX/namespacenn_1_1account.html' )
SetUrl( 'ApiLink_nn__account__PushOpenUsers', '../../../Api/HtmlNX/namespacenn_1_1account.html#aecdef7d061fbc4072e4c003a32ea13e8' )
SetUrl( 'ApiLink_nn__account__PopOpenUsers', '../../../Api/HtmlNX/namespacenn_1_1account.html#accb35b97a8eca5f6690436550b8b29fa' )
SetUrl( 'ApiLink_PageSampleMultiProgramApplication', '../../../Api/HtmlNX/_page_sample_multi_program_application.html' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
