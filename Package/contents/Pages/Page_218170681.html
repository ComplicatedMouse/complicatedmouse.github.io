<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Variables and Macros Available Within Custom Shaders | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Variables and Macros Available Within Custom Shaders -->
<div class="pagetitle" id="PageId_218170681">Variables and Macros Available Within Custom Shaders</div>
<div class="text_separate">
<h1 id="Anchor_218170681_h1_1">Variables and Macros Available Within Custom Shaders</h1>
<p>The variables and macros available for use with custom shaders are summarized here.</p>
<p>
  <span class="status_macro_base status_macro_Blue">Related Links</span>
</p>
<table class="wrapped" style="margin-left: 1.5em;">
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_83955731.html">Custom Shader Examples</a>
      </th>
      <td>Describes custom shaders.</td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_218170764.html">Customizable Functions Within Custom Shaders</a>
      </th>
      <td>Describes the effect standard functions that can be independently customized by the user within custom shaders.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_218170681_h2_1">Macros/Constants</h2>
<table class="wrapped" style="margin-left: 1.5em;">
  <tbody>
    <tr>
      <th rowspan="2">Defined String</th>
      <th colspan="3">Use with Each Shader (Yes/No)</th>
      <th rowspan="2">Description</th>
    </tr>
    <tr>
      <th>Vertex</th>
      <th>Pixel</th>
      <th>Compute</th>
    </tr>
    <tr>
      <th>CUSTOM_SHADER_NONE</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Defined when custom shaders are not used.</td>
    </tr>
    <tr>
      <th>CUSTOM_SHADER_INDEX_1 ~ 8</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>When custom shaders are used, strings that include the custom shader indexes being used are defined.</td>
    </tr>
    <tr>
      <th>CUSTOM_SHADER_FLAG_0 ~ 63</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>When custom shader flags are used, the custom shader flags being used are defined.</td>
    </tr>
    <tr>
      <th>CUSTOM_SHADER_SWITCH_FLAG_0 ~ 63</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>When custom shader switch flags are used, the custom shader switch flags being used are defined.</td>
    </tr>
    <tr>
      <th>DRAW_PATH_0 ~ 63</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>The indices of the draw paths being used are defined.</td>
    </tr>
    <tr>
      <th>VERTEX_SHADER</th>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
      <td>
        <p>Defined when using a vertex shader.</p>
        <p>Using this definition enables you to describe custom vertex and pixel shaders in one file.</p>
      </td>
    </tr>
    <tr>
      <th>FRAGMENT_SHADER</th>
      <td>No</td>
      <td>Yes</td>
      <td>No</td>
      <td>
        <p>Defined when using a pixel shader.</p>
        <p>Using this definition enables you to describe custom vertex and pixel shaders in one file.</p>
      </td>
    </tr>
    <tr>
      <th>COMPUTE_SHADER</th>
      <td>No</td>
      <td>No</td>
      <td>Yes</td>
      <td>Defined when using a computer shader.</td>
    </tr>
    <tr>
      <th>_PRIMITIVE</th>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
      <td>Defined when using primitive particles.</td>
    </tr>
    <tr>
      <th>_PARTICLE</th>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
      <td>Defined when using standard particles.</td>
    </tr>
    <tr>
      <th>_USE_STRIPE</th>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
      <td>Defined when using stripes.</td>
    </tr>
    <tr>
      <th>M_PI</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>PI.</td>
    </tr>
    <tr>
      <th>CHECK_CUSTOM_FIELD_FLAG( bit )</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>You can get whether the custom field flag is enabled using a macro that takes one argument.</td>
    </tr>
    <tr>
      <th>MIPMAPLEVEL_LIMIT</th>
      <td>No</td>
      <td>Yes</td>
      <td>No</td>
      <td>
        <p>The limiting level of the mipmap texture that is used.<br />If you want to change the limiting level, make this macro <code>#undef</code> and redefine it in the custom pixel shader.</p>
      </td>
    </tr>
    <tr>
      <th>
        <p>_TEXTURE_ORIGIN_LOWER_LEFT</p>
        <p>_TEXTURE_ORIGIN_UPPER_LEFT</p>
      </th>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
      <td>
        <p>Indicates where the UV origin is comparable to in the texture (lower left/upper left).</p>
        <p>The lower left is defined by default, but this setting can be changed.</p>
        <p>For more information about changing this setting, see <a href="../Pages/Page_220071131.html">Switching the UV Origin of the Framebuffer and Depth Buffer</a>.</p>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_218170681_h2_2">Variables</h2>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th rowspan="2">Variable Name　　　　　　　　　　　　</th>
      <th colspan="3">Use with Each Shader (Yes/No)</th>
      <th rowspan="2">Description</th>
    </tr>
    <tr>
      <th>Vertex</th>
      <th>Pixel</th>
      <th>Compute</th>
    </tr>
    <tr>
      <th>sysWorldPositionVary</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>No</td>
      <td>World coordinates after calculations using the standard shader.</td>
    </tr>
    <tr>
      <th>sysWorldNormalVary</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>No</td>
      <td>When the shape is a particle, (x=0, y=0, z=1) is entered as the normal.<br />When the shape is a primitive, the normal included in the imported asset is used.</td>
    </tr>
    <tr>
      <th>sysWorldTangentVary</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>No</td>
      <td>
        <p>When the shape is a particle, (x=1, y=0, z=0) is entered as the normal.</p>
        <p>When the shape is a primitive, the normal included in the imported asset is used.</p>
      </td>
    </tr>
    <tr>
      <th>sysWorldBinormalVary</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>No</td>
      <td>
        <p>When the shape is a particle, (x=0, y=1, z=0) is entered as the normal.</p>
        <p>When the shape is a primitive, the cross product of the tangent and the normal and included in the imported asset is used.</p>
      </td>
    </tr>
    <tr>
      <th>sysIndexAttr</th>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
      <td>When the shape is a particle, entered in { 3, 1, 2, 0 } order.<br />When the shape is a primitive, the index value included in the imported asset is used.</td>
    </tr>
    <tr>
      <th>sysMasterAlpha</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>No</td>
      <td>The alpha value that you multiply the final output color by.　</td>
    </tr>
    <tr>
      <th>
        <p>sysColor0Vary</p>
        <p>sysColor1Vary</p>
      </th>
      <td>Yes</td>
      <td>Yes</td>
      <td>No</td>
      <td>
        <p>These are the particle colors 0 / 1.</p>
        <p>These two colors are blended by the pixel shader.</p>
      </td>
    </tr>
    <tr>
      <th>OUTPUT_COLOR</th>
      <td>No</td>
      <td>Yes</td>
      <td>No</td>
      <td>The final output color.</td>
    </tr>
    <tr>
      <th>
        <p>sysTextureSampler0</p>
        <p>
          <span style="color: rgb(51,51,51);">sysTextureSampler</span>1</p>
        <p>
          <span style="color: rgb(51,51,51);">sysTextureSampler</span>2</p>
      </th>
      <td>No</td>
      <td>Yes</td>
      <td>No</td>
      <td>Texture sampler.</td>
    </tr>
    <tr>
      <th>
        <p>sysInTexCoord0</p>
        <p>sysInTexCoord1</p>
        <p>sysInTexCoord2</p>
      </th>
      <td>No</td>
      <td>Yes</td>
      <td>No</td>
      <td>Texture Coordinates</td>
    </tr>
    <tr>
      <th>
        <p>sysPtclRandomX</p>
        <p>sysPtclRandomY</p>
        <p>sysPtclRandomZ</p>
        <p>sysPtclRandomW</p>
      </th>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
      <td>Random values (float &times; 4) held by each individual particle.</td>
    </tr>
    <tr>
      <th>sysViewMatrix</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>View matrix.</td>
    </tr>
    <tr>
      <th>sysProjectionMatrix</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Projection matrix.</td>
    </tr>
    <tr>
      <th>sysViewProjectionMatrix</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Already calculated: the view matrix multiplied by the projection matrix.</td>
    </tr>
    <tr>
      <th>sysEyeVector</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>The view vector.</td>
    </tr>
    <tr>
      <th>sysEyePosition</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>The camera position.</td>
    </tr>
    <tr>
      <th>sysScreenNear</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>The near value for the projection matrix.</td>
    </tr>
    <tr>
      <th>sysScreenFar</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>The far value for the projection matrix.</td>
    </tr>
    <tr>
      <th>sysFrameRate</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>The frame rate value.</td>
    </tr>
    <tr>
      <th>sysEmitterTime</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Emitter Time</td>
    </tr>
    <tr>
      <th>
        <p>sysEmitterColor0</p>
        <p>sysEmitterColor1</p>
      </th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>
        <p>Emitter color 0.</p>
        <p>Emitter color 1.</p>
      </td>
    </tr>
    <tr>
      <th>sysEmitterFadeAlpha</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Current fade value (fluctuates between 0.0 and 0.1 while fading).</td>
    </tr>
    <tr>
      <th>sysEmitterMatrix</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>The emitter matrix (SRT matrix).</td>
    </tr>
    <tr>
      <th>sysEmitterRTMatrix</th>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>The emitter matrix (RT matrix).</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_218170681_h2_3">Texture Sampler</h2>
<p>This section lists the texture samplers that are available in custom shaders. To use a texture sampler, you must declare the texture sampler names shown in the following table inside the custom shader and set the texture and custom sampler ID to use in the RenderState callback.</p>
<table class="wrapped" style="margin-left: 1.5em;">
  <tbody>
    <tr>
      <th>Type</th>
      <th>Texture Sampler Name</th>
      <th>Custom Sampler ID</th>
    </tr>
    <tr>
      <th>sampler2D</th>
      <th>sysCustomShaderTextureSampler0 ~ 3</th>
      <td>EFT_CUSTOM_SHADER_TEXTURE_2D_0 ~ 3</td>
    </tr>
    <tr>
      <th>sampler2DArray</th>
      <th>sysCustomShaderTextureArraySampler0 ~ 3</th>
      <td>EFT_CUSTOM_SHADER_TEXTURE_2D_ARRAY_0 ~ 3</td>
    </tr>
    <tr>
      <th>sampler3D</th>
      <th>sysCustomShaderTexture3DSampler0 ~ 3</th>
      <td>EFT_CUSTOM_SHADER_TEXTURE_3D_0 ~ 3</td>
    </tr>
    <tr>
      <th>samplerCube</th>
      <th>
        <p>sysCustomShaderCubeSampler0 ~ 3</p>
      </th>
      <td>EFT_CUSTOM_SHADER_TEXTURE_CUBE_MAP_0 ~ 3</td>
    </tr>
    <tr>
      <th>samplerCubeArray</th>
      <th>sysCustomShaderCubeArraySampler0 ~ 3</th>
      <td>EFT_CUSTOM_SHADER_TEXTURE_CUBE_MAP_ARRAY_0 ~ 3</td>
    </tr>
    <tr>
      <th>sampler2DShadow</th>
      <th>sysCustomShaderShadowSampler0 ~ 3</th>
      <td>EFT_CUSTOM_SHADER_TEXTURE_SHADOW_0 ~ 3</td>
    </tr>
    <tr>
      <th>sampler2DArrayShadow</th>
      <th>sysCustomShaderShadowArraySampler0 ~ 3</th>
      <td>EFT_CUSTOM_SHADER_TEXTURE_SHADOW_ARRAY_0 ~ 3</td>
    </tr>
  </tbody>
</table>
<p>
  <br />
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
