<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>analyze-patch Command | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- analyze-patch Command -->
<div class="pagetitle" id="PageId_894619842">analyze-patch Command</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_894619842_h1_1">About the analyze-patch Command</a>
    </li>
    <li>
      <a href="#Anchor_894619842_h1_2">analyze-patch Command</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_894619842_h2_1">Display Information</a>
      </li>
      <li>
        <a href="#Anchor_894619842_h2_2">Filters</a>
      </li>
      <li>
        <a href="#Anchor_894619842_h2_3">Argument List</a>
      </li>
      <li>
        <a href="#Anchor_894619842_h2_4">Options</a>
      </li>
      <li>
        <a href="#Anchor_894619842_h2_5">Usage Examples</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_894619842_h3_1">Displays the files making up a large proportion of the patch, and the size of the data to be downloaded to update the already obtained patches.</a>
        </li>
        <li>
          <a href="#Anchor_894619842_h3_2">Hiding Filenames</a>
        </li>
        <li>
          <a href="#Anchor_894619842_h3_3">If Advice is Shown About the Need to Defrag</a>
        </li>
      </ul>
    </ul>
  </ul>
</p>
<h1 id="Anchor_894619842_h1_1">About the analyze-patch Command</h1>
<p>This is an AuthoringTool command that produces quantitative information about patches. Use this command to check the content of a created patch in detail.</p>
<h1 id="Anchor_894619842_h1_2">analyze-patch Command</h1>
<p>This section describes the arguments and options used with the <code>analyze-patch</code> command in Authoring Tool.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe analyze-patch --help
analyze-patch: analyze patch nsp file.
Usage: AuthoringTool.exe analyze-patch [-o &lt;outputPath&gt;] [--format &lt;format&gt;] &lt;currentPatchPath&gt; --original &lt;originalNspPath&gt; [--previous &lt;previousPatchNspPath&gt;]
[--disable-patch-size-analysis-filter] [--patch-size-analysis-filter-by-total-size &lt;size&gt;] [--patch-size-analysis-filter-by-individual-size &lt;size&gt;] [--patch-size-analysis-fragments-filter-by-size &lt;size&gt;]
[--disable-delta-size-analysis-filter] [--delta-size-analysis-filter-by-total-size &lt;size&gt;] [--delta-size-analysis-filter-by-individual-size &lt;size&gt;] [--delta-size-analysis-fragments-filter-by-size &lt;size&gt;]
[--disable-original-size-analysis-filter] [--original-size-analysis-filter-by-total-size &lt;size&gt;] [--original-size-analysis-filter-by-individual-size &lt;size&gt;] [--original-size-analysis-fragments-filter-by-size &lt;size&gt;]
[--obfuscate-file-name]

Options:
&nbsp;&nbsp;-o &lt;outputPath&gt;                                           Output file path. If omitted, output to standard output.
&nbsp;&nbsp;--format &lt;format&gt;                                         Output format type (json/yaml/pretty). If omitted, output format type is pretty.
&nbsp;&nbsp;--original &lt;originalNspPath&gt;                              File path to input.
&nbsp;&nbsp;--previous &lt;previousPatchNspPath&gt;                         File path to input.
&nbsp;&nbsp;--disable-patch-size-analysis-filter                      Disable filter on patch size analysis.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If omitted, filter is enabled.
&nbsp;&nbsp;--patch-size-analysis-filter-by-total-size &lt;size&gt;         Filter entries by total size on patch size analysis.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Until total size is exceeded &lt;size&gt;, entries are displayed.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If omitted, the size is set to 90%.
&nbsp;&nbsp;--patch-size-analysis-filter-by-individual-size &lt;size&gt;    Filter entries by individual size on patch size analysis.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If size is &quot;Nbyte&quot;, filter by absolute file size.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If size is &quot;N%&quot;, filter by file size ratio.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If omitted, size filter is set to 5%.
&nbsp;&nbsp;--patch-size-analysis-fragments-filter-by-size &lt;size&gt;     Filter fragments in file by size on patch size analysis.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If size is &quot;Nbyte&quot;, filter by absolute file size.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If size is &quot;N%&quot;, filter by file size ratio.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If size is &quot;none&quot;, all files shows.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If omitted, size filter is set to 5%.
&nbsp;&nbsp;--disable-delta-size-analysis-filter                      Same as --disable-patch-size-analysis-filter.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This option affects delta size analysis.
&nbsp;&nbsp;--delta-size-analysis-filter-by-total-size &lt;size&gt;         Same as --patch-size-analysis-filter-by-total-size option.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This option affects delta size analysis.
&nbsp;&nbsp;--delta-size-analysis-filter-by-individual-size &lt;size&gt;    Same as --patch-size-analysis-filter-by-individual-size.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This option affects delta size analysis.
&nbsp;&nbsp;--delta-size-analysis-fragments-filter-by-size &lt;size&gt;     Same as --patch-size-analysis-fragments-filter-by-size.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This option affects delta size analysis.
&nbsp;&nbsp;--disable-original-size-analysis-filter                   Same as --disable-patch-size-analysis-filter.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This option affects original size analysis.
&nbsp;&nbsp;--original-size-analysis-filter-by-total-size &lt;size&gt;      Same as --patch-size-analysis-filter-by-total-size option.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This option affects original size analysis.
&nbsp;&nbsp;--original-size-analysis-filter-by-individual-size &lt;size&gt; Same as --patch-size-analysis-filter-by-individual-size.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This option affects original size analysis.
&nbsp;&nbsp;--original-size-analysis-fragments-filter-by-size &lt;size&gt;  Same as --patch-size-analysis-fragments-filter-by-size.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This option affects original size analysis.
&nbsp;&nbsp;--obfuscate-file-name                                     Obfuscate file name.</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_894619842_h2_1">Display Information</h2>
<p>The <code>analyze-patch</code> command displays the following information. The section name corresponding to the information displayed is provided in parentheses.</p>
<ul>
  <li>General information about the patch (General information)<ul><li>Displays the version of AuthoringTool that executed <code>analyze-patch</code>, and the version of the patch.</li><li>It now displays whether <a href="../Pages/Page_1058413945.html">application compaction</a> has been performed.<div class="info_new"><div class="info_new_left">Info</div><div class="info_new_right"><p>Displayed in AuthoringToolKit 14.1.0 and later.</p></div></div></li></ul></li>
  <li>Information about patch read performance (Performance analysis)<ul><li>This section provides information around <a href="../Pages/Page_211661819.html">performance when applying patches</a>, not information required for reducing patch size.</li><li>Performance can suffer if there is a large fragment rate, with many fragments of about 1 MiB.</li></ul></li>
</ul>
<ul>
  <li style="list-style-type: none; background-image: none;">
    <ul>
      <li>
        <p>If there is a high fragment rate, a message suggesting how to improve the situation is displayed in <strong>file system performance improvement advices</strong>.</p>
        <div class="info_new">
          <div class="info_new_left">Info</div>
          <div class="info_new_right">
            <p>Displayed in AuthoringToolKit 11.2.0 and later.</p>
          </div>
        </div>
      </li>
    </ul>
  </li>
</ul>
<ul>
  <li>Information about download sizes at patch update (Patch update analysis)<ul><li>Displays the patch size and the size of the data used for updating the obtained patch.</li><li>The displayed size is organized into the following categories.<ul><li>Code and data area size that can be controlled by the developer (code and data area size)</li><li>Any other data size (system used size)</li></ul></li></ul></li>
  <li>Data making up a large proportion of the patch (Patch size analysis)<ul><li>Displays the name, offset, and size of the file including the data.</li></ul></li>
  <li>Information about the data making up a large proportion of the data within the files for updating an already obtained patch (Delta size analysis)<br /><ul><li>Displays the name, offset, and size of the file including the data.</li><li>For more information about data for updating already obtained patches, see <a href="../Pages/Page_323655382.html">FAQ</a>.</li></ul></li>
  <li>Data that is used or not used in the patch within the initial version of the application (Original size analysis).<ul><li>Displays the name, offset, and size of the file including the data.</li></ul></li>
  <li>Result of running <a href="../Pages/Page_1058413945.html">application compaction</a>. (Application compaction analysis.)<ul><li><p>Displays the remaining size and the size slashed from the initial version of the application.</p><div class="info_new"><div class="info_new_left">Info</div><div class="info_new_right"><p style="text-align: left;">Displayed in AuthoringToolKit 10.9.5 and later, AuthoringToolKit 11.4.4 and later, and AuthoringToolKit 12.3.0 and later.</p></div></div></li></ul></li>
</ul>
<p>
  <br />
</p>
<h2 id="Anchor_894619842_h2_2">Filters</h2>
<p>Using <code>analyze-patch</code> to display the following information may display too many entries. For this reason, results are filtered by default to display only large entries.</p>
<ul>
  <li>Patch size analysis</li>
  <li>Delta size analysis</li>
  <li>Original size analysis<br /></li>
</ul>
<p>There are two kinds of filters.</p>
<ul>
  <li>
    <a name="Anchor_894619842_file_filter_rule"></a>File filter<ul><li>Calculates the total size for each file or directory that contains data and determines whether to display it by file or directory.</li></ul></li>
  <li>Fragment filter<ul><li>Determines whether to display fragment information based on the fragment size.</li><li>Fragment information enables you to determine which of the files make up the largest part.</li></ul></li>
</ul>
<p>The following rules are used by default for file filters.</p>
<ul>
  <li>Display files and directories that account for 90% of the total size, such as patch size (file filter rule 1 <a name="Anchor_894619842_file_filter_rule_1"></a>).</li>
  <li>Display files and directories that are 5% or more of the total size (file filter rule 2 <a name="Anchor_894619842_file_filter_rule_2"></a>).</li>
</ul>
<p>The following rules are used by default for fragment filters.</p>
<ul>
  <li>Display fragments that are 5% or more of the total size (fragment filter rule <a name="Anchor_894619842_fragment_filter_rule_1"></a>).</li>
</ul>
<p>You can use the options to enable or disable each filter or change its size.</p>
<h2 id="Anchor_894619842_h2_3">Argument List</h2>
<table class="relative-table wrapped" style="width: 59.9193%;">
  <colgroup> <col style="width: 37.8613%;" /> <col style="width: 62.1387%;" /> </colgroup>
  <tbody>
    <tr>
      <th>&lt;currentPatchPath&gt;</th>
      <td>
        <div class="content-wrapper">
          <p>Specifies the patch that you want to display file information for.</p>
          <div class="info_new">
            <div class="info_new_left">Info</div>
            <div class="info_new_right">
              <p>The following input is supported in AuthoringToolKit 10.9.6 and later, AuthoringToolKit 11.4.6 and later, and AuthoringToolKit 12.3.0 and later.</p>
              <ul class="alternate">
                <li>NSP files that merge a compacted application and a patch</li>
                <li>NSP files for patches created with the <code>--do-application-compaction</code> option</li>
              </ul>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_894619842_h2_4">Options</h2>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>In the <code>AuthoringTool.exe analyze-patch --format json</code> and <code>AuthoringTool.exe analyze-patch --format yaml</code> command formats,<br />detailed information on patch sizes can be displayed in JSON or YAML format.</p>
    <p>Note that the JSON and YAML format schemas are subject to change without notice.</p>
  </div>
</div>
<table class="relative-table wrapped" style="width: 97.4625%;">
  <colgroup> <col style="width: 29.2481%;" /> <col style="width: 70.7519%;" /> </colgroup>
  <tbody>
    <tr>
      <th>-o</th>
      <td>The output path. If not specified, defaults as standard output.</td>
    </tr>
    <tr>
      <th>--format</th>
      <td>
        <p>Specifies the patch size breakdown format.</p>
        <p>If not specified, displays as the highly readable <code>pretty</code> format.</p>
      </td>
    </tr>
    <tr>
      <th>--original</th>
      <td>
        <p>The initial application. This option is required.</p>
      </td>
    </tr>
    <tr>
      <th>--previous</th>
      <td>
        <p>Specifies the patch immediately prior to the patch for which the file information is displayed.</p>
      </td>
    </tr>
    <tr>
      <th>--disable-patch-size-analysis-filter</th>
      <td>
        <p>Disables the <a href="#Anchor_894619842_file_filter_rule">file filter</a> for displaying information about data making up a large proportion of the patch.</p>
        <p>If this option is not specified, the filter is enabled.</p>
      </td>
    </tr>
    <tr>
      <th>--patch-size-analysis-filter-by-total-size</th>
      <td>
        <p>This option is used for the data that makes up a large proportion of the patch. </p>
        <p>Filters the data to display by the total size of files and directories.</p>
        <p>Data is displayed until the total size of the data to display exceeds the total specified size.</p>
        <p>
          <a href="#Anchor_894619842_file_filter_rule_1">A file filter rule 1</a> parameter.</p>
        <p>
          <br />
        </p>
        <p>Specify this size as a percentage of the total size of the patch code or data.</p>
        <p>If this option is not specified, <code>'90%'</code> is used.</p>
      </td>
    </tr>
    <tr>
      <th>--patch-size-analysis-filter-by-individual-size</th>
      <td>
        <p>This option is used for the data that makes up a large proportion of the patch. </p>
        <p>Filters the data to display by the size of each file and directory.</p>
        <p>Files and directories larger than the size specified in this option are displayed.</p>
        <p>
          <a href="#Anchor_894619842_file_filter_rule_2">A file filter rule 2</a> parameter.</p>
        <p>
          <br />
        </p>
        <p>Specify this size as a percentage of the total size of the patch code or data, or in bytes.</p>
        <p>If this option is not specified, <code>'5%'</code> is used.</p>
      </td>
    </tr>
    <tr>
      <th>--patch-size-analysis-fragments-filter-by-size</th>
      <td>
        <p>This option is used for the data that makes up a large proportion of the patch. Filters the fragments to display.</p>
        <p>Fragments larger than the size specified in this option are displayed.</p>
        <p>
          <a href="#Anchor_894619842_fragment_filter_rule_1">A fragment filter rule</a> parameter.</p>
        <p>
          <br />
        </p>
        <p>Specifies the fragment to display based on the percentage of the total patch code or data, or in bytes.</p>
        <p>Specify <code>none</code> to disable the filter. If this option is not specified, <code>'5%'</code> is used.</p>
      </td>
    </tr>
    <tr>
      <th>--disable-delta-size-analysis-filter</th>
      <td>
        <p>Disables the <a href="#Anchor_894619842_file_filter_rule">file filter</a> for displaying information about the data making up a large portion of the data for updating a patch that has already been obtained.</p>
        <p>
          <br />If this option is not specified, the filter is enabled.</p>
      </td>
    </tr>
    <tr>
      <th>--delta-size-analysis-filter-by-total-size</th>
      <td>
        <p>This option is used for the data that makes up a large proportion of the data for updating a patch that has already been obtained. </p>
        <p>Filters the data to display by the total size of files and directories.</p>
        <p>Data is displayed until the total size of the data to display exceeds the total specified size.</p>
        <p>
          <a href="#Anchor_894619842_file_filter_rule_1">A file filter rule 1</a> parameter.</p>
        <p>
          <br />
        </p>
        <p>Specify the size as a percentage of the total size of the code or data included in the data for updating the obtained patch.</p>
        <p />
        <p>If this option is not specified, <code>'90%'</code> is used.</p>
      </td>
    </tr>
    <tr>
      <th>--delta-size-analysis-filter-by-individual-size</th>
      <td>
        <p>This option is used for the data that makes up a large proportion of the data for updating a patch that has already been obtained. </p>
        <p>Filters the data to display by the size of each file and directory.</p>
        <p>Files and directories larger than the size specified in this option are displayed.</p>
        <p>
          <a href="#Anchor_894619842_file_filter_rule_2">A file filter rule 2</a> parameter.</p>
        <p>
          <br />
        </p>
        <p>Specify the size as a percentage or amount in bytes of the total size of the code or data included in the data for updating the obtained patch.</p>
        <p />
        <p>If this option is not specified, <code>'5%'</code> is used.</p>
      </td>
    </tr>
    <tr>
      <th>--delta-size-analysis-fragments-filter-by-size</th>
      <td>
        <p>This option is used for the data that makes up a large proportion of the patch. Filters the fragments to display.</p>
        <p>Fragments larger than the size specified in this option are displayed.</p>
        <p>
          <a href="#Anchor_894619842_fragment_filter_rule_1">A fragment filter rule</a> parameter.</p>
        <p>
          <br />
        </p>
        <p>Specifies the fragment to display based on the percentage of the total patch code or data, or in bytes.</p>
        <p>Specify <code>none</code> to disable the filter. If this option is not specified, <code>'5%'</code> is used.</p>
      </td>
    </tr>
    <tr>
      <th>--disable-original-size-analysis-filter</th>
      <td>
        <p>Disables the <a href="#Anchor_894619842_file_filter_rule">file filter</a> for information on the portion of the data not used in the patch from within the data for the initial version of the application.</p>
        <p />
        <p>If this option is not specified, the filter is enabled.</p>
      </td>
    </tr>
    <tr>
      <th>--original-size-analysis-filter-by-total-size</th>
      <td>
        <p>This option is used for the portion of the data that is not used by the patch from within the data for the initial version of the application. </p>
        <p>Filters the data to display by the total size of files and directories.</p>
        <p>Data is displayed until the total size of the data to display exceeds the total specified size.</p>
        <p>
          <a href="#Anchor_894619842_file_filter_rule_1">A file filter rule 1</a> parameter.</p>
        <p>
          <br />
        </p>
        <p>Specify this size as a percentage of the total size of the patch code or data.</p>
        <p>If this option is not specified, <code>'90%'</code> is used.</p>
      </td>
    </tr>
    <tr>
      <th>--original-size-analysis-filter-by-individual-size</th>
      <td>
        <p>This option is used for the portion of the data that is not used by the patch from within the data for the initial version of the application. </p>
        <p>Filters the data to display by the size of each file and directory.</p>
        <p>Files and directories larger than the size specified in this option are displayed.</p>
        <p>
          <a href="#Anchor_894619842_file_filter_rule_2">A file filter rule 2</a> parameter.</p>
        <p>
          <br />
        </p>
        <p>Specify this size as a percentage of the total size of the patch code or data, or in bytes.</p>
        <p>If this option is not specified, <code>'5%'</code> is used.</p>
      </td>
    </tr>
    <tr>
      <th>--original-size-analysis-fragments-filter-by-size</th>
      <td>
        <p>Displays fragments in the initial version of the application that are larger than the specified size and not used in the patch.</p>
        <p />
        <p>
          <a href="#Anchor_894619842_fragment_filter_rule_1">A fragment filter rule</a> parameter.</p>
        <p>
          <br />
        </p>
        <p>Specifies the fragment to display based on the percentage of the total patch code or data, or in bytes.</p>
        <p>Specify <code>none</code> to disable the filter. If this option is not specified, <code>'5%'</code> is used.</p>
      </td>
    </tr>
    <tr>
      <th>--obfuscate-file-name</th>
      <td>Hides the filename.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_894619842_h2_5">Usage Examples</h2>
<h3 id="Anchor_894619842_h3_1">Displays the files making up a large proportion of the patch, and the size of the data to be downloaded to update the already obtained patches.</h3>
<p>Information about the patch to be analyzed (<code>patch-v3.nsp</code>), the previous patch (<code>patch-v2.nsp</code>) and the initial application (<code>application-v0.nsp</code>) is displayed as follows.</p>
<p>Information about the files making up a large proportion of the patch is displayed after <code>Patch size analysis (with filter: total size=90%, individual size=5%, fragment size=5%)</code>.</p>
<p>The size of the data downloaded to update an already obtained patch is displayed as <code>Patch update analysis</code> &gt; <code>- update v2 patch to v3 by delta</code>.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe analyze-patch patch-v3.nsp --previous patch-v2.nsp --original application-v0.nsp
General information
&nbsp;- tool version: 14_1_0:X_X_XXXX_XXX
&nbsp;- nx addon version: 14_1_0
&nbsp;- application id: 0x0005000c10000000
&nbsp;- current:
&nbsp;&nbsp;&nbsp;- release version: 3
&nbsp;&nbsp;&nbsp;- tool version: 9_6_0:4_0_7369_354
&nbsp;&nbsp;&nbsp;- nx addon version: 9_6_0
&nbsp;&nbsp;&nbsp;- compacted application: not created
&nbsp;- previous:
&nbsp;&nbsp;&nbsp;- release version: 2 (Patch)
&nbsp;&nbsp;&nbsp;- tool version: 9_6_0:4_0_7369_354
&nbsp;&nbsp;&nbsp;- nx addon version: 9_6_0
&nbsp;&nbsp;&nbsp;- compacted application: not created
&nbsp;- original:
&nbsp;&nbsp;&nbsp;- tool version: 9_6_0:4_0_7369_354
&nbsp;&nbsp;&nbsp;- nx addon version: 9_6_0

Performance analysis
&nbsp;- fragmentation (with defragment size=512KiB)
&nbsp;&nbsp;&nbsp;- Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- file system performance improvement advices: none
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- fragment count: 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- defragmentable fragment count: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- effective fragment count: 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- fragment rate (/MiB): &lt; 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- size total: 28MiB

Patch update analysis
&nbsp;- 100.00%, 35MiB, update application to v3 directly
&nbsp;&nbsp;&nbsp;- 99.10%, 35MiB, code and data area
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 99.10%, 35MiB, Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 13.95%, 5.0MiB, added or updated at old patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 85.15%, 30MiB, added or updated at current patch
&nbsp;&nbsp;&nbsp;- 0.90%, 0.3MiB, system used area
&nbsp;- 100.00%, 31MiB, update v2 patch to v3 by delta
&nbsp;&nbsp;&nbsp;- 98.43%, 30MiB, code and data area
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 98.43%, 30MiB, Program:0
&nbsp;&nbsp;&nbsp;- 1.57%, 0.5MiB, system used area

Patch size analysis (with filter: total size=90%, individual size=5%, fragment size=5%)
&nbsp;- 100.00%, 35MiB
&nbsp;&nbsp;&nbsp;- 100.00%, 35MiB, Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 21.16%, 7.5MiB, Program:0, code, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 18.75%, 6.7MiB, Program:0, code, /sdk
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 2.41%, 0.9MiB, Program:0, code, / (filtered)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 78.84%, 28MiB, Program:0, data, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 14.08%, 5.0MiB, Program:0, data, /Folder1/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 14.08%, 5.0MiB, Program:0, data, /Folder1/file.dat
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 14.08%, 5.0MiB, offset: 0Byte, state: added or updated at old patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 56.31%, 20MiB, Program:0, data, /Folder2/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 56.31%, 20MiB, Program:0, data, /Folder2/file.dat
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 56.31%, 20MiB, offset: 0Byte, state: added or updated at current patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 8.45%, 3.0MiB, Program:0, data, /Folder3/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 8.45%, 3.0MiB, Program:0, data, /Folder3/ (filtered)

Delta size analysis (v2 -&gt; v3) (with filter: total size=90%, individual size=5%, fragment size=5%)
&nbsp;- 100.00%, 30MiB
&nbsp;&nbsp;&nbsp;- 100.00%, 30MiB, Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 24.63%, 7.5MiB, Program:0, code, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 21.82%, 6.7MiB, Program:0, code, /sdk
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 2.81%, 0.9MiB, Program:0, code, / (filtered)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 75.37%, 23MiB, Program:0, data, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 65.54%, 20MiB, Program:0, data, /Folder2/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 65.54%, 20MiB, Program:0, data, /Folder2/file.dat
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 65.54%, 20MiB, offset: 0Byte
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 9.83%, 3.0MiB, Program:0, data, /Folder3/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 9.83%, 3.0MiB, Program:0, data, /Folder3/ (filtered)

Original size analysis (with filter: total size=90%, individual size=5%, fragment size=5%)
&nbsp;- 100.00%, 20MiB
&nbsp;&nbsp;&nbsp;- 0.00%, 0MiB, used
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 0.00%, 0MiB, data, used
&nbsp;&nbsp;&nbsp;- 100.00%, 20MiB, unused
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 35.91%, 7.5MiB, code, unused
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 0.00%, 0MiB, data, deleted at old patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 64.09%, 13MiB, data, deleted at current patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 64.09%, 13MiB, Program:0, data, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 64.09%, 13MiB, Program:0, data, /Folder0/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 48.19%, 10MiB, Program:0, data, /Folder0/file0.dat
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 48.19%, 10MiB, offset: 0Byte
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 15.90%, 3.3MiB, Program:0, data, /Folder0/ (filtered)

Application compaction analysis
&nbsp;- 100.00%, 20MiB
&nbsp;&nbsp;&nbsp;- 0.00%, 0.0MiB, will be remained
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 0.00%, 0.0MiB, Program:0
&nbsp;&nbsp;&nbsp;- 100.00%, 20MiB, will be deleted
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 100.00%, 20MiB, Program:0</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_894619842_h3_2">Hiding Filenames</h3>
<p>Filenames can be hidden to prevent leaks of information stemming from the filenames of the resources included in the application, such as when discussing application patch size with third parties.<br />Use the <code>--obfuscate-file-name</code> option to hide the filename. The output order for the file information is the same even if the filename is hidden.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe analyze-patch patch-v3.nsp --previous patch-v2.nsp --original application-v0.nsp --obfuscate-file-name
General information
&nbsp;- tool version: 14_1_0:X_X_XXXX_XXX
&nbsp;- nx addon version: 14_1_0
&nbsp;- application id: 0x0005000c10000000
&nbsp;- current:
&nbsp;&nbsp;&nbsp;- release version: 3
&nbsp;&nbsp;&nbsp;- tool version: 9_6_0:4_0_7369_354
&nbsp;&nbsp;&nbsp;- nx addon version: 9_6_0
&nbsp;&nbsp;&nbsp;- compacted application: not created
&nbsp;- previous:
&nbsp;&nbsp;&nbsp;- release version: 2 (Patch)
&nbsp;&nbsp;&nbsp;- tool version: 9_6_0:4_0_7369_354
&nbsp;&nbsp;&nbsp;- nx addon version: 9_6_0
&nbsp;&nbsp;&nbsp;- compacted application: not created
&nbsp;- original:
&nbsp;&nbsp;&nbsp;- tool version: 9_6_0:4_0_7369_354
&nbsp;&nbsp;&nbsp;- nx addon version: 9_6_0

Performance analysis
&nbsp;- fragmentation (with defragment size=512KiB)
&nbsp;&nbsp;&nbsp;- Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- file system performance improvement advices: none
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- fragment count: 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- defragmentable fragment count: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- effective fragment count: 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- fragment rate (/MiB): &lt; 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- size total: 28MiB

Patch update analysis
&nbsp;- 100.00%, 35MiB, update application to v3 directly
&nbsp;&nbsp;&nbsp;- 99.08%, 35MiB, code and data area
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 99.08%, 35MiB, Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 13.95%, 5.0MiB, added or updated at old patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 85.13%, 30MiB, added or updated at current patch
&nbsp;&nbsp;&nbsp;- 0.92%, 0.3MiB, system used area
&nbsp;- 100.00%, 31MiB, update v2 patch to v3 by delta
&nbsp;&nbsp;&nbsp;- 98.41%, 30MiB, code and data area
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 98.41%, 30MiB, Program:0
&nbsp;&nbsp;&nbsp;- 1.59%, 0.4MiB, system used area

Patch size analysis (with filter: total size=90%, individual size=5%, fragment size=5%)
&nbsp;- 100.00%, 35MiB
&nbsp;&nbsp;&nbsp;- 100.00%, 35MiB, Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 21.16%, 7.5MiB, Program:0, code, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 18.75%, 6.7MiB, Program:0, code, /10
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 2.41%, 0.9MiB, Program:0, code, / (filtered)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 78.84%, 28MiB, Program:0, data, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 14.08%, 5.0MiB, Program:0, data, /11/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 14.08%, 5.0MiB, Program:0, data, /11/12
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 14.08%, 5.0MiB, offset: 0Byte, state: added or updated at old patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 56.31%, 20MiB, Program:0, data, /13/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 56.31%, 20MiB, Program:0, data, /13/12
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 56.31%, 20MiB, offset: 0Byte, state: added or updated at current patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 8.45%, 3.0MiB, Program:0, data, /14/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 8.45%, 3.0MiB, Program:0, data, /14/ (filtered)

Delta size analysis (v2 -&gt; v3) (with filter: total size=90%, individual size=5%, fragment size=5%)
&nbsp;- 100.00%, 30MiB
&nbsp;&nbsp;&nbsp;- 100.00%, 30MiB, Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 24.63%, 7.5MiB, Program:0, code, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 21.82%, 6.7MiB, Program:0, code, /10
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 2.81%, 0.9MiB, Program:0, code, / (filtered)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 75.37%, 23MiB, Program:0, data, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 65.54%, 20MiB, Program:0, data, /13/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 65.54%, 20MiB, Program:0, data, /13/12
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 65.54%, 20MiB, offset: 0Byte
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 9.83%, 3.0MiB, Program:0, data, /14/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 9.83%, 3.0MiB, Program:0, data, /14/ (filtered)

Original size analysis (with filter: total size=90%, individual size=5%, fragment size=5%)
&nbsp;- 100.00%, 20MiB
&nbsp;&nbsp;&nbsp;- 0.00%, 0MiB, used
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 0.00%, 0MiB, data, used
&nbsp;&nbsp;&nbsp;- 100.00%, 20MiB, unused
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 35.91%, 7.5MiB, code, unused
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 0.00%, 0MiB, data, deleted at old patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 64.09%, 13MiB, data, deleted at current patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 64.09%, 13MiB, Program:0, data, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 64.09%, 13MiB, Program:0, data, /0/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 48.19%, 10MiB, Program:0, data, /0/1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 48.19%, 10MiB, offset: 0Byte
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 15.90%, 3.3MiB, Program:0, data, /0/ (filtered)

Application compaction analysis
&nbsp;- 100.00%, 20MiB
&nbsp;&nbsp;&nbsp;- 0.00%, 0.0MiB, will be remained
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 0.00%, 0.0MiB, Program:0
&nbsp;&nbsp;&nbsp;- 100.00%, 20MiB, will be deleted
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 100.00%, 20MiB, Program:0</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_894619842_h3_3">If Advice is Shown About the Need to Defrag</h3>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Displayed in AuthoringToolKit 11.2.0 and later.</p>
  </div>
</div>
<p>
  <br />If defragging is necessary, a message is displayed in <strong>file system performance improvement advices</strong>.</p>
<p>Defragmentation is not necessary if you actually run the patch and confirm that it loads sufficiently quickly.</p>
<p>(For more information about defragmentation, see <a href="../Pages/Page_211661819.html">Performance When Applying Patches</a>.)</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ AuthoringTool.exe analyze-patch patch-v3.nsp --original application-v0.nsp
General information
&nbsp;- tool version: 14_1_0:X_X_XXXX_XXX
&nbsp;- nx addon version: 14_1_0
&nbsp;- application id: 0x0005000c10000000
&nbsp;- current:
&nbsp;&nbsp;&nbsp;- release version: 3
&nbsp;&nbsp;&nbsp;- tool version: 9_6_0:4_0_7369_354
&nbsp;&nbsp;&nbsp;- nx addon version: 9_6_0
&nbsp;&nbsp;&nbsp;- compacted application: not created
&nbsp;- original:
&nbsp;&nbsp;&nbsp;- tool version: 9_6_0:4_0_7369_354
&nbsp;&nbsp;&nbsp;- nx addon version: 9_6_0

Performance analysis
&nbsp;- fragmentation (with defragment size=512KiB)
&nbsp;&nbsp;&nbsp;- Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- file system performance improvement advices:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Fragment rate exceeds the threshold of 4/MiB for sufficient performance. We recommend running makepatch with the --defragment option.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- fragment count: 513
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- defragmentable fragment count: 513
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- effective fragment count: 513
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- fragment rate (/MiB): 4
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- size total: 128MiB

Patch update analysis
&nbsp;- 100.00%, 136MiB, update application to v3 directly
&nbsp;&nbsp;&nbsp;- 99.61%, 135MiB, code and data area
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 99.61%, 135MiB, Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 94.09%, 128MiB, added or updated at old patch
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 5.52%, 7.5MiB, added or updated at current patch
&nbsp;&nbsp;&nbsp;- 0.39%, 0.5MiB, system used area
&nbsp;- update v2 patch to v3 by delta: (needs --previous option)

Patch size analysis (with filter: total size=90%, individual size=5%, fragment size=5%)
&nbsp;- 100.00%, 135MiB
&nbsp;&nbsp;&nbsp;- 100.00%, 135MiB, Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 5.55%, 7.5MiB, Program:0, code, / (filtered)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 94.45%, 128MiB, Program:0, data, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 94.45%, 128MiB, Program:0, data, /perftestdir/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 94.45%, 128MiB, Program:0, data, /perftestdir/1

Delta size analysis (v2 -&gt; v3) (with filter: total size=90%, individual size=5%, fragment size=5%)
&nbsp;- 100.00%, 7.5MiB
&nbsp;&nbsp;&nbsp;- 100.00%, 7.5MiB, Program:0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 100.00%, 7.5MiB, Program:0, code, /
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 11.28%, 0.8MiB, Program:0, code, /main
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 88.61%, 6.7MiB, Program:0, code, /sdk
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 0.11%, 0.0MiB, Program:0, code, / (filtered)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 0.00%, 0MiB, Program:0, data, /

Original size analysis
&nbsp;- needs --previous option

Application compaction analysis
&nbsp;- 100.00%, 20MiB
&nbsp;&nbsp;&nbsp;- 0.00%, 0.0MiB, will be remained
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 0.00%, 0.0MiB, Program:0
&nbsp;&nbsp;&nbsp;- 100.00%, 20MiB, will be deleted
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 100.00%, 20MiB, Program:0</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <br />
</p>
<div> <br /></div>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
