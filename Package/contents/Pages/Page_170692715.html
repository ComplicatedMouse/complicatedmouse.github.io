<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Using Dynamic Libraries | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Using Dynamic Libraries -->
<div class="pagetitle" id="PageId_170692715">Using Dynamic Libraries</div>
<div class="text_separate">
<h1 id="Anchor_170692715_h1_1">Creating a Project That Uses Dynamic Libraries</h1>
<h2 id="Anchor_170692715_h2_1">Dynamic Library</h2>
<p>Create a project as described in <a href="../Pages/Page_107779263.html#Anchor_107779263_h2_3">Tutorial &gt; NX &gt; Creating New Projects &gt; Creating a New Dynamic Library</a>.</p>
<p>After the project is built, NRO, NRR, and NRS files are saved to the output directory.</p>
<h3 id="Anchor_170692715_h3_1">Settings Specific to Dynamic Libraries</h3>
<h4 id="Anchor_170692715_h4_1">Linking the Library</h4>
<p>When a generated dynamic library links to another static library, you can specify whether all object files in the static library are included in the output or whether to dead-strip object files that are not referenced in the module.</p>
<p>Specify the static library from which you want to include all object files in the output in <strong>Configuration Properties</strong> &gt; <strong>Linker</strong> &gt; <strong>Input</strong> &gt; <strong>Additional Dependencies</strong>. This option is specified with <code>--whole-archive</code>.</p>
<p>Specify the static library from which to dead-strip object files not referenced by NRO itself in <strong>Configuration Properties</strong> &gt; <strong>Linker</strong> &gt; <strong>Input</strong> &gt; <strong>Additional Dependencies</strong> (with object culling). This option is specified with <code>--no-whole-archive</code>.</p>
<p>
  <br />
</p>
<h2 id="Anchor_170692715_h2_2">Applications That Link Dynamic Libraries</h2>
<ol>
  <li>In the <strong>Configuration Properties</strong> for the application, select <strong>Linker</strong> &gt; <strong>General</strong> &gt; <strong>Additional Library Directories</strong> and specify the directory with the NRS file you want to use.<br /><ul><li>This NRS file is necessary for application linking.</li></ul></li>
  <li>In the configuration properties for the application, go to <strong>Linker</strong> &gt; <strong>Input</strong> &gt; <strong>Additional NRO Files</strong>, and specify the paths of the NRO files you want to use.</li>
  <li>Next, in the <strong>Configuration Properties</strong> for the application, select <strong>Linker</strong> &gt; <strong>Input</strong> &gt; <strong>NRO Placement Path</strong>, and specify the path of the directory in which to place the NRO files.<ul><li>All of the NRO files specified in step 2 are copied to this directory.</li><li>The application extracts these files into system memory and then loads them using <code><span class="ApiLink_nn__ro__LoadModule">nn::ro::LoadModule</span></code>.</li></ul></li>
  <li>In the <strong>Configuration Properties</strong> for the application, select <strong>Linker</strong> &gt; <strong>Input</strong> &gt; <strong>NRR File Name</strong>, and specify the path of the NRR file.<ul><li><p>NRR files can only be placed in the <code>.nrr</code> directory directly beneath <code>RomFs</code>, so this path will be of the form <code>$(Application Data Directory)\.nrr\Filename.nrr</code>.</p><div class="info_new"><div class="info_new_left">Info</div><div class="info_new_right"><p>This restriction can be disabled if <span class="toc-item-body"> <span class="toc-item-body">Ease Nro Restriction</span> </span>, in the <span class="toc-link"> <a href="../Pages/Page_310879077.html">Development Assistance Settings</a> </span> of DevMenu, is enabled.</p></div></div></li><li>NRR files will then be automatically generated in this directory. The application extracts these files into system memory and then loads them using <code><span class="ApiLink_nn__ro__RegisterModuleInfo">nn::ro::RegisterModuleInfo</span></code>.</li></ul></li>
  <li>Next, following the instructions in <a href="../Pages/Page_161310949.html">Dynamic Modules</a>, create and build your implementation.</li>
</ol>
<div class="warn_new">
  <div class="warn_new_left">Warning</div>
  <div class="warn_new_right">
    <p>Applications that use dynamic libraries cannot be executed in the RAW format.<br />They must be executed as NCA or NSP files.</p>
    <p>However, execution in the RAW format is possible if <span class="toc-item-body"> <span class="toc-item-body">Ease Nro Restriction</span> </span>, in the <span class="toc-link"> <a href="../Pages/Page_310879077.html">Development Assistance Settings</a> </span> of DevMenu, is enabled.</p>
  </div>
</div>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>Effective from NX Add-On 1.0.0, there is no longer any support for running an application using the NCA file. Only supported in version 0.12.</p>
  </div>
</div>
<h1 id="Anchor_170692715_h1_2">Sample</h1>
<p>A dynamic library project and an application project solution that uses that dynamic library project are available in <code>NintendoSDK\Samples\Sources\Applications\RoSimple</code>.</p>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__ro__LoadModule', '../../../Api/HtmlNX/namespacenn_1_1ro.html#aec4ecffa6d58c6f29427483d4754e5de' )
SetUrl( 'ApiLink_nn__ro__RegisterModuleInfo', '../../../Api/HtmlNX/namespacenn_1_1ro.html#a2e643dca01008cc8ed285d9f59653482' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
