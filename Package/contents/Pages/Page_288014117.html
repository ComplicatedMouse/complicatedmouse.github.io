<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Manual | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Manual -->
<div class="pagetitle" id="PageId_288014117">Manual</div>
<div class="text_separate">
<div class="layout-root">
  <div class="layout-base">
    <div class="layout-section two_right_sidebar">
      <div class="layout-cell">
        <h1 id="Anchor_288014117_h1_1">Basic Information</h1>
        <h2 id="Anchor_288014117_h2_1">The SSL library namespace</h2>
        <p>The types, constants, classes, functions, and other resources provided by the SSL library are defined in the&nbsp;<span class="ApiLink_nn__ssl">nn::ssl</span>&nbsp;namespace.</p>
        <h2 id="Anchor_288014117_h2_2">The SSL library header files</h2>
        <p>Include&nbsp;<span class="ApiLink_ssl.h">nn/ssl.h</span>.</p>
        <h2 id="Anchor_288014117_h2_3">Linking with the SSL library</h2>
        <p>Please refer to the following page.</p>
        <ul>
          <li>
            <a href="../Pages/Page_95685382.html">Specifying Library Files</a>
          </li>
        </ul>
        <h2 id="Anchor_288014117_h2_4">The SSL library limitations</h2>
        <div class="warn_new">
          <div class="warn_new_left">Warning</div>
          <div class="warn_new_right">
            <h3 id="Anchor_288014117_h3_1">Library Initialization/Finalization</h3>
            <p>The SSL library initialization and finalization need to be performed only from the main thread.</p>
            <p>Please call <span class="ApiLink_nn__ssl__Initialize">nn::ssl::Initialize</span>() and <span class="ApiLink_nn__ssl__Finalize">nn::ssl::Finalize</span>() only from the main thread. Calling them in different threads could cause the library to hang.</p>
            <ul>
              <li>
                <span class="ApiLink_nn__Result_nn__ssl__Initialize()_NN_NOEXCEPT">nn::ssl::Initialize()</span>
              </li>
              <li>
                <span class="ApiLink_nn__Result_nn__ssl__Finalize()_NN_NOEXCEPT">nn::ssl::Finalize()</span>
              </li>
            </ul>
            <p>
              <br />
            </p>
          </div>
        </div>
      </div>
      <div class="layout-cell">
        <table class="wrapped">
          <colgroup> <col /> </colgroup>
          <tbody>
            <tr>
              <th style="text-align: center;">Table of Contents</th>
            </tr>
            <tr>
              <td>
                <div class="content-wrapper">
                  <p>
                    <ul class="macro_toc">
                      <li>
                        <a href="#Anchor_288014117_h1_1">Basic Information</a>
                      </li>
                      <ul>
                        <li>
                          <a href="#Anchor_288014117_h2_1">The SSL library namespace</a>
                        </li>
                        <li>
                          <a href="#Anchor_288014117_h2_2">The SSL library header files</a>
                        </li>
                        <li>
                          <a href="#Anchor_288014117_h2_3">Linking with the SSL library</a>
                        </li>
                        <li>
                          <a href="#Anchor_288014117_h2_4">The SSL library limitations</a>
                        </li>
                        <ul>
                          <li>
                            <a href="#Anchor_288014117_h3_1">Library Initialization/Finalization</a>
                          </li>
                        </ul>
                      </ul>
                      <li>
                        <a href="#Anchor_288014117_h1_2">Working with classes in the SSL library</a>
                      </li>
                      <ul>
                        <li>
                          <a href="#Anchor_288014117_h2_5">nn::ssl::Context</a>
                        </li>
                        <ul>
                          <li>
                            <a href="#Anchor_288014117_h3_2">Limitations</a>
                          </li>
                        </ul>
                        <li>
                          <a href="#Anchor_288014117_h2_6">nn::ssl::Connection</a>
                        </li>
                        <ul>
                          <li>
                            <a href="#Anchor_288014117_h3_3">Working with the Socket library</a>
                          </li>
                          <ul>
                            <li>
                              <a href="#Anchor_288014117_h4_1">Importing a socket descriptor</a>
                            </li>
                            <li>
                              <a href="#Anchor_288014117_h4_2">Socket closure</a>
                            </li>
                          </ul>
                          <li>
                            <a href="#Anchor_288014117_h3_4">SSL handshake</a>
                          </li>
                          <li>
                            <a href="#Anchor_288014117_h3_5">Limitations</a>
                          </li>
                        </ul>
                      </ul>
                    </ul>
                  </p>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="layout-base">
    <div class="layout-section single">
      <div class="layout-cell">
        <h1 id="Anchor_288014117_h1_2">Working with classes in the SSL library</h1>
        <p>The SSL library offers classes and interfaces to read/write over SSL/TLS connection backed by TCP/IP connection to securely communicate with servers. There are two notable class representations below.</p>
        <ul>
          <li>
            <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span>
          </li>
          <li>
            <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span>
          </li>
        </ul>
        <p>To establish a SSL connection, a user of the SSL library is required to create a <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object first. Configuration of the <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object may be done prior to creating a <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> object.</p>
        <p>Once the <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object is created, a <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> may be created. It is not possible to create a <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> objectwithout a <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object because the Create() method of the <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> requires a pointer to the <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object to be passed.</p>
        <p>Note that there is a distinction between creation and instantiation of a <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span>/<span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> object. When the documentation says &quot;create&quot;, it means calling the Create() method of the <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span>/<span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> object. Thus it is possible to instantiate a <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> object without a <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object.</p>
        <p>The below diagram shows hierarchy of classes and entities in the SSL library. Please refer to it in conjunction with description of <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> and <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> below.&nbsp;</p>
        <p style="text-align: center;">
          <img src="../Attachments/Attach_288014117/298175786.png" width="400"></img>
        </p>
        <p style="text-align: center;">Fig1. SSL Library objects&nbsp;hierarchy</p>
        <h2 id="Anchor_288014117_h2_5">nn::ssl::Context</h2>
        <p>This class represents the context of SSL. The context is used to maintain configuration parameters which are used when creating SSL connections under the context. For example, the version of the SSL protocol used to establish a SSL connection by <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span>&nbsp; is determined by the configuration in the SSL context.</p>
        <p>Certificates, keys and CRLs to be used for SSL communication are also managed by this class. The user of the SSL library may import&nbsp;zero or more trusted certificate authority certificates to verify the peer certificate. A&nbsp;client cert and its private key may be imported if the server performs client certificate verification.</p>
        <p>There is also built-in data (e.g. root CA certificates) that is used implicitly by all <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> objects; thus the user is not required to import any root CA certificates that are included in the built-in data.</p>
        <p>Please refer to the following page&nbsp;for further details about built-in entities. </p>
        <ul>
          <li> <a href="../Pages/Page_170073986.html">Built-in Data</a> </li>
        </ul>
        <p>To understand more about handling certificates and keys, please refer to the following page.</p>
        <ul>
          <li>
            <a href="../Pages/Page_288014097.html">Certificate Store</a>
          </li>
        </ul>
        <p>Please refer the&nbsp;<span class="ApiLink_nn__ssl__Context">API reference of nn::ssl::Context</span>&nbsp;for further details.</p>
        <h3 id="Anchor_288014117_h3_2">Limitations</h3>
        <ul>
          <li>An application can create maximum up to 8 SSL contexts concurrently</li>
          <li>Entities (e.g. certificates and keys) imported on a <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object are not persistent<ul><li>Such entities are not available once the object is destroyed (or instance of the object is freed)</li></ul></li>
          <li>Only one client PKI can be imported per a <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object</li>
        </ul>
        <h2 id="Anchor_288014117_h2_6">nn::ssl::Connection</h2>
        <p>This represents the connection of SSL. One instance of the class is in charge of managing one SSL connection based on TCP/IP socket. Each connection is tied to the specific <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object&nbsp; and necessary configuration parameters to configure SSL connection are obtained from it.</p>
        <p>I/O operations to perform data read/write and SSL handshake are provided by methods in this class. It supports both blocking as well as non-blocking API which can be configured by <span class="ApiLink_nn__Result_nn__ssl__Connection__SetIoMode(IoMode_mode)_NN_NOEXCEPT">nn::ssl::Connection::SetIoMode()</span>.</p>
        <h3 id="Anchor_288014117_h3_3">Working with the Socket library</h3>
        <p>The SSL library is in charge of handling SSL/TLS protocols though it doesn't deal with socket creation and TCP/IP connection establishment. Prior to performing SSL handshake, the user of the SSL library is required to create a TCP socket and establish connection on the socket by using the socket library.</p>
        <h4 id="Anchor_288014117_h4_1">Importing a socket descriptor</h4>
        <p>After TCP connection is established, the socket descriptor needs to be passed to the SSL library. The SSL library performs SSL handshake and encrypted data transfer on the passed socket once SSL handshake succeeds.</p>
        <p>
          <strong>Please note that it is not allowed to perform any socket operation on the passed socked to the SSL library once it is successfully&nbsp;passed</strong>. Any following operation needs to be performed by interfaces provided by the SSL library.</p>
        <h4 id="Anchor_288014117_h4_2">Socket closure</h4>
        <p>When the corresponding socket is not used anymore (e.g. SSL connection is closed), it is closed by the SSL library automatically. It is also closed automatically when the SSL connection is destroyed by <span class="ApiLink_nn__ssl__Connection__Destroy">nn::ssl::Connection::Destroy</span> if it's not closed yet at the moment. Hence the caller is not required to deal with any socket operation including closing it once it is passed to the SSL library.</p>
        <p>Here is the rough sequence described above:</p>
        <ol>
          <li>Create TCP client socket by the socket API</li>
          <li>Establish TCP connection with the server on the created socket (resolve the name if necessary before establishing TCP connection)</li>
          <li>Pass the socket descriptor to the SSL library through the interface provided in <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> class (at this point, the passed socket should not be used with the socket library anymore)</li>
          <li>Performs any SSL operation with the SSL library</li>
          <li>Closes SSL connection through the interface provided in <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> class</li>
        </ol>
        <h3 id="Anchor_288014117_h3_4">SSL handshake</h3>
        <p>SSL handshake attempt is made only after&nbsp;<span class="ApiLink_nn__Result_nn__ssl__Connection__DoHandshake()_NN_NOEXCEPT">nn::ssl::Connection::Handshake()</span> is called. The SSL library verifies a server during SSL handshake based on CA certificates which is managed by the <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object tied to the <span class="ApiLink_nn__ssl__Connection">nn::ssl::Connection</span> object. If nothing is imported on the <span class="ApiLink_nn__ssl__Context">nn::ssl::Context</span> object, server validation is performed only with the built-in root CA certificates.</p>
        <p>The SSL library supports session resumption. By default, session cache data is created when SSL handshake succeeds by session ID method. If there is the session cache data which can be used for new SSL handshake attempt, the SSL library automatically use it.</p>
        <p>Please refer the <span class="ApiLink_nn__ssl__Connection">API reference of nn::ssl::Connection</span> for further details.</p>
        <h3 id="Anchor_288014117_h3_5">Limitations</h3>
        <ul>
          <li>An application can create maximum up to 8 SSL connections concurrently</li>
        </ul>
        <p>
          <br />
        </p>
      </div>
    </div>
  </div>
</div>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__ssl', '../../../Api/HtmlNX/namespacenn_1_1ssl.html' )
SetUrl( 'ApiLink_ssl.h', '../../../Api/HtmlNX/ssl_8h.html' )
SetUrl( 'ApiLink_nn__ssl__Initialize', '../../../Api/HtmlNX/namespacenn_1_1ssl.html#aaa943d1a4363d560d45d53dfa2182683' )
SetUrl( 'ApiLink_nn__ssl__Finalize', '../../../Api/HtmlNX/namespacenn_1_1ssl.html#a56d990644d149228c45f0c5ece11a9d9' )
SetUrl( 'ApiLink_nn__Result_nn__ssl__Initialize()_NN_NOEXCEPT', '../../../Api/HtmlNX/namespacenn_1_1ssl.html#aaa943d1a4363d560d45d53dfa2182683' )
SetUrl( 'ApiLink_nn__Result_nn__ssl__Finalize()_NN_NOEXCEPT', '../../../Api/HtmlNX/namespacenn_1_1ssl.html#a56d990644d149228c45f0c5ece11a9d9' )
SetUrl( 'ApiLink_nn__ssl__Context', '../../../Api/HtmlNX/classnn_1_1ssl_1_1_context.html' )
SetUrl( 'ApiLink_nn__ssl__Connection', '../../../Api/HtmlNX/classnn_1_1ssl_1_1_connection.html' )
SetUrl( 'ApiLink_nn__Result_nn__ssl__Connection__SetIoMode(IoMode_mode)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1ssl_1_1_connection.html#a5c0d109fe1a6dd9cff4edba5a730c776' )
SetUrl( 'ApiLink_nn__ssl__Connection__Destroy', '../../../Api/HtmlNX/classnn_1_1ssl_1_1_connection.html#a3c99c604e624efa732a1a983b23e9393' )
SetUrl( 'ApiLink_nn__Result_nn__ssl__Connection__DoHandshake()_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1ssl_1_1_connection.html#a02dbc9c070198bdd16b8cd6593f6025d' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
