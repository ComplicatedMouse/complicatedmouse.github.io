<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Handling Archive Resource Accessors | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Handling Archive Resource Accessors -->
<div class="pagetitle" id="PageId_107332885">Handling Archive Resource Accessors</div>
<div class="text_separate">
<h1 id="Anchor_107332885_h1_1">Introduction</h1>
<p>This page describes how to handle archive resource accessors.</p>
<p>In addition to the basic specifications, it details how to register multiple archive resources to one archive resource accessor, and how to share one archive resource with multiple archive resource accessors.</p>
<h1 id="Anchor_107332885_h1_2">Basic Operations</h1>
<p>The basic flow is shown in the <code>Ui2dSimple</code> sample program, so please refer to that program.</p>
<p>
  <code>Ui2d</code> archive resource accessors are available in the two types: <code>ArcResourceAccessor</code> and <code>MultiArcResourceAccessor</code>. If you are simply registering one archive resource with one archive resource accessor, use <code>ArcResourceAccessor</code>. If you are registering multiple archive resources with one archive resource accessor, or are sharing one archive resource with multiple archive resource accessors, <code>MultiArcResourceAccessor</code> is more useful.</p>
<p>Both <code>ArcResourceAccessor</code> and <code>MultiArcResourceAccessor</code> process archive resources by registering the binary data of the loaded archive resources using the <code>Attach</code> method and releasing it using the <code>Finalize</code> method.</p>
<p>If you call the <strong>Detach</strong> method before the <strong>Finalize</strong> method, the archive resource within the <strong>Finalize</strong> method will no longer be released.</p>
<p>If you are sharing one archive resource with multiple archive resource accessors, if you finalize one archive resource accessor, the archive resources used by other archive resource accessors will also be released, so the <strong>Detach</strong> method is called before <strong>Finalize</strong> is executed so that other archive resource accessors are not affected.</p>
<h1 id="Anchor_107332885_h1_3">Registering Archive Resources With MultiArcResourceAccessor</h1>
<p>When registering an archive resource with <code>MultiArcResourceAccessor</code>, first construct the archive resource using <code>ArchiveHandle</code>, and then register it with <code>MultiArcResourceAccessor</code>.</p>
<p>
  <code>ArchiveHandle</code> groups archive resources and resources automatically added from the program.</p>
<p>After an archive resource is constructed using <code>ArchiveHandle</code>, it can be freely shared with multiple <code>MultiArcResourceAccessors</code>.</p>
<p>
  <code>ArcResourceAccessor</code> contains one <code>ArchiveHandle</code> that automatically constructs archive resources. <code>ArcResourceAccessor</code> is an interface that directly passes and initializes the archive resource binary instead of <code>ArchiveHandle</code>.</p>
<p>Using <code>MultiArcResourceAccessor</code> allows you to efficiently manage duplicate archive resources for each scene by, for example, separating used archive resources common to each scene within a game from the other archive resources and constructing them with <code>ArchiveHandle</code>, and then combining them according to the scene and registering them with <code>MultiArcResourceAccessor</code>.</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
