<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Variation File | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Variation File -->
<div class="pagetitle" id="PageId_236829010">Variation File</div>
<div class="text_separate">
<h1 id="Anchor_236829010_h1_1">Overview</h1>
<p>Variation files are used to specify shader variations from the files as command-line options in the <a href="../Pages/Page_89982310.html">DLL version of Shader Converter</a> and the <a href="../Pages/Page_89982392.html">EXE version of Shader Converter</a>.<br />Variation files are written in XML format.</p>
<h2 id="Anchor_236829010_h2_1">Sample</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>Samples/Sources/Applications/GfxSimple/Resources/SampleVariation.xml</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_236829010_h2_2">Variation File Appearance</h2>
<p>The following appearance is for a file that contains only a vertex shader and only one element in the array component.<br />The next section provides more information about each element. </p>
<div>
  <div class="syntaxhighlighter nogutter plain">
    <p>
      <br />
    </p>
    <table class="wrapped">
      <tbody>
        <tr>
          <td>
            <div class="container" title="Hint: double-click to select code">
              <div class="line number1 index0 alt2">
                <code class="plain plain">
                  <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code>
                </code>
              </div>
              <div class="line number2 index1 alt1">
                <code class="plain plain">&lt;GfxShaderVariation version=&quot;0.0.0&quot;&gt;</code>
              </div>
              <div class="line number3 index2 alt2">
                <code class="plain spaces">  </code>
                <code class="plain plain">&lt;ShaderVariationDefinition&gt;</code>
              </div>
              <div class="line number4 index3 alt1">
                <code class="plain spaces">    </code>
                <code class="plain plain">&lt;VertexShaderVariationDefinition&gt;</code>
              </div>
              <div class="line number5 index4 alt2">
                <code class="plain spaces">      </code>
                <code class="plain plain">&lt;VariationConstantBuffer name=&quot;...&quot; /&gt;</code>
              </div>
              <div class="line number6 index5 alt1">
                <code class="plain spaces">      </code>
                <code class="plain plain">&lt;VariationConstantDefinitionArray length=&quot;1&quot;&gt;</code>
              </div>
              <div class="line number7 index6 alt2">
                <code class="plain spaces">        </code>
                <code class="plain plain">&lt;VariationConstantDefinition index=&quot;0&quot; name=&quot;...&quot; type=&quot;...&quot; /&gt;</code>
              </div>
              <div class="line number8 index7 alt1">
                <code class="plain spaces">      </code>
                <code class="plain plain">&lt;/VariationConstantDefinitionArray&gt;</code>
              </div>
              <div class="line number9 index8 alt2">
                <code class="plain spaces">      </code>
                <code class="plain plain">&lt;PreprocessorDefinitionDefinitionArray length=&quot;1&quot;&gt;</code>
              </div>
              <div class="line number10 index9 alt1">
                <code class="plain spaces">        </code>
                <code class="plain plain">&lt;PreprocessorDefinitionDefinition index=&quot;0&quot; name=&quot;...&quot;/&gt;</code>
              </div>
              <div class="line number11 index10 alt2">
                <code class="plain spaces">      </code>
                <code class="plain plain">&lt;/PreprocessorDefinitionDefinitionArray&gt;</code>
              </div>
              <div class="line number12 index11 alt1">
                <code class="plain spaces">    </code>
                <code class="plain plain">&lt;/VertexShaderVariationDefinition&gt;</code>
              </div>
              <div class="line number13 index12 alt2">
                <code class="plain spaces">  </code>
                <code class="plain plain">&lt;/ShaderVariationDefinition&gt;</code>
              </div>
              <div class="line number14 index13 alt1">
                <code class="plain spaces">  </code>
                <code class="plain plain">&lt;ShaderVariationValueArray length=&quot;1&quot;&gt;</code>
              </div>
              <div class="line number15 index14 alt2">
                <code class="plain spaces">    </code>
                <code class="plain plain">&lt;ShaderVariationValue index=&quot;0&quot;&gt;</code>
              </div>
              <div class="line number16 index15 alt1">
                <code class="plain spaces">      </code>
                <code class="plain plain">&lt;VertexShaderVariationValue&gt;</code>
              </div>
              <div class="line number17 index16 alt2">
                <code class="plain spaces">        </code>
                <code class="plain plain">&lt;VariationConstantValueArray length=&quot;1&quot; &gt;</code>
              </div>
              <div class="line number18 index17 alt1">
                <code class="plain spaces">          </code>
                <code class="plain plain">&lt;VariationConstantValue index=&quot;0&quot;&gt;...&lt;/VariationConstantValue&gt;</code>
              </div>
              <div class="line number19 index18 alt2">
                <code class="plain spaces">        </code>
                <code class="plain plain">&lt;/VariationConstantValueArray&gt;</code>
              </div>
              <div class="line number20 index19 alt1">
                <code class="plain spaces">        </code>
                <code class="plain plain">&lt;PreprocessorDefinitionValueArray length=&quot;1&quot;&gt;</code>
              </div>
              <div class="line number21 index20 alt2">
                <code class="plain spaces">          </code>
                <code class="plain plain">&lt;PreprocessorDefinitionValue index=&quot;0&quot;&gt;...&lt;/PreprocessorDefinitionValue&gt;</code>
              </div>
              <div class="line number22 index21 alt1">
                <code class="plain spaces">        </code>
                <code class="plain plain">&lt;/PreprocessorDefinitionValueArray&gt;</code>
              </div>
              <div class="line number23 index22 alt2">
                <code class="plain spaces">      </code>
                <code class="plain plain">&lt;/VertexShaderVariationValue&gt;</code>
              </div>
              <div class="line number24 index23 alt1">
                <code class="plain spaces">    </code>
                <code class="plain plain">&lt;/ShaderVariationValue&gt;</code>
              </div>
              <div class="line number25 index24 alt2">
                <code class="plain spaces">  </code>
                <code class="plain plain">&lt;/ShaderVariationValueArray&gt;</code>
              </div>
              <div class="line number26 index25 alt1">
                <code class="plain plain">&lt;/GfxShaderVariation&gt;</code>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <br />
    </p>
  </div>
</div>
<h2 id="Anchor_236829010_h2_3">Elements</h2>
<p>A variation file includes a variation definition and a list of variation values.</p>
<p>Array elements have a suffix of <code>Array</code> and a <code>length</code> attribute that shows the number of child elements.<br />Child elements of array elements include an <code>index</code> attribute that shows the index of that element.</p>
<p>The following section describes each element.</p>
<h3 id="Anchor_236829010_h3_1">&lt;GfxShaderVariation&gt;</h3>
<p>The root element.</p>
<ul>
  <li>Required attributes:<ul><li>version=&quot;string&quot;</li></ul></li>
  <li>Required child elements:<ul><li>&lt;ShaderVariationDefinition&gt;</li><li>&lt;ShaderVariationValueArray&gt;</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_2">&lt;ShaderVariationDefinition&gt;</h3>
<p>The variation definition.</p>
<ul>
  <li>Optional child elements<ul><li>&lt;VertexVariationDefinition&gt;</li><li>&lt;HullVariationDefinition&gt;</li><li>&lt;DomainVariationDefinition&gt;</li><li>&lt;GeometryVariationDefinition&gt;</li><li>&lt;PixelVariationDefinition&gt;</li><li>&lt;ComputeVariationDefinition&gt;</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_3">&lt;VertexVariationDefinition&gt;<br />&lt;HullVariationDefinition&gt;<br />&lt;DomainVariationDefinition&gt; <br />&lt;GeometryVariationDefinition&gt;<br />&lt;PixelVariationDefinition&gt;<br />&lt;ComputeVariationDefinition&gt; </h3>
<p>The variation definition for each stage.</p>
<ul>
  <li>Optional child elements:<ul><li>&lt;VariationConstantBuffer&gt;</li><li>&lt;VariationConstantDefinitionArray&gt;</li><li>&lt;PreprocessorDefinitionDefinitionArray&gt;</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_4">&lt;VariationConstantBuffer&gt;</h3>
<p>A variation constant buffer.</p>
<ul>
  <li>Required attributes<ul><li>name=&quot;string&quot;</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_5">&lt;VariationConstantDefinitionArray&gt;</h3>
<p>An array of variation constant definitions.</p>
<ul>
  <li>Required attributes<ul><li>length=&quot;uint&quot;</li></ul></li>
  <li>Has <code>length</code> child elements of the <code>&lt;VariationConstantDefinition&gt;</code> type.</li>
</ul>
<h3 id="Anchor_236829010_h3_6">&lt;VariationConstantDefinition&gt;</h3>
<p>A variation constant definition.</p>
<ul>
  <li>Required attributes<ul><li>index=&quot;uint&quot;</li><li>name=&quot;string&quot;<ul><li>Variable name, or for SPIR-V, <code>constant_id</code> name</li></ul></li><li>type=&quot;string&quot;<ul><li>Variable type</li><li>Scalar types can be any of the following.<ul><li><code>bool</code></li><li>int</li><li>uint</li><li>float</li><li>double</li></ul></li><li>For vector types, add the number of vector elements to a scalar type.<ul><li>Example: int3</li></ul></li><li>For matrix types, add <em>number of columns</em> x <em>number of rows</em> to a scalar type.<ul><li>Example: float3x3</li></ul></li><li>For array types, add the number of array elements.<br /><ul><li>Example: float4[ 16 ]</li></ul></li></ul></li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_7">&lt;PreprocessorDefinitionDefinitionArray&gt;</h3>
<p>An array of preprocessor definition definitions.</p>
<ul>
  <li>Required attributes:<ul><li>length=&quot;uint&quot;</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_8">&lt;PreprocessorDefinitionDefinition&gt;</h3>
<p>Defines a preprocessor definition.</p>
<ul>
  <li>Required attributes:<ul><li>index=&quot;uint&quot;</li><li>name=&quot;string&quot;<ul><li>The first space-delimited part of a preprocessor definition.</li></ul></li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_9">&lt;ShaderVariationValueArray&gt;</h3>
<p>An array of variation values.</p>
<ul>
  <li>Required attributes:<ul><li>length=&quot;uint&quot;</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_10">&lt;ShaderVariationValue&gt;</h3>
<p>A variation value.</p>
<ul>
  <li>Required attributes:<ul><li>index=&quot;uint&quot;</li></ul></li>
  <li>Optional child elements:<ul><li>&lt;VertexShaderVariationValue&gt;</li><li>&lt;HullShaderVariationValue&gt;</li><li>&lt;DomainShaderVariationValue&gt;</li><li>&lt;GeometryShaderVariationValue&gt;</li><li>&lt;PixelShaderVariationValue&gt;</li><li>&lt;ComputeShaderVariationValue&gt;</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_11">&lt;VertexShaderVariationValue&gt;<br />&lt;HullShaderVariationValue&gt;<br />&lt;DomainShaderVariationValue&gt;<br />&lt;GeometryShaderVariationValue&gt;<br />&lt;PixelShaderVariationValue&gt;<br />&lt;ComputeShaderVariationValue&gt; </h3>
<p>The variation values for each stage.</p>
<ul>
  <li>Optional child elements:<ul><li>&lt;VariationConstantValueArray&gt;</li><li>&lt;PreprocessorDefinitionValueArray&gt;</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_12">&lt;VariationConstantValueArray&gt;</h3>
<p>An array of variation constant values.<br />Write the child elements in the same order as the definitions.</p>
<ul>
  <li>Required attributes:<ul><li>length=&quot;uint&quot;</li></ul></li>
  <li>Has <code>length</code> child elements of the <code>&lt;VariationConstantValue&gt;</code> type.</li>
</ul>
<h3 id="Anchor_236829010_h3_13">&lt;VariationConstantValue&gt;</h3>
<p>A variation constant value.</p>
<ul>
  <li>Required attributes:<ul><li>index=&quot;uint&quot;</li></ul></li>
  <li>Description<ul><li>Write the value of the variation constant.</li><li>Write space-delimited values for variation constants that take multiple values, such as vectors.</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_14">&lt;PreprocessorDefinitionValueArray&gt;</h3>
<p>An array of preprocessor definition values.<br />Write the child elements in the same order as the definitions.</p>
<ul>
  <li>Required attributes:<ul><li>index=&quot;int&quot;</li></ul></li>
  <li>Description<ul><li>Write the value of the preprocessor definition.</li></ul></li>
</ul>
<h3 id="Anchor_236829010_h3_15">&lt;PreprocessorDefinitionValue&gt;</h3>
<p>A preprocessor definition value.</p>
<ul>
  <li>Required attributes:<ul><li>index=&quot;uint&quot;</li></ul></li>
  <li>Description<ul><li>Write the value of the preprocessor definition.</li></ul></li>
</ul>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
