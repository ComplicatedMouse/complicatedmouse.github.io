<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Queue | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Queue -->
<div class="pagetitle" id="PageId_83956110">Queue</div>
<div class="text_separate">
<h1 id="Anchor_83956110_h1_1">Queue</h1>
<p>The queue expresses a FIFO buffer of the execution engine for accumulating and issue commands to the GPU.</p>
<p>A queue has several functionalities as features, and queues that are built with different functionality may be assigned to a different execution engine. A queue assigned to a different execution engine can be processed in parallel. Use <a href="../Pages/Page_83955565.html">semaphores</a> to synchronize these queues.<br />Commands not supported by the functionality cannot be submitted to the queue. In addition, because functionality is expressed in combinations, a queue having all functionalities, for example, can be built.</p>
<p>A queue executes a command by receiving a command list from the command buffer or by directly receiving several commands. At this time, there is no guarantee that the GPU has actually started processing or not started processing. To explicitly start processing in the GPU, perform a flush on the queue. Or if the FIFO buffer becomes full, GPU processing starts automatically.</p>
<p>Note that operations on the queue are not thread-safe because of this property. </p>
<h2 id="Anchor_83956110_h2_1">Information</h2>
<p>The queue information is defined as <span class="ApiLink_nn__gfx__QueueInfo"><code>nn::gfx::QueueInfo</code></span>.</p>
<h3 id="Anchor_83956110_h3_1">Functionality</h3>
<p>
  <span class="ApiLink_void_nn__gfx__QueueInfo__SetCapability(int_value)_NN_NOEXCEPT">
    <code>SetCapability</code>
  </span> sets the functionality for a queue that is expected to be initialized.</p>
<h2 id="Anchor_83956110_h2_2">Object</h2>
<p>The queue object is defined as <span class="ApiLink_nn__gfx__Queue"><code>nn::gfx::Queue</code></span>.</p>
<h3 id="Anchor_83956110_h3_2">Initialization and Destruction</h3>
<p>Initializing and freeing a queue follows the rules for <a href="../Pages/Page_83955654.html">objects</a>.</p>
<h3 id="Anchor_83956110_h3_3">Command Execution</h3>
<p>Most commands are executed by using the command buffer. The execution of all commands added to the specified command buffer is scheduled by calling <span class="ApiLink_void_nn__gfx__TQueue__ExecuteCommand(TCommandBuffer__Target___*pCommandBuffer|_TFence__Target___*pFence)_NN_NOEXCEPT"><code>ExecuteCommand</code></span>. At this time, there is no guarantee that the commands are actually executing.<br />A synchronization fence can be received to synchronize the CPU and GPU. For more information about how to use synchronization fences, see <a href="../Pages/Page_83955552.html">Fence</a>. If a synchronization fence is not required, <code>NULL</code> can be specified in the <code><em>pFence</em></code> parameter.</p>
<h3 id="Anchor_83956110_h3_4">Flushing the Queue</h3>
<p>By calling <span class="ApiLink_void_nn__gfx__TQueue__Flush()_NN_NOEXCEPT"><code>Flush</code></span>, the processing of all commands added before calling this function can actually be started in the GPU.</p>
<h3 id="Anchor_83956110_h3_5">Queue Synchronization</h3>
<p>When <span class="ApiLink_void_nn__gfx__TQueue__Sync()_NN_NOEXCEPT"><code>Sync</code></span> is called, the CPU thread is made to stand by until the processing of all commands added before calling this function are actually completed by the GPU. In other words, when processing is returned from this function, the completion of the execution of all the commands is guaranteed.</p>
<h3 id="Anchor_83956110_h3_6">Commands Directly Submitted to the Queue</h3>
<p>Commands for displaying on a screen are directly submitted to the queue. For more information about displaying on a screen, see <a href="../Pages/Page_83956063.html">Swap Chain</a>.</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__gfx__QueueInfo', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_queue_info.html' )
SetUrl( 'ApiLink_void_nn__gfx__QueueInfo__SetCapability(int_value)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_queue_info.html#ad39eb3b3594837511c4ed024b96db180' )
SetUrl( 'ApiLink_nn__gfx__Queue', '../../../Api/HtmlNX/namespacenn_1_1gfx.html#afceb1f20a49ed58f99e33f2324312e1b' )
SetUrl( 'ApiLink_void_nn__gfx__TQueue__ExecuteCommand(TCommandBuffer__Target___*pCommandBuffer|_TFence__Target___*pFence)_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_t_queue.html#a3513accbae08380417a92fb51043f1e8' )
SetUrl( 'ApiLink_void_nn__gfx__TQueue__Flush()_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_t_queue.html#a3cc77b06778c04f133a0c98bb38adbd6' )
SetUrl( 'ApiLink_void_nn__gfx__TQueue__Sync()_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1gfx_1_1_t_queue.html#afc21092b4436c72ed0ca8d23c6a2ff78' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
