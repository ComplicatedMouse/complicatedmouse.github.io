<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>State Transitions | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- State Transitions -->
<div class="pagetitle" id="PageId_114739588">State Transitions</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_114739588_h1_1">Introduction</a>
    </li>
    <li>
      <a href="#Anchor_114739588_h1_2">NFP Library States</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_114739588_h2_1">State Transition Diagram</a>
      </li>
      <li>
        <a href="#Anchor_114739588_h2_2">State Definitions</a>
      </li>
      <li>
        <a href="#Anchor_114739588_h2_3">Functions Available in Each State</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_114739588_h1_3">NFC Device States</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_114739588_h2_4">State Transition Diagram</a>
      </li>
      <li>
        <a href="#Anchor_114739588_h2_5">State Definitions</a>
      </li>
      <li>
        <a href="#Anchor_114739588_h2_6">Functions Available in Each State</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_114739588_h1_1">Introduction</h1>
<p>This section describes state transitions within the NFP library.</p>
<p>The NFP library uses the following two types of states. To use the NFP library, you must properly understand these states.</p>
<ul>
  <li>NFP library states</li>
  <li>NFC device states</li>
</ul>
<h1 id="Anchor_114739588_h1_2">NFP Library States</h1>
<h2 id="Anchor_114739588_h2_1">State Transition Diagram</h2>
<p>The following diagram shows the NFP library state transitions.</p>
<!--figure0001-->
<div class="figure">
  <a name="AutoAnchor_114739588_figure0001"></a>Figure 1  NFP Library State Transitions</div>
<!--@keyword:State_NoneState_InitInitializeFinalize-->
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_114739588/159286390.png" width="150" alt="State_NoneState_InitInitializeFinalize" class="embedded-image" />
  </span>
</p>
<p>The NFP library transitions between the following two states: <code>State_Init</code> and <code>State_None</code>. Use the <code><span class="ApiLink_nn__nfp__GetState">nn::nfp::GetState</span>()</code> function to get the current state of the NFP library. When this function returns <code>State_Init</code>, the NFP library is initialized and ready for use.</p>
<h2 id="Anchor_114739588_h2_2">State Definitions</h2>
<p>The following states are defined for the NFP library.</p>
<!--table0001-->
<div class="table">
  <a name="AutoAnchor_114739588_table0001"></a>Table 1  NFP Library States</div>
<table class="table">
  <tbody>
    <tr>
      <th>State</th>
      <th>Description</th>
    </tr>
    <tr>
      <td>
        <code>State_None</code>
      </td>
      <td>The NFP library has not been initialized. The library takes this state when an application first starts.</td>
    </tr>
    <tr>
      <td>
        <code>State_Init</code>
      </td>
      <td>The NFP library has been initialized.</td>
    </tr>
    <tr>
      <td>
        <code>State_Unexpected</code>
      </td>
      <td>
        <p>The device has entered an unexpected state.</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<h2 id="Anchor_114739588_h2_3">Functions Available in Each State</h2>
<p>The following table shows the functions available in each state of the NFP library.</p>
<!--table0003-->
<div class="table">
  <a name="AutoAnchor_114739588_table0003"></a>Table 2  Functions Available in Each State of the NFP Library</div>
<table class="table">
  <tbody>
    <tr>
      <th>State</th>
      <th>Functions Available</th>
    </tr>
    <tr>
      <td>
        <code>State_None</code>
      </td>
      <td>
        <code>
          <span class="ApiLink_nn__nfp__Initialize">nn::nfp::Initialize</span>()<br /><span class="ApiLink_nn__nfp__GetState">nn::nfp::GetState</span>()<br /><span class="ApiLink_nn__nfp__GetDeviceState">nn::nfp::GetDeviceState</span>()</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>State_Init</code>
      </td>
      <td>
        <p>
          <code>
            <span class="ApiLink_nn__nfp__Finalize">nn::nfp::Finalize</span>()<br /><span class="ApiLink_nn__nfp__ListDevices">nn::nfp::ListDevices</span>()<br /><span class="ApiLink_nn__nfp__GetState">nn::nfp::GetState</span>()<br /><span class="ApiLink_nn__nfp__GetDeviceState">nn::nfp::GetDeviceState</span>()<br /><span class="ApiLink_nn__nfp__GetNpadId">nn::nfp::GetNpadId</span>()<br /><span class="ApiLink_nn__nfp__StartNicknameAndOwnerSettings">nn::nfp::StartNicknameAndOwnerSettings</span>()<br /><span class="ApiLink_nn__nfp__StartGameDataEraser">nn::nfp::StartGameDataEraser</span>()<br /><span class="ApiLink_nn__nfp__StartRestorer">nn::nfp::StartRestorer</span>()</code>
        </p>
      </td>
    </tr>
  </tbody>
</table>
<p>The NFP library must be in the <code>State_Init</code> state to execute the functions that perform operations on tags.</p>
<h1 id="Anchor_114739588_h1_3">NFC Device States</h1>
<h2 id="Anchor_114739588_h2_4">State Transition Diagram</h2>
<p>The following diagram shows the NFC device state transitions.</p>
<!--figure0002-->
<div class="figure">
  <a name="AutoAnchor_114739588_figure0002"></a>Figure 2  NFC Device State Transitions</div>
<!--@keyword:DeviceState_InitDeviceState_SearchDeviceState_ActiveDeviceState_MountDeviceState_DeactiveStartDetectionStopDetectionMountUnmount検知喪失DeviceState_Unexpected-->
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_114739588/193039274.png" alt="DeviceState_InitDeviceState_SearchDeviceState_ActiveDeviceState_MountDeviceState_DeactiveStartDetectionStopDetectionMountUnmount検知喪失DeviceState_Unexpected" class="embedded-image" />
  </span>
</p>
<p>The states are defined in <code><span class="ApiLink_nn__nfp__DeviceState">nn::nfp::DeviceState</span></code>. Call the <code><span class="ApiLink_nn__nfp__GetDeviceState">nn::nfp::GetDeviceState</span>()</code> function to get the current state.</p>
<h2 id="Anchor_114739588_h2_5">State Definitions</h2>
<p>The following states are defined for the NFC device.</p>
<!--table0002-->
<div class="table">
  <a name="AutoAnchor_114739588_table0002"></a>Table 3  NFC Device States</div>
<table class="table">
  <tbody>
    <tr>
      <th>State</th>
      <th>Description</th>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Init</code>
      </td>
      <td>Not currently searching for tags. The device is in this state immediately after the NFP library is initialized.</td>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Search</code>
      </td>
      <td>Currently searching for tags.</td>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Active</code>
      </td>
      <td>A tag has been detected.</td>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Deactive</code>
      </td>
      <td>A tag was detected, and then the detected tag was removed.</td>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Mount</code>
      </td>
      <td>A tag is currently mounted.</td>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Unexpected</code>
      </td>
      <td>
        <p>The device has entered an unexpected state. This can occur if an unconnected device has been specified.</p>
      </td>
    </tr>
  </tbody>
</table>
<p> </p>
<h2 id="Anchor_114739588_h2_6">Functions Available in Each State</h2>
<p>The following table shows the functions available in each NFC device state.</p>
<!--table0004-->
<div class="table">
  <a name="AutoAnchor_114739588_table0004"></a>Table 4  Functions Available in Each NFC Device State</div>
<table class="table">
  <tbody>
    <tr>
      <th>State</th>
      <th>Functions Available</th>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Init</code>
      </td>
      <td>
        <code>
          <span class="ApiLink_nn__nfp__StartDetection">nn::nfp::StartDetection</span>()</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Search</code>
      </td>
      <td>
        <code>
          <span class="ApiLink_nn__nfp__StopDetection">nn::nfp::StopDetection</span>()</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Active</code>
      </td>
      <td>
        <code>
          <span class="ApiLink_nn__nfp__StopDetection">nn::nfp::StopDetection</span>()<br /><span class="ApiLink_nn__nfp__Mount">nn::nfp::Mount</span>()<br /><span class="ApiLink_nn__nfp__Restore">nn::nfp::Restore</span>()<br /><span class="ApiLink_nn__nfp__GetTagInfo">nn::nfp::GetTagInfo</span>()</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Deactive</code>
      </td>
      <td>
        <code>
          <span class="ApiLink_nn__nfp__StopDetection">nn::nfp::StopDetection</span>()<br /><span class="ApiLink_nn__nfp__StartDetection">nn::nfp::StartDetection</span>()</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>DeviceState_Mount</code>
      </td>
      <td>
        <code>
          <span class="ApiLink_nn__nfp__StopDetection">nn::nfp::StopDetection</span>()<br /><span class="ApiLink_nn__nfp__Unmount">nn::nfp::Unmount</span>()<br /><span class="ApiLink_nn__nfp__OpenApplicationArea">nn::nfp::OpenApplicationArea</span>()<br /><span class="ApiLink_nn__nfp__GetApplicationArea">nn::nfp::GetApplicationArea</span>()*<br /><span class="ApiLink_nn__nfp__SetApplicationArea">nn::nfp::SetApplicationArea</span>()*<br /><span class="ApiLink_nn__nfp__Flush">nn::nfp::Flush</span>()<br /><span class="ApiLink_nn__nfp__CreateApplicationArea">nn::nfp::CreateApplicationArea</span>()<br /><span class="ApiLink_nn__nfp__GetTagInfo">nn::nfp::GetTagInfo</span>()<br /><span class="ApiLink_nn__nfp__GetRegisterInfo">nn::nfp::GetRegisterInfo</span>()<br /><span class="ApiLink_nn__nfp__GetCommonInfo">nn::nfp::GetCommonInfo</span>()<br /><span class="ApiLink_nn__nfp__GetModelInfo">nn::nfp::GetModelInfo</span>()</code>
      </td>
    </tr>
  </tbody>
</table>
<p>* Can be used after calling <code><span class="ApiLink_nn__nfp__OpenApplicationArea">nn::nfp::OpenApplicationArea</span>()</code>.</p>
<p> </p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__nfp__GetState', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a7ec9743794272b24bdca6b5ed1a9f574' )
SetUrl( 'ApiLink_nn__nfp__Initialize', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#afa344c4dc54ca2a562b3ddfee0742f99' )
SetUrl( 'ApiLink_nn__nfp__GetDeviceState', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#aeb240b6269510ef739fb4a820ee3601a' )
SetUrl( 'ApiLink_nn__nfp__Finalize', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a217aa0ade4696c4f68c5574e6e2ed3e0' )
SetUrl( 'ApiLink_nn__nfp__ListDevices', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a8e7488fa2c37e3b7b3c8624699c8ce7e' )
SetUrl( 'ApiLink_nn__nfp__GetNpadId', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#ab15d52a3089002edbf40e1ecebf2b490' )
SetUrl( 'ApiLink_nn__nfp__StartNicknameAndOwnerSettings', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a5e004446eb43894480e5dfb95e90c4e3' )
SetUrl( 'ApiLink_nn__nfp__StartGameDataEraser', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a37ae933f9548417263e1002d032a34c6' )
SetUrl( 'ApiLink_nn__nfp__StartRestorer', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a909114bcc708d55de460c9b35a314695' )
SetUrl( 'ApiLink_nn__nfp__DeviceState', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#aaadd7c689b462e3c6b2df71bffb5165d' )
SetUrl( 'ApiLink_nn__nfp__StartDetection', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#afd22b7158c9c5ef8ab0a59db89e7d351' )
SetUrl( 'ApiLink_nn__nfp__StopDetection', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#aa8bd12f4e1b4b206463047e3142a261a' )
SetUrl( 'ApiLink_nn__nfp__Mount', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#aef2cbec549b247b6dcc7afff15fdc5b3' )
SetUrl( 'ApiLink_nn__nfp__Restore', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a7292375a9a80f936d505ddb20cb74d5e' )
SetUrl( 'ApiLink_nn__nfp__GetTagInfo', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a45e88ea137a0212dad4a44de072c5abc' )
SetUrl( 'ApiLink_nn__nfp__Unmount', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a8d45eed0a3f22de6c244e629609287ba' )
SetUrl( 'ApiLink_nn__nfp__OpenApplicationArea', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#ae031efebb24d01f253819e7051ee5b8b' )
SetUrl( 'ApiLink_nn__nfp__GetApplicationArea', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a4627e180bdb0dc997d904ac57f8cab04' )
SetUrl( 'ApiLink_nn__nfp__SetApplicationArea', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a33928ed61aa99decae7127c1d6a65e2a' )
SetUrl( 'ApiLink_nn__nfp__Flush', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#ade408175b18f37cc322c863e0d3c2129' )
SetUrl( 'ApiLink_nn__nfp__CreateApplicationArea', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#adf02884c6bcd5dc0b8cc7d55309f2903' )
SetUrl( 'ApiLink_nn__nfp__GetRegisterInfo', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#aa2b8e18324f250c48eba82378f4002e5' )
SetUrl( 'ApiLink_nn__nfp__GetCommonInfo', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#aed274413977d6c21166fa434315a6ff9' )
SetUrl( 'ApiLink_nn__nfp__GetModelInfo', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a6795ef429b2d1effe1039a6f02c403b3' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
