<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Using MSVC v141 in Visual Studio 2019 | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Using MSVC v141 in Visual Studio 2019 -->
<div class="pagetitle" id="PageId_1084240684">Using MSVC v141 in Visual Studio 2019</div>
<div class="text_separate">
<h1 id="Anchor_1084240684_h1_1">Introduction</h1>
<p>This page describes the procedure for using MSVC v141 in Visual Studio 2019, in addition to the method for using MSVC v141 in the Developer Command Prompt included with Visual Studio 2019.</p>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_1084240684_h1_1">Introduction</a>
    </li>
    <li>
      <a href="#Anchor_1084240684_h1_2">Procedure for Using MSVC v141 in Visual Studio 2019</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_1084240684_h2_1">Installing MSVC v141</a>
      </li>
      <li>
        <a href="#Anchor_1084240684_h2_2">Installing Windows SDK 10.0.15063</a>
      </li>
      <li>
        <a href="#Anchor_1084240684_h2_3">Setting Platform Toolsets for the Project to v141</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_1084240684_h3_1">Retargeting the Project Dialog Box</a>
        </li>
      </ul>
    </ul>
    <li>
      <a href="#Anchor_1084240684_h1_3">Using MSVC v141 via the Developer Command Prompt Included With Visual Studio 2019</a>
    </li>
  </ul>
</p>
<h1 id="Anchor_1084240684_h1_2">Procedure for Using MSVC v141 in Visual Studio 2019</h1>
<h2 id="Anchor_1084240684_h2_1">Installing MSVC v141</h2>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>If MSVC v141 for Visual Studio 2017 is already installed in the environment, this step is not necessary.</p>
  </div>
</div>
<p>Install the <code>Microsoft.VisualStudio.Component.VC.v141.x86.x64</code> component using Visual Studio 2019 Installer.</p>
<p>If you are using Visual Studio Installer to install MSVC v141, go to the <strong>Individual Components</strong> tab and select <strong>MSVC v141 - VS 2017 C++ x64/x86 build tool (v14.16)</strong>.</p>
<p>For more information about Visual Studio Installer, see <a href="https://docs.microsoft.com/en-us/visualstudio/install/install-visual-studio?view=vs-2019">https://docs.microsoft.com/en-us/visualstudio/install/install-visual-studio?view=vs-2019</a>.</p>
<h2 id="Anchor_1084240684_h2_2">Installing Windows SDK 10.0.15063</h2>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>If Windows SDK 10.0.15063 for Visual Studio 2017 is already installed in the environment, the steps in this section are not necessary.</p>
  </div>
</div>
<p>If you are using MSVC v141 to build in NintendoSDK, Windows SDK 10.0.15063 must be installed.</p>
<p>Download and install Windows 10 SDK (10.0.15063.468) and Microsoft Emulator for Windows 10 mobile (10.0.15254.1) from the following link.</p>
<p>
  <a href="https://developer.microsoft.com/en-us/windows/downloads/sdk-archive">https://developer.microsoft.com/en-us/windows/downloads/sdk-archive</a>
  <br />
</p>
<h2 id="Anchor_1084240684_h2_3">Setting Platform Toolsets for the Project to v141</h2>
<p>To specify the MSVC compiler version to use, you must set platform toolsets value for the project.</p>
<p>Go to <strong>Configuration Properties</strong> &gt; <strong>General</strong> and set <strong>Platform Toolsets</strong> to <strong>Visual Studio 2017 (v141)</strong>.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_1084240684/1084240700.png" class="embedded-image" />
  </span>
</p>
<h3 id="Anchor_1084240684_h3_1">Retargeting the Project Dialog Box</h3>
<p>When a project with platform toolset v141 is opened in Visual Studio 2019, a retarget project dialog box appears, prompting you to upgrade platform toolsets.<br />If this dialog box appears, select <strong>Cancel</strong>. Keep the platform toolset as v141.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_1084240684/1084240702.png" class="embedded-image" />
  </span>
</p>
<p>In addition, you can restrict the dialog box from appearing by adding the following setting to your project file in advance.</p>
<p>For more information, see <a href="https://docs.microsoft.com/en-us/cpp/porting/use-native-multi-targeting?view=vs-2019#how-to-use-native-multi-targeting-in-visual-studio">https://docs.microsoft.com/en-us/cpp/porting/use-native-multi-targeting?view=vs-2019#how-to-use-native-multi-targeting-in-visual-studio</a>.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre><span class="nt">&lt;PropertyGroup&gt;</span>
&nbsp;&nbsp;<span class="nt">&lt;VCProjectUpgraderObjectName&gt;</span>NoUpgrade<span class="nt">&lt;/VCProjectUpgraderObjectName&gt;</span>
<span class="nt">&lt;/PropertyGroup&gt;</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h1 id="Anchor_1084240684_h1_3">Using MSVC v141 via the Developer Command Prompt Included With Visual Studio 2019</h1>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>
      <span style="color: rgb(23,43,77);">When building from the command line in Developer Command Prompt, we recommend using Developer Command Prompt included with Visual Studio 2017.</span>
    </p>
    <p>
      <span style="color: rgb(23,43,77);">The following important information applies when using the Developer Command Prompt included with Visual Studio 2019 for reasons such as not having an instance of Visual Studio 2017 installed.</span>
    </p>
  </div>
</div>
<p>
  <span style="color: rgb(23,43,77);">When building from the command line with MSVC v141, using the Developer Command Prompt included with Visual Studio 2019, use </span>-vcvars_ver=14.16<span style="color: rgb(23,43,77);"> as the command-line argument for BAT files executed at the start (such as VsDevCmd.bat).</span><br /></p>
<p>
  <span style="color: rgb(23,43,77);">Without this setting, the Developer Command Prompt included with Visual Studio 2019 uses MSVC v142 regardless of the platform toolset value. In this case, the build may have unexpected results.</span>
</p>
<p>
  <span style="color: rgb(23,43,77);">For more information, see </span>
  <a href="https://docs.microsoft.com/en-us/cpp/build/building-on-the-command-line?view=vs-2019">https://docs.microsoft.com/en-us/cpp/build/building-on-the-command-line?view=vs-2019</a>.</p>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
