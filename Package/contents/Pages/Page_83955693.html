<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>FTX File Format Plug-In | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- FTX File Format Plug-In -->
<div class="pagetitle" id="PageId_83955693">FTX File Format Plug-In</div>
<div class="text_separate">
<h1 id="Anchor_83955693_h1_1">FTX File Format Plug-In</h1>
<p>This section describes the use and features of the FTX File Format plug-in.</p>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_83955693_h2_1">Saving</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_83955693_h3_1">Option Settings</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_83955693_h2_2">Loading</a>
    </li>
    <li>
      <a href="#Anchor_83955693_h2_3">Notes</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_83955693_h3_2">Image Mode</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_3">Image Size</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_4">Alpha Channel</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_5">Layers</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_6">Save</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_7">Keeping Image Quality</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_8">Color Settings</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_9">Mipmaps</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_83955693_h2_4">Related Links</a>
    </li>
  </ul>
</p>
<h2 id="Anchor_83955693_h2_1">Saving</h2>
<p>To save a texture intermediate (FTXA or FTXB) file, select <strong>File</strong> &gt; <strong>Save as</strong> and set the file format to <strong>Nintendo ftx</strong>.<br />Enter a filename. To save in ASCII format, enter the filename up to the <code>.ftxa</code> filename extension.</p>
<p>Clicking <strong>Save</strong> displays a dialog box.</p>
<p>
  <strong>Data Size</strong> displays the texture's raw data size, height, width, and number of mipmap levels for the current option settings.<br />Data is tiled during binary conversion depending on the target platform, so the data size in the texture binary file may be larger than this value.</p>
<p>
  <strong>Linear</strong> displays information if there are RGBA components that have undergone conversion from sRGB to linear gamma. (The information displayed cannot be changed.)<br />Linear conversion is set for the format selection preset in the <a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">config file for the Texture Export plug-in</a>.</p>
<p>Set the appropriate options and click <strong>OK</strong> to save them.</p>
<h3 id="Anchor_83955693_h3_1">Option Settings</h3>
<ul>
  <li>
    <strong>Config<br />When there is more than one </strong>
    <a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">config file for the Texture Export plug-in</a>, select the name of the config file to use.<br />Changing this option applies the preset <strong>Format</strong> setting in the config file and overwrites the <strong>Component Selection</strong> and <strong>Hint</strong> settings.</li>
  <li>
    <strong>Format</strong>
    <br />Specifies the format.<br />You can set the selectable items in the <a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">config file of the Texture Export plug-in</a>.<br />To select from among all formats supported by the current image, select <strong>All Format</strong>.<br />In the <code>unorm_4_4</code>, <code>unorm_8_8</code>, <code>unorm_bc5</code> or <code>unorm_eac_11_11</code> formats, if the hint information is anything other than <code>normal</code> and there is an alpha channel, the alpha channel is applied to the texture's G component.<br />For more information about the SNORM and SINT formats, see <a href="#Anchor_83955693_h3_2">Image Mode Considerations</a>.</li>
  <li>
    <strong>Weighted Compress</strong>
    <br />Select to use perceptual weighting for RGB errors when compressing using bc1, bc2, bc3, etc1, or etc2.</li>
  <li>
    <strong>Dimension</strong>
    <br />Specifies the dimension.<br />Select <strong>1d</strong> for a one-dimensional texture, <strong>2d</strong> for a two-dimensional texture, and <strong>3d</strong> for a three-dimensional texture.<br /><code>cube</code> can only be selected when the image is a <a href="../Pages/Page_239574379.html#Anchor_239574379_horizontal_cross">horizontal or vertical cross cube map</a>.</li>
  <li>
    <strong>Mipmap</strong>
    <br />Select this check box if you are creating mipmaps.<br />Mipmaps are created up to the level where the height and width are 1.</li>
  <li>
    <strong>Mip Gen Filter</strong>
    <br />Specifies the filter to use when creating the mipmaps.<br />Select <strong>point</strong> for point sampling, <strong>linear</strong> for linear interpolation, <strong>cubic</strong> for standard cubic interpolation, or <strong>cubic_sharp</strong> for sharp cubic interpolation. (The <strong>cubic_sharp</strong> filter is available in NintendoSDK 9.0.0 and later.)<br />Depending on the image, the <code>cubic</code> value may yield sharper results than the <code>cubic_sharp</code> value.</li>
  <li>
    <strong>Component Selection</strong>
    <br />Select the color component from a list to correspond to each RGBA channel. (Specified in RGBA order, from the left.)<br />If All Format is set to OFF, this option is disabled and the preset component selection is applied when the format is modified.<br />If <strong>All Format</strong> is set to <strong>ON</strong>, the <a href="../Pages/Page_239574379.html#Anchor_239574379_comp_sel">default component selections for each format</a> are automatically applied when the format is modified. If you specify your own component selection, determine the format first and then change this option.</li>
  <li>
    <strong>Hint</strong>
    <br />Specifies hint information.<br />You can set the selectable items in the <a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">config file of the Texture Export plug-in</a>.<br />These items cannot be changed if hint information is specified in the config file for the preset format selections.<br />The hint information specified in the config file is applied when a preset format has been selected.<br />If the hint information is <code>normal</code> and the image is 8 bits per channel, the texture data for export is modified so that the z-component of the normal is equal to or greater than zero and has a length of 1.0. (The original image data in the intermediate file itself remains unchanged.)<br />If <strong>All Format</strong> is selected and the ASTC format is specified, the <a href="../Pages/Page_239574379.html#Anchor_239574379_comp_sel">default component selections for each format</a> are applied automatically when the bit information is modified.</li>
  <li>
    <strong>Comment</strong>
    <br />Include comments about editing the intermediate file.<br />Quotation marks (&quot;) cannot be used.<br /><br /></li>
</ul>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Texture intermediate files are saved using the 3D Texture Converter tool.<br />You can specify additional options to pass to 3D Texture Converter in the <a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">config file for the Texture Export plug-in</a>, using <code>texture_converter_options</code>. <span style="letter-spacing: 0.0px;">(This feature is available in NintendoSDK 12.1.0 and later.)<br />The options specified in the config file take precedence over options specified in the Options dialog box.<br /></span></p>
  </div>
</div>
<h2 id="Anchor_83955693_h2_2">Loading</h2>
<p>To load a texture intermediate file (FTXA or FTXB file), select <strong>File</strong> &gt; <strong>Open</strong>, select the desired texture intermediate file, and then click <strong>Open</strong>.<br />Texture intermediate files can also be loaded by dragging them to the Photoshop window.</p>
<p>Cube maps are loaded in the state of a horizontal cross-shaped cube map.</p>
<p>Texture intermediate files for 3D textures and array textures cannot be loaded.</p>
<h2 id="Anchor_83955693_h2_3">Notes</h2>
<p>These notes pertain to the use of the FTX File Format plug-in.</p>
<h3 id="Anchor_83955693_h3_2">Image Mode</h3>
<p>Files that have an image mode other than grayscale, index color, or RGB color, and files that use 16 bits per channel cannot be saved using <strong>Nintendo ftx</strong>.<br />When an 8 bit/channel file is saved in SNORM or SINT format, the value of the number of 8 bit pixels (0 to 255) minus 128 is encoded (If the pixel count is 0, <code>-127</code> is encoded). This is a special treatment to represent negative values with unsigned 8 bits.<br />When saving 32 bit-per-channel files in ASTC format, pixel values converted to real number types outside of the [0,1] range are clamped.</p>
<h3 id="Anchor_83955693_h3_3">Image Size</h3>
<p>The image width and height must be 16,384 pixels or less.<br />In the case of cubemaps, make sure that the width and height of the image in each view direction is 16,384 pixels or less.</p>
<h3 id="Anchor_83955693_h3_4">Alpha Channel</h3>
<p>If there are two or more alpha channels, only the alpha channel at the top of the list in the channel window is saved.<br />Note that the next time an intermediate texture file is loaded, data for alpha channels other than the first will be lost.</p>
<p>If the image mode is Indexed Color, the alpha of transparent parts is saved as 0 if there is a transparent color in the color table and no alpha channel.</p>
<p>In Photoshop, the brightness of the alpha channel depends on the <a href="#Anchor_83955693_color_set">Color Setting</a>. However, with Nintendo FTX, the K value is applied to alpha <strong>regardless of the color setting</strong>.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>For an 8-bit channel, this value is <strong>255</strong> if K = 0%, <strong>128</strong> if K = 50%, and <strong>0</strong> if K = 100%.</p>
  </div>
</div>
<h3 id="Anchor_83955693_h3_5">Layers</h3>
<p>Layer information cannot be saved using Nintendo FTX.<br />If an image that has more than one layer is saved as Nintendo FTX, all layers will be flattened the next time it is loaded.</p>
<p>For images with no visible background and for which only layers exist, the transparency of pixels when all layers are combined is saved as the alpha if there is no alpha channel. In such cases, the RGB components of transparent pixels (opacity of 0) are set with the average of the RGB components of adjacent non-transparent pixels (opacity greater than 0). (This same processing is used in <a href="../Pages/Page_239574379.html">3D Texture Converter</a> when <code>--adjust-transparent-rgb</code> is <code>true</code>.)<br />If an alpha channel exists, pixel opacity for the layer will not be saved as the alpha.<br /></p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>If you are using a layer mask, the RGB components of pixels made transparent by a layer mask may become white.<br />If you want to export the RGB components of transparent pixels, use the alpha channel to make such pixels transparent rather than a layer mask.</p>
  </div>
</div>
<h3 id="Anchor_83955693_h3_6">Save</h3>
<p>If you act to save a texture intermediate file (<strong>File</strong> &gt; <strong>Save</strong>) and it can be saved with the same option settings as before, it will be saved with those settings without displaying an option dialog box.<br />If you want to display the dialog box, select <strong>File</strong> &gt; <strong>Save as</strong>.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>An option dialog box will be displayed even if <strong>Save</strong> was selected when it has become impossible to save under the same option settings as used with the last save due to a change in the size of the image.<br />Take care that suitable options for the file are selected at this time.</p>
  </div>
</div>
<h3 id="Anchor_83955693_h3_7">Keeping Image Quality</h3>
<p>Because the original image data is loaded when the texture intermediate file is loaded, the image quality in Photoshop is maintained regardless of the format the image was saved in (providing that the original image data is included in the settings in the <a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">config file for the Texture Export plug-in</a>).<br />For example, the color depth under Photoshop is not forced to 4 bits, but rather maintained at 8 bits, even if the image is saved in unorm_4_4_4_4 format.</p>
<p>
  <a name="Anchor_83955693_color_set"></a>
</p>
<h3 id="Anchor_83955693_h3_8">Color Settings</h3>
<p>In Photoshop, the brightness of the grayscale and alpha channel depend on the Photoshop color settings. However, with Nintendo FTX, the K value is applied to the intensity (alpha) <strong>regardless of the color settings</strong>.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>For an 8-bit channel, the intensity (alpha) is <strong>255</strong> if K = 0%, <strong>128</strong> if K = 50%, and <strong>0</strong> if K = 100%.</p>
  </div>
</div>
<p>Color setting information is not saved in texture intermediate files.<br />If the color settings are configured as follows, the brightness of the grayscale and alpha channel in Photoshop is almost directly proportional to the K value.</p>
<p>Workspace &gt; <strong>RGB</strong>: <strong>sRGB IEC61966-2.1</strong><br />Workspace &gt; <strong>Gray</strong>: <strong>sGray</strong><br />Conversion Options &gt; <strong>Use Dither</strong>: Clear the check box.</p>
<h3 id="Anchor_83955693_h3_9">Mipmaps</h3>
<p>The 3D texture converter does not support texture intermediate files with separately specified mipmap images.<br />Load the texture intermediate file with the separately specified mipmap images into Photoshop and save it using the Photoshop FTX File Format plug-in to overwrite the mipmap part of the file with smaller versions of the image resized in Photoshop.</p>
<h2 id="Anchor_83955693_h2_4">Related Links</h2>
<p>
  <a href="../Pages/Page_83956012.html">Photoshop Plug-In</a>
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
