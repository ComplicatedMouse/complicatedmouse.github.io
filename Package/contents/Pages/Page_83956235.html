<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Textures | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Textures -->
<div class="pagetitle" id="PageId_83956235">Textures</div>
<div class="text_separate">
<h1 id="Anchor_83956235_h1_1">Textures</h1>
<p>This section describes the following cautions for using textures.</p>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_83956235_h2_1">Texture Names</a>
    </li>
    <li>
      <a href="#Anchor_83956235_h2_2">Referencing Textures</a>
    </li>
    <li>
      <a href="#Anchor_83956235_h2_3">Supported Maps</a>
    </li>
    <li>
      <a href="#Anchor_83956235_h2_4">Duplicate Textures</a>
    </li>
    <li>
      <a href="#Anchor_83956235_h2_5">Multi-textures</a>
    </li>
    <li>
      <a href="#Anchor_83956235_h2_6">Texture Files and Formats</a>
    </li>
    <li>
      <a href="#Anchor_83956235_h2_7">Valid Attributes</a>
    </li>
    <li>
      <a href="#Anchor_83956235_h2_8">Multi-UV</a>
    </li>
    <li>
      <a href="#Anchor_83956235_h2_9">Normal mapping</a>
    </li>
    <li>
      <a href="#Anchor_83956235_h2_10">Related Links</a>
    </li>
  </ul>
</p>
<h2 id="Anchor_83956235_h2_1">Texture Names</h2>
<p>The filename of the texture, excluding the extension, is exported as the texture name.</p>
<h2 id="Anchor_83956235_h2_2">Referencing Textures</h2>
<p>References to textures in 3ds Max are specified by absolute path, relative path, and filename.</p>
<p>When the Export plug-in references textures, the texture information is fetched from folders in the priority listed in the following section.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>
      <strong>Note:</strong> If prospective reference folders contain the same-named texture, sometimes the texture displayed in the 3ds Max view will not be the texture being exported.</p>
  </div>
</div>
<h3 id="Anchor_83956235_h3_1">Folder priority for textures referenced by the Export plug-in</h3>
<ol>
  <li>Reference the absolute path.</li>
  <li>Reference a relative path directly below or based on the project folder.</li>
  <li>Reference a relative path in the same folder as the MAX file, or based on that folder.</li>
  <li>Reference the folder specified by selecting <strong>Customize</strong> &gt; <strong>Set User Path</strong> and using the <strong>External File</strong> dialog box.</li>
</ol>
<h4 id="Anchor_83956235_h4_1">The following examples show the steps taken to reference a texture named <code>test.tga</code>.</h4>
<p>
  <strong>If the texture is specified with an absolute path (for example, c:\data\texture\test.tga)</strong>
</p>
<ol>
  <li>Reference the <code>test.tga</code> specified by the absolute path.</li>
  <li>If the file does not exist in that folder, reference the <code>test.tga</code> directly under the project folder.</li>
  <li>If the file does not exist there, reference the <code>test.tga</code> in the same folder that contains the <code>max</code> file.</li>
  <li>If the file does not exist there, reference the folder specified by <strong>Set User Path</strong>.</li>
  <li>If the file is not there either, handled this as an error.</li>
</ol>
<p>
  <strong>If the texture is specified with a relative path (for example, .\sceneassets\images\rgb.tga)</strong>
</p>
<ol>
  <li>Reference <code>test.tga</code> inside the folder specified using a relative path based on the project folder.</li>
  <li>If the file does not exist there, reference <code>test.tga</code> inside the folder specified by a relative path based on the folder that contains the <code>max</code> file.</li>
  <li>If the file does not exist there, reference the <code>test.tga</code> in the same folder that contains the <code>max</code> file.</li>
  <li>If the file does not exist there, reference the folder specified by <strong>Set User Path</strong>.</li>
  <li>If the file is not there either, handled this as an error.</li>
</ol>
<p>
  <strong>If the path is omitted and the texture is specified with a filename (for example, test.tga)</strong>
</p>
<ol>
  <li>Reference <code>test.tga</code> directly under the project folder.</li>
  <li>If the file does not exist there, reference the <code>test.tga</code> in the same folder that contains the MAX file.</li>
  <li>If the file does not exist there, reference the folder specified by <strong>Set User Path</strong>.</li>
  <li>If the file is not there either, handled this as an error.</li>
</ol>
<h2 id="Anchor_83956235_h2_3">Supported Maps</h2>
<p>The maps in all map slots assigned to a material are export targets.</p>
<p>The <strong>Bump</strong> map slot supports  Normal Bump maps. <br />The other map slots support Bitmap maps and Composite maps. <br />Other maps (such as tile, checker, and noise) are not supported.</p>
<h2 id="Anchor_83956235_h2_4">Duplicate Textures</h2>
<p>If the same texture is used multiple times inside a material, each instance is exported.</p>
<p>However, if a texture is the same as the texture used for opacity, it is not exported if it is used by another map slot.</p>
<h2 id="Anchor_83956235_h2_5">Multi-textures</h2>
<p>If you are using a &quot;blend&quot; map, a multi-texture of up to 256 textures can be set.</p>
<p>These are exported in intermediate files starting from the top layer.</p>
<p>
  <a name="Anchor_83956235_tex_format"></a>
</p>
<h2 id="Anchor_83956235_h2_6">Texture Files and Formats</h2>
<p>TGA and DDS files are supported for texture files.</p>
<p>Only the following formats are supported for DDS files: R8G8B8, A8R8G8B8, A16B16G16R16F, and A32B32G32R32F.</p>
<p>Mipmap data that may be present in the texture file is not applied in these files. Mipmaps are created by compressing the highest level image at the time of export.</p>
<p>The texture image width and height must be 8192 pixels or less.</p>
<p>The texture format is automatically determined based on the following rules. At this time, texture images having an 8-bit alpha value of 255 are treated as opaque, those with a value of 0 are treated as transparent, and those with a value ranging from 1 to 254 are treated as translucent.</p>
<ul>
  <li>If R = G = B for all texels:<ul><li>All texels are opaque &rarr; unorm_bc4</li><li>Both transparent and translucent texels are present &rarr; unorm_bc5</li></ul></li>
  <li>If there are texels for which R = G = B is not true:<ul><li>All texels are opaque &rarr; unorm_bc1 or srgb_bc1</li><li>Transparent texels are present, but there are no translucent ones (missing texture) &rarr; unorm_bc1or srgb_bc1</li><li>Translucent texels are present &rarr; unorm_bc3 or srgb_bc3</li></ul></li>
</ul>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The snorm_bc5 format is always used for normal map textures.<br /><code>float_16_16_16_16</code> is always used as the format for real number texture files.</p>
  </div>
</div>
<h2 id="Anchor_83956235_h2_7">Valid Attributes</h2>
<p>Among the Coordinates settings, the following parameters are applied in the intermediate file when exporting:</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83956235/83080287.png" class="embedded-image" />
  </span>
</p>
<p>You can include the settings for <strong>Offset U,V</strong>, <strong>Tiling U,V</strong>, and <strong>Angle W</strong> in the texture matrix inside the intermediate file.<br /> Select <strong>UV</strong> for <strong>UV</strong>, <strong>VW</strong>, and <strong>WU</strong>. There is no support for <strong>VW</strong> and <strong>WU</strong>. There is no support for Angle U or Angle V. Be sure to set <strong>0.0</strong>.</p>
<p>The <strong>Tile</strong> settings are included in the intermediate file.</p>
<p>There is no support for Blur or Blur offset.</p>
<p>
  <a name="Anchor_83956235_multiple_uv"></a>
</p>
<h2 id="Anchor_83956235_h2_8">Multi-UV</h2>
<p>Map channels used by textures and map channels having names that start with <code>nw4f_uv</code> or <code>nw4f_fix</code> are exported as texture coordinates in the intermediate file. Up to eight sets per vertex can be exported for texture coordinates.</p>
<p>Map channels used by textures assigned to map slots of a material are assigned in the order they appear in the <code>&lt;vtx_attrib&gt;</code> element of the intermediate file, starting with <code>hint</code> <code>uv0</code>. (Only one map channel is exported when more than one texture shares the same map channel.)<br /> However, you can explicitly set a <code>hint</code> by setting the map channel name to <code>nw4f_fixN</code>.</p>
<p>If a composite map is used, map channels used by a texture are assigned in order from the top.<br /> After the map channels being used are assigned, map channels not being used are assigned in alphabetical order starting from <code>nw4f_uv</code> or <code>nw4f_fix_</code>.<br /> If a map channel name starts with <code>nw4f_fix_</code>, the part of the string after <code>nw4f_fix_</code> is used for <code>name</code> under <code>&lt;vtx_attrib&gt;</code>.</p>
<p>
  <code>&lt;vtx_attrib&gt;</code> is output in ascending order of <code>hint</code>.</p>
<p>For example, map channels would be assigned as follows if map channel 1 is used for diffuse color, map channel 5 is used for opacity, <code>nw4f_uv_a</code> is the name of unused map channels 6, and <code>nw4f_uv_b</code> is the name of unused map channel 3.</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th colspan="3">3ds Max</th>
      <td rowspan="6">-&gt;</td>
      <th colspan="2">&lt;vtx_attrib&gt;</th>
    </tr>
    <tr>
      <th>Map Channel</th>
      <th>Use</th>
      <th>Map Channel Name</th>
      <th> hint</th>
      <th>name</th>
    </tr>
    <tr>
      <td>1</td>
      <td>Diffuse color</td>
      <td>
        <br />
      </td>
      <td>uv0</td>
      <td>_u0</td>
    </tr>
    <tr>
      <td>3.</td>
      <td>X</td>
      <td>nw4f_uv_b</td>
      <td>uv3</td>
      <td>_u3</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Opacity</td>
      <td>
        <br />
      </td>
      <td>uv1</td>
      <td>_u1</td>
    </tr>
    <tr>
      <td>6</td>
      <td>X</td>
      <td class="highlight-grey">nw4f_uv_a</td>
      <td>uv2</td>
      <td>_u2</td>
    </tr>
  </tbody>
</table>
<p>If you use a name starting with <code>nw4f_fixN</code> (where <code>N</code> is an integer between 0 and 254) for the map channel, you can directly specify the assignment for <code>hint</code> of <code>&lt;vtx_attrib&gt;</code>.<br /> For example, if the map channel is named <code>nw4f_fix3</code>, <code>hint</code> is exported as <code>uv3</code>.<br /> If you use map channels with names starting with <code>nw4f_fixN</code>, be sure the names of map channels used by a texture are shared by all objects.<br /> Map channels with names that do not start with <code>nw4f_fixN</code> are assigned to empty hints in order from the beginning.<br /> If a map channel name starts with <code>nw4f_fix_</code>, the part of the string after <code>nw4f_fixN_</code> is used for <code>name</code> under <code>&lt;vtx_attrib&gt;</code>.</p>
<p>For example, names are assigned as follows when Map Channel 1 is used for the diffuse color, Map Channel 2 is named <code>nw4f_fix_decal</code>, Map Channel 3 is named <code>nw4f_fix0</code>, and Map Channel 4 is named <code>nw4f_fix7_bake</code>) and they all exist.</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th colspan="3">3ds Max</th>
      <td rowspan="6">-&gt;</td>
      <th colspan="2">&lt;vtx_attrib&gt;</th>
    </tr>
    <tr>
      <th>Map Channel</th>
      <th>Use</th>
      <th>Map Channel Name</th>
      <th> hint</th>
      <th>name</th>
    </tr>
    <tr>
      <td>1</td>
      <td>Diffuse color</td>
      <td>
        <br />
      </td>
      <td>uv1</td>
      <td>_u1</td>
    </tr>
    <tr>
      <td>2</td>
      <td>X</td>
      <td>nw4f_fix_decal</td>
      <td>uv2</td>
      <td>decal</td>
    </tr>
    <tr>
      <td>3.</td>
      <td>X</td>
      <td>nw4f_fix0</td>
      <td>uv0</td>
      <td>_u0</td>
    </tr>
    <tr>
      <td>4</td>
      <td>X</td>
      <td>nw4f_fix7_bake</td>
      <td>uv7</td>
      <td>bake</td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>The <code>hint</code> attributes of <code>&lt;vtx_attrib&gt;</code> are set in the following order.</p>
    <ul>
      <li>Map channels having names starting with <code>nw4f_fixN</code>. (Set with <code>hint</code> fixed to <code>N</code>.)</li>
      <li>Map channels used by the texture. (Set starting from the lowest <code>hint</code> not used so far.)</li>
      <li>Map channels having names starting with <code>nw4f_fix_</code>. (Set starting from the lowest <code>hint</code> not used so far.)</li>
      <li>Map channels having names starting with <code>nw4f_uv</code>. (Set starting from the lowest <code>hint</code> not used so far.)</li>
    </ul>
  </div>
</div>
<p>
  <a name="Anchor_83956235_normal_mapping"></a>
</p>
<h2 id="Anchor_83956235_h2_9">Normal mapping</h2>
<p>The procedure to set normal mapping for NintendoWare with 3ds Max is the same as the standard procedure to set normal mapping.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>NintendoWare uses normal map textures that are defined in tangent space.</p>
  </div>
</div>
<p>To set normal mapping, put Normal Bump in the material's Bump Map slot and specify a normal map texture.</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83956235/83080286.png" class="embedded-image" />
  </span>
</p>
<p>When setting normal maps, tangent vectors and binormal vectors corresponding to the map channel of the normal map texture are output.</p>
<h2 id="Anchor_83956235_h2_10">Related Links</h2>
<p>
  <a href="../Pages/Page_83956248.html">Modeling</a>
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
