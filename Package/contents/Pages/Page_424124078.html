<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Data Delivery Feature | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Data Delivery Feature -->
<div class="pagetitle" id="PageId_424124078">Data Delivery Feature</div>
<div class="text_separate">
<p>Use the <code>bcat</code> command.</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ RunOnTarget.exe DevMenuCommand.nsp -- bcat --help
usage:
  * delivery-cache
       DevMenuCommand bcat sync-delivery-cache &lt;application_id&gt;
       DevMenuCommand bcat dump-delivery-cache-storage &lt;application_id&gt;
       DevMenuCommand bcat delete-delivery-cache-storage &lt;application_id&gt;
  * application
       DevMenuCommand bcat get-info &lt;application_id&gt;
  * log
       DevMenuCommand bcat dump-push-notification-log
[SUCCESS]</pre>
  </div>
</div>
<h1 id="Anchor_424124078_h1_1">Immediate Synchronization</h1>
<p>This command immediately synchronizes the specified application (see note).</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ RunOnTarget.exe DevMenuCommand.nsp -- bcat sync-delivery-cache 0x0100bc90020e4000
SubmitNetworkRequestAndWait ...
SubmitNetworkRequestAndWait done!
Progress: status = queued
Progress: status = process list
Progress: status = download, current = (dir2/file1.txt, 0/5), whole = (5/4194319)
Progress: status = commit, current = (dir2), whole = (15/4194319)
Progress: status = download, current = (dir3/4mb.bin, 0/4194304), whole = (15/4194319)
Progress: status = download, current = (dir3/4mb.bin, 83326/4194304), whole = (83341/4194319)
Progress: status = download, current = (dir3/4mb.bin, 574846/4194304), whole = (574861/4194319)
Progress: status = download, current = (dir3/4mb.bin, 1049982/4194304), whole = (1049997/4194319)
Progress: status = download, current = (dir3/4mb.bin, 1525118/4194304), whole = (1525133/4194319)
Progress: status = download, current = (dir3/4mb.bin, 2016638/4194304), whole = (2016653/4194319)
Progress: status = download, current = (dir3/4mb.bin, 2491774/4194304), whole = (2491789/4194319)
Progress: status = download, current = (dir3/4mb.bin, 2966910/4194304), whole = (2966925/4194319)
Progress: status = download, current = (dir3/4mb.bin, 3442046/4194304), whole = (3442061/4194319)
Progress: status = download, current = (dir3/4mb.bin, 3917182/4194304), whole = (3917197/4194319)
Progress: status = commit, current = (dir3), whole = (4194319/4194319)
Progress: status = done, whole = (4194319/4194319)
[SUCCESS]</pre>
  </div>
</div>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>
      <strong>Note</strong>: Before running this command, start the pertinent application and call <code><span class="ApiLink_nn__bcat__Initialize">nn::bcat::Initialize</span></code> to perform the initialization process.</p>
  </div>
</div>
<h1 id="Anchor_424124078_h1_2">Checking the Content of Data Delivery Cache Storage</h1>
<p>Use this command to check the content of the specified application's data delivery cache storage.</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ RunOnTarget.exe DevMenuCommand.nsp -- bcat dump-delivery-cache-storage 0x0100bc90020e4000
----------------------------------------------------------------------------------------------------
- dir1
    -                        file1.txt, f6a6263167c92de8644ac998b3c4e4d1, 5
- dir2
    -                        file1.txt, 87c7d4068be07d390a1fffd21bf1e944, 5
    -                        file2.txt, e86a1cf0678099986a901c79086f5617, 5
- dir3
    -                          4mb.bin, 959b3dcde5fb72dd95222431efa2a363, 4194304
----------------------------------------------------------------------------------------------------
[SUCCESS]</pre>
  </div>
</div>
<p>The file information includes the following information.</p>
<ul>
  <li>Filename</li>
  <li>The file's digest value.</li>
  <li>The size of the file.</li>
</ul>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>You cannot check this content during background synchronization.</p>
  </div>
</div>
<h1 id="Anchor_424124078_h1_3">Deleting Data Delivery Cache Storage</h1>
<p>Use this command to delete the content of the specified application's data delivery cache storage.</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ RunOnTarget.exe DevMenuCommand.nsp -- bcat delete-delivery-cache-storage 0x0100bc90020e4000
[SUCCESS]</pre>
  </div>
</div>
<h1 id="Anchor_424124078_h1_4">Checking the Application Information</h1>
<p>Use this command to check the information related to data delivery for the specified application.<br />This can be used to check the state of background synchronization.</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ RunOnTarget.exe DevMenuCommand.nsp -- bcat get-info 0x0100bc90020e4000
----------------------------------------------------------------------------------------------------
TaskInfo
----------------------------------------------------------------------------------------------------
ApplicationID:
    0x0100bc90020e4000
ApplicationVersion:
    0
Status:
    Done
LastRunTime:
    2017-05-12 15:56:12 (JST)
RegistrationTime:
    2017-05-12 15:55:36 (JST)
Diagnostics:
    The background sync is available.
----------------------------------------------------------------------------------------------------
[SUCCESS]</pre>
  </div>
</div>
<h1 id="Anchor_424124078_h1_5">Checking the Notification Log</h1>
<p>Use this command to check the log of received notifications that trigger the process of background synchronization. (Up to 32 of the latest notifications.)<br />This log of received notifications is not recorded in system memory, so it will be lost if power is interrupted.</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ RunOnTarget.exe DevMenuCommand.nsp -- bcat dump-push-notification-log
----------------------------------------------------------------------------------------------------
2017-05-12 15:59:28 (JST) 0x0100bc90020e4000
2017-05-12 15:55:36 (JST) 0x0100bc90020e4000
----------------------------------------------------------------------------------------------------
[SUCCESS]</pre>
  </div>
</div>
<p>The notification log contains the following information.</p>
<ul>
  <li>The time when the notification was received.</li>
  <li>The ID of the application to which the notification pertains.</li>
</ul>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>Notifications arrive regardless of whether there is an update to the delivery data.<br />If there is no update, background synchronization will not begin when a notification is received.</p>
  </div>
</div>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ RunOnTarget.exe DevMenuCommand.nsp -- time get-location-name
Asia/Tokyo
[SUCCESS]</pre>
  </div>
</div>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__bcat__Initialize', '../../../Api/HtmlNX/namespacenn_1_1bcat.html#a65f8528327b457c8927b691ba6bee806' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
