<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Using NintendoSDK With an Existing Visual C++ Project | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Using NintendoSDK With an Existing Visual C++ Project -->
<div class="pagetitle" id="PageId_89982143">Using NintendoSDK With an Existing Visual C++ Project</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_89982143_h1_1">Introduction</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_89982143_h2_1">About This Page</a>
      </li>
      <li>
        <a href="#Anchor_89982143_h2_2">Limitations</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_89982143_h1_2">Setting Up the Project Configuration</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_89982143_h2_3">Defining the NintendoSdkRoot Property</a>
      </li>
      <li>
        <a href="#Anchor_89982143_h2_4">Defining the NintendoSdkSpec Property</a>
      </li>
      <li>
        <a href="#Anchor_89982143_h2_5">Defining the NintendoSdkBuildType Property</a>
      </li>
      <li>
        <a href="#Anchor_89982143_h2_6">Importing the Build\Vc\NintendoSdkVcProjectSettings.props Property Sheet</a>
      </li>
      <li>
        <a href="#Anchor_89982143_h2_7">Example Configurations</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_89982143_h1_3">Adding Project Configurations for the NX Development Hardware to a Windows Project</a>
    </li>
    <li>
      <a href="#Anchor_89982143_h1_4">Utility for Configuring the Project Settings</a>
    </li>
    <li>
      <a href="#Anchor_89982143_h1_5">Notes</a>
    </li>
  </ul>
</p>
<h1 id="Anchor_89982143_h1_1">Introduction</h1>
<h2 id="Anchor_89982143_h2_1">About This Page</h2>
<p>This page describes how to configure an existing Visual C++ project to build an application or library using NintendoSDK.</p>
<h2 id="Anchor_89982143_h2_2">Limitations</h2>
<p>To use this method, the project configuration for your Visual C++ project must satisfy all of the following conditions. The use of NintendoSDK with project configurations that do not satisfy these conditions is not supported.</p>
<ul>
  <li>Use one of the following platforms.<ul><li>Win32</li><li>x64</li></ul></li>
  <li>Use one of the following configuration types.<ul><li>Application (<code>.exe</code>)</li><li>Static library (<code>.lib</code>)</li></ul></li>
  <li>Use one of the following platform tool sets.<br /><ul><li>Visual Studio 2017 (v141)</li><li>Visual Studio 2019 (v142)</li></ul></li>
</ul>
<h1 id="Anchor_89982143_h1_2">Setting Up the Project Configuration</h1>
<p>To use NintendoSDK with an existing Visual C++ project, you must configure the following four settings.</p>
<ol>
  <li>Define the <code>NintendoSdkRoot</code> property.</li>
  <li>Define the <code>NintendoSdkSpec</code> property.</li>
  <li>Define the <code>NintendoSdkBuildType</code> property.</li>
  <li>Import the <code>Build\Vc\NintendoSdkVcProjectSettings.props</code> property sheet.</li>
</ol>
<h2 id="Anchor_89982143_h2_3">Defining the NintendoSdkRoot Property</h2>
<p>The <code>NintendoSdkRoot</code> property specifies the path for the NintendoSDK to use with the project. For <code>NintendoSdkRoot</code>, specify the path to the NintendoSDK directory.</p>
<h2 id="Anchor_89982143_h2_4">Defining the NintendoSdkSpec Property</h2>
<p>The <code>NintendoSdkSpec</code> property specifies which NintendoSDK API set to use with the project.</p>
<p>If the project uses shared packages, you must set this property to <strong>Generic</strong> to indicate the general-purpose API set.</p>
<div class="platform_nx">
  <p>If the project is using the NX Add-On packages, you can set this property to <strong>NX</strong> to indicate the NX API set. When building for the NX development hardware environment or its Windows compatible environment, select <strong>NX</strong>.</p>
</div>
<!--Remove-->
<h2 id="Anchor_89982143_h2_5">Defining the NintendoSdkBuildType Property</h2>
<p>The <code>NintendoSdkBuildType</code> property specifies the NintendoSDK build type to use with the project. For more information, see <a href="../Pages/Page_106361459.html">Build Targets and Build Types</a>.</p>
<p>It can be set to any of the following values.</p>
<ul>
  <li>Debug</li>
  <li>Develop</li>
  <li>Release</li>
</ul>
<h2 id="Anchor_89982143_h2_6">Importing the Build\Vc\NintendoSdkVcProjectSettings.props Property Sheet<a name="Anchor_89982143_NintendoSdkVcProjectSettings"></a></h2>
<p>The <code>NintendoSdkVcProjectSettings.props</code> property sheet defines the build settings that are required in order to use NintendoSDK. This property sheet is located in the following directory of the NintendoSDK package.</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>Build\Vc\NintendoSdkVcProjectSettings.props</pre>
  </div>
</div>
<p>After you have defined the <code>NintendoSdkRoot</code>, <code>NintendoSdkSpec</code>, and <code>NintendoSdkBuildType</code> properties, import this property sheet after <code>Microsoft.Cpp.props</code> but before <code>Microsoft.Cpp.targets</code>.</p>
<h2 id="Anchor_89982143_h2_7">Example Configurations</h2>
<p>The following sample provides examples of property definitions and importing a property sheet.</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre><span class="err">&lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;? &gt;
<span class="nt">&lt;Project</span> <span class="na">ToolsVersion=</span><span class="s">&quot;4.0&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://schemas.microsoft.com/developer/msbuild/2003&quot;</span><span class="nt">&gt;</span>

&nbsp;&nbsp;<span class="nt">&lt;PropertyGroup&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;NintendoSdkRoot&gt;</span>$(NINTENDO_SDK_ROOT)<span class="nt">&lt;/NintendoSdkRoot&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;NintendoSdkSpec&gt;</span>Generic<span class="nt">&lt;/NintendoSdkSpec&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;NintendoSdkBuildType</span> <span class="na">Condition=</span><span class="s">&quot;'$(Configuration)'=='Debug'&quot;</span><span class="nt">&gt;</span>Debug<span class="nt">&lt;/NintendoSdkBuildType&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&lt;NintendoSdkBuildType</span> <span class="na">Condition=</span><span class="s">&quot;'$(Configuration)'=='Release'&quot;</span><span class="nt">&gt;</span>Release<span class="nt">&lt;/NintendoSdkBuildType&gt;</span>
&nbsp;&nbsp;<span class="nt">&lt;/PropertyGroup&gt;</span>

&nbsp;&nbsp;<span class="nt">&lt;Import</span> <span class="na">Project=</span><span class="s">&quot;$(VCTargetsPath)\Microsoft.Cpp.props&quot;</span> <span class="nt">/&gt;</span>

&nbsp;&nbsp;<span class="nt">&lt;Import</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="na">Project=</span><span class="s">&quot;$(NintendoSdkRoot)\Build\Vc\NintendoSdkVcProjectSettings.props&quot;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="na">Condition=</span><span class="s">&quot;('$(NintendoSdkRoot)' != '') and Exists('$(NintendoSdkRoot)\Build\Vc\NintendoSdkVcProjectSettings.props')&quot;</span> <span class="nt">/&gt;</span>

&nbsp;&nbsp;<span class="nt">&lt;Import</span> <span class="na">Project=</span><span class="s">&quot;$(VCTargetsPath)\Microsoft.Cpp.targets&quot;</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/Project&gt;</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="platform_nx">
  <h1 id="Anchor_89982143_h1_3">Adding Project Configurations for the NX Development Hardware to a Windows Project</h1>
  <p>If NintendoSDK VSI for NX is installed for Visual Studio, you can select NX32 and NX64 as project platforms. These are the platforms for building the 32-bit and 64-bit binary for the NX development hardware.</p>
  <p>To add project configurations for the NX development hardware to an existing Visual C++ project, use the Visual Studio Configuration Manager to add the NX32 and NX64 platforms to the project. Use the NintendoSDK build system to configure the settings to do the builds for these platforms. The procedure is the same as was described previously. You must configure the following four settings for each project configuration.</p>
  <ol>
    <li>Define the <code>NintendoSdkRoot</code> property.</li>
    <li>Define the <code>NintendoSdkSpec</code> property.</li>
    <li>Define the <code>NintendoSdkBuildType</code> property.</li>
    <li>Import the <code>Build\Vc\NintendoSdkVcProjectSettings.props</code> property sheet.</li>
  </ol>
  <p>Make sure that you select <strong>NX</strong> as the value for <code>NintendoSdkSpec</code>.</p>
  <p>The procedure is described as an example, in the style of a tutorial, in <a href="../Pages/Page_107781939.html">Adding NX Development Hardware Platforms to an Existing Visual C++ Project</a>.</p>
  <div class="info_new">
    <div class="info_new_left">Info</div>
    <div class="info_new_right">
      <p>If the build does not go correctly using the project configuration for the NX development hardware, confirm that build settings for the Windows environment are not included in the project configuration settings. The following points require particular attention.</p>
      <ul>
        <li>Confirm that preprocessor macros, include directories, library directories and the like are set for the NX development hardware.</li>
        <li>The structure of the library files provided by NintendoSDK for the Windows environment differs from the structure for the NX development hardware environment. For more information about the libraries provided in both environments, see <a href="../Pages/Page_95685382.html">How the Libraries Are Provided and How to Use Them</a>.</li>
        <li>The files of the static libraries for the NX development hardware environment have the <code>.a</code> filename extension. Note that this differs from the <code>.lib</code> extension of the files for the Windows environment.</li>
      </ul>
    </div>
  </div>
</div>
<h1 id="Anchor_89982143_h1_4">Utility for Configuring the Project Settings</h1>
<p>The NintendoSDK build system provides the NintendoSDK Configuration Manager as a utility for configuring the project settings.</p>
<p>NintendoSDK Configuration Manager is a Visual Studio extension for configuring the project settings.</p>
<p>For information about installing and using this utility, see <a href="../Pages/Page_126573838.html">NintendoSDK Configuration Manager</a>. The procedure is described in the style of a tutorial in <a href="../Pages/Page_107783427.html">Adding a Configuration for NintendoSDK to an Existing Visual C++ Project</a>.</p>
<h1 id="Anchor_89982143_h1_5">Notes</h1>
<p>Visual C++ runtimes that use NintendoSDK are presented in <a href="../Pages/Page_106361459.html">Build Targets and Build Types</a>. Make sure that you use a Visual C++ runtime that conforms. To use the <strong>Debug</strong> version of the Visual C++ runtime, you must define the <code>_DEBUG</code> macro. To use the <strong>Release</strong> version of the Visual C++ runtime, the <code>_DEBUG</code> macro must not be defined.</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
