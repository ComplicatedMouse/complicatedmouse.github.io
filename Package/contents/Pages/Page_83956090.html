<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Stream Sounds | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Stream Sounds -->
<div class="pagetitle" id="PageId_83956090">Stream Sounds</div>
<div class="text_separate">
<p>
  <br />
</p>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_83956090_h2_1">Creating and Adding Stream Sounds</a>
    </li>
    <li>
      <a href="#Anchor_83956090_h2_2">Editing Stream Sounds</a>
    </li>
    <li>
      <a href="#Anchor_83956090_h2_3">Defined Elements in the Stream Sound List</a>
    </li>
    <li>
      <a href="#Anchor_83956090_h2_4">Stream Sound Track Settings</a>
    </li>
    <li>
      <a href="#Anchor_83956090_h2_5">Editing Stream Sound Tracks</a>
    </li>
    <li>
      <a href="#Anchor_83956090_h2_6">Definition Elements for the Stream Sound Track List Only</a>
    </li>
    <li>
      <a href="#Anchor_83956090_h2_7">Pre-Fetching Stream Sounds</a>
    </li>
    <li>
      <a href="#Anchor_83956090_h2_8">Compressed Audio Support</a>
    </li>
  </ul>
</p>
<h1 id="Anchor_83956090_h1_1">Stream Sounds</h1>
<p>Select the <strong>Stream Sound</strong> node in the project tree to show the stream sounds on the <strong>Sound Set</strong> tab.<br />The list is split and displayed in upper and lower sections on the <strong>Sound Set</strong> tab.<br />The upper part of this split tab is called the <strong>Stream Sound List</strong>, and the lower part is called the <strong>Stream Sound Track List</strong>.</p>
<h2 id="Anchor_83956090_h2_1">Creating and Adding Stream Sounds</h2>
<p>To create or add a stream sound, on the <strong>Sound Set</strong> tab, select the list, and then select <strong>Project</strong> &gt; <strong>Add Item</strong> &gt; <strong>Stream Sound</strong>.</p>
<p>You can also create or add a stream sound by right-clicking the <strong>Stream Sound List</strong> and using the shortcut menu that appears.</p>
<h2 id="Anchor_83956090_h2_2">Editing Stream Sounds</h2>
<p>Stream sounds are edited from the <strong>Stream Sound List</strong>.<br />The columns in the <strong>Stream Sound List</strong> show the defined elements that are essential to the stream sound. These correspond to the elements that are essential for the stream sound data in the Sound archive.</p>
<h2 id="Anchor_83956090_h2_3">Defined Elements in the Stream Sound List</h2>
<p>This section describes the defined elements in the <strong>Stream Sound List</strong>.</p>
<h3 id="Anchor_83956090_h3_1">Play</h3>
<p>Clicking this button registers the selected sound in the Preview Player window, and triggers playback of stream sound.</p>
<h3 id="Anchor_83956090_h3_2">Name</h3>
<p>Specifies the name of the stream sound. This name is for the stream sound that the program plays with the Atk library from the ultimately created sound archive.<br />The characters that can be used in a name are restricted. The following characters can be used:</p>
<ul>
  <li>Single-byte alphabetic characters and the underscore [a-z, A-Z, _] for the first character</li>
  <li>Single-byte alphanumeric characters and the underscore [a-z, A-Z, 0-9_] for subsequent characters</li>
</ul>
<h3 id="Anchor_83956090_h3_3">Compression Format</h3>
<p>Specifies the compression format that is used by the converter to convert reference waveform files.</p>
<ul>
  <li>
    <strong>ADPCM</strong>  Converts the waveform file to the proprietary ADPCM format.</li>
  <li>
    <strong>PCM16</strong>  Converts the file to 16-bit PCM data.</li>
</ul>
<h3 id="Anchor_83956090_h3_4">File path</h3>
<p>Specifies the wave file to reference when you create a stream sound.</p>
<p>The characters that can be used in a filename or path name are restricted. The following characters can be used.</p>
<ul>
  <li>Single-byte alphabetic characters and the underscore [a-z, A-Z, _] for the first character of the filename.</li>
  <li>Single-byte alphanumeric characters and the underscore [a-z, A-Z, 0-9, _] for subsequent characters in the filename.</li>
</ul>
<h3 id="Anchor_83956090_h3_5">Playback time</h3>
<p>Displays the playback time for sounds (the length of the waveform data expressed as time).<br />The units are displayed in <em>mm:ss. ms</em> and the value in milliseconds are rounded to the second digit.</p>
<p>For looped waveform data, this shows the time to the end of the loop, not the length of the waveform itself.<br />In addition, an <strong>L</strong> is displayed at the front of the cell.</p>
<p>The longest playback time for the waveform files added to the stream sound tracks appears when multiple stream sound tracks are configured.</p>
<h3 id="Anchor_83956090_h3_6">Downsampling</h3>
<p>Specifies whether downsampling is enabled or disabled.</p>
<p>You can downsample and include waveform files in the sound archive, using the value specified as the sample rate, without changing that original waveform file, when this option is enabled.</p>
<p>Opus files are an exception. Downsampling is disabled when an Opus file is specified.<br /></p>
<h3 id="Anchor_83956090_h3_7">Sample Rate</h3>
<p>Displays the sample rate of the waveform file when downsampling is disabled.</p>
<p>The downsampling value can be specified in a range from 2,000 to 192,000 Hz when downsampling is enabled.</p>
<h3 id="Anchor_83956090_h3_8">Bit Rate</h3>
<p>Displays the bit rate of the waveform file.</p>
<h3 id="Anchor_83956090_h3_9">Number of Quantization Bits</h3>
<p>Displays the quantifying bit number of the waveform file.</p>
<h3 id="Anchor_83956090_h3_10">Number of Channels</h3>
<p>If there are one or two waveform channels, either <strong>Mono</strong> or <strong>Stereo</strong> appears.<br />If there are three or more channels, just the number of channels appears.</p>
<h3 id="Anchor_83956090_h3_11">Downmixing</h3>
<p>This feature enables and disables downmixing.</p>
<p>When enabled, this feature downmixes stereo into mono without changing the original waveform, and includes it in the sound archive.</p>
<p>Opus files are an exception. When specified, downmixing is disabled.</p>
<h3 id="Anchor_83956090_h3_12">Volume</h3>
<p>Specifies the volume (from <code>0</code> to <code>255</code>) to use when the Atk library plays the stream sound.</p>
<p>If sound data volume is set to <code>127</code>, playback is at the same volume (1.0 times) as the source data.</p>
<p>However, volume can be set in many ways (data or program).<br />The result after all setting values are applied is clamped between 0.0 times and 2.0 times the source volume.<br />For more information, see Sound Parameter Control Operations in the <em><a href="../Pages/Page_83955829.html">Sound System Manual</a></em>.</p>
<h3 id="Anchor_83956090_h3_13">Average Loudness Value</h3>
<p>To display the average loudness value, you can right-click an item and select <strong>Measure average loudness value</strong> from the shortcut menu.</p>
<h3 id="Anchor_83956090_h3_14">Player Priority</h3>
<p>Specifies the player priority of the stream sound as a value from 0 through 127. The higher the value, the higher the priority.<br /><strong>Player Priority</strong> indicates which sounds to play (or stop) when the player attempts to play more than its sound limit, or more than the maximum number of sounds and tracks as configured in the system settings.<br />For more information, see the <a href="../Pages/Page_83956106.html">Sound System Manual</a>.</p>
<h3 id="Anchor_83956090_h3_15">Player</h3>
<p>Specifies the player to use when voicing a stream sound.</p>
<h3 id="Anchor_83956090_h3_16">Actor Players</h3>
<p>The values <code>0</code> through <code>3</code> represent the four types of actor players to play.<br />Because actor players correspond to a real-world sound source or, specifically, the vocal chords of a particular voice, you can limit the number of sounds that can be played at the same time for each actor player.<br />Just as with a player, if the specified number of sounds is exceeded, the player priority set for each sound is compared, and the sound with the lowest priority is stopped. The initial value of the number of restricted sounds for each actor player is unlimited for actor player number <code>0</code>, and <code>1</code> for actor player numbers <code>1</code> through <code>3</code>.</p>
<p>Actor players are mainly used in conjunction with 3D sound actors.<br />As an example, use actor players when you want to suppress the playback of a sound at the actor level in situations where the same sound might be played simultaneously by multiple 3D sound actors.</p>
<h3 id="Anchor_83956090_h3_17">Single Playback</h3>
<p>Specifies the control mode for single playback.</p>
<p>Use <strong>Single playback</strong> to control playback so only one instance of a particular sound is played at the same time on the same player. You can specify any of the five following modes as the control method to control what happens when a particular sound is playing and the same sound plays once.</p>
<ul>
  <li>Do nothing (the default)<br />The playing instance of the sound and the new instance of the sound both play.</li>
  <li>Last note priority<br />The playing sound stops and the new instance of the sound plays.</li>
  <li>Last note within time priority<br />The same controls as those from <strong>Last note priority</strong> are applied if the time that has elapsed since the start of the first sound falls within the period specified in the <strong>Single playback time</strong> column. Controls are same as when single playback is not used when outside the time.</li>
  <li>First note priority<br />The playing sound continues to play and the new instance of the sound fails to play.</li>
  <li>First note within time priority<br />The same controls as those from <strong>First note priority</strong> are applied if the time that has elapsed since the start of the first sound falls within the period specified in the <strong>Single playback time</strong> column. Controls are same as when single playback is not used when outside the time.</li>
</ul>
<h3 id="Anchor_83956090_h3_18">Single Playback Time</h3>
<p>If either <strong>Last note within time priority</strong> or <strong>First note within time priority</strong> has been specified as the control mode, this option is used to specify, in milliseconds, the duration of time to enable control over single playback.</p>
<h3 id="Anchor_83956090_h3_19">3D Vol</h3>
<p>Sets whether 3D sound volume control is applied.<br />Clear this check box to disable 3D sound volume control for sounds.</p>
<h3 id="Anchor_83956090_h3_20">3D Pan</h3>
<p>Sets whether 3D sound pan control is applied.<br />Clear this check box to disable 3D sound pan control for sounds.</p>
<h3 id="Anchor_83956090_h3_21">3D SPan</h3>
<p>Sets whether 3D sound surround pan control is applied.<br />Clear this check box to disable 3D sound surround pan control for sounds.</p>
<h3 id="Anchor_83956090_h3_22">3D Pri</h3>
<p>Sets whether 3D sound player priority control is applied.<br />Clear this check box to disable 3D sound player priority control for sounds.</p>
<h3 id="Anchor_83956090_h3_23">3D Filter</h3>
<p>Sets whether the 3D sound <code>Biquad</code> filter control is applied.<br />Select this item to enable the 3D sound <code>Biquad</code> filter controls for sounds.</p>
<h3 id="Anchor_83956090_h3_24">3D Attenuation Curve</h3>
<p>Selects the volume attenuation system to apply to 3D sounds.</p>
<h3 id="Anchor_83956090_h3_25">3D Attenuation Ratio</h3>
<p>Selects the volume attenuation ratio to apply to 3D sounds.</p>
<h3 id="Anchor_83956090_h3_26">3D Doppler Factor</h3>
<p>Sets the Doppler effect to perform by the 3D sound.<br />Sets the pitch variation of the Doppler effect as a value in the range from <code>0</code> through <code>255</code>.<br />The default value is <code>0</code>. The larger the value, the greater the change in pitch. A value of <code>0</code> represents absolutely no change in pitch.</p>
<h3 id="Anchor_83956090_h3_27">Pan Mode</h3>
<p>Select <strong>Dual</strong> or <strong>Balance</strong> as the pan operational mode for stereo waveforms.<br /><strong>Balance</strong> is the mode in which the left and right audio volume balance is adjusted, and <strong>Dual</strong> is the mode in which pan is set by using the left and right channels as separate monaural voices.</p>
<p>For more information about setting and using pan modes, see the Pan Operations  section in the <em><a href="../Pages/Page_83955834.html">Sound System Manual</a></em>.</p>
<h3 id="Anchor_83956090_h3_28">Pan Curve</h3>
<p>Pan curve sets the type of attenuation curve used to determine the audio volume on the left and right channels during pan operations.</p>
<p>For more information about setting and using pan curves, see the <a href="../Pages/Page_83955834.html">Pan Operations</a> section in the <em>Sound System Manual</em>.</p>
<h3 id="Anchor_83956090_h3_29">Pitch</h3>
<p>Specifies the pitch (as a scaling factor) to use when the Atk library plays the stream sound.</p>
<p>You cannot enter a number smaller than <code>0.00001</code>.<br />When batch editing files, values less than <code>0.00001</code> are corrected to <code>0.00001</code>.</p>
<h3 id="Anchor_83956090_h3_30">Send AUX_A</h3>
<p>Specifies the send amount for auxiliary bus <code>A</code> as a value from <code>0</code> through <code>127</code>.</p>
<h3 id="Anchor_83956090_h3_31">Send AUX_B</h3>
<p>Specifies the send amount for auxiliary bus <code>B</code> as a value from <code>0</code> through <code>127</code>.</p>
<h3 id="Anchor_83956090_h3_32">Send AUX_C</h3>
<p>Specifies the send amount for auxiliary bus <code>C</code> as a value from <code>0</code> through <code>127</code>.</p>
<h3 id="Anchor_83956090_h3_33">Send MAIN</h3>
<p>Specifies the send amount for the main bus as a value from 0 through 127.</p>
<p>The send amount for the auxiliary and main buses is mixed as shown in the following schematic.<br />You can create sounds with just the auxiliary bus (effect) components by setting the value of send <code>MAIN</code> to <code>0</code>.</p>
<p> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83956090/124257333.gif" width="300" class="embedded-image" /></span></p>
<h3 id="Anchor_83956090_h3_34">User Parameters</h3>
<p>Configures the 32-bit numerical value that the user is free to set.</p>
<p>To set each bit structure, on the <strong>Project</strong> menu, click <strong>Project Settings</strong>. In the <strong>Project Settings</strong> dialog box, click the <strong>User Parameter</strong> tab.</p>
<h2 id="Anchor_83956090_h2_4">
  <a name="Anchor_83956090_Set_StrmSndTrack"></a>Stream Sound Track Settings</h2>
<p>Multiple stream sound tracks (waveform files) can be specified for a particular stream sound.</p>
<p>You can set up to eight tracks for a single stream sound.</p>
<p>
  <strong>Waveform files set to multiple stream sound tracks must all use the same sample rate.<br /></strong> <strong>The information in the waveform file of Track 0 is used for the post-conversion data length and the loop specification.</strong></p>
<p>Select the stream sound that you want to specify, and then click <strong>Project</strong> &gt; <strong>Add Item</strong> &gt; <strong>Stream Sound Track</strong>.<br />In the <strong>New Stream Sound Track</strong> dialog box that appears, enter the required information.</p>
<p>You can also create new stream sound tracks from the shortcut menu that opens when you right-click the <strong>Stream Sound Track List</strong>.</p>
<p> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83956090/124257328.gif" class="embedded-image" /></span></p>
<h2 id="Anchor_83956090_h2_5">Editing Stream Sound Tracks</h2>
<p>You can edit some defined stream sound elements in the <strong>Stream Sound Track List</strong>.</p>
<p>If multiple waveform files have been specified for a particular stream sound, an asterisk is displayed in <strong>File Path</strong> in the Stream Sound List, and those files cannot be edited from the Stream Sound List.</p>
<p>Although only one comment is shown by default, up to ten comment text boxes can be displayed on the shortcut menu by right-clicking the list item name.</p>
<p>You cannot delete the last track in the <strong>Stream Sound Track List</strong>.</p>
<p>
  <br />
</p>
<h2 id="Anchor_83956090_h2_6">Definition Elements for the Stream Sound Track List Only</h2>
<p>This section describes elements that are defined in the <strong>Stream Sound Track List</strong> and are not in the <strong>Stream Sound List</strong>.</p>
<h3 id="Anchor_83956090_h3_35">Track Number</h3>
<p>Shows the track number of tracks (unsorted) in the <strong>Stream Soundtrack List</strong>.<br />If you disable the stream soundtrack, &quot;N/A&quot; is displayed for the track number, and the tracks are disabled.</p>
<h3 id="Anchor_83956090_h3_36">M (MUTE)</h3>
<p>Configures the mute settings in the PC preview playback settings.<br />It is not applicable to converted data used on a DEV-KIT.</p>
<p>Switches the track to a muted state in real time while preserving the current playback state.</p>
<h3 id="Anchor_83956090_h3_37">S (SOLO)</h3>
<p>Configures the solo settings in the PC preview playback settings.<br />It is not applicable to converted data used on a DEV-KIT.</p>
<h3 id="Anchor_83956090_h3_38">Pan</h3>
<p>Specifies the pan (in the range from <code>0</code> to <code>127</code>) to use when the Atk library plays stream sounds.</p>
<h3 id="Anchor_83956090_h3_39">S Pan</h3>
<p>Specifies the surround pan (in the range from <code>0</code> to <code>127</code>) to use when the Atk library plays stream sounds.</p>
<h3 id="Anchor_83956090_h3_40">LPF</h3>
<p>Specifies a value in the range from <code>0</code> to <code>64</code> for the cutoff frequency for the low pass filter.<br />If <code>64</code> is the center (where the filter is not effective), the closer to <code>0</code>, the more the filter is in play.</p>
<p>
  <strong>Note:</strong> Values are effective only for moving downward from the center (where the filter is applied).</p>
<p>The LPF and biquad filter can be used together, and the effects are combined when both are used together.</p>
<h3 id="Anchor_83956090_h3_41">Biquad Filter Type</h3>
<p>Specifies the <code>biquad</code> filter type.</p>
<ul>
  <li>Not in use (default value)</li>
  <li>LPF (low-pass filter)</li>
  <li>HPF (high-pass filter)</li>
  <li>BPF (center frequency of 512 Hz) (band-pass filter)</li>
  <li>BPF (center frequency of 1024 Hz)</li>
  <li>BPF (center frequency of 2048Hz)</li>
  <li>User-defined filter (64 types)</li>
</ul>
<h3 id="Anchor_83956090_h3_42">Biquad Filter Value</h3>
<p>Specifies a value in the range from <code>0</code> to <code>127</code> for the effect of the <code>biquad</code> filter.<br />There is no effect when the value is <code>0</code>, and the effect is at maximum when the value is <code>127</code>.</p>
<p>The LPF and biquad filter can be used together, and the effects are combined when both are used together.</p>
<p>
  <br />
</p>
<h2 id="Anchor_83956090_h2_7">Pre-Fetching Stream Sounds</h2>
<p>The stream sound pre-fetching feature pre-loads a prescribed amount of stream sound data into memory prior to that data being played using the <code>StartSound</code> function.</p>
<p>This makes it possible to reduce the waiting time before stream sounds are actually played.</p>
<h3 id="Anchor_83956090_h3_43">Adding Pre-Fetched Data</h3>
<p>To enable pre-fetching for a stream sound, select the sound in the stream sound list, and in the <strong>Pre-Fetch</strong> column, select the check box.</p>
<p>When that stream sound is added to a group, all of the data for the included stream sounds will be pre-fetched at the same time when the group is loaded.</p>
<p>If that sound is not added to a group, the pre-fetched data must be explicitly loaded in the program.</p>
<!--Remove-->
<h4 id="Anchor_83956090_h4_1">Relationship Between Pre-Fetching Setting and Group Registration</h4>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">Status</th>
      <th style="text-align: center;">Register Group</th>
      <th>Prefetching Feature</th>
    </tr>
    <tr>
      <td style="text-align: center;">ON</td>
      <td style="text-align: center;">Yes</td>
      <td>Pre-fetching is enabled.</td>
    </tr>
    <tr>
      <td style="text-align: center;">ON</td>
      <td style="text-align: center;">None</td>
      <td>Pre-fetching is enabled if data is loaded in the program.</td>
    </tr>
    <tr>
      <td style="text-align: center;">OFF</td>
      <td style="text-align: center;">Yes</td>
      <td>Conversion error.</td>
    </tr>
    <tr>
      <td style="text-align: center;">OFF</td>
      <td style="text-align: center;">None</td>
      <td>Pre-fetching is disabled.</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83956090_h3_44">Buffer Size Multiple Setting</h3>
<p>Specifies a multiple of the stream buffer size.</p>
<p>To use this setting, go to the main menu and select <strong>Project</strong> &gt; <strong>Project Settings</strong> to open the <a href="../Pages/Page_83956179.html#Anchor_83956179_Prj_Set_Dlg">Project Settings dialog box</a>. Then select the <strong>Sound Archive</strong> tab and specify a multiple of 1 to 4 for the stream buffer size.</p>
<p>The total size of the stream buffer corresponding to the specified multiple is displayed in the dialog box, along with estimates of the number of seconds of audio data that can be played at 32 KHz for the ADPCM and PCM16 compression formats.</p>
<p>
  <br />
</p>
<!--Remove-->
<p>For more information, see the <a href="../Pages/Page_198952031.html">Stream Sounds</a> section in the audio guide and the <span class="ApiLink_PageSampleAtkSimple">AtkSimple</span> sample in the sample demos.</p>
<h2 id="Anchor_83956090_h2_8">Compressed Audio Support</h2>
<p>The <code>atk</code> library and SoundMaker both have a feature to stream Opus encoded files.<br />For more information, see the <a href="../Pages/Page_83956177.html">Compressed Audio</a> page.</p>
<h3 id="Anchor_83956090_h3_45">Restrictions</h3>
<ul>
  <li>Opus stream sound is restricted to a single track and two channels.</li>
  <li>The compression format is set to &quot;do not convert&quot; when using Opus, and cannot be changed.</li>
</ul>
<h3 id="Anchor_83956090_h3_46">Creating and Adding</h3>
<p>These sounds are registered in the <strong>Stream Sound List</strong> in the same way as described  in Creating and Adding Stream Sounds.<br />The Opus file can also be registered by dragging it to the stream sound list.</p>
<p>
  <br />
</p>
<p>
  <br />
</p>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_PageSampleAtkSimple', '../../../Api/HtmlNX/_page_sample_atk_simple.html' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
