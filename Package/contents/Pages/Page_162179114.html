<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Exiting the Program | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Exiting the Program -->
<div class="pagetitle" id="PageId_162179114">Exiting the Program</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_162179114_h1_1">Exiting the Program</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_162179114_h2_1">Exit Requests</a>
      </li>
      <li>
        <a href="#Anchor_162179114_h2_2">Unprompted Exits</a>
      </li>
      <li>
        <a href="#Anchor_162179114_h2_3">std::exit() Function Prohibition</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_162179114_h1_1">Exiting the Program</h1>
<p>This chapter describes the process of exiting the program.</p>
<h2 id="Anchor_162179114_h2_1">Exit Requests</h2>
<p>In both the development hardware and the production environments, a request to end the application can be made at any time by the user from the HOME Menu. When that request comes, end the application in the way described in the <a href="../Pages/Page_166065886.html">Notifications of Exit Requests</a> section of <a href="../Pages/Page_166065886.html#Anchor_166065886_h2_9">Notifications For Programs</a>.</p>
<h2 id="Anchor_162179114_h2_2">Unprompted Exits</h2>
<p>Do not spontaneously exit the application in the production environment (or in the development hardware environment when the HOME Menu is running). If the application has ended for some reason, a scene plays out on the HOME Menu informing the user that the application has ended.</p>
<p>When <a href="../Pages/Page_107328771.html">DevMenu</a> is running in the development hardware environment, you can spontaneously exit the application by returning from <code>nnMain()</code> or by calling <code>std::quick_exit(0)</code>. When this happens, focus simply returns to the DevMenu screen.</p>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>When the application returns from the <code>nnMain()</code> function, it calls <code>std::quick_exit(0)</code> and exits. Thus, in the NX32 and NX64 development hardware environments, the destructors for static objects and the like are not called, and the system is entrusted to destroy all resources.</p>
    <p>Programs built for Win32 and x64 platforms call <code>std::quick_exit(0)</code> to exit. (Visual Studio 2015 or later).</p>
  </div>
</div>
<h3 id="Anchor_162179114_h3_1">If you want to call the static object destructor for test purposes in the NX32 and NX64 development hardware environments</h3>
<p>As described earlier, the static object destructors are not called in the NX32 and NX64 environments.<br />However, if you want to call the static object destructor in a test program, you can use the following procedure.</p>
<ol>
  <li>If the linker script is set to <strong>NX64 build</strong> in <strong>Configuration Properties</strong> &gt; <strong>Linker</strong> &gt; <strong>Linker Script</strong>, you can switch to <code>$(<em>NintendoSdkRoot</em>)Resources\SpecFiles\ApplicationWithAtexit.aarch64.lp64.ldscript</code>.<br />For an NX32, switch to <code>$(<em>NintendoSdkRoot</em>)Resources\SpecFiles\ApplicationWithAtexit.arm.ilp32.ldscript</code>.</li>
</ol>
<div class="warn_new">
  <div class="warn_new_left">Warning</div>
  <div class="warn_new_right">
    <p>This feature is provided for development, so do not use it for production applications.</p>
  </div>
</div>
<p>
  <br />
</p>
<h2 id="Anchor_162179114_h2_3">std::exit() Function Prohibition</h2>
<p>Behavior is not assured when closing programs using the <code>std::exit()</code> function. Do not use this function.</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
</body>
</html>
