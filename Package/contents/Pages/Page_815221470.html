<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<script type="text/javascript" src="../tocDataApi.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>Animation Live Editing | NintendoSDK Documents</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="text-align: center;"><img src="../template/img/noscript.svg" /></div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- Animation Live Editing -->
<div class="pagetitle" id="PageId_815221470">Animation Live Editing</div>
<div class="text_separate">
<h1 id="Anchor_815221470_h1_1">Animation Live Editing</h1>
<div class="info_new">
  <div class="info_new_left">Info</div>
  <div class="info_new_right">
    <p>(This feature is currently being verified.) Changes that result in lack of compatibility could occur without notice.</p>
  </div>
</div>
<!--Remove-->
<p>
  <br />
</p>
<h1 id="Anchor_815221470_h1_2">Overview</h1>
<p>NintendoLiveEditing provides a way to live-preview the animation on the development hardware while you are editing it in Maya. It provides the following functionality.</p>
<ul>
  <li>Synchronize the transform information for the transform and joint nodes in Maya with the model in the application.</li>
  <li>Synchronize the camera parameters (aspect ratio, angle of view, and the like) and transform information in Maya with the camera in the application.</li>
</ul>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_223808847/821826935.gif" height="400" class="embedded-image" />
  </span>
</p>
<h1 id="Anchor_815221470_h1_3">Incorporating the Viewer Library in an Application</h1>
<p>To use this functionality, the <a href="../Pages/Page_99806869.html">viewer library</a> must be incorporated into your application. In addition to incorporating the standard viewer library, the following additional support is required in order to use animation live editing.</p>
<h2 id="Anchor_815221470_h2_1">Bone Transform Update API Call</h2>
<p>While live editing, standard animation application processing is disabled. Instead, you must call <span class="ApiLink_NN_DETAIL_G3D_VIEWER_API_void_nn__g3d__viewer__ViewerServer__UpdateBoneTransforms()_NN_NOEXCEPT">nn::g3d::viewer::ViewerServer::ExecuteBoneTransformUpdateCommands()</span>. This function updates the local bone matrix in each frame according to the bone transform sent from Maya.</p>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <p>This function was not available until SDK 10.0.0, and similar processing was performed within <span class="ApiLink_NN_DETAIL_G3D_VIEWER_API_void_nn__g3d__viewer__ViewerServer__ExecuteCommands()_NN_NOEXCEPT">nn::g3d::viewer::ViewerServer::ExecuteCommands()</span>. However, as of SDK 10.1.0, the API was separated to enable calling it at different times.</p>
  </div>
</div>
<p> <br /> </p>
<h2 id="Anchor_815221470_h2_2">Camera Update Callback Implementation</h2>
<p>The <span class="ApiLink_nn__g3d__viewer__CallbackType_CameraUpdated">nn::g3d::viewer::CallbackType_CameraUpdated</span> callback function is called when the Maya camera is updated. To sync the application camera with Maya, you must implement processing to apply the camera settings passed to this callback function to the application camera.</p>
<h1 id="Anchor_815221470_h1_4">Restrictions</h1>
<div class="note_new">
  <div class="note_new_left">Note</div>
  <div class="note_new_right">
    <ul>
      <li>This feature can only be used with Maya 2018.</li>
      <li>The feature might not work properly if changes are made to attributes, animation curves, or animation layers while animations are playing.</li>
    </ul>
  </div>
</div>
<h1 id="Anchor_815221470_h1_5">Using Testing Tools</h1>
<p>Testing tools are provided as an example for incorporating NintendoLiveEditing. This section uses testing tools and sample data to describe how to live edit.</p>
<h2 id="Anchor_815221470_h2_3">Loading the Sample Model From the Package and Synchronizing</h2>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_223808847/821826916.gif" height="250" class="embedded-image" />
  </span>
</p>
<p>Perform the tasks in the order shown in the following table to synchronize Maya and the viewer.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>1</th>
      <th>
        <p>
          <a href="../Pages/Page_815221719.html">Preparation</a>
        </p>
      </th>
      <td>Load the sample model from the package and prepare the scene to synchronize.</td>
    </tr>
    <tr>
      <th>2</th>
      <th>
        <a href="../Pages/Page_815221729.html">Synchronization</a>
      </th>
      <td>Use MEL commands to start NintendoLiveEditingTestTool and sync with the viewer.</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_815221470_h2_4">Synchronizing With the G3dDemo Sample</h2>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_223808847/821826954.gif" height="250" class="embedded-image" />
  </span>
</p>
<p>Use the procedure described at this link to synchronize G3dDemo with the sample model.</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_815221752.html">Editing Attached Model</a>
      </th>
      <td>Associate the model in the application to nodes in Maya and preview the animation.</td>
    </tr>
  </tbody>
</table>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
<p>&nbsp;</p>
<hr />
<p>CONFIDENTIAL</p>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank" rel="noopener noreferrer" >';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_NN_DETAIL_G3D_VIEWER_API_void_nn__g3d__viewer__ViewerServer__UpdateBoneTransforms()_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1g3d_1_1viewer_1_1_viewer_server.html#a0e0f562d5824efd93c297f45244f5309' )
SetUrl( 'ApiLink_NN_DETAIL_G3D_VIEWER_API_void_nn__g3d__viewer__ViewerServer__ExecuteCommands()_NN_NOEXCEPT', '../../../Api/HtmlNX/classnn_1_1g3d_1_1viewer_1_1_viewer_server.html#a0a9eae2cafa879e6fccc1d929699805f' )
SetUrl( 'ApiLink_nn__g3d__viewer__CallbackType_CameraUpdated', '../../../Api/HtmlNX/namespacenn_1_1g3d_1_1viewer.html#ab3cb189e5183fd7656a6f56cff7cc0e0a49c60b3369332a4638d85dcb475d750a' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
