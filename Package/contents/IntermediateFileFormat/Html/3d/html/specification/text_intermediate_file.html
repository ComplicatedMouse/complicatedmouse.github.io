<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link href="../css/template.css" rel="stylesheet" type="text/css" />
<title>Text Intermediate Files</title>
</head>
<body>
<h1>Text Intermediate Files</h1>
<h2>Overview</h2>
<p>
Text intermediate files are used to save graphics-related information in XML format.
</p>
<h2>Common Specifications for Intermediate Files</h2>
<ul>
    <li>UTF-8 with BOM is used for the character code set, while CRLF is used for the return code.</li>
    <li>Files start with the following XML declaration in the first line. <br/> &lt;?xml version="1.0" encoding="utf-8"?&gt;</li>
    <li><CODE><a href="../reference/elements/nw4f_3dif.html">&lt;nw4f_3dif&gt;</a></CODE>, used to store intermediate file data, is defined after the XML declaration.</li>
    <li><CODE><a href="../reference/elements/nw4f_3dif.html">&lt;nw4f_3dif&gt;</a></CODE> stores one element to indicate the file type.</li>
    <li>A return occurs immediately after the end tag <CODE><a href="../reference/elements/nw4f_3dif.html">&lt;/nw4f_3dif&gt;</a></CODE>.</li>
    <li>XML comments formed using "<CODE>&lt;!-- --&gt;</CODE>" are prohibited. <br/>Any XML comments will be lost when filed are saved using the NintendoWare tools.</li>
    <li>Intermediate file extensions consist of four letters. <br/>The first letter is "f" and the next two characters indicate the intermediate file type. <br/>"a" or "b" is used as the last letter in file extensions to indicate whether the file is a text intermediate file or a <a href="binary_intermediate_file.html">binary intermediate file</a>.</li>
    <li>You can use a string with a regular expression, [0-9A-Za-z_]+, for the filenames of text intermediate files.
    <li>A right-hand coordinate system is always used even for texture coordinates. <br/>For more information, see <a href="../../../../../Pages/Page_106332655.html">Guide / 3D / Coordinate System</a>.</li>
    <li>The Euler angle rotation is specified in degrees.</li>
    <li>Slashes are used for path delimiters.</li>
    <li>Although the intermediate files generated by NintendoWare follow the sort order in <CODE>&lt;*_array&gt;</CODE> elements other than <CODE><a href="../reference/elements/bone_array.html">&lt;bone_array&gt;</a></CODE> and <CODE><a href="../reference/elements/shape_array.html">&lt;shape_array&gt;</a></CODE>, the user does not need to follow this sort order in the intermediate files they generate themselves.</li>
</ul>
<h2>Intermediate File Types</h2>
<p>
The following table gives the correspondence among intermediate file types, extensions, and elements.
</p>
<table>
    <thead>
        <tr>
            <th>Type</th>
            <th>Extension</th>
            <th>Elements</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="nowrap_right">Models</td>
            <td class="nowrap_center">.fmda .fmdb</td>
            <td><a href="../reference/elements/model.html" target="main">&lt;model&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Texture</td>
            <td class="nowrap_center">.ftxa .ftxb</td>
            <td><a href="../reference/elements/texture.html" target="main">&lt;texture&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Skeletal animations</td>
            <td class="nowrap_center">.fska .fskb</td>
            <td><a href="../reference/elements/skeletal_anim.html" target="main">&lt;skeletal_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Material animations</td>
            <td class="nowrap_center">.fmaa .fmab</td>
            <td><a href="../reference/elements/material_anim.html" target="main">&lt;material_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Shader parameter animations</td>
            <td class="nowrap_center">.fspa .fspb</td>
            <td><a href="../reference/elements/shader_param_anim.html" target="main">&lt;shader_param_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Color animations</td>
            <td class="nowrap_center">.fcla .fclb</td>
            <td><a href="../reference/elements/shader_param_anim.html" target="main">&lt;shader_param_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Texture SRT animations</td>
            <td class="nowrap_center">.ftsa .ftsb</td>
            <td><a href="../reference/elements/shader_param_anim.html" target="main">&lt;shader_param_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Texture pattern animations</td>
            <td class="nowrap_center">.ftpa .ftpb</td>
            <td><a href="../reference/elements/tex_pattern_anim.html" target="main">&lt;tex_pattern_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Bone visibility animations</td>
            <td class="nowrap_center">.fvba .fvbb</td>
            <td><a href="../reference/elements/bone_visibility_anim.html" target="main">&lt;bone_visibility_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Material visibility animations</td>
            <td class="nowrap_center">.fvma .fvmb</td>
            <td><a href="../reference/elements/mat_visibility_anim.html" target="main">&lt;mat_visibility_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Shape animations</td>
            <td class="nowrap_center">.fsha .fshb</td>
            <td><a href="../reference/elements/shape_anim.html" target="main">&lt;shape_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Scene animations</td>
            <td class="nowrap_center">.fsna .fsnb</td>
            <td><a href="../reference/elements/scene_anim.html" target="main">&lt;scene_anim&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Shader configurations</td>
            <td class="nowrap_center">.fsca .fscb</td>
            <td><a href="../reference/elements/shader_config.html" target="main">&lt;shader_config&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Shader definitions</td>
            <td class="nowrap_center">.fsda .fsdb</td>
            <td><a href="../reference/elements/shader_definition.html" target="main">&lt;shader_definition&gt;</a></td>
        </tr>
        <tr>
            <td class="nowrap_right">Shader variations</td>
            <td class="nowrap_center">.fsva .fsvb</td>
            <td><a href="../reference/elements/shader_variation.html" target="main">&lt;shader_variation&gt;</a></td>
        </tr>
    </tbody>
</table>
<h3>Handling Shader Parameter Animations<br/>(Color and Texture SRT Animations)</h3>
<p>
Color and texture SRT animations are both types of shader parameter animations. Intermediate file specifications are identical because data is stored after <CODE><a href="../reference/elements/shader_param_anim.html" target="main">&lt;shader_param_anim&gt;</a></CODE> tags. However, there are restrictions on the data associated with color animations versus texture SRT animations when editing an intermediate file using a tool.
</p>
<p>
Color animations include both <CODE><a href="../reference/elements/original_color_anim_array.html" target="main">&lt;original_color_anim_array&gt;</a></CODE> and <CODE><a href="../reference/elements/shader_param_mat_anim_array.html" target="main">&lt;shader_param_mat_anim_array&gt;</a></CODE> elements.
</p>
<p>
Texture SRT animations include both <CODE><a href="../reference/elements/original_texsrt_anim_array.html" target="main">&lt;original_texsrt_anim_array&gt;</a></CODE> and <CODE><a href="../reference/elements/shader_param_mat_anim_array.html" target="main">&lt;shader_param_mat_anim_array&gt;</a></CODE> elements.
</p>
</body>
</html>
